/*! For license information please see 2.32dfb907.chunk.js.LICENSE.txt */
(this.webpackJsonpcra=this.webpackJsonpcra||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return ye})),n.d(t,"AddEquation",(function(){return N})),n.d(t,"AddOperation",(function(){return he})),n.d(t,"AdditiveAnimationBlendMode",(function(){return cn})),n.d(t,"AdditiveBlending",(function(){return R})),n.d(t,"AlphaFormat",(function(){return Ze})),n.d(t,"AlwaysDepth",(function(){return ae})),n.d(t,"AlwaysStencilFunc",(function(){return Un})),n.d(t,"AmbientLight",(function(){return $f})),n.d(t,"AmbientLightProbe",(function(){return xd})),n.d(t,"AnimationClip",(function(){return _f})),n.d(t,"AnimationLoader",(function(){return Of})),n.d(t,"AnimationMixer",(function(){return th})),n.d(t,"AnimationObjectGroup",(function(){return $d})),n.d(t,"AnimationUtils",(function(){return sf})),n.d(t,"ArcCurve",(function(){return Uc})),n.d(t,"ArrayCamera",(function(){return lu})),n.d(t,"ArrowHelper",(function(){return Wh})),n.d(t,"Audio",(function(){return Ld})),n.d(t,"AudioAnalyser",(function(){return zd})),n.d(t,"AudioContext",(function(){return bd})),n.d(t,"AudioListener",(function(){return Pd})),n.d(t,"AudioLoader",(function(){return _d})),n.d(t,"AxesHelper",(function(){return Xh})),n.d(t,"AxisHelper",(function(){return Wp})),n.d(t,"BackSide",(function(){return B})),n.d(t,"BasicDepthPacking",(function(){return wn})),n.d(t,"BasicShadowMap",(function(){return C})),n.d(t,"BinaryTextureLoader",(function(){return Jp})),n.d(t,"Bone",(function(){return Ju})),n.d(t,"BooleanKeyframeTrack",(function(){return hf})),n.d(t,"BoundingBoxHelper",(function(){return Xp})),n.d(t,"Box2",(function(){return fh})),n.d(t,"Box3",(function(){return Sr})),n.d(t,"Box3Helper",(function(){return Gh})),n.d(t,"BoxBufferGeometry",(function(){return Ri})),n.d(t,"BoxGeometry",(function(){return Ri})),n.d(t,"BoxHelper",(function(){return Nh})),n.d(t,"BufferAttribute",(function(){return Ja})),n.d(t,"BufferGeometry",(function(){return gi})),n.d(t,"BufferGeometryLoader",(function(){return sd})),n.d(t,"ByteType",(function(){return Ne})),n.d(t,"Cache",(function(){return xf})),n.d(t,"Camera",(function(){return Gi})),n.d(t,"CameraHelper",(function(){return Fh})),n.d(t,"CanvasRenderer",(function(){return Zp})),n.d(t,"CanvasTexture",(function(){return Cc})),n.d(t,"CatmullRomCurve3",(function(){return Xc})),n.d(t,"CineonToneMapping",(function(){return ge})),n.d(t,"CircleBufferGeometry",(function(){return Oc})),n.d(t,"CircleGeometry",(function(){return Oc})),n.d(t,"ClampToEdgeWrapping",(function(){return Oe})),n.d(t,"Clock",(function(){return Cd})),n.d(t,"Color",(function(){return Xa})),n.d(t,"ColorKeyframeTrack",(function(){return pf})),n.d(t,"CompressedTexture",(function(){return Ec})),n.d(t,"CompressedTextureLoader",(function(){return Tf})),n.d(t,"ConeBufferGeometry",(function(){return kc})),n.d(t,"ConeGeometry",(function(){return kc})),n.d(t,"CubeCamera",(function(){return Wi})),n.d(t,"CubeReflectionMapping",(function(){return we})),n.d(t,"CubeRefractionMapping",(function(){return xe})),n.d(t,"CubeTexture",(function(){return Xi})),n.d(t,"CubeTextureLoader",(function(){return Bf})),n.d(t,"CubeUVReflectionMapping",(function(){return Ee})),n.d(t,"CubeUVRefractionMapping",(function(){return Ce})),n.d(t,"CubicBezierCurve",(function(){return Jc})),n.d(t,"CubicBezierCurve3",(function(){return Kc})),n.d(t,"CubicInterpolant",(function(){return cf})),n.d(t,"CullFaceBack",(function(){return A})),n.d(t,"CullFaceFront",(function(){return M})),n.d(t,"CullFaceFrontBack",(function(){return E})),n.d(t,"CullFaceNone",(function(){return x})),n.d(t,"Curve",(function(){return Ic})),n.d(t,"CurvePath",(function(){return Df})),n.d(t,"CustomBlending",(function(){return U})),n.d(t,"CustomToneMapping",(function(){return be})),n.d(t,"CylinderBufferGeometry",(function(){return Tc})),n.d(t,"CylinderGeometry",(function(){return Tc})),n.d(t,"Cylindrical",(function(){return ch})),n.d(t,"DataTexture",(function(){return Ku})),n.d(t,"DataTexture2DArray",(function(){return xo})),n.d(t,"DataTexture3D",(function(){return Ao})),n.d(t,"DataTextureLoader",(function(){return Pf})),n.d(t,"DataUtils",(function(){return Yh})),n.d(t,"DecrementStencilOp",(function(){return Tn})),n.d(t,"DecrementWrapStencilOp",(function(){return Bn})),n.d(t,"DefaultLoadingManager",(function(){return Mf})),n.d(t,"DepthFormat",(function(){return at})),n.d(t,"DepthStencilFormat",(function(){return it})),n.d(t,"DepthTexture",(function(){return Sc})),n.d(t,"DirectionalLight",(function(){return Zf})),n.d(t,"DirectionalLightHelper",(function(){return Lh})),n.d(t,"DiscreteInterpolant",(function(){return ff})),n.d(t,"DodecahedronBufferGeometry",(function(){return Pc})),n.d(t,"DodecahedronGeometry",(function(){return Pc})),n.d(t,"DoubleSide",(function(){return P})),n.d(t,"DstAlphaFactor",(function(){return Z})),n.d(t,"DstColorFactor",(function(){return ee})),n.d(t,"DynamicBufferAttribute",(function(){return jp})),n.d(t,"DynamicCopyUsage",(function(){return Qn})),n.d(t,"DynamicDrawUsage",(function(){return Gn})),n.d(t,"DynamicReadUsage",(function(){return Wn})),n.d(t,"EdgesGeometry",(function(){return Rc})),n.d(t,"EdgesHelper",(function(){return qp})),n.d(t,"EllipseCurve",(function(){return zc})),n.d(t,"EqualDepth",(function(){return se})),n.d(t,"EqualStencilFunc",(function(){return jn})),n.d(t,"EquirectangularReflectionMapping",(function(){return Ae})),n.d(t,"EquirectangularRefractionMapping",(function(){return Me})),n.d(t,"Euler",(function(){return fa})),n.d(t,"EventDispatcher",(function(){return Zn})),n.d(t,"ExtrudeBufferGeometry",(function(){return Ll})),n.d(t,"ExtrudeGeometry",(function(){return Ll})),n.d(t,"FaceColors",(function(){return Mp})),n.d(t,"FileLoader",(function(){return Sf})),n.d(t,"FlatShading",(function(){return L})),n.d(t,"Float16BufferAttribute",(function(){return ai})),n.d(t,"Float32Attribute",(function(){return Hp})),n.d(t,"Float32BufferAttribute",(function(){return ii})),n.d(t,"Float64Attribute",(function(){return Vp})),n.d(t,"Float64BufferAttribute",(function(){return oi})),n.d(t,"FloatType",(function(){return Xe})),n.d(t,"Fog",(function(){return _u})),n.d(t,"FogExp2",(function(){return bu})),n.d(t,"Font",(function(){return pd})),n.d(t,"FontLoader",(function(){return yd})),n.d(t,"FrontSide",(function(){return k})),n.d(t,"Frustum",(function(){return eo})),n.d(t,"GLBufferAttribute",(function(){return ah})),n.d(t,"GLSL1",(function(){return Jn})),n.d(t,"GLSL3",(function(){return Kn})),n.d(t,"GammaEncoding",(function(){return mn})),n.d(t,"GreaterDepth",(function(){return ce})),n.d(t,"GreaterEqualDepth",(function(){return ue})),n.d(t,"GreaterEqualStencilFunc",(function(){return zn})),n.d(t,"GreaterStencilFunc",(function(){return Rn})),n.d(t,"GridHelper",(function(){return Oh})),n.d(t,"Group",(function(){return fu})),n.d(t,"HalfFloatType",(function(){return qe})),n.d(t,"HemisphereLight",(function(){return If})),n.d(t,"HemisphereLightHelper",(function(){return Sh})),n.d(t,"HemisphereLightProbe",(function(){return wd})),n.d(t,"IcosahedronBufferGeometry",(function(){return jl})),n.d(t,"IcosahedronGeometry",(function(){return jl})),n.d(t,"ImageBitmapLoader",(function(){return dd})),n.d(t,"ImageLoader",(function(){return kf})),n.d(t,"ImageUtils",(function(){return mr})),n.d(t,"ImmediateRenderObject",(function(){return mh})),n.d(t,"IncrementStencilOp",(function(){return On})),n.d(t,"IncrementWrapStencilOp",(function(){return kn})),n.d(t,"InstancedBufferAttribute",(function(){return od})),n.d(t,"InstancedBufferGeometry",(function(){return id})),n.d(t,"InstancedInterleavedBuffer",(function(){return rh})),n.d(t,"InstancedMesh",(function(){return ic})),n.d(t,"Int16Attribute",(function(){return zp})),n.d(t,"Int16BufferAttribute",(function(){return ei})),n.d(t,"Int32Attribute",(function(){return Np})),n.d(t,"Int32BufferAttribute",(function(){return ni})),n.d(t,"Int8Attribute",(function(){return Fp})),n.d(t,"Int8BufferAttribute",(function(){return Ka})),n.d(t,"IntType",(function(){return Ve})),n.d(t,"InterleavedBuffer",(function(){return xu})),n.d(t,"InterleavedBufferAttribute",(function(){return Mu})),n.d(t,"Interpolant",(function(){return uf})),n.d(t,"InterpolateDiscrete",(function(){return tn})),n.d(t,"InterpolateLinear",(function(){return nn})),n.d(t,"InterpolateSmooth",(function(){return rn})),n.d(t,"InvertStencilOp",(function(){return Pn})),n.d(t,"JSONLoader",(function(){return $p})),n.d(t,"KeepStencilOp",(function(){return Cn})),n.d(t,"KeyframeTrack",(function(){return df})),n.d(t,"LOD",(function(){return Hu})),n.d(t,"LatheBufferGeometry",(function(){return Fl})),n.d(t,"LatheGeometry",(function(){return Fl})),n.d(t,"Layers",(function(){return da})),n.d(t,"LensFlare",(function(){return tm})),n.d(t,"LessDepth",(function(){return ie})),n.d(t,"LessEqualDepth",(function(){return oe})),n.d(t,"LessEqualStencilFunc",(function(){return Fn})),n.d(t,"LessStencilFunc",(function(){return Dn})),n.d(t,"Light",(function(){return Rf})),n.d(t,"LightProbe",(function(){return nd})),n.d(t,"Line",(function(){return dc})),n.d(t,"Line3",(function(){return ph})),n.d(t,"LineBasicMaterial",(function(){return oc})),n.d(t,"LineCurve",(function(){return Zc})),n.d(t,"LineCurve3",(function(){return $c})),n.d(t,"LineDashedMaterial",(function(){return af})),n.d(t,"LineLoop",(function(){return vc})),n.d(t,"LinePieces",(function(){return xp})),n.d(t,"LineSegments",(function(){return mc})),n.d(t,"LineStrip",(function(){return wp})),n.d(t,"LinearEncoding",(function(){return hn})),n.d(t,"LinearFilter",(function(){return je})),n.d(t,"LinearInterpolant",(function(){return lf})),n.d(t,"LinearMipMapLinearFilter",(function(){return ze})),n.d(t,"LinearMipMapNearestFilter",(function(){return Re})),n.d(t,"LinearMipmapLinearFilter",(function(){return Ie})),n.d(t,"LinearMipmapNearestFilter",(function(){return Fe})),n.d(t,"LinearToneMapping",(function(){return me})),n.d(t,"Loader",(function(){return Ef})),n.d(t,"LoaderUtils",(function(){return ad})),n.d(t,"LoadingManager",(function(){return Af})),n.d(t,"LogLuvEncoding",(function(){return gn})),n.d(t,"LoopOnce",(function(){return Zt})),n.d(t,"LoopPingPong",(function(){return en})),n.d(t,"LoopRepeat",(function(){return $t})),n.d(t,"LuminanceAlphaFormat",(function(){return nt})),n.d(t,"LuminanceFormat",(function(){return tt})),n.d(t,"MOUSE",(function(){return _})),n.d(t,"Material",(function(){return za})),n.d(t,"MaterialLoader",(function(){return rd})),n.d(t,"Math",(function(){return fr})),n.d(t,"MathUtils",(function(){return fr})),n.d(t,"Matrix3",(function(){return pr})),n.d(t,"Matrix4",(function(){return ta})),n.d(t,"MaxEquation",(function(){return W})),n.d(t,"Mesh",(function(){return ji})),n.d(t,"MeshBasicMaterial",(function(){return qa})),n.d(t,"MeshDepthMaterial",(function(){return au})),n.d(t,"MeshDistanceMaterial",(function(){return iu})),n.d(t,"MeshFaceMaterial",(function(){return Cp})),n.d(t,"MeshLambertMaterial",(function(){return nf})),n.d(t,"MeshMatcapMaterial",(function(){return rf})),n.d(t,"MeshNormalMaterial",(function(){return tf})),n.d(t,"MeshPhongMaterial",(function(){return $l})),n.d(t,"MeshPhysicalMaterial",(function(){return Zl})),n.d(t,"MeshStandardMaterial",(function(){return Kl})),n.d(t,"MeshToonMaterial",(function(){return ef})),n.d(t,"MinEquation",(function(){return V})),n.d(t,"MirroredRepeatWrapping",(function(){return Te})),n.d(t,"MixOperation",(function(){return de})),n.d(t,"MultiMaterial",(function(){return Sp})),n.d(t,"MultiplyBlending",(function(){return z})),n.d(t,"MultiplyOperation",(function(){return fe})),n.d(t,"NearestFilter",(function(){return ke})),n.d(t,"NearestMipMapLinearFilter",(function(){return De})),n.d(t,"NearestMipMapNearestFilter",(function(){return Pe})),n.d(t,"NearestMipmapLinearFilter",(function(){return Le})),n.d(t,"NearestMipmapNearestFilter",(function(){return Be})),n.d(t,"NeverDepth",(function(){return re})),n.d(t,"NeverStencilFunc",(function(){return Ln})),n.d(t,"NoBlending",(function(){return j})),n.d(t,"NoColors",(function(){return Ap})),n.d(t,"NoToneMapping",(function(){return pe})),n.d(t,"NormalAnimationBlendMode",(function(){return un})),n.d(t,"NormalBlending",(function(){return F})),n.d(t,"NotEqualDepth",(function(){return le})),n.d(t,"NotEqualStencilFunc",(function(){return In})),n.d(t,"NumberKeyframeTrack",(function(){return mf})),n.d(t,"Object3D",(function(){return Ca})),n.d(t,"ObjectLoader",(function(){return ud})),n.d(t,"ObjectSpaceNormalMap",(function(){return Mn})),n.d(t,"OctahedronBufferGeometry",(function(){return Rl})),n.d(t,"OctahedronGeometry",(function(){return Rl})),n.d(t,"OneFactor",(function(){return q})),n.d(t,"OneMinusDstAlphaFactor",(function(){return $})),n.d(t,"OneMinusDstColorFactor",(function(){return te})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return K})),n.d(t,"OneMinusSrcColorFactor",(function(){return Y})),n.d(t,"OrthographicCamera",(function(){return Jf})),n.d(t,"PCFShadowMap",(function(){return S})),n.d(t,"PCFSoftShadowMap",(function(){return O})),n.d(t,"PMREMGenerator",(function(){return pp})),n.d(t,"ParametricBufferGeometry",(function(){return Il})),n.d(t,"ParametricGeometry",(function(){return Il})),n.d(t,"Particle",(function(){return Tp})),n.d(t,"ParticleBasicMaterial",(function(){return Pp})),n.d(t,"ParticleSystem",(function(){return kp})),n.d(t,"ParticleSystemMaterial",(function(){return Lp})),n.d(t,"Path",(function(){return jf})),n.d(t,"PerspectiveCamera",(function(){return Hi})),n.d(t,"Plane",(function(){return Ki})),n.d(t,"PlaneBufferGeometry",(function(){return ro})),n.d(t,"PlaneGeometry",(function(){return ro})),n.d(t,"PlaneHelper",(function(){return Hh})),n.d(t,"PointCloud",(function(){return Op})),n.d(t,"PointCloudMaterial",(function(){return Bp})),n.d(t,"PointLight",(function(){return Yf})),n.d(t,"PointLightHelper",(function(){return Ah})),n.d(t,"Points",(function(){return xc})),n.d(t,"PointsMaterial",(function(){return gc})),n.d(t,"PolarGridHelper",(function(){return Th})),n.d(t,"PolyhedronBufferGeometry",(function(){return Bc})),n.d(t,"PolyhedronGeometry",(function(){return Bc})),n.d(t,"PositionalAudio",(function(){return Id})),n.d(t,"PropertyBinding",(function(){return Zd})),n.d(t,"PropertyMixer",(function(){return Ud})),n.d(t,"QuadraticBezierCurve",(function(){return el})),n.d(t,"QuadraticBezierCurve3",(function(){return tl})),n.d(t,"Quaternion",(function(){return Ar})),n.d(t,"QuaternionKeyframeTrack",(function(){return gf})),n.d(t,"QuaternionLinearInterpolant",(function(){return vf})),n.d(t,"REVISION",(function(){return b})),n.d(t,"RGBADepthPacking",(function(){return xn})),n.d(t,"RGBAFormat",(function(){return et})),n.d(t,"RGBAIntegerFormat",(function(){return ft})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return Dt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return Bt})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return Pt})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return Lt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return jt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return Ft})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return At})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return Mt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return Et})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return Ct})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return St})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return Ot})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return Tt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return kt})),n.d(t,"RGBA_BPTC_Format",(function(){return Rt})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return xt})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return bt})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return yt})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return ht})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return pt})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return mt})),n.d(t,"RGBDEncoding",(function(){return _n})),n.d(t,"RGBEEncoding",(function(){return vn})),n.d(t,"RGBEFormat",(function(){return rt})),n.d(t,"RGBFormat",(function(){return $e})),n.d(t,"RGBIntegerFormat",(function(){return lt})),n.d(t,"RGBM16Encoding",(function(){return bn})),n.d(t,"RGBM7Encoding",(function(){return yn})),n.d(t,"RGB_ETC1_Format",(function(){return _t})),n.d(t,"RGB_ETC2_Format",(function(){return wt})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return gt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return vt})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return dt})),n.d(t,"RGFormat",(function(){return ut})),n.d(t,"RGIntegerFormat",(function(){return ct})),n.d(t,"RawShaderMaterial",(function(){return Jl})),n.d(t,"Ray",(function(){return ea})),n.d(t,"Raycaster",(function(){return ih})),n.d(t,"RectAreaLight",(function(){return ed})),n.d(t,"RedFormat",(function(){return ot})),n.d(t,"RedIntegerFormat",(function(){return st})),n.d(t,"ReinhardToneMapping",(function(){return ve})),n.d(t,"RepeatWrapping",(function(){return Se})),n.d(t,"ReplaceStencilOp",(function(){return Sn})),n.d(t,"ReverseSubtractEquation",(function(){return H})),n.d(t,"RingBufferGeometry",(function(){return zl})),n.d(t,"RingGeometry",(function(){return zl})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Yt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Xt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return qt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Qt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Jt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Kt})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return It})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return zt})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Ut})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Gt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ht})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Vt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Wt})),n.d(t,"Scene",(function(){return wu})),n.d(t,"SceneUtils",(function(){return em})),n.d(t,"ShaderChunk",(function(){return ao})),n.d(t,"ShaderLib",(function(){return oo})),n.d(t,"ShaderMaterial",(function(){return Ni})),n.d(t,"ShadowMaterial",(function(){return Yl})),n.d(t,"Shape",(function(){return Ff})),n.d(t,"ShapeBufferGeometry",(function(){return Ul})),n.d(t,"ShapeGeometry",(function(){return Ul})),n.d(t,"ShapePath",(function(){return hd})),n.d(t,"ShapeUtils",(function(){return kl})),n.d(t,"ShortType",(function(){return Ge})),n.d(t,"Skeleton",(function(){return ec})),n.d(t,"SkeletonHelper",(function(){return wh})),n.d(t,"SkinnedMesh",(function(){return Yu})),n.d(t,"SmoothShading",(function(){return D})),n.d(t,"Sphere",(function(){return Xr})),n.d(t,"SphereBufferGeometry",(function(){return Nl})),n.d(t,"SphereGeometry",(function(){return Nl})),n.d(t,"Spherical",(function(){return uh})),n.d(t,"SphericalHarmonics3",(function(){return td})),n.d(t,"SplineCurve",(function(){return nl})),n.d(t,"SpotLight",(function(){return Vf})),n.d(t,"SpotLightHelper",(function(){return gh})),n.d(t,"Sprite",(function(){return zu})),n.d(t,"SpriteMaterial",(function(){return Cu})),n.d(t,"SrcAlphaFactor",(function(){return J})),n.d(t,"SrcAlphaSaturateFactor",(function(){return ne})),n.d(t,"SrcColorFactor",(function(){return Q})),n.d(t,"StaticCopyUsage",(function(){return qn})),n.d(t,"StaticDrawUsage",(function(){return Nn})),n.d(t,"StaticReadUsage",(function(){return Vn})),n.d(t,"StereoCamera",(function(){return Ed})),n.d(t,"StreamCopyUsage",(function(){return Yn})),n.d(t,"StreamDrawUsage",(function(){return Hn})),n.d(t,"StreamReadUsage",(function(){return Xn})),n.d(t,"StringKeyframeTrack",(function(){return yf})),n.d(t,"SubtractEquation",(function(){return G})),n.d(t,"SubtractiveBlending",(function(){return I})),n.d(t,"TOUCH",(function(){return w})),n.d(t,"TangentSpaceNormalMap",(function(){return An})),n.d(t,"TetrahedronBufferGeometry",(function(){return Gl})),n.d(t,"TetrahedronGeometry",(function(){return Gl})),n.d(t,"TextBufferGeometry",(function(){return Hl})),n.d(t,"TextGeometry",(function(){return Hl})),n.d(t,"Texture",(function(){return gr})),n.d(t,"TextureLoader",(function(){return Lf})),n.d(t,"TorusBufferGeometry",(function(){return Vl})),n.d(t,"TorusGeometry",(function(){return Vl})),n.d(t,"TorusKnotBufferGeometry",(function(){return Wl})),n.d(t,"TorusKnotGeometry",(function(){return Wl})),n.d(t,"Triangle",(function(){return Ra})),n.d(t,"TriangleFanDrawMode",(function(){return dn})),n.d(t,"TriangleStripDrawMode",(function(){return fn})),n.d(t,"TrianglesDrawMode",(function(){return ln})),n.d(t,"TubeBufferGeometry",(function(){return Xl})),n.d(t,"TubeGeometry",(function(){return Xl})),n.d(t,"UVMapping",(function(){return _e})),n.d(t,"Uint16Attribute",(function(){return Up})),n.d(t,"Uint16BufferAttribute",(function(){return ti})),n.d(t,"Uint32Attribute",(function(){return Gp})),n.d(t,"Uint32BufferAttribute",(function(){return ri})),n.d(t,"Uint8Attribute",(function(){return Rp})),n.d(t,"Uint8BufferAttribute",(function(){return Za})),n.d(t,"Uint8ClampedAttribute",(function(){return Ip})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return $a})),n.d(t,"Uniform",(function(){return nh})),n.d(t,"UniformsLib",(function(){return io})),n.d(t,"UniformsUtils",(function(){return Ui})),n.d(t,"UnsignedByteType",(function(){return Ue})),n.d(t,"UnsignedInt248Type",(function(){return Ke})),n.d(t,"UnsignedIntType",(function(){return We})),n.d(t,"UnsignedShort4444Type",(function(){return Qe})),n.d(t,"UnsignedShort5551Type",(function(){return Ye})),n.d(t,"UnsignedShort565Type",(function(){return Je})),n.d(t,"UnsignedShortType",(function(){return He})),n.d(t,"VSMShadowMap",(function(){return T})),n.d(t,"Vector2",(function(){return dr})),n.d(t,"Vector3",(function(){return Mr})),n.d(t,"Vector4",(function(){return br})),n.d(t,"VectorKeyframeTrack",(function(){return bf})),n.d(t,"Vertex",(function(){return Dp})),n.d(t,"VertexColors",(function(){return Ep})),n.d(t,"VideoTexture",(function(){return Mc})),n.d(t,"WebGL1Renderer",(function(){return yu})),n.d(t,"WebGLCubeRenderTarget",(function(){return qi})),n.d(t,"WebGLMultipleRenderTargets",(function(){return wr})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return xr})),n.d(t,"WebGLRenderTarget",(function(){return _r})),n.d(t,"WebGLRenderTargetCube",(function(){return Kp})),n.d(t,"WebGLRenderer",(function(){return gu})),n.d(t,"WebGLUtils",(function(){return cu})),n.d(t,"WireframeGeometry",(function(){return ql})),n.d(t,"WireframeHelper",(function(){return Qp})),n.d(t,"WrapAroundEnding",(function(){return sn})),n.d(t,"XHRLoader",(function(){return Yp})),n.d(t,"ZeroCurvatureEnding",(function(){return an})),n.d(t,"ZeroFactor",(function(){return X})),n.d(t,"ZeroSlopeEnding",(function(){return on})),n.d(t,"ZeroStencilOp",(function(){return En})),n.d(t,"sRGBEncoding",(function(){return pn}));for(var r,a=n(20),i=n.n(a),o=n(34),s=n(22),u=n(15),c=n(9),l=n(41),f=n(11),d=n(10),h=n(13),p=n(2),m=n(6),v=n(7),g=n(3),y=n(4),b="130",_={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},w={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},x=0,A=1,M=2,E=3,C=0,S=1,O=2,T=3,k=0,B=1,P=2,L=1,D=2,j=0,F=1,R=2,I=3,z=4,U=5,N=100,G=101,H=102,V=103,W=104,X=200,q=201,Q=202,Y=203,J=204,K=205,Z=206,$=207,ee=208,te=209,ne=210,re=0,ae=1,ie=2,oe=3,se=4,ue=5,ce=6,le=7,fe=0,de=1,he=2,pe=0,me=1,ve=2,ge=3,ye=4,be=5,_e=300,we=301,xe=302,Ae=303,Me=304,Ee=306,Ce=307,Se=1e3,Oe=1001,Te=1002,ke=1003,Be=1004,Pe=1004,Le=1005,De=1005,je=1006,Fe=1007,Re=1007,Ie=1008,ze=1008,Ue=1009,Ne=1010,Ge=1011,He=1012,Ve=1013,We=1014,Xe=1015,qe=1016,Qe=1017,Ye=1018,Je=1019,Ke=1020,Ze=1021,$e=1022,et=1023,tt=1024,nt=1025,rt=et,at=1026,it=1027,ot=1028,st=1029,ut=1030,ct=1031,lt=1032,ft=1033,dt=33776,ht=33777,pt=33778,mt=33779,vt=35840,gt=35841,yt=35842,bt=35843,_t=36196,wt=37492,xt=37496,At=37808,Mt=37809,Et=37810,Ct=37811,St=37812,Ot=37813,Tt=37814,kt=37815,Bt=37816,Pt=37817,Lt=37818,Dt=37819,jt=37820,Ft=37821,Rt=36492,It=37840,zt=37841,Ut=37842,Nt=37843,Gt=37844,Ht=37845,Vt=37846,Wt=37847,Xt=37848,qt=37849,Qt=37850,Yt=37851,Jt=37852,Kt=37853,Zt=2200,$t=2201,en=2202,tn=2300,nn=2301,rn=2302,an=2400,on=2401,sn=2402,un=2500,cn=2501,ln=0,fn=1,dn=2,hn=3e3,pn=3001,mn=3007,vn=3002,gn=3003,yn=3004,bn=3005,_n=3006,wn=3200,xn=3201,An=0,Mn=1,En=0,Cn=7680,Sn=7681,On=7682,Tn=7683,kn=34055,Bn=34056,Pn=5386,Ln=512,Dn=513,jn=514,Fn=515,Rn=516,In=517,zn=518,Un=519,Nn=35044,Gn=35048,Hn=35040,Vn=35045,Wn=35049,Xn=35041,qn=35046,Qn=35050,Yn=35042,Jn="100",Kn="300 es",Zn=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e);e.target=null}}}}]),e}(),$n=[],er=0;er<256;er++)$n[er]=(er<16?"0":"")+er.toString(16);var tr=1234567,nr=Math.PI/180,rr=180/Math.PI;function ar(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return($n[255&e]+$n[e>>8&255]+$n[e>>16&255]+$n[e>>24&255]+"-"+$n[255&t]+$n[t>>8&255]+"-"+$n[t>>16&15|64]+$n[t>>24&255]+"-"+$n[63&n|128]+$n[n>>8&255]+"-"+$n[n>>16&255]+$n[n>>24&255]+$n[255&r]+$n[r>>8&255]+$n[r>>16&255]+$n[r>>24&255]).toUpperCase()}function ir(e,t,n){return Math.max(t,Math.min(n,e))}function or(e,t){return(e%t+t)%t}function sr(e,t,n){return(1-n)*e+n*t}function ur(e){return 0===(e&e-1)&&0!==e}function cr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function lr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var fr=Object.freeze({__proto__:null,DEG2RAD:nr,RAD2DEG:rr,generateUUID:ar,clamp:ir,euclideanModulo:or,mapLinear:function(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:sr,damp:function(e,t,n,r){return sr(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(or(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(tr=e%2147483647),((tr=16807*tr%2147483647)-1)/2147483646},degToRad:function(e){return e*nr},radToDeg:function(e){return e*rr},isPowerOfTwo:ur,ceilPowerOfTwo:cr,floorPowerOfTwo:lr,setQuaternionFromProperEuler:function(e,t,n,r,a){var i=Math.cos,o=Math.sin,s=i(n/2),u=o(n/2),c=i((t+r)/2),l=o((t+r)/2),f=i((t-r)/2),d=o((t-r)/2),h=i((r-t)/2),p=o((r-t)/2);switch(a){case"XYX":e.set(s*l,u*f,u*d,s*c);break;case"YZY":e.set(u*d,s*l,u*f,s*c);break;case"ZXZ":e.set(u*f,u*d,s*l,s*c);break;case"XZX":e.set(s*l,u*p,u*h,s*c);break;case"YXY":e.set(u*h,s*l,u*p,s*c);break;case"ZYZ":e.set(u*p,u*h,s*l,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}}),dr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,e),this.x=t,this.y=n}return Object(y.a)(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,i=this.y-e.y;return this.x=a*n-i*r+e.x,this.y=a*r+i*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}();dr.prototype.isVector2=!0;var hr,pr=function(){function e(){Object(g.a)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(y.a)(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=a,c[5]=s,c[6]=n,c[7]=i,c[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[3],s=n[6],u=n[1],c=n[4],l=n[7],f=n[2],d=n[5],h=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],_=r[2],w=r[5],x=r[8];return a[0]=i*p+o*g+s*_,a[3]=i*m+o*y+s*w,a[6]=i*v+o*b+s*x,a[1]=u*p+c*g+l*_,a[4]=u*m+c*y+l*w,a[7]=u*v+c*b+l*x,a[2]=f*p+d*g+h*_,a[5]=f*m+d*y+h*w,a[8]=f*v+d*b+h*x,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*i*c-t*o*u-n*a*c+n*o*s+r*a*u-r*i*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=c*i-o*u,f=o*s-c*a,d=u*a-i*s,h=t*l+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=l*p,e[1]=(r*u-c*n)*p,e[2]=(o*n-r*i)*p,e[3]=f*p,e[4]=(c*t-r*s)*p,e[5]=(r*a-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(i*t-n*a)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,a,i,o){var s=Math.cos(a),u=Math.sin(a);return this.set(n*s,n*u,-n*(s*i+u*o)+i+e,-r*u,r*s,-r*(-u*i+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,a=r[0],i=r[3],o=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*a+n*s,r[3]=t*i+n*u,r[6]=t*o+n*c,r[1]=-n*a+t*s,r[4]=-n*i+t*u,r[7]=-n*o+t*c,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();pr.prototype.isMatrix3=!0;var mr=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===hr&&(hr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),hr.width=e.width,hr.height=e.height;var n=hr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=hr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),vr=0,gr=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oe,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:je,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ie,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:et,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ue,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:hn;return Object(g.a)(this,n),e=t.call(this),Object.defineProperty(Object(p.a)(e),"id",{value:vr++}),e.uuid=ar(),e.name="",e.image=r,e.mipmaps=[],e.mapping=a,e.wrapS=i,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=f,e.format=c,e.internalFormat=null,e.type=l,e.offset=new dr(0,0),e.repeat=new dr(1,1),e.center=new dr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new pr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=d,e.version=0,e.onUpdate=null,e}return Object(y.a)(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=ar()),!t&&void 0===e.images[r.uuid]){var a;if(Array.isArray(r)){a=[];for(var i=0,o=r.length;i<o;i++)r[i].isDataTexture?a.push(yr(r[i].image)):a.push(yr(r[i]))}else a=yr(r);e.images[r.uuid]={uuid:r.uuid,url:a}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==_e)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Se:e.x=e.x-Math.floor(e.x);break;case Oe:e.x=e.x<0?0:1;break;case Te:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Se:e.y=e.y-Math.floor(e.y);break;case Oe:e.y=e.y<0?0:1;break;case Te:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Zn);function yr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?mr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}gr.DEFAULT_IMAGE=void 0,gr.DEFAULT_MAPPING=_e,gr.prototype.isTexture=!0;var br=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(g.a)(this,e),this.x=t,this.y=n,this.z=r,this.w=a}return Object(y.a)(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*a,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*a,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*a,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*a,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,a,i=.01,o=.1,s=e.elements,u=s[0],c=s[4],l=s[8],f=s[1],d=s[5],h=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(c-f)<i&&Math.abs(l-p)<i&&Math.abs(h-m)<i){if(Math.abs(c+f)<o&&Math.abs(l+p)<o&&Math.abs(h+m)<o&&Math.abs(u+d+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(d+1)/2,b=(v+1)/2,_=(c+f)/4,w=(l+p)/4,x=(h+m)/4;return g>y&&g>b?g<i?(n=0,r=.707106781,a=.707106781):(r=_/(n=Math.sqrt(g)),a=w/n):y>b?y<i?(n=.707106781,r=0,a=.707106781):(n=_/(r=Math.sqrt(y)),a=x/r):b<i?(n=.707106781,r=.707106781,a=0):(n=w/(a=Math.sqrt(b)),r=x/a),this.set(n,r,a,t),this}var A=Math.sqrt((m-h)*(m-h)+(l-p)*(l-p)+(f-c)*(f-c));return Math.abs(A)<.001&&(A=1),this.x=(m-h)/A,this.y=(l-p)/A,this.z=(f-c)/A,this.w=Math.acos((u+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();br.prototype.isVector4=!0;var _r=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(g.a)(this,n),(a=t.call(this)).width=e,a.height=r,a.depth=1,a.scissor=new br(0,0,e,r),a.scissorTest=!1,a.viewport=new br(0,0,e,r),a.texture=new gr(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.image={width:e,height:r,depth:1},a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:je,a.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,a.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,a.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,a}return Object(y.a)(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object(h.a)({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Zn);_r.prototype.isWebGLRenderTarget=!0;var wr=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;Object(g.a)(this,n);var o=(i=t.call(this,e,r)).texture;i.texture=[];for(var s=0;s<a;s++)i.texture[s]=o.clone();return i}return Object(y.a)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,a=this.texture.length;r<a;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(_r);wr.prototype.isWebGLMultipleRenderTargets=!0;var xr=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;return Object(g.a)(this,n),(i=t.call(this,e,r,a)).samples=4,i}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(_r);xr.prototype.isWebGLMultisampleRenderTarget=!0;var Ar=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(g.a)(this,e),this._x=t,this._y=n,this._z=r,this._w=a}return Object(y.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,a=e._z,i=e._order,o=Math.cos,s=Math.sin,u=o(n/2),c=o(r/2),l=o(a/2),f=s(n/2),d=s(r/2),h=s(a/2);switch(i){case"XYZ":this._x=f*c*l+u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l-f*d*h;break;case"YXZ":this._x=f*c*l+u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l+f*d*h;break;case"ZXY":this._x=f*c*l-u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l-f*d*h;break;case"ZYX":this._x=f*c*l-u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l+f*d*h;break;case"YZX":this._x=f*c*l+u*d*h,this._y=u*d*l+f*c*h,this._z=u*c*h-f*d*l,this._w=u*c*l-f*d*h;break;case"XZY":this._x=f*c*l-u*d*h,this._y=u*d*l-f*c*h,this._z=u*c*h+f*d*l,this._w=u*c*l+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],a=t[8],i=t[1],o=t[5],s=t[9],u=t[2],c=t[6],l=t[10],f=n+o+l;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(c-s)*d,this._y=(a-u)*d,this._z=(i-r)*d}else if(n>o&&n>l){var h=2*Math.sqrt(1+n-o-l);this._w=(c-s)/h,this._x=.25*h,this._y=(r+i)/h,this._z=(a+u)/h}else if(o>l){var p=2*Math.sqrt(1+o-n-l);this._w=(a-u)/p,this._x=(r+i)/p,this._y=.25*p,this._z=(s+c)/p}else{var m=2*Math.sqrt(1+l-n-o);this._w=(i-r)/m,this._x=(a+u)/m,this._y=(s+c)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,a=e._z,i=e._w,o=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+i*o+r*u-a*s,this._y=r*c+i*s+a*o-n*u,this._z=a*c+i*u+n*s-r*o,this._w=i*c-n*o-r*s-a*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,a=this._z,i=this._w,o=i*e._w+n*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=n,this._y=r,this._z=a,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*i+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*a+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),l=Math.atan2(c,o),f=Math.sin((1-t)*l)/c,d=Math.sin(t*l)/c;return this._w=i*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=a*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,a,i,o){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],f=a[i+0],d=a[i+1],h=a[i+2],p=a[i+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=c,void(e[t+3]=l);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(l!==p||s!==f||u!==d||c!==h){var m=1-o,v=s*f+u*d+c*h+l*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,v*g);m=Math.sin(m*_)/b,o=Math.sin(o*_)/b}var w=o*g;if(s=s*m+f*w,u=u*m+d*w,c=c*m+h*w,l=l*m+p*w,m===1-o){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,a,i){var o=n[r],s=n[r+1],u=n[r+2],c=n[r+3],l=a[i],f=a[i+1],d=a[i+2],h=a[i+3];return e[t]=o*h+c*l+s*d-u*f,e[t+1]=s*h+c*f+u*l-o*d,e[t+2]=u*h+c*d+o*f-s*l,e[t+3]=c*h-o*l-s*f-u*d,e}}]),e}();Ar.prototype.isQuaternion=!0;var Mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(g.a)(this,e),this.x=t,this.y=n,this.z=r}return Object(y.a)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Cr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Cr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements,i=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*i,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*i,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*i,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,u=s*t+i*r-o*n,c=s*n+o*t-a*r,l=s*r+a*n-i*t,f=-a*t-i*n-o*r;return this.x=u*s+f*-a+c*-o-l*-i,this.y=c*s+f*-i+l*-a-u*-o,this.z=l*s+f*-o+u*-i-c*-a,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Er.copy(this).projectOnVector(e),this.sub(Er)}},{key:"reflect",value:function(e){return this.sub(Er.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(ir(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}();Mr.prototype.isVector3=!0;var Er=new Mr,Cr=new Ar,Sr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr(-1/0,-1/0,-1/0);Object(g.a)(this,e),this.min=t,this.max=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],f=e[s+2];c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>a&&(a=c),l>i&&(i=l),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,a=-1/0,i=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),f=e.getZ(s);c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>a&&(a=c),l>i&&(i=l),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(a,i,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Tr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),kr.copy(t.boundingBox),kr.applyMatrix4(e.matrixWorld),this.union(kr));for(var n=e.children,r=0,a=n.length;r<a;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Tr),Tr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Rr),Ir.subVectors(this.max,Rr),Br.subVectors(e.a,Rr),Pr.subVectors(e.b,Rr),Lr.subVectors(e.c,Rr),Dr.subVectors(Pr,Br),jr.subVectors(Lr,Pr),Fr.subVectors(Br,Lr);var t=[0,-Dr.z,Dr.y,0,-jr.z,jr.y,0,-Fr.z,Fr.y,Dr.z,0,-Dr.x,jr.z,0,-jr.x,Fr.z,0,-Fr.x,-Dr.y,Dr.x,0,-jr.y,jr.x,0,-Fr.y,Fr.x,0];return!!Nr(t,Br,Pr,Lr,Ir)&&(!!Nr(t=[1,0,0,0,1,0,0,0,1],Br,Pr,Lr,Ir)&&(zr.crossVectors(Dr,jr),Nr(t=[zr.x,zr.y,zr.z],Br,Pr,Lr,Ir)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Tr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Tr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Or[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Or[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Or[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Or[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Or[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Or[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Or[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Or[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Or)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Sr.prototype.isBox3=!0;var Or=[new Mr,new Mr,new Mr,new Mr,new Mr,new Mr,new Mr,new Mr],Tr=new Mr,kr=new Sr,Br=new Mr,Pr=new Mr,Lr=new Mr,Dr=new Mr,jr=new Mr,Fr=new Mr,Rr=new Mr,Ir=new Mr,zr=new Mr,Ur=new Mr;function Nr(e,t,n,r,a){for(var i=0,o=e.length-3;i<=o;i+=3){Ur.fromArray(e,i);var s=a.x*Math.abs(Ur.x)+a.y*Math.abs(Ur.y)+a.z*Math.abs(Ur.z),u=t.dot(Ur),c=n.dot(Ur),l=r.dot(Ur);if(Math.max(-Math.max(u,c,l),Math.min(u,c,l))>s)return!1}return!0}var Gr=new Sr,Hr=new Mr,Vr=new Mr,Wr=new Mr,Xr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(g.a)(this,e),this.center=t,this.radius=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Gr.setFromPoints(e).getCenter(n);for(var r=0,a=0,i=e.length;a<i;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Wr.subVectors(e,this.center);var t=Wr.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Wr.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return Vr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Hr.copy(e.center).add(Vr)),this.expandByPoint(Hr.copy(e.center).sub(Vr)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),qr=new Mr,Qr=new Mr,Yr=new Mr,Jr=new Mr,Kr=new Mr,Zr=new Mr,$r=new Mr,ea=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr(0,0,-1);Object(g.a)(this,e),this.origin=t,this.direction=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,qr)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=qr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(qr.copy(this.direction).multiplyScalar(t).add(this.origin),qr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Qr.copy(e).add(t).multiplyScalar(.5),Yr.copy(t).sub(e).normalize(),Jr.copy(this.origin).sub(Qr);var a,i,o,s,u=.5*e.distanceTo(t),c=-this.direction.dot(Yr),l=Jr.dot(this.direction),f=-Jr.dot(Yr),d=Jr.lengthSq(),h=Math.abs(1-c*c);if(h>0)if(i=c*l-f,s=u*h,(a=c*f-l)>=0)if(i>=-s)if(i<=s){var p=1/h;o=(a*=p)*(a+c*(i*=p)+2*l)+i*(c*a+i+2*f)+d}else i=u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;else i=-u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;else i<=-s?o=-(a=Math.max(0,-(-c*u+l)))*a+(i=a>0?-u:Math.min(Math.max(-u,-f),u))*(i+2*f)+d:i<=s?(a=0,o=(i=Math.min(Math.max(-u,-f),u))*(i+2*f)+d):o=-(a=Math.max(0,-(c*u+l)))*a+(i=a>0?u:Math.min(Math.max(-u,-f),u))*(i+2*f)+d;else i=c>0?-u:u,o=-(a=Math.max(0,-(c*i+l)))*a+i*(i+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(a).add(this.origin),r&&r.copy(Yr).multiplyScalar(i).add(Qr),o}},{key:"intersectSphere",value:function(e,t){qr.subVectors(e.center,this.origin);var n=qr.dot(this.direction),r=qr.dot(qr)-n*n,a=e.radius*e.radius;if(r>a)return null;var i=Math.sqrt(a-r),o=n-i,s=n+i;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,a,i,o,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),c>=0?(a=(e.min.y-f.y)*c,i=(e.max.y-f.y)*c):(a=(e.max.y-f.y)*c,i=(e.min.y-f.y)*c),n>i||a>r?null:((a>n||n!==n)&&(n=a),(i<r||r!==r)&&(r=i),l>=0?(o=(e.min.z-f.z)*l,s=(e.max.z-f.z)*l):(o=(e.max.z-f.z)*l,s=(e.min.z-f.z)*l),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,qr)}},{key:"intersectTriangle",value:function(e,t,n,r,a){Kr.subVectors(t,e),Zr.subVectors(n,e),$r.crossVectors(Kr,Zr);var i,o=this.direction.dot($r);if(o>0){if(r)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}Jr.subVectors(this.origin,e);var s=i*this.direction.dot(Zr.crossVectors(Jr,Zr));if(s<0)return null;var u=i*this.direction.dot(Kr.cross(Jr));if(u<0)return null;if(s+u>o)return null;var c=-i*Jr.dot($r);return c<0?null:this.at(c/o,a)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ta=function(){function e(){Object(g.a)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(y.a)(e,[{key:"set",value:function(e,t,n,r,a,i,o,s,u,c,l,f,d,h,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=a,v[5]=i,v[9]=o,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=f,v[3]=d,v[7]=h,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/na.setFromMatrixColumn(e,0).length(),a=1/na.setFromMatrixColumn(e,1).length(),i=1/na.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,a=e.z,i=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(a),l=Math.sin(a);if("XYZ"===e.order){var f=i*c,d=i*l,h=o*c,p=o*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=d+h*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=h+d*u,t[10]=i*s}else if("YXZ"===e.order){var m=s*c,v=s*l,g=u*c,y=u*l;t[0]=m+y*o,t[4]=g*o-v,t[8]=i*u,t[1]=i*l,t[5]=i*c,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=i*s}else if("ZXY"===e.order){var b=s*c,_=s*l,w=u*c,x=u*l;t[0]=b-x*o,t[4]=-i*l,t[8]=w+_*o,t[1]=_+w*o,t[5]=i*c,t[9]=x-b*o,t[2]=-i*u,t[6]=o,t[10]=i*s}else if("ZYX"===e.order){var A=i*c,M=i*l,E=o*c,C=o*l;t[0]=s*c,t[4]=E*u-M,t[8]=A*u+C,t[1]=s*l,t[5]=C*u+A,t[9]=M*u-E,t[2]=-u,t[6]=o*s,t[10]=i*s}else if("YZX"===e.order){var S=i*s,O=i*u,T=o*s,k=o*u;t[0]=s*c,t[4]=k-S*l,t[8]=T*l+O,t[1]=l,t[5]=i*c,t[9]=-o*c,t[2]=-u*c,t[6]=O*l+T,t[10]=S-k*l}else if("XZY"===e.order){var B=i*s,P=i*u,L=o*s,D=o*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=B*l+D,t[5]=i*c,t[9]=P*l-L,t[2]=L*l-P,t[6]=o*c,t[10]=D*l+B}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(aa,e,ia)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return ua.subVectors(e,t),0===ua.lengthSq()&&(ua.z=1),ua.normalize(),oa.crossVectors(n,ua),0===oa.lengthSq()&&(1===Math.abs(n.z)?ua.x+=1e-4:ua.z+=1e-4,ua.normalize(),oa.crossVectors(n,ua)),oa.normalize(),sa.crossVectors(ua,oa),r[0]=oa.x,r[4]=sa.x,r[8]=ua.x,r[1]=oa.y,r[5]=sa.y,r[9]=ua.y,r[2]=oa.z,r[6]=sa.z,r[10]=ua.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,a=this.elements,i=n[0],o=n[4],s=n[8],u=n[12],c=n[1],l=n[5],f=n[9],d=n[13],h=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],_=n[15],w=r[0],x=r[4],A=r[8],M=r[12],E=r[1],C=r[5],S=r[9],O=r[13],T=r[2],k=r[6],B=r[10],P=r[14],L=r[3],D=r[7],j=r[11],F=r[15];return a[0]=i*w+o*E+s*T+u*L,a[4]=i*x+o*C+s*k+u*D,a[8]=i*A+o*S+s*B+u*j,a[12]=i*M+o*O+s*P+u*F,a[1]=c*w+l*E+f*T+d*L,a[5]=c*x+l*C+f*k+d*D,a[9]=c*A+l*S+f*B+d*j,a[13]=c*M+l*O+f*P+d*F,a[2]=h*w+p*E+m*T+v*L,a[6]=h*x+p*C+m*k+v*D,a[10]=h*A+p*S+m*B+v*j,a[14]=h*M+p*O+m*P+v*F,a[3]=g*w+y*E+b*T+_*L,a[7]=g*x+y*C+b*k+_*D,a[11]=g*A+y*S+b*B+_*j,a[15]=g*M+y*O+b*P+_*F,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],i=e[1],o=e[5],s=e[9],u=e[13],c=e[2],l=e[6],f=e[10],d=e[14];return e[3]*(+a*s*l-r*u*l-a*o*f+n*u*f+r*o*d-n*s*d)+e[7]*(+t*s*d-t*u*f+a*i*f-r*i*d+r*u*c-a*s*c)+e[11]*(+t*u*l-t*o*d-a*i*l+n*i*d+a*o*c-n*u*c)+e[15]*(-r*o*c-t*s*l+t*o*f+r*i*l-n*i*f+n*s*c)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],v=e[15],g=l*m*u-p*f*u+p*s*d-o*m*d-l*s*v+o*f*v,y=h*f*u-c*m*u-h*s*d+i*m*d+c*s*v-i*f*v,b=c*p*u-h*l*u+h*o*d-i*p*d-c*o*v+i*l*v,_=h*l*s-c*p*s-h*o*f+i*p*f+c*o*m-i*l*m,w=t*g+n*y+r*b+a*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/w;return e[0]=g*x,e[1]=(p*f*a-l*m*a-p*r*d+n*m*d+l*r*v-n*f*v)*x,e[2]=(o*m*a-p*s*a+p*r*u-n*m*u-o*r*v+n*s*v)*x,e[3]=(l*s*a-o*f*a-l*r*u+n*f*u+o*r*d-n*s*d)*x,e[4]=y*x,e[5]=(c*m*a-h*f*a+h*r*d-t*m*d-c*r*v+t*f*v)*x,e[6]=(h*s*a-i*m*a-h*r*u+t*m*u+i*r*v-t*s*v)*x,e[7]=(i*f*a-c*s*a+c*r*u-t*f*u-i*r*d+t*s*d)*x,e[8]=b*x,e[9]=(h*l*a-c*p*a-h*n*d+t*p*d+c*n*v-t*l*v)*x,e[10]=(i*p*a-h*o*a+h*n*u-t*p*u-i*n*v+t*o*v)*x,e[11]=(c*o*a-i*l*a-c*n*u+t*l*u+i*n*d-t*o*d)*x,e[12]=_*x,e[13]=(c*p*r-h*l*r+h*n*f-t*p*f-c*n*m+t*l*m)*x,e[14]=(h*o*r-i*p*r-h*n*s+t*p*s+i*n*m-t*o*m)*x,e[15]=(i*l*r-c*o*r+c*n*s-t*l*s-i*n*f+t*o*f)*x,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),a=1-n,i=e.x,o=e.y,s=e.z,u=a*i,c=a*o;return this.set(u*i+n,u*o-r*s,u*s+r*o,0,u*o+r*s,c*o+n,c*s-r*i,0,u*s-r*o,c*s+r*i,a*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,a,i){return this.set(1,n,a,0,e,1,i,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,a=t._x,i=t._y,o=t._z,s=t._w,u=a+a,c=i+i,l=o+o,f=a*u,d=a*c,h=a*l,p=i*c,m=i*l,v=o*l,g=s*u,y=s*c,b=s*l,_=n.x,w=n.y,x=n.z;return r[0]=(1-(p+v))*_,r[1]=(d+b)*_,r[2]=(h-y)*_,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(f+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(h+y)*x,r[9]=(m-g)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,a=na.set(r[0],r[1],r[2]).length(),i=na.set(r[4],r[5],r[6]).length(),o=na.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],ra.copy(this);var s=1/a,u=1/i,c=1/o;return ra.elements[0]*=s,ra.elements[1]*=s,ra.elements[2]*=s,ra.elements[4]*=u,ra.elements[5]*=u,ra.elements[6]*=u,ra.elements[8]*=c,ra.elements[9]*=c,ra.elements[10]*=c,t.setFromRotationMatrix(ra),n.x=a,n.y=i,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,a,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*a/(t-e),u=2*a/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),f=-(i+a)/(i-a),d=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=u,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,a,i){var o=this.elements,s=1/(t-e),u=1/(n-r),c=1/(i-a),l=(t+e)*s,f=(n+r)*u,d=(i+a)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();ta.prototype.isMatrix4=!0;var na=new Mr,ra=new ta,aa=new Mr(0,0,0),ia=new Mr(1,1,1),oa=new Mr,sa=new Mr,ua=new Mr,ca=new ta,la=new Ar,fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Object(g.a)(this,e),this._x=t,this._y=n,this._z=r,this._order=a}return Object(y.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,a=r[0],i=r[4],o=r[8],s=r[1],u=r[5],c=r[9],l=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-i,a)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-l,a),this._z=0);break;case"ZXY":this._x=Math.asin(ir(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-l,d),this._z=Math.atan2(-i,u)):(this._y=0,this._z=Math.atan2(s,a));break;case"ZYX":this._y=Math.asin(-ir(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,a)):(this._x=0,this._z=Math.atan2(-i,u));break;case"YZX":this._z=Math.asin(ir(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-ir(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return ca.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ca,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return la.setFromEuler(this),this.setFromQuaternion(la,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Mr(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();fa.prototype.isEuler=!0,fa.DefaultOrder="XYZ",fa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var da=function(){function e(){Object(g.a)(this,e),this.mask=1}return Object(y.a)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),ha=0,pa=new Mr,ma=new Ar,va=new ta,ga=new Mr,ya=new Mr,ba=new Mr,_a=new Ar,wa=new Mr(1,0,0),xa=new Mr(0,1,0),Aa=new Mr(0,0,1),Ma={type:"added"},Ea={type:"removed"},Ca=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n),e=t.call(this),Object.defineProperty(Object(p.a)(e),"id",{value:ha++}),e.uuid=ar(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Mr,a=new fa,i=new Ar,o=new Mr(1,1,1);return a._onChange((function(){i.setFromEuler(a,!1)})),i._onChange((function(){a.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(Object(p.a)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new ta},normalMatrix:{value:new pr}}),e.matrix=new ta,e.matrixWorld=new ta,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new da,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return Object(y.a)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return ma.setFromAxisAngle(e,t),this.quaternion.multiply(ma),this}},{key:"rotateOnWorldAxis",value:function(e,t){return ma.setFromAxisAngle(e,t),this.quaternion.premultiply(ma),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(wa,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(xa,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Aa,e)}},{key:"translateOnAxis",value:function(e,t){return pa.copy(e).applyQuaternion(this.quaternion),this.position.add(pa.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(wa,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(xa,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Aa,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(va.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?ga.copy(e):ga.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ya.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?va.lookAt(ya,ga,this.up):va.lookAt(ga,ya,this.up),this.quaternion.setFromRotationMatrix(va),r&&(va.extractRotation(r.matrixWorld),ma.setFromRotationMatrix(va),this.quaternion.premultiply(ma.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ma)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ea)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Ea)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),va.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),va.multiply(e.parent.matrixWorld)),e.applyMatrix4(va),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n].getObjectByProperty(e,t);if(void 0!==a)return a}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ya,e,ba),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ya,_a,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,a=0,i=r.length;a<i;a++)r[a].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function a(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);var i=this.geometry.parameters;if(void 0!==i&&void 0!==i.shapes){var o=i.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var c=o[s];a(e.shapes,c)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],f=0,d=this.material.length;f<d;f++)l.push(a(e.materials,this.material[f]));r.material=l}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(a(e.animations,m))}}if(t){var v=A(e.geometries),g=A(e.materials),y=A(e.textures),b=A(e.images),_=A(e.shapes),w=A(e.skeletons),x=A(e.animations);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),_.length>0&&(n.shapes=_),w.length>0&&(n.skeletons=w),x.length>0&&(n.animations=x)}return n.object=r,n;function A(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Zn);Ca.DefaultUp=new Mr(0,1,0),Ca.DefaultMatrixAutoUpdate=!0,Ca.prototype.isObject3D=!0;var Sa=new Mr,Oa=new Mr,Ta=new Mr,ka=new Mr,Ba=new Mr,Pa=new Mr,La=new Mr,Da=new Mr,ja=new Mr,Fa=new Mr,Ra=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mr;Object(g.a)(this,e),this.a=t,this.b=n,this.c=r}return Object(y.a)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Sa.subVectors(this.c,this.b),Oa.subVectors(this.a,this.b),.5*Sa.cross(Oa).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,a,i){return e.getUV(t,this.a,this.b,this.c,n,r,a,i)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,a=this.a,i=this.b,o=this.c;Ba.subVectors(i,a),Pa.subVectors(o,a),Da.subVectors(e,a);var s=Ba.dot(Da),u=Pa.dot(Da);if(s<=0&&u<=0)return t.copy(a);ja.subVectors(e,i);var c=Ba.dot(ja),l=Pa.dot(ja);if(c>=0&&l<=c)return t.copy(i);var f=s*l-c*u;if(f<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(a).addScaledVector(Ba,n);Fa.subVectors(e,o);var d=Ba.dot(Fa),h=Pa.dot(Fa);if(h>=0&&d<=h)return t.copy(o);var p=d*u-s*h;if(p<=0&&u>=0&&h<=0)return r=u/(u-h),t.copy(a).addScaledVector(Pa,r);var m=c*h-d*l;if(m<=0&&l-c>=0&&d-h>=0)return La.subVectors(o,i),r=(l-c)/(l-c+(d-h)),t.copy(i).addScaledVector(La,r);var v=1/(m+p+f);return n=p*v,r=f*v,t.copy(a).addScaledVector(Ba,n).addScaledVector(Pa,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Sa.subVectors(e,t),r.cross(Sa);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,a){Sa.subVectors(r,t),Oa.subVectors(n,t),Ta.subVectors(e,t);var i=Sa.dot(Sa),o=Sa.dot(Oa),s=Sa.dot(Ta),u=Oa.dot(Oa),c=Oa.dot(Ta),l=i*u-o*o;if(0===l)return a.set(-2,-1,-1);var f=1/l,d=(u*s-o*c)*f,h=(i*c-o*s)*f;return a.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,ka),ka.x>=0&&ka.y>=0&&ka.x+ka.y<=1}},{key:"getUV",value:function(e,t,n,r,a,i,o,s){return this.getBarycoord(e,t,n,r,ka),s.set(0,0),s.addScaledVector(a,ka.x),s.addScaledVector(i,ka.y),s.addScaledVector(o,ka.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Sa.subVectors(n,t),Oa.subVectors(e,t),Sa.cross(Oa).dot(r)<0}}]),e}(),Ia=0,za=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),e=t.call(this),Object.defineProperty(Object(p.a)(e),"id",{value:Ia++}),e.uuid=ar(),e.name="",e.type="Material",e.fog=!0,e.blending=F,e.side=k,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=J,e.blendDst=K,e.blendEquation=N,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=oe,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Un,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Cn,e.stencilZFail=Cn,e.stencilZPass=Cn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaTest=0,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e}return Object(y.a)(n,[{key:"onBuild",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===L;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==F&&(n.blending=this.blending),this.side!==k&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var a=r(e.textures),i=r(e.images);a.length>0&&(n.textures=a),i.length>0&&(n.images=i)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Zn);za.prototype.isMaterial=!0;var Ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Na={h:0,s:0,l:0},Ga={h:0,s:0,l:0};function Ha(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Va(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Wa(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Xa=function(){function e(t,n,r){return Object(g.a)(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return Object(y.a)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=or(e,1),t=ir(t,0,1),n=ir(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,a=2*n-r;this.r=Ha(a,r,e+1/3),this.g=Ha(a,r,e),this.b=Ha(a,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,a=n[1],i=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Ua[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Va(e.r),this.g=Va(e.g),this.b=Va(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Wa(e.r),this.g=Wa(e.g),this.b=Wa(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t,n,r=this.r,a=this.g,i=this.b,o=Math.max(r,a,i),s=Math.min(r,a,i),u=(s+o)/2;if(s===o)t=0,n=0;else{var c=o-s;switch(n=u<=.5?c/(o+s):c/(2-o-s),o){case r:t=(a-i)/c+(a<i?6:0);break;case a:t=(i-r)/c+2;break;case i:t=(r-a)/c+4}t/=6}return e.h=t,e.s=n,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Na),Na.h+=e,Na.s+=t,Na.l+=n,this.setHSL(Na.h,Na.s,Na.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Na),e.getHSL(Ga);var n=sr(Na.h,Ga.h,t),r=sr(Na.s,Ga.s,t),a=sr(Na.l,Ga.l,t);return this.setHSL(n,r,a),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Xa.NAMES=Ua,Xa.prototype.isColor=!0,Xa.prototype.r=1,Xa.prototype.g=1,Xa.prototype.b=1;var qa=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new Xa(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=fe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this}}]),n}(za);qa.prototype.isMeshBasicMaterial=!0;var Qa=new Mr,Ya=new dr,Ja=function(){function e(t,n,r){if(Object(g.a)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Nn,this.updateRange={offset:0,count:-1},this.version=0}return Object(y.a)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new Xa),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new dr),t[n++]=i.x,t[n++]=i.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new Mr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new br),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ya.fromBufferAttribute(this,t),Ya.applyMatrix3(e),this.setXY(t,Ya.x,Ya.y);else if(3===this.itemSize)for(var r=0,a=this.count;r<a;r++)Qa.fromBufferAttribute(this,r),Qa.applyMatrix3(e),this.setXYZ(r,Qa.x,Qa.y,Qa.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.applyMatrix4(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.applyNormalMatrix(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Qa.x=this.getX(t),Qa.y=this.getY(t),Qa.z=this.getZ(t),Qa.transformDirection(e),this.setXYZ(t,Qa.x,Qa.y,Qa.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Nn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();Ja.prototype.isBufferAttribute=!0;var Ka=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Int8Array(e),r,a)}return Object(y.a)(n)}(Ja),Za=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Uint8Array(e),r,a)}return Object(y.a)(n)}(Ja),$a=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Uint8ClampedArray(e),r,a)}return Object(y.a)(n)}(Ja),ei=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Int16Array(e),r,a)}return Object(y.a)(n)}(Ja),ti=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Uint16Array(e),r,a)}return Object(y.a)(n)}(Ja),ni=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Int32Array(e),r,a)}return Object(y.a)(n)}(Ja),ri=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Uint32Array(e),r,a)}return Object(y.a)(n)}(Ja),ai=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Uint16Array(e),r,a)}return Object(y.a)(n)}(Ja);ai.prototype.isFloat16BufferAttribute=!0;var ii=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Float32Array(e),r,a)}return Object(y.a)(n)}(Ja),oi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){return Object(g.a)(this,n),t.call(this,new Float64Array(e),r,a)}return Object(y.a)(n)}(Ja);function si(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var ui={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function ci(e,t){return new ui[e](t)}var li=0,fi=new ta,di=new Ca,hi=new Mr,pi=new Sr,mi=new Sr,vi=new Mr,gi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),e=t.call(this),Object.defineProperty(Object(p.a)(e),"id",{value:li++}),e.uuid=ar(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return Object(y.a)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(si(e)>65535?ri:ti)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new pr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(e),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return fi.makeRotationFromQuaternion(e),this.applyMatrix4(fi),this}},{key:"rotateX",value:function(e){return fi.makeRotationX(e),this.applyMatrix4(fi),this}},{key:"rotateY",value:function(e){return fi.makeRotationY(e),this.applyMatrix4(fi),this}},{key:"rotateZ",value:function(e){return fi.makeRotationZ(e),this.applyMatrix4(fi),this}},{key:"translate",value:function(e,t,n){return fi.makeTranslation(e,t,n),this.applyMatrix4(fi),this}},{key:"scale",value:function(e,t,n){return fi.makeScale(e,t,n),this.applyMatrix4(fi),this}},{key:"lookAt",value:function(e){return di.lookAt(e),di.updateMatrix(),this.applyMatrix4(di.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(hi).negate(),this.translate(hi.x,hi.y,hi.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new ii(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Sr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Mr(-1/0,-1/0,-1/0),new Mr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var a=t[n];pi.setFromBufferAttribute(a),this.morphTargetsRelative?(vi.addVectors(this.boundingBox.min,pi.min),this.boundingBox.expandByPoint(vi),vi.addVectors(this.boundingBox.max,pi.max),this.boundingBox.expandByPoint(vi)):(this.boundingBox.expandByPoint(pi.min),this.boundingBox.expandByPoint(pi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Xr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Mr,1/0);if(e){var n=this.boundingSphere.center;if(pi.setFromBufferAttribute(e),t)for(var r=0,a=t.length;r<a;r++){var i=t[r];mi.setFromBufferAttribute(i),this.morphTargetsRelative?(vi.addVectors(pi.min,mi.min),pi.expandByPoint(vi),vi.addVectors(pi.max,mi.max),pi.expandByPoint(vi)):(pi.expandByPoint(mi.min),pi.expandByPoint(mi.max))}pi.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)vi.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(vi));if(t)for(var c=0,l=t.length;c<l;c++)for(var f=t[c],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)vi.fromBufferAttribute(f,h),d&&(hi.fromBufferAttribute(e,h),vi.add(hi)),o=Math.max(o,n.distanceToSquared(vi));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeFaceNormals",value:function(){}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,a=t.normal.array,i=t.uv.array,o=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Ja(new Float32Array(4*o),4));for(var s=t.tangent.array,u=[],c=[],l=0;l<o;l++)u[l]=new Mr,c[l]=new Mr;var f=new Mr,d=new Mr,h=new Mr,p=new dr,m=new dr,v=new dr,g=new Mr,y=new Mr,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var _=0,w=b.length;_<w;++_)for(var x=b[_],A=x.start,M=A,E=A+x.count;M<E;M+=3)F(n[M+0],n[M+1],n[M+2]);for(var C=new Mr,S=new Mr,O=new Mr,T=new Mr,k=0,B=b.length;k<B;++k)for(var P=b[k],L=P.start,D=L,j=L+P.count;D<j;D+=3)R(n[D+0]),R(n[D+1]),R(n[D+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function F(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(i,2*e),m.fromArray(i,2*t),v.fromArray(i,2*n),d.sub(f),h.sub(f),m.sub(p),v.sub(p);var a=1/(m.x*v.y-v.x*m.y);isFinite(a)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(a),y.copy(h).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(a),u[e].add(g),u[t].add(g),u[n].add(g),c[e].add(y),c[t].add(y),c[n].add(y))}function R(e){O.fromArray(a,3*e),T.copy(O);var t=u[e];C.copy(t),C.sub(O.multiplyScalar(O.dot(t))).normalize(),S.crossVectors(T,t);var n=S.dot(c[e])<0?-1:1;s[4*e]=C.x,s[4*e+1]=C.y,s[4*e+2]=C.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Ja(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,a=n.count;r<a;r++)n.setXYZ(r,0,0,0);var i=new Mr,o=new Mr,s=new Mr,u=new Mr,c=new Mr,l=new Mr,f=new Mr,d=new Mr;if(e)for(var h=0,p=e.count;h<p;h+=3){var m=e.getX(h+0),v=e.getX(h+1),g=e.getX(h+2);i.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),f.subVectors(s,o),d.subVectors(i,o),f.cross(d),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),l.fromBufferAttribute(n,g),u.add(f),c.add(f),l.add(f),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(g,l.x,l.y,l.z)}else for(var y=0,b=t.count;y<b;y+=3)i.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,o),d.subVectors(i,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var a=n[r].array,i=e.attributes[r],o=i.array,s=i.itemSize*t,u=Math.min(o.length,a.length-s),c=0,l=s;c<u;c++,l++)a[l]=o[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)vi.fromBufferAttribute(e,t),vi.normalize(),e.setXYZ(t,vi.x,vi.y,vi.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,a=e.normalized,i=new n.constructor(t.length*r),o=0,s=0,u=0,c=t.length;u<c;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var l=0;l<r;l++)i[s++]=n[o++]}return new Ja(i,r,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,a=this.attributes;for(var i in a){var o=e(a[i],r);t.setAttribute(i,o)}var s=this.morphAttributes;for(var u in s){for(var c=[],l=s[u],f=0,d=l.length;f<d;f++){var h=e(l[f],r);c.push(h)}t.morphAttributes[u]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(var i in a){var o=a[i];e.data.attributes[i]=o.toJSON(e.data)}var s={},u=!1;for(var c in this.morphAttributes){for(var l=this.morphAttributes[c],f=[],d=0,h=l.length;d<h;d++){var p=l[d];f.push(p.toJSON(e.data))}f.length>0&&(s[c]=f,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var a in r){var i=r[a];this.setAttribute(a,i.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],c=o[s],l=0,f=c.length;l<f;l++)u.push(c[l].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var m=d[h];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Zn);gi.prototype.isBufferGeometry=!0;var yi=new ta,bi=new ea,_i=new Xr,wi=new Mr,xi=new Mr,Ai=new Mr,Mi=new Mr,Ei=new Mr,Ci=new Mr,Si=new Mr,Oi=new Mr,Ti=new Mr,ki=new dr,Bi=new dr,Pi=new dr,Li=new Mr,Di=new Mr,ji=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qa;return Object(g.a)(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,a=this.material,i=this.matrixWorld;if(void 0!==a&&(null===r.boundingSphere&&r.computeBoundingSphere(),_i.copy(r.boundingSphere),_i.applyMatrix4(i),!1!==e.ray.intersectsSphere(_i)&&(yi.copy(i).invert(),bi.copy(e.ray).applyMatrix4(yi),null===r.boundingBox||!1!==bi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,l=r.attributes.uv,f=r.attributes.uv2,d=r.groups,h=r.drawRange;if(null!==o)if(Array.isArray(a))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],g=a[v.materialIndex],y=Math.max(v.start,h.start),b=Math.min(v.start+v.count,h.start+h.count);y<b;y+=3){var _=o.getX(y),w=o.getX(y+1),x=o.getX(y+2);(n=Fi(this,g,e,bi,s,u,c,l,f,_,w,x))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var A=Math.max(0,h.start),M=Math.min(o.count,h.start+h.count);A<M;A+=3){var E=o.getX(A),C=o.getX(A+1),S=o.getX(A+2);(n=Fi(this,a,e,bi,s,u,c,l,f,E,C,S))&&(n.faceIndex=Math.floor(A/3),t.push(n))}else if(void 0!==s)if(Array.isArray(a))for(var O=0,T=d.length;O<T;O++)for(var k=d[O],B=a[k.materialIndex],P=Math.max(k.start,h.start),L=Math.min(k.start+k.count,h.start+h.count);P<L;P+=3){(n=Fi(this,B,e,bi,s,u,c,l,f,P,P+1,P+2))&&(n.faceIndex=Math.floor(P/3),n.face.materialIndex=k.materialIndex,t.push(n))}else for(var D=Math.max(0,h.start),j=Math.min(s.count,h.start+h.count);D<j;D+=3){(n=Fi(this,a,e,bi,s,u,c,l,f,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(Ca);function Fi(e,t,n,r,a,i,o,s,u,c,l,f){wi.fromBufferAttribute(a,c),xi.fromBufferAttribute(a,l),Ai.fromBufferAttribute(a,f);var d=e.morphTargetInfluences;if(t.morphTargets&&i&&d){Si.set(0,0,0),Oi.set(0,0,0),Ti.set(0,0,0);for(var h=0,p=i.length;h<p;h++){var m=d[h],v=i[h];0!==m&&(Mi.fromBufferAttribute(v,c),Ei.fromBufferAttribute(v,l),Ci.fromBufferAttribute(v,f),o?(Si.addScaledVector(Mi,m),Oi.addScaledVector(Ei,m),Ti.addScaledVector(Ci,m)):(Si.addScaledVector(Mi.sub(wi),m),Oi.addScaledVector(Ei.sub(xi),m),Ti.addScaledVector(Ci.sub(Ai),m)))}wi.add(Si),xi.add(Oi),Ai.add(Ti)}e.isSkinnedMesh&&(e.boneTransform(c,wi),e.boneTransform(l,xi),e.boneTransform(f,Ai));var g=function(e,t,n,r,a,i,o,s){if(null===(t.side===B?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,t.side!==P,s)))return null;Di.copy(s),Di.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(Di);return u<n.near||u>n.far?null:{distance:u,point:Di.clone(),object:e}}(e,t,n,r,wi,xi,Ai,Li);if(g){s&&(ki.fromBufferAttribute(s,c),Bi.fromBufferAttribute(s,l),Pi.fromBufferAttribute(s,f),g.uv=Ra.getUV(Li,wi,xi,Ai,ki,Bi,Pi,new dr)),u&&(ki.fromBufferAttribute(u,c),Bi.fromBufferAttribute(u,l),Pi.fromBufferAttribute(u,f),g.uv2=Ra.getUV(Li,wi,xi,Ai,ki,Bi,Pi,new dr));var y={a:c,b:l,c:f,normal:new Mr,materialIndex:0};Ra.getNormal(wi,xi,Ai,y.normal),g.face=y}return g}ji.prototype.isMesh=!0;var Ri=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(g.a)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:a,depth:i,widthSegments:o,heightSegments:s,depthSegments:u};var c=Object(p.a)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var l=[],f=[],d=[],h=[],m=0,v=0;function y(e,t,n,r,a,i,o,s,u,p,g){for(var y=i/u,b=o/p,_=i/2,w=o/2,x=s/2,A=u+1,M=p+1,E=0,C=0,S=new Mr,O=0;O<M;O++)for(var T=O*b-w,k=0;k<A;k++){var B=k*y-_;S[e]=B*r,S[t]=T*a,S[n]=x,f.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=s>0?1:-1,d.push(S.x,S.y,S.z),h.push(k/u),h.push(1-O/p),E+=1}for(var P=0;P<p;P++)for(var L=0;L<u;L++){var D=m+L+A*P,j=m+L+A*(P+1),F=m+(L+1)+A*(P+1),R=m+(L+1)+A*P;l.push(D,j,R),l.push(j,F,R),C+=6}c.addGroup(v,C,g),v+=C,m+=E}return y("z","y","x",-1,-1,i,a,r,u,s,0),y("z","y","x",1,-1,i,a,-r,u,s,1),y("x","z","y",1,1,r,i,a,o,u,2),y("x","z","y",1,-1,r,i,-a,o,u,3),y("x","y","z",1,-1,r,a,i,o,s,4),y("x","y","z",-1,-1,r,a,-i,o,s,5),e.setIndex(l),e.setAttribute("position",new ii(f,3)),e.setAttribute("normal",new ii(d,3)),e.setAttribute("uv",new ii(h,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(gi);function Ii(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}return t}function zi(e){for(var t={},n=0;n<e.length;n++){var r=Ii(e[n]);for(var a in r)t[a]=r[a]}return t}var Ui={clone:Ii,merge:zi},Ni=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.morphTargets=!1,r.morphNormals=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ii(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}]),n}(za);Ni.prototype.isShaderMaterial=!0;var Gi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new ta,e.projectionMatrix=new ta,e.projectionMatrixInverse=new ta,e}return Object(y.a)(n,[{key:"copy",value:function(e,t){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Object(f.a)(Object(d.a)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Ca);Gi.prototype.isCamera=!0;var Hi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return Object(g.a)(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=i,e.far=o,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return Object(y.a)(n,[{key:"copy",value:function(e,t){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*rr*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*nr*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*rr*Math.atan(Math.tan(.5*nr*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,a,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*nr*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r,i=this.view;if(null!==this.view&&this.view.enabled){var o=i.fullWidth,s=i.fullHeight;a+=i.offsetX*r/o,t-=i.offsetY*n/s,r*=i.width/o,n*=i.height/s}var u=this.filmOffset;0!==u&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Gi);Hi.prototype.isPerspectiveCamera=!0;var Vi=90,Wi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;if(Object(g.a)(this,n),(i=t.call(this)).type="CubeCamera",!0!==a.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),Object(l.a)(i);i.renderTarget=a;var o=new Hi(Vi,1,e,r);o.layers=i.layers,o.up.set(0,-1,0),o.lookAt(new Mr(1,0,0)),i.add(o);var s=new Hi(Vi,1,e,r);s.layers=i.layers,s.up.set(0,-1,0),s.lookAt(new Mr(-1,0,0)),i.add(s);var u=new Hi(Vi,1,e,r);u.layers=i.layers,u.up.set(0,0,1),u.lookAt(new Mr(0,1,0)),i.add(u);var c=new Hi(Vi,1,e,r);c.layers=i.layers,c.up.set(0,0,-1),c.lookAt(new Mr(0,-1,0)),i.add(c);var f=new Hi(Vi,1,e,r);f.layers=i.layers,f.up.set(0,-1,0),f.lookAt(new Mr(0,0,1)),i.add(f);var d=new Hi(Vi,1,e,r);return d.layers=i.layers,d.up.set(0,-1,0),d.lookAt(new Mr(0,0,-1)),i.add(d),i}return Object(y.a)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=Object(c.a)(this.children,6),a=r[0],i=r[1],o=r[2],s=r[3],u=r[4],l=r[5],f=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,a),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(d),e.xr.enabled=f}}]),n}(Ca),Xi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s,u,c,l,f){var d;return Object(g.a)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:we,u=void 0!==u?u:$e,(d=t.call(this,e,r,a,i,o,s,u,c,l,f))._needsFlipEnvMap=!0,d.flipY=!1,d}return Object(y.a)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(gr);Xi.prototype.isCubeTexture=!0;var qi=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;return Object(g.a)(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=a),i=t.call(this,e,e,r),r=r||{},i.texture=new Xi(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,i.texture.minFilter=void 0!==r.minFilter?r.minFilter:je,i.texture._needsFlipEnvMap=!1,i}return Object(y.a)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=et,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",a="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new Ri(5,5,5),o=new Ni({name:"CubemapFromEquirect",uniforms:Ii(n),vertexShader:r,fragmentShader:a,side:B,blending:j});o.uniforms.tEquirect.value=t;var s=new ji(i,o),u=t.minFilter;return t.minFilter===Ie&&(t.minFilter=je),new Wi(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var a=e.getRenderTarget(),i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(a)}}]),n}(_r);qi.prototype.isWebGLCubeRenderTarget=!0;var Qi=new Mr,Yi=new Mr,Ji=new pr,Ki=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,e),this.normal=t,this.constant=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Qi.subVectors(n,t).cross(Yi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(Qi),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Ji.getNormalMatrix(e),r=this.coplanarPoint(Qi).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Ki.prototype.isPlane=!0;var Zi=new Xr,$i=new Mr,eo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ki,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ki,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ki,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ki,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ki,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ki;Object(g.a)(this,e),this.planes=[t,n,r,a,i,o]}return Object(y.a)(e,[{key:"set",value:function(e,t,n,r,a,i){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(i),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],f=n[8],d=n[9],h=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,l-s,p-f,y-m).normalize(),t[1].setComponents(o+r,l+s,p+f,y+m).normalize(),t[2].setComponents(o+a,l+u,p+d,y+v).normalize(),t[3].setComponents(o-a,l-u,p-d,y-v).normalize(),t[4].setComponents(o-i,l-c,p-h,y-g).normalize(),t[5].setComponents(o+i,l+c,p+h,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Zi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Zi)}},{key:"intersectsSprite",value:function(e){return Zi.center.set(0,0,0),Zi.radius=.7071067811865476,Zi.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zi)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,a=0;a<6;a++){if(t[a].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if($i.x=r.normal.x>0?e.max.x:e.min.x,$i.y=r.normal.y>0?e.max.y:e.min.y,$i.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($i)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function to(){var e=null,t=!1,n=null,r=null;function a(t,i){n(t,i),r=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function no(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,a){if(t.isGLBufferAttribute){var i=r.get(t);(!i||i.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var a=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,a,i),t.onUploadCallback();var s=5126;return a instanceof Float32Array?s=5126:a instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):a instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:a instanceof Int16Array?s=5122:a instanceof Uint32Array?s=5125:a instanceof Int32Array?s=5124:a instanceof Int8Array?s=5120:(a instanceof Uint8Array||a instanceof Uint8ClampedArray)&&(s=5121),{buffer:o,type:s,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,a)):o.version<t.version&&(!function(t,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,t),-1===o.count?e.bufferSubData(a,0,i):(n?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,a),o.version=t.version)}}}}var ro=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(g.a)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:a,widthSegments:i,heightSegments:o};for(var s=r/2,u=a/2,c=Math.floor(i),l=Math.floor(o),f=c+1,d=l+1,h=r/c,p=a/l,m=[],v=[],y=[],b=[],_=0;_<d;_++)for(var w=_*p-u,x=0;x<f;x++){var A=x*h-s;v.push(A,-w,0),y.push(0,0,1),b.push(x/c),b.push(1-_/l)}for(var M=0;M<l;M++)for(var E=0;E<c;E++){var C=E+f*M,S=E+f*(M+1),O=E+1+f*(M+1),T=E+1+f*M;m.push(C,S,T),m.push(S,O,T)}return e.setIndex(m),e.setAttribute("position",new ii(v,3)),e.setAttribute("normal",new ii(y,3)),e.setAttribute("uv",new ii(b,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(gi),ao={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSNMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tnormal, v, roughnessFactor, material.diffuseColor, totalSpecular,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform vec3 attenuationColor;\n\tuniform float attenuationDistance;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},io={common:{diffuse:{value:new Xa(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new pr},uv2Transform:{value:new pr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new dr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Xa(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Xa(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new pr}},sprite:{diffuse:{value:new Xa(16777215)},opacity:{value:1},center:{value:new dr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new pr}}},oo={basic:{uniforms:zi([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.fog]),vertexShader:ao.meshbasic_vert,fragmentShader:ao.meshbasic_frag},lambert:{uniforms:zi([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.fog,io.lights,{emissive:{value:new Xa(0)}}]),vertexShader:ao.meshlambert_vert,fragmentShader:ao.meshlambert_frag},phong:{uniforms:zi([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.fog,io.lights,{emissive:{value:new Xa(0)},specular:{value:new Xa(1118481)},shininess:{value:30}}]),vertexShader:ao.meshphong_vert,fragmentShader:ao.meshphong_frag},standard:{uniforms:zi([io.common,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.roughnessmap,io.metalnessmap,io.fog,io.lights,{emissive:{value:new Xa(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ao.meshphysical_vert,fragmentShader:ao.meshphysical_frag},toon:{uniforms:zi([io.common,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.gradientmap,io.fog,io.lights,{emissive:{value:new Xa(0)}}]),vertexShader:ao.meshtoon_vert,fragmentShader:ao.meshtoon_frag},matcap:{uniforms:zi([io.common,io.bumpmap,io.normalmap,io.displacementmap,io.fog,{matcap:{value:null}}]),vertexShader:ao.meshmatcap_vert,fragmentShader:ao.meshmatcap_frag},points:{uniforms:zi([io.points,io.fog]),vertexShader:ao.points_vert,fragmentShader:ao.points_frag},dashed:{uniforms:zi([io.common,io.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ao.linedashed_vert,fragmentShader:ao.linedashed_frag},depth:{uniforms:zi([io.common,io.displacementmap]),vertexShader:ao.depth_vert,fragmentShader:ao.depth_frag},normal:{uniforms:zi([io.common,io.bumpmap,io.normalmap,io.displacementmap,{opacity:{value:1}}]),vertexShader:ao.normal_vert,fragmentShader:ao.normal_frag},sprite:{uniforms:zi([io.sprite,io.fog]),vertexShader:ao.sprite_vert,fragmentShader:ao.sprite_frag},background:{uniforms:{uvTransform:{value:new pr},t2D:{value:null}},vertexShader:ao.background_vert,fragmentShader:ao.background_frag},cube:{uniforms:zi([io.envmap,{opacity:{value:1}}]),vertexShader:ao.cube_vert,fragmentShader:ao.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ao.equirect_vert,fragmentShader:ao.equirect_frag},distanceRGBA:{uniforms:zi([io.common,io.displacementmap,{referencePosition:{value:new Mr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ao.distanceRGBA_vert,fragmentShader:ao.distanceRGBA_frag},shadow:{uniforms:zi([io.lights,io.fog,{color:{value:new Xa(0)},opacity:{value:1}}]),vertexShader:ao.shadow_vert,fragmentShader:ao.shadow_frag}};function so(e,t,n,r,a){var i,o,s=new Xa(0),u=0,c=null,l=0,f=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,u=t)},getClearAlpha:function(){return u},setClearAlpha:function(e){d(s,u=e)},render:function(n,a){var h=!1,p=!0===a.isScene?a.background:null;p&&p.isTexture&&(p=t.get(p));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(p=null),null===p?d(s,u):p&&p.isColor&&(d(p,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===Ee)?(void 0===o&&((o=new ji(new Ri(1,1,1),new Ni({name:"BackgroundCubeMaterial",uniforms:Ii(oo.cube.uniforms),vertexShader:oo.cube.vertexShader,fragmentShader:oo.cube.fragmentShader,side:B,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),o.material.uniforms.envMap.value=p,o.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p._needsFlipEnvMap?-1:1,c===p&&l===p.version&&f===e.toneMapping||(o.material.needsUpdate=!0,c=p,l=p.version,f=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):p&&p.isTexture&&(void 0===i&&((i=new ji(new ro(2,2),new Ni({name:"BackgroundMaterial",uniforms:Ii(oo.background.uniforms),vertexShader:oo.background.vertexShader,fragmentShader:oo.background.fragmentShader,side:k,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&l===p.version&&f===e.toneMapping||(i.material.needsUpdate=!0,c=p,l=p.version,f=e.toneMapping),n.unshift(i,i.geometry,i.material,0,0,null))}}}function uo(e,t,n,r){var a=e.getParameter(34921),i=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==i,s={},u=d(null),c=u;function l(t){return r.isWebGL2?e.bindVertexArray(t):i.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):i.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],i=0;i<a;i++)t[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,a){var i=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;(i[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==a)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,a),s[n]=a)}function v(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,a=n.length;r<a;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,a,i,o,s){!0!==r.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,n,a,i,o,s):e.vertexAttribIPointer(t,n,a,o,s)}function y(){b(),c!==u&&l((c=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(a,u,f,y,b){var _=!1;if(o){var w=function(t,n,a){var o=!0===a.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var c=u[n.id];void 0===c&&(c={},u[n.id]=c);var l=c[o];void 0===l&&(l=d(r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),c[o]=l);return l}(y,f,u);c!==w&&l((c=w).object),_=function(e,t){var n=c.attributes,r=e.attributes,a=0;for(var i in r){var o=n[i],s=r[i];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;a++}return c.attributesNum!==a||c.index!==t}(y,b),_&&function(e,t){var n={},r=e.attributes,a=0;for(var i in r){var o=r[i],s={};s.attribute=o,o.data&&(s.data=o.data),n[i]=s,a++}c.attributes=n,c.attributesNum=a,c.index=t}(y,b)}else{var x=!0===u.wireframe;c.geometry===y.id&&c.program===f.id&&c.wireframe===x||(c.geometry=y.id,c.program=f.id,c.wireframe=x,_=!0)}!0===a.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(!function(a,i,o,s){if(!1===r.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,c=o.getAttributes(),l=i.defaultAttributeValues;for(var f in c){var d=c[f];if(d>=0){var y=u[f];if(void 0!==y){var b=y.normalized,_=y.itemSize,w=n.get(y);if(void 0===w)continue;var x=w.buffer,A=w.type,M=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,C=E.stride,S=y.offset;E&&E.isInstancedInterleavedBuffer?(m(d,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(d),e.bindBuffer(34962,x),g(d,_,A,b,C*M,S*M)}else y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,x),g(d,_,A,b,0,0)}else if("instanceMatrix"===f){var O=n.get(a.instanceMatrix);if(void 0===O)continue;var T=O.buffer,k=O.type;m(d+0,1),m(d+1,1),m(d+2,1),m(d+3,1),e.bindBuffer(34962,T),e.vertexAttribPointer(d+0,4,k,!1,64,0),e.vertexAttribPointer(d+1,4,k,!1,64,16),e.vertexAttribPointer(d+2,4,k,!1,64,32),e.vertexAttribPointer(d+3,4,k,!1,64,48)}else if("instanceColor"===f){var B=n.get(a.instanceColor);if(void 0===B)continue;var P=B.buffer,L=B.type;m(d,1),e.bindBuffer(34962,P),e.vertexAttribPointer(d,3,L,!1,12,0)}else if(void 0!==l){var D=l[f];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(d,D);break;case 3:e.vertexAttrib3fv(d,D);break;case 4:e.vertexAttrib4fv(d,D);break;default:e.vertexAttrib1fv(d,D)}}}}v()}(a,u,f,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var a in r)f(r[a].object),delete r[a];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var a in r)f(r[a].object),delete r[a];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var a in r)f(r[a].object),delete r[a];delete n[e.id]}}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:v}}function co(e,t,n,r){var a,i=r.isWebGL2;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,c;if(i)u=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](a,r,o,s),n.update(o,a,s)}}}function lo(e,t,n){var r;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var i="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=i||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=f>0,b=i||t.has("OES_texture_float");return{isWebGL2:i,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:i?e.getParameter(36183):0}}function fo(e){var t=this,n=null,r=0,a=!1,i=!1,o=new Ki,s=new pr,u={value:null,needsUpdate:!1};function c(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function l(e,n,r,a){var i=null!==e?e.length:0,c=null;if(0!==i){if(c=u.value,!0!==a||null===c){var l=r+4*i,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===c||c.length<l)&&(c=new Float32Array(l));for(var d=0,h=r;d!==i;++d,h+=4)o.copy(e[d]).applyMatrix4(f,s),o.normal.toArray(c,h),c[h+3]=o.constant}u.value=c,u.needsUpdate=!0}return t.numPlanes=i,t.numIntersection=0,c}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,i){var o=0!==e.length||t||0!==r||a;return a=t,n=l(e,i,0),r=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,s){var f=t.clippingPlanes,d=t.clipIntersection,h=t.clipShadows,p=e.get(t);if(!a||null===f||0===f.length||i&&!h)i?l(null):c();else{var m=i?0:r,v=4*m,g=p.clippingState||null;u.value=g,g=l(f,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function ho(e){var t=new WeakMap;function n(e,t){return t===Ae?e.mapping=we:t===Me&&(e.mapping=xe),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var a=t.get(n);void 0!==a&&(t.delete(n),a.dispose())}return{get:function(a){if(a&&a.isTexture){var i=a.mapping;if(i===Ae||i===Me){if(t.has(a))return n(t.get(a).texture,a.mapping);var o=a.image;if(o&&o.height>0){var s=e.getRenderTarget(),u=new qi(o.height/2);return u.fromEquirectangularTexture(e,a),t.set(a,u),e.setRenderTarget(s),a.addEventListener("dispose",r),n(u.texture,a.mapping)}return null}}return a},dispose:function(){t=new WeakMap}}}function po(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function mo(e,t,n,r){var a={},i=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete a[s.id];var c=i.get(s);c&&(t.remove(c),i.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,c=s.length;u<c;u+=3){var l=s[u+0],f=s[u+1],d=s[u+2];n.push(l,f,f,d,d,l)}}else{var h=a.array;o=a.version;for(var p=0,m=h.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var b=new(si(n)>65535?ri:ti)(n,1);b.version=o;var _=i.get(e);_&&t.remove(_),i.set(e,b)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",o),a[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return i.get(e)}}}function vo(e,t,n,r){var a,i,o,s=r.isWebGL2;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,i,t*o),n.update(r,a,1)},this.renderInstances=function(r,u,c){if(0!==c){var l,f;if(s)l=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[f](a,u,i,r*o,c),n.update(u,a,c)}}}function go(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function yo(e,t){return e[0]-t[0]}function bo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function _o(e){for(var t={},n=new Float32Array(8),r=[],a=0;a<8;a++)r[a]=[a,0];return{update:function(a,i,o,s){var u=a.morphTargetInfluences,c=void 0===u?0:u.length,l=t[i.id];if(void 0===l||l.length!==c){l=[];for(var f=0;f<c;f++)l[f]=[f,0];t[i.id]=l}for(var d=0;d<c;d++){var h=l[d];h[0]=d,h[1]=u[d]}l.sort(bo);for(var p=0;p<8;p++)p<c&&l[p][1]?(r[p][0]=l[p][0],r[p][1]=l[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(yo);for(var m=o.morphTargets&&i.morphAttributes.position,v=o.morphNormals&&i.morphAttributes.normal,g=0,y=0;y<8;y++){var b=r[y],_=b[0],w=b[1];_!==Number.MAX_SAFE_INTEGER&&w?(m&&i.getAttribute("morphTarget"+y)!==m[_]&&i.setAttribute("morphTarget"+y,m[_]),v&&i.getAttribute("morphNormal"+y)!==v[_]&&i.setAttribute("morphNormal"+y,v[_]),n[y]=w,g+=w):(m&&!0===i.hasAttribute("morphTarget"+y)&&i.deleteAttribute("morphTarget"+y),v&&!0===i.hasAttribute("morphNormal"+y)&&i.deleteAttribute("morphNormal"+y),n[y]=0)}var x=i.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",x),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function wo(e,t,n,r){var a=new WeakMap;function i(e){var t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,u=t.get(e,s);return a.get(u)!==o&&(t.update(u),a.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",i)&&e.addEventListener("dispose",i),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),u},dispose:function(){a=new WeakMap}}}oo.physical={uniforms:zi([oo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new dr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Xa(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new dr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Xa(0)}}]),vertexShader:ao.meshphysical_vert,fragmentShader:ao.meshphysical_frag};var xo=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(g.a)(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=ke,e.minFilter=ke,e.wrapR=Oe,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return Object(y.a)(n)}(gr);xo.prototype.isDataTexture2DArray=!0;var Ao=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(g.a)(this,n),(e=t.call(this,null)).image={data:r,width:a,height:i,depth:o},e.magFilter=ke,e.minFilter=ke,e.wrapR=Oe,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return Object(y.a)(n)}(gr);Ao.prototype.isDataTexture3D=!0;var Mo=new gr,Eo=new xo,Co=new Ao,So=new Xi,Oo=[],To=[],ko=new Float32Array(16),Bo=new Float32Array(9),Po=new Float32Array(4);function Lo(e,t,n){var r=e[0];if(r<=0||r>0)return e;var a=t*n,i=Oo[a];if(void 0===i&&(i=new Float32Array(a),Oo[a]=i),0!==t){r.toArray(i,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(i,s)}return i}function Do(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function jo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Fo(e,t){var n=To[t];void 0===n&&(n=new Int32Array(t),To[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Ro(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Io(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Do(n,t))return;e.uniform2fv(this.addr,t),jo(n,t)}}function zo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Do(n,t))return;e.uniform3fv(this.addr,t),jo(n,t)}}function Uo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Do(n,t))return;e.uniform4fv(this.addr,t),jo(n,t)}}function No(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;Po.set(r),e.uniformMatrix2fv(this.addr,!1,Po),jo(n,r)}}function Go(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;Bo.set(r),e.uniformMatrix3fv(this.addr,!1,Bo),jo(n,r)}}function Ho(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;ko.set(r),e.uniformMatrix4fv(this.addr,!1,ko),jo(n,r)}}function Vo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Wo(e,t){var n=this.cache;Do(n,t)||(e.uniform2iv(this.addr,t),jo(n,t))}function Xo(e,t){var n=this.cache;Do(n,t)||(e.uniform3iv(this.addr,t),jo(n,t))}function qo(e,t){var n=this.cache;Do(n,t)||(e.uniform4iv(this.addr,t),jo(n,t))}function Qo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Yo(e,t){var n=this.cache;Do(n,t)||(e.uniform2uiv(this.addr,t),jo(n,t))}function Jo(e,t){var n=this.cache;Do(n,t)||(e.uniform3uiv(this.addr,t),jo(n,t))}function Ko(e,t){var n=this.cache;Do(n,t)||(e.uniform4uiv(this.addr,t),jo(n,t))}function Zo(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTexture2D(t||Mo,a)}function $o(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||Co,a)}function es(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.safeSetTextureCube(t||So,a)}function ts(e,t,n){var r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||Eo,a)}function ns(e,t){e.uniform1fv(this.addr,t)}function rs(e,t){var n=Lo(t,this.size,2);e.uniform2fv(this.addr,n)}function as(e,t){var n=Lo(t,this.size,3);e.uniform3fv(this.addr,n)}function is(e,t){var n=Lo(t,this.size,4);e.uniform4fv(this.addr,n)}function os(e,t){var n=Lo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ss(e,t){var n=Lo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function us(e,t){var n=Lo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function cs(e,t){e.uniform1iv(this.addr,t)}function ls(e,t){e.uniform2iv(this.addr,t)}function fs(e,t){e.uniform3iv(this.addr,t)}function ds(e,t){e.uniform4iv(this.addr,t)}function hs(e,t){e.uniform1uiv(this.addr,t)}function ps(e,t){e.uniform2uiv(this.addr,t)}function ms(e,t){e.uniform3uiv(this.addr,t)}function vs(e,t){e.uniform4uiv(this.addr,t)}function gs(e,t,n){var r=t.length,a=Fo(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTexture2D(t[i]||Mo,a[i])}function ys(e,t,n){var r=t.length,a=Fo(n,r);e.uniform1iv(this.addr,a);for(var i=0;i!==r;++i)n.safeSetTextureCube(t[i]||So,a[i])}function bs(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ro;case 35664:return Io;case 35665:return zo;case 35666:return Uo;case 35674:return No;case 35675:return Go;case 35676:return Ho;case 5124:case 35670:return Vo;case 35667:case 35671:return Wo;case 35668:case 35672:return Xo;case 35669:case 35673:return qo;case 5125:return Qo;case 36294:return Yo;case 36295:return Jo;case 36296:return Ko;case 35678:case 36198:case 36298:case 36306:case 35682:return Zo;case 35679:case 36299:case 36307:return $o;case 35680:case 36300:case 36308:case 36293:return es;case 36289:case 36303:case 36311:case 36292:return ts}}(t.type)}function _s(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ns;case 35664:return rs;case 35665:return as;case 35666:return is;case 35674:return os;case 35675:return ss;case 35676:return us;case 5124:case 35670:return cs;case 35667:case 35671:return ls;case 35668:case 35672:return fs;case 35669:case 35673:return ds;case 5125:return hs;case 36294:return ps;case 36295:return ms;case 36296:return vs;case 35678:case 36198:case 36298:case 36306:case 35682:return gs;case 35680:case 36300:case 36308:case 36293:return ys}}(t.type)}function ws(e){this.id=e,this.seq=[],this.map={}}_s.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),jo(t,e)},ws.prototype.setValue=function(e,t,n){for(var r=this.seq,a=0,i=r.length;a!==i;++a){var o=r[a];o.setValue(e,t[o.id],n)}};var xs=/(\w+)(\])?(\[|\.)?/g;function As(e,t){e.seq.push(t),e.map[t.id]=t}function Ms(e,t,n){var r=e.name,a=r.length;for(xs.lastIndex=0;;){var i=xs.exec(r),o=xs.lastIndex,s=i[1],u="]"===i[2],c=i[3];if(u&&(s|=0),void 0===c||"["===c&&o+2===a){As(n,void 0===c?new bs(s,e,t):new _s(s,e,t));break}var l=n.map[s];void 0===l&&As(n,l=new ws(s)),n=l}}function Es(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var a=e.getActiveUniform(t,r);Ms(a,e.getUniformLocation(t,a.name),this)}}function Cs(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Es.prototype.setValue=function(e,t,n,r){var a=this.map[t];void 0!==a&&a.setValue(e,n,r)},Es.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Es.upload=function(e,t,n,r){for(var a=0,i=t.length;a!==i;++a){var o=t[a],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Es.seqWithValue=function(e,t){for(var n=[],r=0,a=e.length;r!==a;++r){var i=e[r];i.id in t&&n.push(i)}return n};var Ss=0;function Os(e){switch(e){case hn:return["Linear","( value )"];case pn:return["sRGB","( value )"];case vn:return["RGBE","( value )"];case yn:return["RGBM","( value, 7.0 )"];case bn:return["RGBM","( value, 16.0 )"];case _n:return["RGBD","( value, 256.0 )"];case mn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case gn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Ts(e,t,n){var r=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();return r&&""===a?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+a+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function ks(e,t){var n=Os(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Bs(e,t){var n=Os(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ps(e,t){var n;switch(t){case me:n="Linear";break;case ve:n="Reinhard";break;case ge:n="OptimizedCineon";break;case ye:n="ACESFilmic";break;case be:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ls(e){return""!==e}function Ds(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function js(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Fs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Rs(e){return e.replace(Fs,Is)}function Is(e,t){var n=ao[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Rs(n)}var zs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Us=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ns(e){return e.replace(Us,Hs).replace(zs,Gs)}function Gs(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Hs(e,t,n,r)}function Hs(e,t,n,r){for(var a="",i=parseInt(t);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function Vs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ws(e,t,n,r){var a,i,o=e.getContext(),s=n.defines,u=n.vertexShader,c=n.fragmentShader,l=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===S?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===O?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===T&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case we:case xe:t="ENVMAP_TYPE_CUBE";break;case Ee:case Ce:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case xe:case Ce:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case fe:t="ENVMAP_BLENDING_MULTIPLY";break;case de:t="ENVMAP_BLENDING_MIX";break;case he:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission>0)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ls).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((a=[v].filter(Ls).join("\n")).length>0&&(a+="\n"),(i=[m,v].filter(Ls).join("\n")).length>0&&(i+="\n")):(a=[Vs(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ls).join("\n"),i=[m,Vs(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==pe?"#define TONE_MAPPING":"",n.toneMapping!==pe?ao.tonemapping_pars_fragment:"",n.toneMapping!==pe?Ps("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ao.encodings_pars_fragment,n.map?ks("mapTexelToLinear",n.mapEncoding):"",n.matcap?ks("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ks("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ks("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ks("lightMapTexelToLinear",n.lightMapEncoding):"",Bs("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ls).join("\n")),u=js(u=Ds(u=Rs(u),n),n),c=js(c=Ds(c=Rs(c),n),n),u=Ns(u),c=Ns(c),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",a=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,i=["#define varying in",n.glslVersion===Kn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Kn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i);var b,_,w=y+i+c,x=Cs(o,35633,y+a+u),A=Cs(o,35632,w);if(o.attachShader(g,x),o.attachShader(g,A),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(g).trim(),E=o.getShaderInfoLog(x).trim(),C=o.getShaderInfoLog(A).trim(),k=!0,B=!0;if(!1===o.getProgramParameter(g,35714)){k=!1;var P=Ts(o,x,"vertex"),L=Ts(o,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",M,P,L)}else""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==C||(B=!1);B&&(this.diagnostics={runnable:k,programLog:M,vertexShader:{log:E,prefix:a},fragmentShader:{log:C,prefix:i}})}return o.deleteShader(x),o.deleteShader(A),this.getUniforms=function(){return void 0===b&&(b=new Es(o,g)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),a=0;a<r;a++){var i=e.getActiveAttrib(t,a).name;n[i]=e.getAttribLocation(t,i)}return n}(o,g)),_},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Ss++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=A,this}function Xs(e,t,n,r,a,i){var o=[],s=r.isWebGL2,u=r.logarithmicDepthBuffer,c=r.floatVertexTextures,l=r.maxVertexUniforms,f=r.vertexTextures,d=r.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function m(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=hn,t}return{getParameters:function(a,o,p,v,g){var y,b,_=v.fog,w=a.isMeshStandardMaterial?v.environment:null,x=t.get(a.envMap||w),A=h[a.type],M=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(c)return 1024;var n=l,r=Math.floor((n-20)/4),a=Math.min(r,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(g):0;if(null!==a.precision&&(d=r.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",d,"instead."),A){var E=oo[A];y=E.vertexShader,b=E.fragmentShader}else y=a.vertexShader,b=a.fragmentShader;var C=e.getRenderTarget();return{isWebGL2:s,shaderID:A,shaderName:a.type,vertexShader:y,fragmentShader:b,defines:a.defines,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:f,outputEncoding:null!==C?m(C.texture):e.outputEncoding,map:!!a.map,mapEncoding:m(a.map),matcap:!!a.matcap,matcapEncoding:m(a.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:m(x),envMapCubeUV:!!x&&(x.mapping===Ee||x.mapping===Ce),lightMap:!!a.lightMap,lightMapEncoding:m(a.lightMap),aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,emissiveMapEncoding:m(a.emissiveMap),bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Mn,tangentSpaceNormalMap:a.normalMapType===An,clearcoatMap:!!a.clearcoatMap,clearcoatRoughnessMap:!!a.clearcoatRoughnessMap,clearcoatNormalMap:!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,alphaMap:!!a.alphaMap,gradientMap:!!a.gradientMap,sheen:!!a.sheen,transmission:!!a.transmission,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:a.normalMap&&a.vertexTangents,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&g.geometry&&g.geometry.attributes.color&&4===g.geometry.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.transmission||a.transmissionMap||a.thicknessMap)&&!!a.displacementMap,fog:!!_,useFog:a.fog,fogExp2:_&&_.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===g.isSkinnedMesh&&M>0,maxBones:M,useVertexTexture:c,morphTargets:a.morphTargets,morphNormals:a.morphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:i.numPlanes,numClipIntersection:i.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:pe,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,alphaTest:a.alphaTest,doubleSided:a.side===P,flipSided:a.side===B,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var a=0;a<p.length;a++)n.push(t[p[a]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=oo[n];t=Ui.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,s=o.length;i<s;i++){var u=o[i];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new Ws(e,n,t,a),o.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function qs(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Qs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ys(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Js(e){var t=[],n=0,r=[],a=[],i=[],o={id:-1};function s(r,a,i,s,u,c){var l=t[n],f=e.get(i);return void 0===l?(l={id:r.id,object:r,geometry:a,material:i,program:f.program||o,groupOrder:s,renderOrder:r.renderOrder,z:u,group:c},t[n]=l):(l.id=r.id,l.object=r,l.geometry=a,l.material=i,l.program=f.program||o,l.groupOrder=s,l.renderOrder=r.renderOrder,l.z=u,l.group=c),n++,l}return{opaque:r,transmissive:a,transparent:i,init:function(){n=0,r.length=0,a.length=0,i.length=0},push:function(e,t,n,o,u,c){var l=s(e,t,n,o,u,c);n.transmission>0?a.push(l):!0===n.transparent?i.push(l):r.push(l)},unshift:function(e,t,n,o,u,c){var l=s(e,t,n,o,u,c);n.transmission>0?a.unshift(l):!0===n.transparent?i.unshift(l):r.unshift(l)},finish:function(){for(var e=n,r=t.length;e<r;e++){var a=t[e];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.program=null,a.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Qs),a.length>1&&a.sort(t||Ys),i.length>1&&i.sort(t||Ys)}}}function Ks(e){var t=new WeakMap;return{get:function(n,r){var a;return!1===t.has(n)?(a=new Js(e),t.set(n,[a])):r>=t.get(n).length?(a=new Js(e),t.get(n).push(a)):a=t.get(n)[r],a},dispose:function(){t=new WeakMap}}}function Zs(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Mr,color:new Xa};break;case"SpotLight":n={position:new Mr,direction:new Mr,color:new Xa,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Mr,color:new Xa,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Mr,skyColor:new Xa,groundColor:new Xa};break;case"RectAreaLight":n={color:new Xa,position:new Mr,halfWidth:new Mr,halfHeight:new Mr}}return e[t.id]=n,n}}}var $s=0;function eu(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function tu(e,t){for(var n=new Zs,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)a.probe.push(new Mr);var o=new Mr,s=new ta,u=new ta;return{setup:function(i){for(var o=0,s=0,u=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var l=0,f=0,d=0,h=0,p=0,m=0,v=0,g=0;i.sort(eu);for(var y=0,b=i.length;y<b;y++){var _=i[y],w=_.color,x=_.intensity,A=_.distance,M=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)o+=w.r*x,s+=w.g*x,u+=w.b*x;else if(_.isLightProbe)for(var E=0;E<9;E++)a.probe[E].addScaledVector(_.sh.coefficients[E],x);else if(_.isDirectionalLight){var C=n.get(_);if(C.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){var S=_.shadow,O=r.get(_);O.shadowBias=S.bias,O.shadowNormalBias=S.normalBias,O.shadowRadius=S.radius,O.shadowMapSize=S.mapSize,a.directionalShadow[l]=O,a.directionalShadowMap[l]=M,a.directionalShadowMatrix[l]=_.shadow.matrix,m++}a.directional[l]=C,l++}else if(_.isSpotLight){var T=n.get(_);if(T.position.setFromMatrixPosition(_.matrixWorld),T.color.copy(w).multiplyScalar(x),T.distance=A,T.coneCos=Math.cos(_.angle),T.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),T.decay=_.decay,_.castShadow){var k=_.shadow,B=r.get(_);B.shadowBias=k.bias,B.shadowNormalBias=k.normalBias,B.shadowRadius=k.radius,B.shadowMapSize=k.mapSize,a.spotShadow[d]=B,a.spotShadowMap[d]=M,a.spotShadowMatrix[d]=_.shadow.matrix,g++}a.spot[d]=T,d++}else if(_.isRectAreaLight){var P=n.get(_);P.color.copy(w).multiplyScalar(x),P.halfWidth.set(.5*_.width,0,0),P.halfHeight.set(0,.5*_.height,0),a.rectArea[h]=P,h++}else if(_.isPointLight){var L=n.get(_);if(L.color.copy(_.color).multiplyScalar(_.intensity),L.distance=_.distance,L.decay=_.decay,_.castShadow){var D=_.shadow,j=r.get(_);j.shadowBias=D.bias,j.shadowNormalBias=D.normalBias,j.shadowRadius=D.radius,j.shadowMapSize=D.mapSize,j.shadowCameraNear=D.camera.near,j.shadowCameraFar=D.camera.far,a.pointShadow[f]=j,a.pointShadowMap[f]=M,a.pointShadowMatrix[f]=_.shadow.matrix,v++}a.point[f]=L,f++}else if(_.isHemisphereLight){var F=n.get(_);F.skyColor.copy(_.color).multiplyScalar(x),F.groundColor.copy(_.groundColor).multiplyScalar(x),a.hemi[p]=F,p++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=io.LTC_FLOAT_1,a.rectAreaLTC2=io.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=io.LTC_HALF_1,a.rectAreaLTC2=io.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=o,a.ambient[1]=s,a.ambient[2]=u;var R=a.hash;R.directionalLength===l&&R.pointLength===f&&R.spotLength===d&&R.rectAreaLength===h&&R.hemiLength===p&&R.numDirectionalShadows===m&&R.numPointShadows===v&&R.numSpotShadows===g||(a.directional.length=l,a.spot.length=d,a.rectArea.length=h,a.point.length=f,a.hemi.length=p,a.directionalShadow.length=m,a.directionalShadowMap.length=m,a.pointShadow.length=v,a.pointShadowMap.length=v,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=m,a.pointShadowMatrix.length=v,a.spotShadowMatrix.length=g,R.directionalLength=l,R.pointLength=f,R.spotLength=d,R.rectAreaLength=h,R.hemiLength=p,R.numDirectionalShadows=m,R.numPointShadows=v,R.numSpotShadows=g,a.version=$s++)},setupView:function(e,t){for(var n=0,r=0,i=0,c=0,l=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var m=a.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),n++}else if(p.isSpotLight){var v=a.spot[i];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(f),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),i++}else if(p.isRectAreaLight){var g=a.rectArea[c];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),u.identity(),s.copy(p.matrixWorld),s.premultiply(f),u.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(u),g.halfHeight.applyMatrix4(u),c++}else if(p.isPointLight){var y=a.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var b=a.hemi[l];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(f),b.direction.normalize(),l++}}},state:a}}function nu(e,t){var n=new tu(e,t),r=[],a=[];return{init:function(){r.length=0,a.length=0},state:{lightsArray:r,shadowsArray:a,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){a.push(e)}}}function ru(e,t){var n=new WeakMap;return{get:function(r){var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(a=new nu(e,t),n.set(r,[a])):i>=n.get(r).length?(a=new nu(e,t),n.get(r).push(a)):a=n.get(r)[i],a},dispose:function(){n=new WeakMap}}}var au=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=wn,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(za);au.prototype.isMeshDepthMaterial=!0;var iu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new Mr,r.nearDistance=1,r.farDistance=1e3,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(za);iu.prototype.isMeshDistanceMaterial=!0;function ou(e,t,n){var r=new eo,a=new dr,i=new dr,o=new br,s=[],u=[],c={},l=n.maxTextureSize,f={0:B,1:k,2:P},d=new Ni({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new dr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var p=new gi;p.setAttribute("position",new Ja(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new ji(p,d),v=this;function g(n,r){var a=t.update(m);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,m,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,h,m,null)}function y(e){var t=e<<0,n=s[t];return void 0===n&&(n=new au({depthPacking:xn,morphTargets:e}),s[t]=n),n}function b(e){var t=e<<0,n=u[t];return void 0===n&&(n=new iu({morphTargets:e}),u[t]=n),n}function _(t,n,r,a,i,o,s){var u=null,l=y,d=t.customDepthMaterial;if(!0===a.isPointLight&&(l=b,d=t.customDistanceMaterial),void 0===d){var h=!1;!0===r.morphTargets&&(h=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0),u=l(h)}else u=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var p=u.uuid,m=r.uuid,v=c[p];void 0===v&&(v={},c[p]=v);var g=v[m];void 0===g&&(g=u.clone(),v[m]=g),u=g}return u.visible=r.visible,u.wireframe=r.wireframe,u.side=s===T?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:f[r.side],u.clipShadows=r.clipShadows,u.clippingPlanes=r.clippingPlanes,u.clipIntersection=r.clipIntersection,u.wireframeLinewidth=r.wireframeLinewidth,u.linewidth=r.linewidth,!0===a.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(a.matrixWorld),u.nearDistance=i,u.farDistance=o),u}function w(n,a,i,o,s){if(!1!==n.visible){if(n.layers.test(a.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===T)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var u=t.update(n),c=n.material;if(Array.isArray(c))for(var l=u.groups,f=0,d=l.length;f<d;f++){var h=l[f],p=c[h.materialIndex];if(p&&p.visible){var m=_(n,u,p,o,i.near,i.far,s);e.renderBufferDirect(i,null,u,m,n,h)}}else if(c.visible){var v=_(n,u,c,o,i.near,i.far,s);e.renderBufferDirect(i,null,u,v,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)w(g[y],a,i,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=S,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),c=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.state;d.setBlending(j),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=0,p=t.length;h<p;h++){var m=t[h],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){a.copy(y.mapSize);var b=y.getFrameExtents();if(a.multiply(b),i.copy(y.mapSize),(a.x>l||a.y>l)&&(a.x>l&&(i.x=Math.floor(l/b.x),a.x=i.x*b.x,y.mapSize.x=i.x),a.y>l&&(i.y=Math.floor(l/b.y),a.y=i.y*b.y,y.mapSize.y=i.y)),null===y.map&&!y.isPointLightShadow&&this.type===T){var _={minFilter:je,magFilter:je,format:et};y.map=new _r(a.x,a.y,_),y.map.texture.name=m.name+".shadowMap",y.mapPass=new _r(a.x,a.y,_),y.camera.updateProjectionMatrix()}if(null===y.map){var x={minFilter:ke,magFilter:ke,format:et};y.map=new _r(a.x,a.y,x),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var A=y.getViewportCount(),M=0;M<A;M++){var E=y.getViewport(M);o.set(i.x*E.x,i.y*E.y,i.x*E.z,i.y*E.w),d.viewport(o),y.updateMatrices(m,M),r=y.getFrustum(),w(n,s,y.camera,m,this.type)}y.isPointLightShadow||this.type!==T||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(u,c,f)}}}function su(e,t,n){var r,a,i=n.isWebGL2;var o=new function(){var t=!1,n=new br,r=null,a=new br(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,o,s){!0===s&&(t*=o,r*=o,i*=o),n.set(t,r,i,o),!1===a.equals(n)&&(e.clearColor(t,r,i,o),a.copy(n))},reset:function(){t=!1,r=null,a.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,a=null;return{setTest:function(e){e?we(2929):xe(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case re:e.depthFunc(512);break;case ae:e.depthFunc(519);break;case ie:e.depthFunc(513);break;case oe:e.depthFunc(515);break;case se:e.depthFunc(514);break;case ue:e.depthFunc(518);break;case ce:e.depthFunc(516);break;case le:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,n=null,r=null,a=null}}},c=new function(){var t=!1,n=null,r=null,a=null,i=null,o=null,s=null,u=null,c=null;return{setTest:function(e){t||(e?we(2960):xe(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&a===n&&i===o||(e.stencilFunc(t,n,o),r=t,a=n,i=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,a=null,i=null,o=null,s=null,u=null,c=null}}},l={},f=null,d={},h=null,p=!1,m=null,v=null,g=null,y=null,b=null,_=null,w=null,E=!1,C=null,S=null,O=null,T=null,k=null,L=e.getParameter(35661),D=!1,fe=0,de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(fe=parseFloat(/^WebGL (\d)/.exec(de)[1]),D=fe>=1):-1!==de.indexOf("OpenGL ES")&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),D=fe>=2);var he=null,pe={},me=e.getParameter(3088),ve=e.getParameter(2978),ge=(new br).fromArray(me),ye=(new br).fromArray(ve);function be(t,n,r){var a=new Uint8Array(4),i=e.createTexture();e.bindTexture(t,i),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,a);return i}var _e={};function we(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function xe(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}_e[3553]=be(3553,3553,1),_e[34067]=be(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),c.setClear(0),we(2929),s.setFunc(oe),Se(!1),Oe(A),we(2884),Ce(j);var Ae=(r={},Object(u.a)(r,N,32774),Object(u.a)(r,G,32778),Object(u.a)(r,H,32779),r);if(i)Ae[V]=32775,Ae[W]=32776;else{var Me=t.get("EXT_blend_minmax");null!==Me&&(Ae[V]=Me.MIN_EXT,Ae[W]=Me.MAX_EXT)}var Ee=(a={},Object(u.a)(a,X,0),Object(u.a)(a,q,1),Object(u.a)(a,Q,768),Object(u.a)(a,J,770),Object(u.a)(a,ne,776),Object(u.a)(a,ee,774),Object(u.a)(a,Z,772),Object(u.a)(a,Y,769),Object(u.a)(a,K,771),Object(u.a)(a,te,775),Object(u.a)(a,$,773),a);function Ce(t,n,r,a,i,o,s,u){if(t!==j){if(!1===p&&(we(3042),p=!0),t===U)i=i||n,o=o||r,s=s||a,n===v&&i===b||(e.blendEquationSeparate(Ae[n],Ae[i]),v=n,b=i),r===g&&a===y&&o===_&&s===w||(e.blendFuncSeparate(Ee[r],Ee[a],Ee[o],Ee[s]),g=r,y=a,_=o,w=s),m=t,E=null;else if(t!==m||u!==E){if(v===N&&b===N||(e.blendEquation(32774),v=N,b=N),u)switch(t){case F:e.blendFuncSeparate(1,771,1,771);break;case R:e.blendFunc(1,1);break;case I:e.blendFuncSeparate(0,0,769,771);break;case z:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case F:e.blendFuncSeparate(770,771,1,771);break;case R:e.blendFunc(770,1);break;case I:e.blendFunc(0,769);break;case z:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,_=null,w=null,m=t,E=u}}else!0===p&&(xe(3042),p=!1)}function Se(t){C!==t&&(t?e.frontFace(2304):e.frontFace(2305),C=t)}function Oe(t){t!==x?(we(2884),t!==S&&(t===A?e.cullFace(1029):t===M?e.cullFace(1028):e.cullFace(1032))):xe(2884),S=t}function Te(t,n,r){t?(we(32823),T===n&&k===r||(e.polygonOffset(n,r),T=n,k=r)):xe(32823)}function ke(t){void 0===t&&(t=33984+L-1),he!==t&&(e.activeTexture(t),he=t)}return{buffers:{color:o,depth:s,stencil:c},enable:we,disable:xe,bindFramebuffer:function(t,n){return null===n&&null!==f&&(n=f),d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,i&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},bindXRFramebuffer:function(t){t!==f&&(e.bindFramebuffer(36160,t),f=t)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:Ce,setMaterial:function(e,t){e.side===P?xe(2884):we(2884);var n=e.side===B;t&&(n=!n),Se(n),e.blending===F&&!1===e.transparent?Ce(j):Ce(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;c.setTest(r),r&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Te(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?we(32926):xe(32926)},setFlipSided:Se,setCullFace:Oe,setLineWidth:function(t){t!==O&&(D&&e.lineWidth(t),O=t)},setPolygonOffset:Te,setScissorTest:function(e){e?we(3089):xe(3089)},activeTexture:ke,bindTexture:function(t,n){null===he&&ke();var r=pe[he];void 0===r&&(r={type:void 0,texture:void 0},pe[he]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||_e[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=pe[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ge.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ge.copy(t))},viewport:function(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},he=null,pe={},f=null,d={},h=null,p=!1,m=null,v=null,g=null,y=null,b=null,_=null,w=null,E=!1,C=null,S=null,O=null,T=null,k=null,ge.set(0,0,e.canvas.width,e.canvas.height),ye.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),c.reset()}}}function uu(e,t,n,r,a,i,o){var s,c,l,f=a.isWebGL2,d=a.maxTextures,h=a.maxCubemapSize,p=a.maxTextureSize,m=a.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(N){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(e,t,n,r){var a=1;if((e.width>r||e.height>r)&&(a=r/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var i=t?lr:Math.floor,o=i(a*e.width),s=i(a*e.height);void 0===l&&(l=y(o,s));var u=n?y(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return ur(e.width)&&ur(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==ke&&e.minFilter!==je}function x(t,n,a,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.generateMipmap(t);var s=r.get(n);s.__maxMipLevel=Math.log2(Math.max(a,i,o))}function A(n,r,a){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var i=r;return 6403===r&&(5126===a&&(i=33326),5131===a&&(i=33325),5121===a&&(i=33321)),6407===r&&(5126===a&&(i=34837),5131===a&&(i=34843),5121===a&&(i=32849)),6408===r&&(5126===a&&(i=34836),5131===a&&(i=34842),5121===a&&(i=32856)),33325!==i&&33326!==i&&34842!==i&&34836!==i||t.get("EXT_color_buffer_float"),i}function M(e){return e===ke||e===Be||e===Le?9728:9729}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),o.memory.textures--}function C(t){var n=t.target;n.removeEventListener("dispose",C),function(t){var n=t.texture,a=r.get(t),i=r.get(n);if(!t)return;void 0!==i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(a.__webglFramebuffer[s]),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer[s]);else e.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&e.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&e.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer&&e.deleteRenderbuffer(a.__webglColorRenderbuffer),a.__webglDepthRenderbuffer&&e.deleteRenderbuffer(a.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var l=r.get(n[u]);l.__webglTexture&&(e.deleteTexture(l.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}var S=0;function O(e,t){var a=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&a.__version!==e.version){var i=e.image;if(void 0===i)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==i.complete)return void D(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,a.__webglTexture)}function T(t,a){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,a){if(6!==r.image.length)return;L(t,r),n.activeTexture(33984+a),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,u=[],c=0;c<6;c++)u[c]=o||s?s?r.image[c].image:r.image[c]:b(r.image[c],!1,!0,h);var l,d=u[0],p=_(d)||f,m=i.convert(r.format),v=i.convert(r.type),g=A(r.internalFormat,m,v);if(P(34067,r,p),o){for(var y=0;y<6;y++){l=u[y].mipmaps;for(var M=0;M<l.length;M++){var E=l[M];r.format!==et&&r.format!==$e?null!==m?n.compressedTexImage2D(34069+y,M,g,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,M,g,E.width,E.height,0,m,v,E.data)}}t.__maxMipLevel=l.length-1}else{l=r.mipmaps;for(var C=0;C<6;C++)if(s){n.texImage2D(34069+C,0,g,u[C].width,u[C].height,0,m,v,u[C].data);for(var S=0;S<l.length;S++){var O=l[S].image[C].image;n.texImage2D(34069+C,S+1,g,O.width,O.height,0,m,v,O.data)}}else{n.texImage2D(34069+C,0,g,m,v,u[C]);for(var T=0;T<l.length;T++){var k=l[T];n.texImage2D(34069+C,T+1,g,m,v,k.image[C])}}t.__maxMipLevel=l.length}w(r,p)&&x(34067,r,d.width,d.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,t,a):(n.activeTexture(33984+a),n.bindTexture(34067,o.__webglTexture))}var k=(s={},Object(u.a)(s,Se,10497),Object(u.a)(s,Oe,33071),Object(u.a)(s,Te,33648),s),B=(c={},Object(u.a)(c,ke,9728),Object(u.a)(c,Be,9984),Object(u.a)(c,Le,9986),Object(u.a)(c,je,9729),Object(u.a)(c,Fe,9985),Object(u.a)(c,Ie,9987),c);function P(n,i,o){if(o?(e.texParameteri(n,10242,k[i.wrapS]),e.texParameteri(n,10243,k[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,k[i.wrapR]),e.texParameteri(n,10240,B[i.magFilter]),e.texParameteri(n,10241,B[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),i.wrapS===Oe&&i.wrapT===Oe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,M(i.magFilter)),e.texParameteri(n,10241,M(i.minFilter)),i.minFilter!==ke&&i.minFilter!==je&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(i.type===Xe&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&i.type===qe&&!1===t.has("OES_texture_half_float_linear"))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,a.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function L(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),o.memory.textures++)}function D(t,r,a){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),L(t,r),n.activeTexture(33984+a),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,u=function(e){return!f&&(e.wrapS!==Oe||e.wrapT!==Oe||e.minFilter!==ke&&e.minFilter!==je)}(r)&&!1===_(r.image),c=b(r.image,u,!1,p),l=_(c)||f,d=i.convert(r.format),h=i.convert(r.type),m=A(r.internalFormat,d,h);P(o,r,l);var v=r.mipmaps;if(r.isDepthTexture)m=6402,f?m=r.type===Xe?36012:r.type===We?33190:r.type===Ke?35056:33189:r.type===Xe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===at&&6402===m&&r.type!==He&&r.type!==We&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=He,h=i.convert(r.type)),r.format===it&&6402===m&&(m=34041,r.type!==Ke&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ke,h=i.convert(r.type))),n.texImage2D(3553,0,m,c.width,c.height,0,d,h,null);else if(r.isDataTexture)if(v.length>0&&l){for(var g=0,y=v.length;g<y;g++)s=v[g],n.texImage2D(3553,g,m,s.width,s.height,0,d,h,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,d,h,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var M=0,E=v.length;M<E;M++)s=v[M],r.format!==et&&r.format!==$e?null!==d?n.compressedTexImage2D(3553,M,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,m,s.width,s.height,0,d,h,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,h,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,h,c.data),t.__maxMipLevel=0;else if(v.length>0&&l){for(var C=0,S=v.length;C<S;C++)s=v[C],n.texImage2D(3553,C,m,d,h,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,d,h,c),t.__maxMipLevel=0;w(r,l)&&x(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function j(t,a,o,s,u){var c=i.convert(o.format),l=i.convert(o.type),f=A(o.internalFormat,c,l);32879===u||35866===u?n.texImage3D(u,0,f,a.width,a.height,a.depth,0,c,l,null):n.texImage2D(u,0,f,a.width,a.height,0,c,l,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,u,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function F(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var a=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Xe?a=36012:o.type===We&&(a=33190));var s=I(n);e.renderbufferStorageMultisample(36161,s,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var u=I(n);e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,l=i.convert(c.format),f=i.convert(c.type),d=A(c.internalFormat,l,f);if(r){var h=I(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function R(t){var a=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,a){if(a&&a.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!a.depthTexture||!a.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),O(a.depthTexture,0);var i=r.get(a.depthTexture).__webglTexture;if(a.depthTexture.format===at)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(a.depthTexture.format!==it)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(a.__webglFramebuffer,t)}else if(i){a.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,a.__webglFramebuffer[o]),a.__webglDepthbuffer[o]=e.createRenderbuffer(),F(a.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=e.createRenderbuffer(),F(a.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function I(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var z=!1,U=!1;this.allocateTextureUnit=function(){var e=S;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?D(a,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,a.__webglTexture))},this.setTexture3D=function(e,t){var a=r.get(e);e.version>0&&a.__version!==e.version?D(a,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,a.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),c=r.get(s);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(c.__webglTexture=e.createTexture(),c.__version=s.version,o.memory.textures++);var l=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,h=!0===t.isWebGLMultisampleRenderTarget,p=s.isDataTexture3D||s.isDataTexture2DArray,m=_(t)||f;if(!f||s.format!==$e||s.type!==Xe&&s.type!==qe||(s.format=et,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){u.__webglFramebuffer=[];for(var v=0;v<6;v++)u.__webglFramebuffer[v]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),d)if(a.drawBuffers)for(var g=t.texture,y=0,b=g.length;y<b;y++){var M=r.get(g[y]);void 0===M.__webglTexture&&(M.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h)if(f){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var E=i.convert(s.format),S=i.convert(s.type),O=A(s.internalFormat,E,S),T=I(t);e.renderbufferStorageMultisample(36161,T,O,t.width,t.height),n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),F(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,c.__webglTexture),P(34067,s,m);for(var k=0;k<6;k++)j(u.__webglFramebuffer[k],t,s,36064,34069+k);w(s,m)&&x(34067,s,t.width,t.height),n.bindTexture(34067,null)}else if(d){for(var B=t.texture,L=0,D=B.length;L<D;L++){var z=B[L],U=r.get(z);n.bindTexture(3553,U.__webglTexture),P(3553,z,m),j(u.__webglFramebuffer,t,z,36064+L,3553),w(z,m)&&x(3553,z,t.width,t.height)}n.bindTexture(3553,null)}else{var N=3553;if(p)if(f)N=s.isDataTexture3D?32879:35866;else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");n.bindTexture(N,c.__webglTexture),P(N,s,m),j(u.__webglFramebuffer,t,s,36064,N),w(s,m)&&x(N,s,t.width,t.height,t.depth),n.bindTexture(N,null)}t.depthBuffer&&R(t)},this.updateRenderTargetMipmap=function(e){for(var t=_(e)||f,a=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],i=0,o=a.length;i<o;i++){var s=a[i];if(w(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,c=r.get(s).__webglTexture;n.bindTexture(u,c),x(u,s,e.width,e.height),n.bindTexture(u,null)}}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var a=t.width,i=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024);var s=r.get(t);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),e.blitFramebuffer(0,0,a,i,0,0,a,i,o,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),O(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),T(e,t)}}function cu(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===Ue)return 5121;if(e===Qe)return 32819;if(e===Ye)return 32820;if(e===Je)return 33635;if(e===Ne)return 5120;if(e===Ge)return 5122;if(e===He)return 5123;if(e===Ve)return 5124;if(e===We)return 5125;if(e===Xe)return 5126;if(e===qe)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Ze)return 6406;if(e===$e)return 6407;if(e===et)return 6408;if(e===tt)return 6409;if(e===nt)return 6410;if(e===at)return 6402;if(e===it)return 34041;if(e===ot)return 6403;if(e===st)return 36244;if(e===ut)return 33319;if(e===ct)return 33320;if(e===lt)return 36248;if(e===ft)return 36249;if(e===dt||e===ht||e===pt||e===mt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===dt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ht)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===pt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===mt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===vt||e===gt||e===yt||e===bt){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===vt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===gt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===yt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===bt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===_t)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===wt||e===xt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===wt)return n.COMPRESSED_RGB8_ETC2;if(e===xt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===At||e===Mt||e===Et||e===Ct||e===St||e===Ot||e===Tt||e===kt||e===Bt||e===Pt||e===Lt||e===Dt||e===jt||e===Ft||e===It||e===zt||e===Ut||e===Nt||e===Gt||e===Ht||e===Vt||e===Wt||e===Xt||e===qt||e===Qt||e===Yt||e===Jt||e===Kt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Rt?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Ke?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var lu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(g.a)(this,n),(e=t.call(this)).cameras=r,e}return Object(y.a)(n)}(Hi);lu.prototype.isArrayCamera=!0;var fu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="Group",e}return Object(y.a)(n)}(Ca);fu.prototype.isGroup=!0;var du={type:"move"},hu=function(){function e(){Object(g.a)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return Object(y.a)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new fu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new fu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Mr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Mr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new fu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Mr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Mr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,a=null,i=null,o=this._targetRay,u=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(du)),c&&e.hand){i=!0;var l,f=Object(s.a)(e.hand.values());try{for(f.s();!(l=f.n()).done;){var d=l.value,h=t.getJointPose(d,n);if(void 0===c.joints[d.jointName]){var p=new fu;p.matrixAutoUpdate=!1,p.visible=!1,c.joints[d.jointName]=p,c.add(p)}var m=c.joints[d.jointName];null!==h&&(m.matrix.fromArray(h.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=h.radius),m.visible=null!==h}}catch(b){f.e(b)}finally{f.f()}var v=c.joints["index-finger-tip"],g=c.joints["thumb-tip"],y=v.position.distanceTo(g.position);c.inputState.pinching&&y>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&y<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&null!==(a=t.getPose(e.gripSpace,n))&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==u&&(u.visible=null!==a),null!==c&&(c.visible=null!==i),this}}]),e}(),pu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;Object(g.a)(this,n),a=t.call(this);var s=Object(p.a)(a),u=e.state,c=null,l=1,f=null,d="local-floor",h=null,m=null,v=null,y=null,b=[],_=new Map,w=new Hi;w.layers.enable(1),w.viewport=new br;var x=new Hi;x.layers.enable(2),x.viewport=new br;var A=[w,x],M=new lu;M.layers.enable(1),M.layers.enable(2);var E=null,C=null;function S(e){var t=_.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function O(){_.forEach((function(e,t){e.disconnect(t)})),_.clear(),E=null,C=null,u.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),D.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function T(e){for(var t=c.inputSources,n=0;n<b.length;n++)_.set(t[n],b[n]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],i=_.get(a);i&&(i.dispatchEvent({type:"disconnected",data:a}),_.delete(a))}for(var o=0;o<e.added.length;o++){var s=e.added[o],u=_.get(s);u&&u.dispatchEvent({type:"connected",data:s})}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=b[e];return void 0===t&&(t=new hu,b[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=b[e];return void 0===t&&(t=new hu,b[e]=t),t.getGripSpace()},a.getHand=function(e){var t=b[e];return void 0===t&&(t=new hu,b[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){l=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){d=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return f},a.getSession=function(){return c},a.setSession=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,o,u,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(c=t)){e.next=22;break}if(c.addEventListener("select",S),c.addEventListener("selectstart",S),c.addEventListener("selectend",S),c.addEventListener("squeeze",S),c.addEventListener("squeezestart",S),c.addEventListener("squeezeend",S),c.addEventListener("end",O),c.addEventListener("inputsourceschange",T),!0===(n=r.getContextAttributes()).xrCompatible){e.next=14;break}return e.next=14,r.makeXRCompatible();case 14:return void 0===c.renderState.layers?(a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:l},o=new XRWebGLLayer(c,r,a),c.updateRenderState({baseLayer:o})):(u=0,n.depth&&(u=n.stencil?34041:6402),h={colorFormat:n.alpha?6408:6407,depthFormat:u,scaleFactor:l},m=new XRWebGLBinding(c,r),y=m.createProjectionLayer(h),v=r.createFramebuffer(),c.updateRenderState({layers:[y]})),e.next=17,c.requestReferenceSpace(d);case 17:f=e.sent,D.setContext(c),D.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var k=new Mr,B=new Mr;function P(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==c){M.near=x.near=w.near=e.near,M.far=x.far=w.far=e.far,E===M.near&&C===M.far||(c.updateRenderState({depthNear:M.near,depthFar:M.far}),E=M.near,C=M.far);var t=e.parent,n=M.cameras;P(M,t);for(var r=0;r<n.length;r++)P(n[r],t);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),e.position.copy(M.position),e.quaternion.copy(M.quaternion),e.scale.copy(M.scale),e.matrix.copy(M.matrix),e.matrixWorld.copy(M.matrixWorld);for(var a=e.children,i=0,o=a.length;i<o;i++)a[i].updateMatrixWorld(!0);2===n.length?function(e,t,n){k.setFromMatrixPosition(t.matrixWorld),B.setFromMatrixPosition(n.matrixWorld);var r=k.distanceTo(B),a=t.projectionMatrix.elements,i=n.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),u=(a[9]+1)/a[5],c=(a[9]-1)/a[5],l=(a[8]-1)/a[0],f=(i[8]+1)/i[0],d=o*l,h=o*f,p=r/(-l+f),m=p*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=d-m,b=h+(r-m),_=u*s/g*v,w=c*s/g*v;e.projectionMatrix.makePerspective(y,b,_,w,v,g)}(M,w,x):M.projectionMatrix.copy(w.projectionMatrix)}},a.getCamera=function(){return M};var L=null;var D=new to;return D.setAnimationLoop((function(e,t){if(null!==(h=t.getViewerPose(f))){var n=h.views,a=c.renderState.baseLayer;void 0===c.renderState.layers&&u.bindXRFramebuffer(a.framebuffer);var i=!1;n.length!==M.cameras.length&&(M.cameras.length=0,i=!0);for(var o=0;o<n.length;o++){var s=n[o],l=null;if(void 0===c.renderState.layers)l=a.getViewport(s);else{var d=m.getViewSubImage(y,s);u.bindXRFramebuffer(v),r.framebufferTexture2D(36160,36064,3553,d.colorTexture,0),void 0!==d.depthStencilTexture&&r.framebufferTexture2D(36160,36096,3553,d.depthStencilTexture,0),l=d.viewport}var p=A[o];p.matrix.fromArray(s.transform.matrix),p.projectionMatrix.fromArray(s.projectionMatrix),p.viewport.set(l.x,l.y,l.width,l.height),0===o&&M.matrix.copy(p.matrix),!0===i&&M.cameras.push(p)}}for(var g=c.inputSources,_=0;_<b.length;_++){var w=b[_],x=g[_];w.update(x,t,f)}L&&L(e,t)})),a.setAnimationLoop=function(e){L=e},a.dispose=function(){},a}return Object(y.a)(n)}(Zn);function mu(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,a,i=e.get(n).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(i).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===B&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===B&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,a,i,o){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===B&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap);t.transmission>0&&(e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height));e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap);e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)}(e,r,o):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===B&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===B&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var a;t.map?a=t.map:t.alphaMap&&(a=t.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,r,a,i):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function vu(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0!==e.canvas?e.canvas:vu(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",l=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,d=null,h=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=hn,this.physicallyCorrectLights=!1,this.toneMapping=pe,this.toneMappingExposure=1;var m=this,v=!1,g=0,y=0,b=null,_=-1,w=null,x=new br,A=new br,M=null,E=t.width,C=t.height,S=1,O=null,T=null,L=new br(0,0,E,C),D=new br(0,0,E,C),j=!1,F=[],R=new eo,I=!1,z=!1,U=null,N=new ta,G=new Mr,H={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===b?S:1}var W,X,q,Q,Y,J,K,Z,$,ee,te,ne,re,ae,ie,oe,se,ue,ce,le,fe,de,he=n;function me(e,n){for(var r=0;r<e.length;r++){var a=e[r],i=t.getContext(a,n);if(null!==i)return i}return null}try{var ve={alpha:r,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:l};if(t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",we,!1),null===he){var ge=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&ge.shift(),null===(he=me(ge,ve)))throw me(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===he.getShaderPrecisionFormat&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ve){throw console.error("THREE.WebGLRenderer: "+Ve.message),Ve}function ye(){W=new po(he),X=new lo(he,W,e),W.init(X),fe=new cu(he,W,X),q=new su(he,W,X),F[0]=1029,Q=new go(he),Y=new qs,J=new uu(he,W,q,Y,X,fe,Q),K=new ho(m),Z=new no(he,X),de=new uo(he,W,Z,X),$=new mo(he,Z,Q,de),ee=new wo(he,$,Z,Q),ue=new _o(he),ie=new fo(Y),te=new Xs(m,K,W,X,de,ie),ne=new mu(Y),re=new Ks(Y),ae=new ru(W,X),se=new so(m,K,q,ee,s),oe=new ou(m,ee,X),ce=new co(he,W,Q,X),le=new vo(he,W,Q,X),Q.programs=te.programs,m.capabilities=X,m.extensions=W,m.properties=Y,m.renderLists=re,m.shadowMap=oe,m.state=q,m.info=Q}ye();var be=new pu(m,he);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=Q.autoReset,t=oe.enabled,n=oe.autoUpdate,r=oe.needsUpdate,a=oe.type;ye(),Q.autoReset=e,oe.enabled=t,oe.autoUpdate=n,oe.needsUpdate=r,oe.type=a}function xe(e){var t=e.target;t.removeEventListener("dispose",xe),Ae(t)}function Ae(e){Me(e),Y.remove(e)}function Me(e){var t=Y.get(e).programs;void 0!==t&&t.forEach((function(e){te.releaseProgram(e)}))}function Ee(e,t){e.render((function(e){m.renderBufferImmediate(e,t)}))}this.xr=be,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){var e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return S},this.setPixelRatio=function(e){void 0!==e&&(S=e,this.setSize(E,C,!1))},this.getSize=function(e){return e.set(E,C)},this.setSize=function(e,n,r){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,C=n,t.width=Math.floor(e*S),t.height=Math.floor(n*S),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(E*S,C*S).floor()},this.setDrawingBufferSize=function(e,n,r){E=e,C=n,S=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(x)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),q.viewport(x.copy(L).multiplyScalar(S).floor())},this.getScissor=function(e){return e.copy(D)},this.setScissor=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),q.scissor(A.copy(D).multiplyScalar(S).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(e){q.setScissorTest(j=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){T=e},this.getClearColor=function(e){return e.copy(se.getClearColor())},this.setClearColor=function(){se.setClearColor.apply(se,arguments)},this.getClearAlpha=function(){return se.getClearAlpha()},this.setClearAlpha=function(){se.setClearAlpha.apply(se,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),he.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",we,!1),re.dispose(),ae.dispose(),Y.dispose(),K.dispose(),ee.dispose(),de.dispose(),be.dispose(),be.removeEventListener("sessionstart",Te),be.removeEventListener("sessionend",Be),U&&(U.dispose(),U=null),Pe.stop()},this.renderBufferImmediate=function(e,t){de.initAttributes();var n=Y.get(e);e.hasPositions&&!n.position&&(n.position=he.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=he.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=he.createBuffer()),e.hasColors&&!n.color&&(n.color=he.createBuffer());var r=t.getAttributes();e.hasPositions&&(he.bindBuffer(34962,n.position),he.bufferData(34962,e.positionArray,35048),de.enableAttribute(r.position),he.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(he.bindBuffer(34962,n.normal),he.bufferData(34962,e.normalArray,35048),de.enableAttribute(r.normal),he.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(he.bindBuffer(34962,n.uv),he.bufferData(34962,e.uvArray,35048),de.enableAttribute(r.uv),he.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(he.bindBuffer(34962,n.color),he.bufferData(34962,e.colorArray,35048),de.enableAttribute(r.color),he.vertexAttribPointer(r.color,3,5126,!1,0,0)),de.disableUnusedAttributes(),he.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,a,i){null===t&&(t=H);var o=a.isMesh&&a.matrixWorld.determinant()<0,s=Ne(e,t,r,a);q.setMaterial(r,o);var u=n.index,c=n.attributes.position;if(null===u){if(void 0===c||0===c.count)return}else if(0===u.count)return;var l,f=1;!0===r.wireframe&&(u=$.getWireframeAttribute(n),f=2),(r.morphTargets||r.morphNormals)&&ue.update(a,n,r,s),de.setup(a,r,s,n,u);var d=ce;null!==u&&(l=Z.get(u),(d=le).setIndex(l));var h=null!==u?u.count:c.count,p=n.drawRange.start*f,m=n.drawRange.count*f,v=null!==i?i.start*f:0,g=null!==i?i.count*f:1/0,y=Math.max(p,v),b=Math.min(h,p+m,v+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(a.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*V()),d.setMode(1)):d.setMode(4);else if(a.isLine){var w=r.linewidth;void 0===w&&(w=1),q.setLineWidth(w*V()),a.isLineSegments?d.setMode(1):a.isLineLoop?d.setMode(2):d.setMode(3)}else a.isPoints?d.setMode(0):a.isSprite&&d.setMode(4);if(a.isInstancedMesh)d.renderInstances(y,_,a.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,_,x)}else d.render(y,_)}},this.compile=function(e,t){(d=ae.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){Re(n[r],e,t)}else Re(n,e,t)}))};var Ce=null;function Se(e){Ce&&Ce(e)}function Te(){Pe.stop()}function Be(){Pe.start()}var Pe=new to;function Le(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||R.intersectsSprite(e)){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N);var a=ee.update(e),i=e.material;i.visible&&f.push(e,a,i,n,G.z,null)}}else if(e.isImmediateRenderObject)r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N),f.push(e,null,e.material,n,G.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==Q.render.frame&&(e.skeleton.update(),e.skeleton.frame=Q.render.frame),!e.frustumCulled||R.intersectsObject(e))){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(N);var o=ee.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,c=0,l=u.length;c<l;c++){var h=u[c],p=s[h.materialIndex];p&&p.visible&&f.push(e,o,p,n,G.z,h)}else s.visible&&f.push(e,o,s,n,G.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Le(m[v],t,n,r)}}function De(e,t,n,r){if(null===U){var a=!0===o&&!0===X.isWebGL2;U=new(a?xr:_r)(1024,1024,{generateMipmaps:!0,type:null!==fe.convert(qe)?qe:Ue,minFilter:Ie,magFilter:ke,wrapS:Oe,wrapT:Oe})}var i=m.getRenderTarget();m.setRenderTarget(U),m.clear();var s=m.toneMapping;m.toneMapping=pe,je(e,n,r),m.toneMapping=s,J.updateMultisampleRenderTarget(U),J.updateRenderTargetMipmap(U),m.setRenderTarget(i),je(t,n,r)}function je(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,a=0,i=e.length;a<i;a++){var o=e[a],s=o.object,u=o.geometry,c=null===r?o.material:r,l=o.group;if(n.isArrayCamera)for(var f=n.cameras,h=0,p=f.length;h<p;h++){var m=f[h];s.layers.test(m.layers)&&(q.viewport(x.copy(m.viewport)),d.setupLightsView(m),Fe(s,t,m,u,c,l))}else Fe(s,t,n,u,c,l)}}function Fe(e,t,n,r,a,i){if(e.onBeforeRender(m,t,n,r,a,i),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Ne(n,t,a,e);q.setMaterial(a),de.reset(),Ee(e,o)}else!0===a.transparent&&a.side===P?(a.side=B,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=k,a.needsUpdate=!0,m.renderBufferDirect(n,t,r,a,e,i),a.side=P):m.renderBufferDirect(n,t,r,a,e,i);e.onAfterRender(m,t,n,r,a,i)}function Re(e,t,n){!0!==t.isScene&&(t=H);var r=Y.get(e),a=d.state.lights,i=d.state.shadowsArray,o=a.state.version,s=te.getParameters(e,a.state,i,t,n),u=te.getProgramCacheKey(s),c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=K.get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",xe),c=new Map,r.programs=c);var l=c.get(u);if(void 0!==l){if(r.currentProgram===l&&r.lightsStateVersion===o)return ze(e,s),l}else s.uniforms=te.getUniforms(e),e.onBuild(s,m),e.onBeforeCompile(s,m),l=te.acquireProgram(s,u),c.set(u,l),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ie.uniform),ze(e,s),r.needsLights=He(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=a.state.ambient,f.lightProbe.value=a.state.probe,f.directionalLights.value=a.state.directional,f.directionalLightShadows.value=a.state.directionalShadow,f.spotLights.value=a.state.spot,f.spotLightShadows.value=a.state.spotShadow,f.rectAreaLights.value=a.state.rectArea,f.ltc_1.value=a.state.rectAreaLTC1,f.ltc_2.value=a.state.rectAreaLTC2,f.pointLights.value=a.state.point,f.pointLightShadows.value=a.state.pointShadow,f.hemisphereLights.value=a.state.hemi,f.directionalShadowMap.value=a.state.directionalShadowMap,f.directionalShadowMatrix.value=a.state.directionalShadowMatrix,f.spotShadowMap.value=a.state.spotShadowMap,f.spotShadowMatrix.value=a.state.spotShadowMatrix,f.pointShadowMap.value=a.state.pointShadowMap,f.pointShadowMatrix.value=a.state.pointShadowMatrix);var h=l.getUniforms(),p=Es.seqWithValue(h.seq,f);return r.currentProgram=l,r.uniformsList=p,l}function ze(e,t){var n=Y.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas}function Ne(e,t,n,r){!0!==t.isScene&&(t=H),J.resetTextureUnits();var a=t.fog,i=n.isMeshStandardMaterial?t.environment:null,o=null===b?m.outputEncoding:b.texture.encoding,s=K.get(n.envMap||i),u=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,c=Y.get(n),l=d.state.lights;if(!0===I&&(!0===z||e!==w)){var f=e===w&&n.id===_;ie.setState(n,e,f)}var h=!1;n.version===c.__version?c.needsLights&&c.lightsStateVersion!==l.state.version||c.outputEncoding!==o||r.isInstancedMesh&&!1===c.instancing?h=!0:r.isInstancedMesh||!0!==c.instancing?r.isSkinnedMesh&&!1===c.skinning?h=!0:r.isSkinnedMesh||!0!==c.skinning?c.envMap!==s||n.fog&&c.fog!==a?h=!0:void 0===c.numClippingPlanes||c.numClippingPlanes===ie.numPlanes&&c.numIntersection===ie.numIntersection?c.vertexAlphas!==u&&(h=!0):h=!0:h=!0:h=!0:(h=!0,c.__version=n.version);var p=c.currentProgram;!0===h&&(p=Re(n,t,r));var v=!1,g=!1,y=!1,x=p.getUniforms(),A=c.uniforms;if(q.useProgram(p.program)&&(v=!0,g=!0,y=!0),n.id!==_&&(_=n.id,g=!0),v||w!==e){if(x.setValue(he,"projectionMatrix",e.projectionMatrix),X.logarithmicDepthBuffer&&x.setValue(he,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,g=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var M=x.map.cameraPosition;void 0!==M&&M.setValue(he,G.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&x.setValue(he,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&x.setValue(he,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){x.setOptional(he,r,"bindMatrix"),x.setOptional(he,r,"bindMatrixInverse");var E=r.skeleton;E&&(X.floatVertexTextures?(null===E.boneTexture&&E.computeBoneTexture(),x.setValue(he,"boneTexture",E.boneTexture,J),x.setValue(he,"boneTextureSize",E.boneTextureSize)):x.setOptional(he,E,"boneMatrices"))}return(g||c.receiveShadow!==r.receiveShadow)&&(c.receiveShadow=r.receiveShadow,x.setValue(he,"receiveShadow",r.receiveShadow)),g&&(x.setValue(he,"toneMappingExposure",m.toneMappingExposure),c.needsLights&&Ge(A,y),a&&n.fog&&ne.refreshFogUniforms(A,a),ne.refreshMaterialUniforms(A,n,S,C,U),Es.upload(he,c.uniformsList,A,J)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Es.upload(he,c.uniformsList,A,J),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(he,"center",r.center),x.setValue(he,"modelViewMatrix",r.modelViewMatrix),x.setValue(he,"normalMatrix",r.normalMatrix),x.setValue(he,"modelMatrix",r.matrixWorld),p}function Ge(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function He(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Pe.setAnimationLoop(Se),"undefined"!==typeof window&&Pe.setContext(window),this.setAnimationLoop=function(e){Ce=e,be.setAnimationLoop(e),null===e?Pe.stop():Pe.start()},be.addEventListener("sessionstart",Te),be.addEventListener("sessionend",Be),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,b),(d=ae.get(e,p.length)).init(),p.push(d),N.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),R.setFromProjectionMatrix(N),z=this.localClippingEnabled,I=ie.init(this.clippingPlanes,z,t),(f=re.get(e,h.length)).init(),h.push(f),Le(e,t,0,m.sortObjects),f.finish(),!0===m.sortObjects&&f.sort(O,T),!0===I&&ie.beginShadows();var n=d.state.shadowsArray;oe.render(n,e,t),d.setupLights(),d.setupLightsView(t),!0===I&&ie.endShadows(),!0===this.info.autoReset&&this.info.reset(),se.render(f,e);var r=f.opaque,a=f.transmissive,i=f.transparent;r.length>0&&je(r,e,t),a.length>0&&De(r,a,e,t),i.length>0&&je(i,e,t),null!==b&&(J.updateMultisampleRenderTarget(b),J.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(m,e,t),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),de.resetDefaultState(),_=-1,w=null,p.pop(),d=p.length>0?p[p.length-1]:null,h.pop(),f=h.length>0?h[h.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n,e&&void 0===Y.get(e).__webglFramebuffer&&J.setupRenderTarget(e);var r=null,a=!1,i=!1;if(e){var o=e.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(i=!0);var s=Y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],a=!0):r=e.isWebGLMultisampleRenderTarget?Y.get(e).__webglMultisampledFramebuffer:s,x.copy(e.viewport),A.copy(e.scissor),M=e.scissorTest}else x.copy(L).multiplyScalar(S).floor(),A.copy(D).multiplyScalar(S).floor(),M=j;var u=q.bindFramebuffer(36160,r);if(u&&X.drawBuffers){var c=!1;if(e)if(e.isWebGLMultipleRenderTargets){var l=e.texture;if(F.length!==l.length||36064!==F[0]){for(var f=0,d=l.length;f<d;f++)F[f]=36064+f;F.length=l.length,c=!0}}else 1===F.length&&36064===F[0]||(F[0]=36064,F.length=1,c=!0);else 1===F.length&&1029===F[0]||(F[0]=1029,F.length=1,c=!0);c&&(X.isWebGL2?he.drawBuffers(F):W.get("WEBGL_draw_buffers").drawBuffersWEBGL(F))}if(q.viewport(x),q.scissor(A),q.setScissorTest(M),a){var h=Y.get(e.texture);he.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,n)}else if(i){var p=Y.get(e.texture),m=t||0;he.framebufferTextureLayer(36160,36064,p.__webglTexture,n||0,m)}},this.readRenderTargetPixels=function(e,t,n,r,a,i,o){if(e&&e.isWebGLRenderTarget){var s=Y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){q.bindFramebuffer(36160,s);try{var u=e.texture,c=u.format,l=u.type;if(c!==et&&fe.convert(c)!==he.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=l===qe&&(W.has("EXT_color_buffer_half_float")||X.isWebGL2&&W.has("EXT_color_buffer_float"));if(l!==Ue&&fe.convert(l)!==he.getParameter(35738)&&(l!==Xe||!(X.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===he.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-a&&he.readPixels(t,n,r,a,fe.convert(c),fe.convert(l),i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var d=null!==b?Y.get(b).__webglFramebuffer:null;q.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),a=Math.floor(t.image.width*r),i=Math.floor(t.image.height*r),o=fe.convert(t.format);X.isWebGL2&&(6407===o&&(o=32849),6408===o&&(o=32856)),J.setTexture2D(t,0),he.copyTexImage2D(3553,n,o,e.x,e.y,a,i,0),q.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.image.width,i=t.image.height,o=fe.convert(n.format),s=fe.convert(n.type);J.setTexture2D(n,0),he.pixelStorei(37440,n.flipY),he.pixelStorei(37441,n.premultiplyAlpha),he.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?he.texSubImage2D(3553,r,e.x,e.y,a,i,o,s,t.image.data):t.isCompressedTexture?he.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):he.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&he.generateMipmap(3553),q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var i,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,c=fe.convert(r.format),l=fe.convert(r.type);if(r.isDataTexture3D)J.setTexture3D(r,0),i=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(r,0),i=35866}he.pixelStorei(37440,r.flipY),he.pixelStorei(37441,r.premultiplyAlpha),he.pixelStorei(3317,r.unpackAlignment);var f=he.getParameter(3314),d=he.getParameter(32878),h=he.getParameter(3316),p=he.getParameter(3315),v=he.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;he.pixelStorei(3314,g.width),he.pixelStorei(32878,g.height),he.pixelStorei(3316,e.min.x),he.pixelStorei(3315,e.min.y),he.pixelStorei(32877,e.min.z),n.isDataTexture||n.isDataTexture3D?he.texSubImage3D(i,a,t.x,t.y,t.z,o,s,u,c,l,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(i,a,t.x,t.y,t.z,o,s,u,c,g.data)):he.texSubImage3D(i,a,t.x,t.y,t.z,o,s,u,c,l,g),he.pixelStorei(3314,f),he.pixelStorei(32878,d),he.pixelStorei(3316,h),he.pixelStorei(3315,p),he.pixelStorei(32877,v),0===a&&r.generateMipmaps&&he.generateMipmap(i),q.unbindTexture()}},this.initTexture=function(e){J.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,q.reset(),de.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var yu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(gu);yu.prototype.isWebGL1Renderer=!0;var bu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;Object(g.a)(this,e),this.name="",this.color=new Xa(t),this.density=n}return Object(y.a)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();bu.prototype.isFogExp2=!0;var _u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Object(g.a)(this,e),this.name="",this.color=new Xa(t),this.near=n,this.far=r}return Object(y.a)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();_u.prototype.isFog=!0;var wu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(p.a)(e)})),e}return Object(y.a)(n,[{key:"copy",value:function(e,t){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(Ca);wu.prototype.isScene=!0;var xu=function(){function e(t,n){Object(g.a)(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Nn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ar()}return Object(y.a)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ar()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ar()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();xu.prototype.isInterleavedBuffer=!0;var Au=new Mr,Mu=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(g.a)(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===a}return Object(y.a)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Au.x=this.getX(t),Au.y=this.getY(t),Au.z=this.getZ(t),Au.applyMatrix4(e),this.setXYZ(t,Au.x,Au.y,Au.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Au.x=this.getX(t),Au.y=this.getY(t),Au.z=this.getZ(t),Au.applyNormalMatrix(e),this.setXYZ(t,Au.x,Au.y,Au.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Au.x=this.getX(t),Au.y=this.getY(t),Au.z=this.getZ(t),Au.transformDirection(e),this.setXYZ(t,Au.x,Au.y,Au.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)n.push(this.data.array[a+i]);return new Ja(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,a=0;a<this.itemSize;a++)t.push(this.data.array[r+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();Mu.prototype.isInterleavedBufferAttribute=!0;var Eu,Cu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new Xa(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(za);Cu.prototype.isSpriteMaterial=!0;var Su=new Mr,Ou=new Mr,Tu=new Mr,ku=new dr,Bu=new dr,Pu=new ta,Lu=new Mr,Du=new Mr,ju=new Mr,Fu=new dr,Ru=new dr,Iu=new dr,zu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;if(Object(g.a)(this,n),(r=t.call(this)).type="Sprite",void 0===Eu){Eu=new gi;var a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new xu(a,5);Eu.setIndex([0,1,2,0,2,3]),Eu.setAttribute("position",new Mu(i,3,0,!1)),Eu.setAttribute("uv",new Mu(i,2,3,!1))}return r.geometry=Eu,r.material=void 0!==e?e:new Cu,r.center=new dr(.5,.5),r}return Object(y.a)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ou.setFromMatrixScale(this.matrixWorld),Pu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ou.multiplyScalar(-Tu.z);var n,r,a=this.material.rotation;0!==a&&(r=Math.cos(a),n=Math.sin(a));var i=this.center;Uu(Lu.set(-.5,-.5,0),Tu,i,Ou,n,r),Uu(Du.set(.5,-.5,0),Tu,i,Ou,n,r),Uu(ju.set(.5,.5,0),Tu,i,Ou,n,r),Fu.set(0,0),Ru.set(1,0),Iu.set(1,1);var o=e.ray.intersectTriangle(Lu,Du,ju,!1,Su);if(null!==o||(Uu(Du.set(-.5,.5,0),Tu,i,Ou,n,r),Ru.set(0,1),null!==(o=e.ray.intersectTriangle(Lu,ju,Du,!1,Su)))){var s=e.ray.origin.distanceTo(Su);s<e.near||s>e.far||t.push({distance:s,point:Su.clone(),uv:Ra.getUV(Su,Lu,Du,ju,Fu,Ru,Iu,new dr),face:null,object:this})}}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Ca);function Uu(e,t,n,r,a,i){ku.subVectors(e,n).addScalar(.5).multiply(r),void 0!==a?(Bu.x=i*ku.x-a*ku.y,Bu.y=a*ku.x+i*ku.y):Bu.copy(ku),e.copy(t),e.x+=Bu.x,e.y+=Bu.y,e.applyMatrix4(Pu)}zu.prototype.isSprite=!0;var Nu=new Mr,Gu=new Mr,Hu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(Object(p.a)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return Object(y.a)(n,[{key:"copy",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,a=t.length;r<a;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Nu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Nu);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Nu.setFromMatrixPosition(e.matrixWorld),Gu.setFromMatrixPosition(this.matrixWorld);var n,r,a=Nu.distanceTo(Gu)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&a>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,a=0,i=r.length;a<i;a++){var o=r[a];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Ca),Vu=new Mr,Wu=new br,Xu=new br,qu=new Mr,Qu=new ta,Yu=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="SkinnedMesh",a.bindMode="attached",a.bindMatrix=new ta,a.bindMatrixInverse=new ta,a}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new br,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Wu.fromBufferAttribute(r.attributes.skinIndex,e),Xu.fromBufferAttribute(r.attributes.skinWeight,e),Vu.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var a=0;a<4;a++){var i=Xu.getComponent(a);if(0!==i){var o=Wu.getComponent(a);Qu.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(qu.copy(Vu).applyMatrix4(Qu),i)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(ji);Yu.prototype.isSkinnedMesh=!0;var Ju=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="Bone",e}return Object(y.a)(n)}(Ca);Ju.prototype.isBone=!0;var Ku=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:ke,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ke,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return Object(g.a)(this,n),(e=t.call(this,null,u,c,l,f,d,o,s,h,p)).image={data:r,width:a,height:i},e.magFilter=f,e.minFilter=d,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return Object(y.a)(n)}(gr);Ku.prototype.isDataTexture=!0;var Zu=new ta,$u=new ta,ec=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(g.a)(this,e),this.uuid=ar(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return Object(y.a)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ta)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new ta;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,a=this.bones.length;r<a;r++){var i=this.bones[r];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,a=0,i=e.length;a<i;a++){var o=e[a]?e[a].matrixWorld:$u;Zu.multiplyMatrices(o,t[a]),Zu.toArray(n,16*a)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=cr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Ku(t,e,e,et,Xe);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var a=e.bones[n],i=t[a];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),i=new Ju),this.bones.push(i),this.boneInverses.push((new ta).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,a=t.length;r<a;r++){var i=t[r];e.bones.push(i.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),tc=new ta,nc=new ta,rc=[],ac=new ji,ic=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;return Object(g.a)(this,n),(i=t.call(this,e,r)).instanceMatrix=new Ja(new Float32Array(16*a),16),i.instanceColor=null,i.count=a,i.frustumCulled=!1,i}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(ac.geometry=this.geometry,ac.material=this.material,void 0!==ac.material)for(var a=0;a<r;a++){this.getMatrixAt(a,tc),nc.multiplyMatrices(n,tc),ac.matrixWorld=nc,ac.raycast(e,rc);for(var i=0,o=rc.length;i<o;i++){var s=rc[i];s.instanceId=a,s.object=this,t.push(s)}rc.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ja(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(ji);ic.prototype.isInstancedMesh=!0;var oc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new Xa(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.morphTargets=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}]),n}(za);oc.prototype.isLineBasicMaterial=!0;var sc=new Mr,uc=new Mr,cc=new ta,lc=new ea,fc=new Xr,dc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oc;return Object(g.a)(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,a=t.count;r<a;r++)sc.fromBufferAttribute(t,r-1),uc.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=sc.distanceTo(uc);e.setAttribute("lineDistance",new ii(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),fc.copy(n.boundingSphere),fc.applyMatrix4(r),fc.radius+=a,!1!==e.ray.intersectsSphere(fc)){cc.copy(r).invert(),lc.copy(e.ray).applyMatrix4(cc);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new Mr,c=new Mr,l=new Mr,f=new Mr,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,p=n.attributes.position;if(null!==h)for(var m=Math.max(0,i.start),v=Math.min(h.count,i.start+i.count)-1;m<v;m+=d){var g=h.getX(m),y=h.getX(m+1);if(u.fromBufferAttribute(p,g),c.fromBufferAttribute(p,y),!(lc.distanceSqToSegment(u,c,f,l)>s)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var _=Math.max(0,i.start),w=Math.min(p.count,i.start+i.count)-1;_<w;_+=d){if(u.fromBufferAttribute(p,_),c.fromBufferAttribute(p,_+1),!(lc.distanceSqToSegment(u,c,f,l)>s)){f.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(f);x<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Ca);dc.prototype.isLine=!0;var hc=new Mr,pc=new Mr,mc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="LineSegments",a}return Object(y.a)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,a=t.count;r<a;r+=2)hc.fromBufferAttribute(t,r),pc.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+hc.distanceTo(pc);e.setAttribute("lineDistance",new ii(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(dc);mc.prototype.isLineSegments=!0;var vc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="LineLoop",a}return Object(y.a)(n)}(dc);vc.prototype.isLineLoop=!0;var gc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new Xa(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.morphTargets=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}]),n}(za);gc.prototype.isPointsMaterial=!0;var yc=new ta,bc=new ea,_c=new Xr,wc=new Mr,xc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gi,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gc;return Object(g.a)(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=a,e.updateMorphTargets(),e}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,i=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_c.copy(n.boundingSphere),_c.applyMatrix4(r),_c.radius+=a,!1!==e.ray.intersectsSphere(_c)){yc.copy(r).invert(),bc.copy(e.ray).applyMatrix4(yc);var o=a/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var u=n.index,c=n.attributes.position;if(null!==u)for(var l=Math.max(0,i.start),f=Math.min(u.count,i.start+i.count);l<f;l++){var d=u.getX(l);wc.fromBufferAttribute(c,d),Ac(wc,d,s,r,e,t,this)}else for(var h=Math.max(0,i.start),p=Math.min(c.count,i.start+i.count);h<p;h++)wc.fromBufferAttribute(c,h),Ac(wc,h,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var a=0,i=r.length;a<i;a++){var o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Ca);function Ac(e,t,n,r,a,i,o){var s=bc.distanceSqToPoint(e);if(s<n){var u=new Mr;bc.closestPointToPoint(e,u),u.applyMatrix4(r);var c=a.ray.origin.distanceTo(u);if(c<a.near||c>a.far)return;i.push({distance:c,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}xc.prototype.isPoints=!0;var Mc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s,u,c,l){var f;Object(g.a)(this,n),(f=t.call(this,e,r,a,i,o,s,u,c,l)).format=void 0!==u?u:$e,f.minFilter=void 0!==s?s:je,f.magFilter=void 0!==o?o:je,f.generateMipmaps=!1;var d=Object(p.a)(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return Object(y.a)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(gr);Mc.prototype.isVideoTexture=!0;var Ec=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s,u,c,l,f,d,h){var p;return Object(g.a)(this,n),(p=t.call(this,null,s,u,c,l,f,i,o,d,h)).image={width:r,height:a},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return Object(y.a)(n)}(gr);Ec.prototype.isCompressedTexture=!0;var Cc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s,u,c,l){var f;return Object(g.a)(this,n),(f=t.call(this,e,r,a,i,o,s,u,c,l)).needsUpdate=!0,f}return Object(y.a)(n)}(gr);Cc.prototype.isCanvasTexture=!0;var Sc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s,u,c,l,f){var d;if(Object(g.a)(this,n),(f=void 0!==f?f:at)!==at&&f!==it)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===a&&f===at&&(a=He),void 0===a&&f===it&&(a=Ke),(d=t.call(this,null,i,o,s,u,c,f,a,l)).image={width:e,height:r},d.magFilter=void 0!==u?u:ke,d.minFilter=void 0!==c?c:ke,d.flipY=!1,d.generateMipmaps=!1,d}return Object(y.a)(n)}(gr);Sc.prototype.isDepthTexture=!0;var Oc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(g.a)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:a,thetaStart:i,thetaLength:o},a=Math.max(3,a);var s=[],u=[],c=[],l=[],f=new Mr,d=new dr;u.push(0,0,0),c.push(0,0,1),l.push(.5,.5);for(var h=0,p=3;h<=a;h++,p+=3){var m=i+h/a*o;f.x=r*Math.cos(m),f.y=r*Math.sin(m),u.push(f.x,f.y,f.z),c.push(0,0,1),d.x=(u[p]/r+1)/2,d.y=(u[p+1]/r+1)/2,l.push(d.x,d.y)}for(var v=1;v<=a;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new ii(u,3)),e.setAttribute("normal",new ii(c,3)),e.setAttribute("uv",new ii(l,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(gi),Tc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;Object(g.a)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:a,height:i,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:c,thetaLength:l};var f=Object(p.a)(e);o=Math.floor(o),s=Math.floor(s);var d=[],h=[],m=[],v=[],y=0,b=[],_=i/2,w=0;function x(){for(var e=new Mr,t=new Mr,n=0,u=(a-r)/i,p=0;p<=s;p++){for(var g=[],x=p/s,A=x*(a-r)+r,M=0;M<=o;M++){var E=M/o,C=E*l+c,S=Math.sin(C),O=Math.cos(C);t.x=A*S,t.y=-x*i+_,t.z=A*O,h.push(t.x,t.y,t.z),e.set(S,u,O).normalize(),m.push(e.x,e.y,e.z),v.push(E,1-x),g.push(y++)}b.push(g)}for(var T=0;T<o;T++)for(var k=0;k<s;k++){var B=b[k][T],P=b[k+1][T],L=b[k+1][T+1],D=b[k][T+1];d.push(B,P,D),d.push(P,L,D),n+=6}f.addGroup(w,n,0),w+=n}function A(e){for(var t=y,n=new dr,i=new Mr,s=0,u=!0===e?r:a,p=!0===e?1:-1,g=1;g<=o;g++)h.push(0,_*p,0),m.push(0,p,0),v.push(.5,.5),y++;for(var b=y,x=0;x<=o;x++){var A=x/o*l+c,M=Math.cos(A),E=Math.sin(A);i.x=u*E,i.y=_*p,i.z=u*M,h.push(i.x,i.y,i.z),m.push(0,p,0),n.x=.5*M+.5,n.y=.5*E*p+.5,v.push(n.x,n.y),y++}for(var C=0;C<o;C++){var S=t+C,O=b+C;!0===e?d.push(O,O+1,S):d.push(O+1,O,S),s+=3}f.addGroup(w,s,!0===e?1:2),w+=s}return x(),!1===u&&(r>0&&A(!0),a>0&&A(!1)),e.setIndex(d),e.setAttribute("position",new ii(h,3)),e.setAttribute("normal",new ii(m,3)),e.setAttribute("uv",new ii(v,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(gi),kc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return Object(g.a)(this,n),(e=t.call(this,0,r,a,i,o,s,u,c)).type="ConeGeometry",e.parameters={radius:r,height:a,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:c},e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Tc),Bc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(g.a)(this,n),(a=t.call(this)).type="PolyhedronGeometry",a.parameters={vertices:e,indices:r,radius:i,detail:o};var s=[],u=[];function c(e){for(var t=new Mr,n=new Mr,a=new Mr,i=0;i<r.length;i+=3)m(r[i+0],t),m(r[i+1],n),m(r[i+2],a),l(t,n,a,e)}function l(e,t,n,r){for(var a=r+1,i=[],o=0;o<=a;o++){i[o]=[];for(var s=e.clone().lerp(n,o/a),u=t.clone().lerp(n,o/a),c=a-o,l=0;l<=c;l++)i[o][l]=0===l&&o===a?s:s.clone().lerp(u,l/c)}for(var f=0;f<a;f++)for(var d=0;d<2*(a-f)-1;d++){var h=Math.floor(d/2);d%2===0?(p(i[f][h+1]),p(i[f+1][h]),p(i[f][h])):(p(i[f][h+1]),p(i[f+1][h+1]),p(i[f+1][h]))}}function f(e){for(var t=new Mr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new Mr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=b(e)/2/Math.PI+.5,r=_(e)/Math.PI+.5;u.push(n,1-r)}v(),h()}function h(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],a=Math.max(t,n,r),i=Math.min(t,n,r);a>.9&&i<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function m(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function v(){for(var e=new Mr,t=new Mr,n=new Mr,r=new Mr,a=new dr,i=new dr,o=new dr,c=0,l=0;c<s.length;c+=9,l+=6){e.set(s[c+0],s[c+1],s[c+2]),t.set(s[c+3],s[c+4],s[c+5]),n.set(s[c+6],s[c+7],s[c+8]),a.set(u[l+0],u[l+1]),i.set(u[l+2],u[l+3]),o.set(u[l+4],u[l+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=b(r);y(a,l+0,e,f),y(i,l+2,t,f),y(o,l+4,n,f)}}function y(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function b(e){return Math.atan2(e.z,-e.x)}function _(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return c(o),f(i),d(),a.setAttribute("position",new ii(s,3)),a.setAttribute("normal",new ii(s.slice(),3)),a.setAttribute("uv",new ii(u,2)),0===o?a.computeVertexNormals():a.normalizeNormals(),a}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(gi),Pc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,n);var i=(1+Math.sqrt(5))/2,o=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,u,r,a)).type="DodecahedronGeometry",e.parameters={radius:r,detail:a},e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Bc),Lc=new Mr,Dc=new Mr,jc=new Mr,Fc=new Ra,Rc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;if(Object(g.a)(this,n),(a=t.call(this)).type="EdgesGeometry",a.parameters={thresholdAngle:r},r=void 0!==r?r:1,!0===e.isGeometry)return console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Object(l.a)(a);for(var i=Math.pow(10,4),o=Math.cos(nr*r),s=e.getIndex(),u=e.getAttribute("position"),c=s?s.count:u.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[],v=0;v<c;v+=3){s?(f[0]=s.getX(v),f[1]=s.getX(v+1),f[2]=s.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);var y=Fc.a,b=Fc.b,_=Fc.c;if(y.fromBufferAttribute(u,f[0]),b.fromBufferAttribute(u,f[1]),_.fromBufferAttribute(u,f[2]),Fc.getNormal(jc),h[0]="".concat(Math.round(y.x*i),",").concat(Math.round(y.y*i),",").concat(Math.round(y.z*i)),h[1]="".concat(Math.round(b.x*i),",").concat(Math.round(b.y*i),",").concat(Math.round(b.z*i)),h[2]="".concat(Math.round(_.x*i),",").concat(Math.round(_.y*i),",").concat(Math.round(_.z*i)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var w=0;w<3;w++){var x=(w+1)%3,A=h[w],M=h[x],E=Fc[d[w]],C=Fc[d[x]],S="".concat(A,"_").concat(M),O="".concat(M,"_").concat(A);O in p&&p[O]?(jc.dot(p[O].normal)<=o&&(m.push(E.x,E.y,E.z),m.push(C.x,C.y,C.z)),p[O]=null):S in p||(p[S]={index0:f[w],index1:f[x],normal:jc.clone()})}}for(var T in p)if(p[T]){var k=p[T],B=k.index0,P=k.index1;Lc.fromBufferAttribute(u,B),Dc.fromBufferAttribute(u,P),m.push(Lc.x,Lc.y,Lc.z),m.push(Dc.x,Dc.y,Dc.z)}return a.setAttribute("position",new ii(m,3)),a}return Object(y.a)(n)}(gi),Ic=function(){function e(){Object(g.a)(this,e),this.type="Curve",this.arcLengthDivisions=200}return Object(y.a)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),a=0;n.push(0);for(var i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),a=0,i=r.length;n=t||e*r[i-1];for(var o,s=0,u=i-1;s<=u;)if((o=r[a=Math.floor(s+(u-s)/2)]-n)<0)s=a+1;else{if(!(o>0)){u=a;break}u=a-1}if(r[a=u]===n)return a/(i-1);var c=r[a];return(a+(n-c)/(r[a+1]-c))/(i-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,a=e+n;r<0&&(r=0),a>1&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),s=t||(i.isVector2?new dr:new Mr);return s.copy(o).sub(i).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Mr,r=[],a=[],i=[],o=new Mr,s=new ta,u=0;u<=e;u++){var c=u/e;r[u]=this.getTangentAt(c,new Mr),r[u].normalize()}a[0]=new Mr,i[0]=new Mr;var l=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);f<=l&&(l=f,n.set(1,0,0)),d<=l&&(l=d,n.set(0,1,0)),h<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),i[0].crossVectors(r[0],a[0]);for(var p=1;p<=e;p++){if(a[p]=a[p-1].clone(),i[p]=i[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(ir(r[p-1].dot(r[p]),-1,1));a[p].applyMatrix4(s.makeRotationAxis(o,m))}i[p].crossVectors(r[p],a[p])}if(!0===t){var v=Math.acos(ir(a[0].dot(a[e]),-1,1));v/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(v=-v);for(var g=1;g<=e;g++)a[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),i[g].crossVectors(r[g],a[g])}return{tangents:r,normals:a,binormals:i}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),zc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return Object(g.a)(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=a,e.xRadius=i,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=c,e.aRotation=l,e}return Object(y.a)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new dr,r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,i=Math.abs(a)<Number.EPSILON;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(a=i?0:r),!0!==this.aClockwise||i||(a===r?a=-r:a-=r);var o=this.aStartAngle+e*a,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),f=s-this.aX,d=u-this.aY;s=f*c-d*l+this.aX,u=f*l+d*c+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Ic);zc.prototype.isEllipseCurve=!0;var Uc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i,o,s){var u;return Object(g.a)(this,n),(u=t.call(this,e,r,a,a,i,o,s)).type="ArcCurve",u}return Object(y.a)(n)}(zc);function Nc(){var e=0,t=0,n=0,r=0;function a(a,i,o,s){e=a,t=o,n=-3*a+3*i-2*o-s,r=2*a-2*i+o+s}return{initCatmullRom:function(e,t,n,r,i){a(t,n,i*(n-e),i*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,i,o,s){var u=(t-e)/i-(n-e)/(i+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;a(t,n,u*=o,c*=o)},calc:function(a){var i=a*a;return e+t*a+n*i+r*(i*a)}}}Uc.prototype.isArcCurve=!0;var Gc=new Mr,Hc=new Nc,Vc=new Nc,Wc=new Nc,Xc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return Object(g.a)(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=a,e.curveType=i,e.tension=o,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,a=r,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),c=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===c&&u===o-1&&(u=o-2,c=1),this.closed||u>0?t=i[(u-1)%o]:(Gc.subVectors(i[0],i[1]).add(i[0]),t=Gc);var l=i[u%o],f=i[(u+1)%o];if(this.closed||u+2<o?n=i[(u+2)%o]:(Gc.subVectors(i[o-1],i[o-2]).add(i[o-1]),n=Gc),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(l),d),p=Math.pow(l.distanceToSquared(f),d),m=Math.pow(f.distanceToSquared(n),d);p<1e-4&&(p=1),h<1e-4&&(h=p),m<1e-4&&(m=p),Hc.initNonuniformCatmullRom(t.x,l.x,f.x,n.x,h,p,m),Vc.initNonuniformCatmullRom(t.y,l.y,f.y,n.y,h,p,m),Wc.initNonuniformCatmullRom(t.z,l.z,f.z,n.z,h,p,m)}else"catmullrom"===this.curveType&&(Hc.initCatmullRom(t.x,l.x,f.x,n.x,this.tension),Vc.initCatmullRom(t.y,l.y,f.y,n.y,this.tension),Wc.initCatmullRom(t.z,l.z,f.z,n.z,this.tension));return a.set(Hc.calc(c),Vc.calc(c),Wc.calc(c)),a}},{key:"copy",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new Mr).fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Ic);function qc(e,t,n,r,a){var i=.5*(r-t),o=.5*(a-n),s=e*e;return(2*n-2*r+i+o)*(e*s)+(-3*n+3*r-2*i-o)*s+i*e+n}function Qc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Yc(e,t,n,r,a){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,a)}Xc.prototype.isCatmullRomCurve3=!0;var Jc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new dr;return Object(g.a)(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(Yc(e,r.x,a.x,i.x,o.x),Yc(e,r.y,a.y,i.y,o.y)),n}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ic);Jc.prototype.isCubicBezierCurve=!0;var Kc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Mr;return Object(g.a)(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e.v3=o,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,n=t,r=this.v0,a=this.v1,i=this.v2,o=this.v3;return n.set(Yc(e,r.x,a.x,i.x,o.x),Yc(e,r.y,a.y,i.y,o.y),Yc(e,r.z,a.z,i.z,o.z)),n}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Ic);Kc.prototype.isCubicBezierCurve3=!0;var Zc=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr;return Object(g.a)(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=a,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new dr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ic);Zc.prototype.isLineCurve=!0;var $c=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr;return Object(g.a)(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=a,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ic),el=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new dr;return Object(g.a)(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=a,e.v2=i,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(Qc(e,r.x,a.x,i.x),Qc(e,r.y,a.y,i.y)),n}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ic);el.prototype.isQuadraticBezierCurve=!0;var tl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Mr;return Object(g.a)(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=a,e.v2=i,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr,n=t,r=this.v0,a=this.v1,i=this.v2;return n.set(Qc(e,r.x,a.x,i.x),Qc(e,r.y,a.y,i.y),Qc(e,r.z,a.z,i.z)),n}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Ic);tl.prototype.isQuadraticBezierCurve3=!0;var nl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(g.a)(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return Object(y.a)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr,n=t,r=this.points,a=(r.length-1)*e,i=Math.floor(a),o=a-i,s=r[0===i?i:i-1],u=r[i],c=r[i>r.length-2?r.length-1:i+1],l=r[i>r.length-3?r.length-1:i+2];return n.set(qc(o,s.x,u.x,c.x,l.x),qc(o,s.y,u.y,c.y,l.y)),n}},{key:"copy",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var a=this.points[t];e.points.push(a.toArray())}return e}},{key:"fromJSON",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var a=e.points[t];this.points.push((new dr).fromArray(a))}return this}}]),n}(Ic);nl.prototype.isSplineCurve=!0;var rl=Object.freeze({__proto__:null,ArcCurve:Uc,CatmullRomCurve3:Xc,CubicBezierCurve:Jc,CubicBezierCurve3:Kc,EllipseCurve:zc,LineCurve:Zc,LineCurve3:$c,QuadraticBezierCurve:el,QuadraticBezierCurve3:tl,SplineCurve:nl}),al=function(e,t){var n,r,a,i,o,s,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,l=t&&t.length,f=l?t[0]*c:e.length,d=il(e,0,f,c,!0),h=[];if(!d||d.next===d.prev)return h;if(l&&(d=dl(e,t,d,c)),e.length>80*c){n=a=e[0],r=i=e[1];for(var p=c;p<f;p+=c)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>a&&(a=o),s>i&&(i=s);u=0!==(u=Math.max(a-n,i-r))?1/u:0}return sl(d,h,c,n,r,u),h};function il(e,t,n,r,a){var i,o;if(a===function(e,t,n,r){for(var a=0,i=t,o=n-r;i<n;i+=r)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,t,n,r)>0)for(i=t;i<n;i+=r)o=Sl(i,e[i],e[i+1],o);else for(i=n-r;i>=t;i-=r)o=Sl(i,e[i],e[i+1],o);return o&&wl(o,o.next)&&(Ol(o),o=o.next),o}function ol(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!wl(r,r.next)&&0!==_l(r.prev,r,r.next))r=r.next;else{if(Ol(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function sl(e,t,n,r,a,i,o){if(e){!o&&i&&function(e,t,n,r){var a=e;do{null===a.z&&(a.z=vl(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,n,r,a,i,o,s,u,c=1;do{for(n=e,e=null,i=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,u--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;n=r}i.nextZ=null,c*=2}while(o>1)}(a)}(e,r,a,i);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,i?cl(e,r,a,i):ul(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ol(e),e=u.next,c=u.next;else if((e=u)===c){o?1===o?sl(e=ll(ol(e),t,n),t,n,r,a,i,2):2===o&&fl(e,t,n,r,a,i):sl(ol(e),t,n,r,a,i,1);break}}}function ul(e){var t=e.prev,n=e,r=e.next;if(_l(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(yl(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&_l(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function cl(e,t,n,r){var a=e.prev,i=e,o=e.next;if(_l(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,u=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,c=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,l=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,f=vl(s,u,t,n,r),d=vl(c,l,t,n,r),h=e.prevZ,p=e.nextZ;h&&h.z>=f&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&yl(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&_l(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&yl(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&_l(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&yl(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&_l(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&yl(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&_l(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ll(e,t,n){var r=e;do{var a=r.prev,i=r.next.next;!wl(a,i)&&xl(a,r,r.next,i)&&El(a,i)&&El(i,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(i.i/n),Ol(r),Ol(r.next),r=e=i),r=r.next}while(r!==e);return ol(r)}function fl(e,t,n,r,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&bl(o,s)){var u=Cl(o,s);return o=ol(o,o.next),u=ol(u,u.next),sl(o,t,n,r,a,i),void sl(u,t,n,r,a,i)}s=s.next}o=o.next}while(o!==e)}function dl(e,t,n,r){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=il(e,t[a]*r,a<i-1?t[a+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(gl(o));for(s.sort(hl),a=0;a<s.length;a++)pl(s[a],n),n=ol(n,n.next);return n}function hl(e,t){return e.x-t.x}function pl(e,t){if(t=function(e,t){var n,r=t,a=e.x,i=e.y,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===o)return n;var u,c=n,l=n.x,f=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&yl(i<f?a:o,i,l,f,i<f?o:a,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(a-r.x),El(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&ml(n,r)))&&(n=r,d=u)),r=r.next}while(r!==c);return n}(e,t),t){var n=Cl(t,e);ol(t,t.next),ol(n,n.next)}}function ml(e,t){return _l(e.prev,e,t.prev)<0&&_l(t.next,e,e.next)<0}function vl(e,t,n,r,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function gl(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function yl(e,t,n,r,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(i-s)-(a-o)*(r-s)>=0}function bl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&xl(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(El(e,t)&&El(t,e)&&function(e,t){var n=e,r=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!==n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(_l(e.prev,e,t.prev)||_l(e,t.prev,t))||wl(e,t)&&_l(e.prev,e,e.next)>0&&_l(t.prev,t,t.next)>0)}function _l(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function wl(e,t){return e.x===t.x&&e.y===t.y}function xl(e,t,n,r){var a=Ml(_l(e,t,n)),i=Ml(_l(e,t,r)),o=Ml(_l(n,r,e)),s=Ml(_l(n,r,t));return a!==i&&o!==s||(!(0!==a||!Al(e,n,t))||(!(0!==i||!Al(e,r,t))||(!(0!==o||!Al(n,e,r))||!(0!==s||!Al(n,t,r)))))}function Al(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ml(e){return e>0?1:e<0?-1:0}function El(e,t){return _l(e.prev,e,e.next)<0?_l(e,t,e.next)>=0&&_l(e,e.prev,t)>=0:_l(e,t,e.prev)<0||_l(e,e.next,t)<0}function Cl(e,t){var n=new Tl(e.i,e.x,e.y),r=new Tl(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Sl(e,t,n,r){var a=new Tl(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function Ol(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Tl(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var kl=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],a=[];Bl(e),Pl(n,e);var i=e.length;t.forEach(Bl);for(var o=0;o<t.length;o++)r.push(i),i+=t[o].length,Pl(n,t[o]);for(var s=al(n,r),u=0;u<s.length;u+=3)a.push(s.slice(u,u+3));return a}}]),e}();function Bl(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Pl(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Ll=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;Object(g.a)(this,n),(a=t.call(this)).type="ExtrudeGeometry",a.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var i=Object(p.a)(a),o=[],s=[],u=0,c=e.length;u<c;u++){l(e[u])}function l(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,a=void 0!==r.steps?r.steps:1,u=void 0!==r.depth?r.depth:100,c=void 0===r.bevelEnabled||r.bevelEnabled,l=void 0!==r.bevelThickness?r.bevelThickness:6,f=void 0!==r.bevelSize?r.bevelSize:l-2,d=void 0!==r.bevelOffset?r.bevelOffset:0,h=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,m=void 0!==r.UVGenerator?r.UVGenerator:Dl;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=r.amount);var v,g,y,b,_,w=!1;p&&(v=p.getSpacedPoints(a),w=!0,c=!1,g=p.computeFrenetFrames(a,!1),y=new Mr,b=new Mr,_=new Mr),c||(h=0,l=0,f=0,d=0);var x=e.extractPoints(n),A=x.shape,M=x.holes;if(!kl.isClockWise(A)){A=A.reverse();for(var E=0,C=M.length;E<C;E++){var S=M[E];kl.isClockWise(S)&&(M[E]=S.reverse())}}for(var O=kl.triangulateShape(A,M),T=A,k=0,B=M.length;k<B;k++){var P=M[k];A=A.concat(P)}function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=A.length,j=O.length;function F(e,t,n){var r,a,i,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=o*o+s*s,f=o*c-s*u;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(l),h=Math.sqrt(u*u+c*c),p=t.x-s/d,m=t.y+o/d,v=((n.x-c/h-p)*c-(n.y+u/h-m)*u)/(o*c-s*u),g=(r=p+o*v-e.x)*r+(a=m+s*v-e.y)*a;if(g<=2)return new dr(r,a);i=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,a=o,i=Math.sqrt(l)):(r=o,a=s,i=Math.sqrt(l/2))}return new dr(r/i,a/i)}for(var R=[],I=0,z=T.length,U=z-1,N=I+1;I<z;I++,U++,N++)U===z&&(U=0),N===z&&(N=0),R[I]=F(T[I],T[U],T[N]);for(var G,H=[],V=R.concat(),W=0,X=M.length;W<X;W++){var q=M[W];G=[];for(var Q=0,Y=q.length,J=Y-1,K=Q+1;Q<Y;Q++,J++,K++)J===Y&&(J=0),K===Y&&(K=0),G[Q]=F(q[Q],q[J],q[K]);H.push(G),V=V.concat(G)}for(var Z=0;Z<h;Z++){for(var $=Z/h,ee=l*Math.cos($*Math.PI/2),te=f*Math.sin($*Math.PI/2)+d,ne=0,re=T.length;ne<re;ne++){var ae=L(T[ne],R[ne],te);Be(ae.x,ae.y,-ee)}for(var ie=0,oe=M.length;ie<oe;ie++){var se=M[ie];G=H[ie];for(var ue=0,ce=se.length;ue<ce;ue++){var le=L(se[ue],G[ue],te);Be(le.x,le.y,-ee)}}}for(var fe=f+d,de=0;de<D;de++){var he=c?L(A[de],V[de],fe):A[de];w?(b.copy(g.normals[0]).multiplyScalar(he.x),y.copy(g.binormals[0]).multiplyScalar(he.y),_.copy(v[0]).add(b).add(y),Be(_.x,_.y,_.z)):Be(he.x,he.y,0)}for(var pe=1;pe<=a;pe++)for(var me=0;me<D;me++){var ve=c?L(A[me],V[me],fe):A[me];w?(b.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),_.copy(v[pe]).add(b).add(y),Be(_.x,_.y,_.z)):Be(ve.x,ve.y,u/a*pe)}for(var ge=h-1;ge>=0;ge--){for(var ye=ge/h,be=l*Math.cos(ye*Math.PI/2),_e=f*Math.sin(ye*Math.PI/2)+d,we=0,xe=T.length;we<xe;we++){var Ae=L(T[we],R[we],_e);Be(Ae.x,Ae.y,u+be)}for(var Me=0,Ee=M.length;Me<Ee;Me++){var Ce=M[Me];G=H[Me];for(var Se=0,Oe=Ce.length;Se<Oe;Se++){var Te=L(Ce[Se],G[Se],_e);w?Be(Te.x,Te.y+v[a-1].y,v[a-1].x+be):Be(Te.x,Te.y,u+be)}}}function ke(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,s=a+2*h;o<s;o++){var u=D*o,c=D*(o+1);Le(t+r+u,t+i+u,t+i+c,t+r+c)}}}function Be(e,n,r){t.push(e),t.push(n),t.push(r)}function Pe(e,t,n){De(e),De(t),De(n);var r=o.length/3,a=m.generateTopUV(i,o,r-3,r-2,r-1);je(a[0]),je(a[1]),je(a[2])}function Le(e,t,n,r){De(e),De(t),De(r),De(t),De(n),De(r);var a=o.length/3,s=m.generateSideWallUV(i,o,a-6,a-3,a-2,a-1);je(s[0]),je(s[1]),je(s[3]),je(s[1]),je(s[2]),je(s[3])}function De(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function je(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(c){for(var t=0,n=D*t,r=0;r<j;r++){var s=O[r];Pe(s[2]+n,s[1]+n,s[0]+n)}n=D*(t=a+2*h);for(var u=0;u<j;u++){var l=O[u];Pe(l[0]+n,l[1]+n,l[2]+n)}}else{for(var f=0;f<j;f++){var d=O[f];Pe(d[2],d[1],d[0])}for(var p=0;p<j;p++){var m=O[p];Pe(m[0]+D*a,m[1]+D*a,m[2]+D*a)}}i.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;ke(T,t),t+=T.length;for(var n=0,r=M.length;n<r;n++){var a=M[n];ke(a,t),t+=a.length}i.addGroup(e,o.length/3-e,1)}()}return a.setAttribute("position",new ii(o,3)),a.setAttribute("uv",new ii(s,2)),a.computeVertexNormals(),a}return Object(y.a)(n,[{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,a=e.length;r<a;r++){var i=e[r];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new rl[s.type]).fromJSON(s)),new n(r,e.options)}}]),n}(gi),Dl={generateTopUV:function(e,t,n,r,a){var i=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],c=t[3*a],l=t[3*a+1];return[new dr(i,o),new dr(s,u),new dr(c,l)]},generateSideWallUV:function(e,t,n,r,a,i){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],c=t[3*r],l=t[3*r+1],f=t[3*r+2],d=t[3*a],h=t[3*a+1],p=t[3*a+2],m=t[3*i],v=t[3*i+1],g=t[3*i+2];return Math.abs(s-l)<Math.abs(o-c)?[new dr(o,1-u),new dr(c,1-f),new dr(d,1-p),new dr(m,1-g)]:[new dr(s,1-u),new dr(l,1-f),new dr(h,1-p),new dr(v,1-g)]}};var jl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,n);var i=(1+Math.sqrt(5))/2,o=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,a)).type="IcosahedronGeometry",e.parameters={radius:r,detail:a},e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Bc),Fl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(g.a)(this,n),(r=t.call(this)).type="LatheGeometry",r.parameters={points:e,segments:a,phiStart:i,phiLength:o},a=Math.floor(a),o=ir(o,0,2*Math.PI);for(var s=[],u=[],c=[],l=1/a,f=new Mr,d=new dr,h=0;h<=a;h++)for(var p=i+h*l*o,m=Math.sin(p),v=Math.cos(p),y=0;y<=e.length-1;y++)f.x=e[y].x*m,f.y=e[y].y,f.z=e[y].x*v,u.push(f.x,f.y,f.z),d.x=h/a,d.y=y/(e.length-1),c.push(d.x,d.y);for(var b=0;b<a;b++)for(var _=0;_<e.length-1;_++){var w=_+b*e.length,x=w,A=w+e.length,M=w+e.length+1,E=w+1;s.push(x,A,E),s.push(A,M,E)}if(r.setIndex(s),r.setAttribute("position",new ii(u,3)),r.setAttribute("uv",new ii(c,2)),r.computeVertexNormals(),o===2*Math.PI)for(var C=r.attributes.normal.array,S=new Mr,O=new Mr,T=new Mr,k=a*e.length*3,B=0,P=0;B<e.length;B++,P+=3)S.x=C[P+0],S.y=C[P+1],S.z=C[P+2],O.x=C[k+P+0],O.y=C[k+P+1],O.z=C[k+P+2],T.addVectors(S,O).normalize(),C[P+0]=C[k+P+0]=T.x,C[P+1]=C[k+P+1]=T.y,C[P+2]=C[k+P+2]=T.z;return r}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(gi),Rl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,n);var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,i,o,r,a)).type="OctahedronGeometry",e.parameters={radius:r,detail:a},e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Bc),Il=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;Object(g.a)(this,n),(i=t.call(this)).type="ParametricGeometry",i.parameters={func:e,slices:r,stacks:a};var o=[],s=[],u=[],c=[],l=1e-5,f=new Mr,d=new Mr,h=new Mr,p=new Mr,m=new Mr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var v=r+1,y=0;y<=a;y++)for(var b=y/a,_=0;_<=r;_++){var w=_/r;e(w,b,d),s.push(d.x,d.y,d.z),w-l>=0?(e(w-l,b,h),p.subVectors(d,h)):(e(w+l,b,h),p.subVectors(h,d)),b-l>=0?(e(w,b-l,h),m.subVectors(d,h)):(e(w,b+l,h),m.subVectors(h,d)),f.crossVectors(p,m).normalize(),u.push(f.x,f.y,f.z),c.push(w,b)}for(var x=0;x<a;x++)for(var A=0;A<r;A++){var M=x*v+A,E=x*v+A+1,C=(x+1)*v+A+1,S=(x+1)*v+A;o.push(M,E,S),o.push(E,C,S)}return i.setIndex(o),i.setAttribute("position",new ii(s,3)),i.setAttribute("normal",new ii(u,3)),i.setAttribute("uv",new ii(c,2)),i}return Object(y.a)(n)}(gi),zl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;Object(g.a)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:a,thetaSegments:i,phiSegments:o,thetaStart:s,thetaLength:u},i=Math.max(3,i);for(var c=[],l=[],f=[],d=[],h=r,p=(a-r)/(o=Math.max(1,o)),m=new Mr,v=new dr,y=0;y<=o;y++){for(var b=0;b<=i;b++){var _=s+b/i*u;m.x=h*Math.cos(_),m.y=h*Math.sin(_),l.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/a+1)/2,v.y=(m.y/a+1)/2,d.push(v.x,v.y)}h+=p}for(var w=0;w<o;w++)for(var x=w*(i+1),A=0;A<i;A++){var M=A+x,E=M,C=M+i+1,S=M+i+2,O=M+1;c.push(E,C,O),c.push(C,S,O)}return e.setIndex(c),e.setAttribute("position",new ii(l,3)),e.setAttribute("normal",new ii(f,3)),e.setAttribute("uv",new ii(d,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(gi),Ul=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Object(g.a)(this,n),(r=t.call(this)).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:a};var i=[],o=[],s=[],u=[],c=0,l=0;if(!1===Array.isArray(e))d(e);else for(var f=0;f<e.length;f++)d(e[f]),r.addGroup(c,l,f),c+=l,l=0;function d(e){var t=o.length/3,n=e.extractPoints(a),r=n.shape,c=n.holes;!1===kl.isClockWise(r)&&(r=r.reverse());for(var f=0,d=c.length;f<d;f++){var h=c[f];!0===kl.isClockWise(h)&&(c[f]=h.reverse())}for(var p=kl.triangulateShape(r,c),m=0,v=c.length;m<v;m++){var g=c[m];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var _=r[y];o.push(_.x,_.y,0),s.push(0,0,1),u.push(_.x,_.y)}for(var w=0,x=p.length;w<x;w++){var A=p[w],M=A[0]+t,E=A[1]+t,C=A[2]+t;i.push(M,E,C),l+=3}}return r.setIndex(i),r.setAttribute("position",new ii(o,3)),r.setAttribute("normal",new ii(s,3)),r.setAttribute("uv",new ii(u,2)),r}return Object(y.a)(n,[{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],a=0,i=e.shapes.length;a<i;a++){var o=t[e.shapes[a]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(gi);var Nl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Object(g.a)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:a,heightSegments:i,phiStart:o,phiLength:s,thetaStart:u,thetaLength:c},a=Math.max(3,Math.floor(a)),i=Math.max(2,Math.floor(i));for(var l=Math.min(u+c,Math.PI),f=0,d=[],h=new Mr,p=new Mr,m=[],v=[],y=[],b=[],_=0;_<=i;_++){var w=[],x=_/i,A=0;0==_&&0==u?A=.5/a:_==i&&l==Math.PI&&(A=-.5/a);for(var M=0;M<=a;M++){var E=M/a;h.x=-r*Math.cos(o+E*s)*Math.sin(u+x*c),h.y=r*Math.cos(u+x*c),h.z=r*Math.sin(o+E*s)*Math.sin(u+x*c),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),b.push(E+A,1-x),w.push(f++)}d.push(w)}for(var C=0;C<i;C++)for(var S=0;S<a;S++){var O=d[C][S+1],T=d[C][S],k=d[C+1][S],B=d[C+1][S+1];(0!==C||u>0)&&m.push(O,T,B),(C!==i-1||l<Math.PI)&&m.push(T,k,B)}return e.setIndex(m),e.setAttribute("position",new ii(v,3)),e.setAttribute("normal",new ii(y,3)),e.setAttribute("uv",new ii(b,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(gi),Gl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(g.a)(this,n);var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,i,o,r,a)).type="TetrahedronGeometry",e.parameters={radius:r,detail:a},e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Bc),Hl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(g.a)(this,n);var i=a.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),Object(l.a)(r,new gi);var o=i.generateShapes(e,a.size);return a.depth=void 0!==a.height?a.height:50,void 0===a.bevelThickness&&(a.bevelThickness=10),void 0===a.bevelSize&&(a.bevelSize=8),void 0===a.bevelEnabled&&(a.bevelEnabled=!1),(r=t.call(this,o,a)).type="TextGeometry",r}return Object(y.a)(n)}(Ll),Vl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;Object(g.a)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:a,radialSegments:i,tubularSegments:o,arc:s},i=Math.floor(i),o=Math.floor(o);for(var u=[],c=[],l=[],f=[],d=new Mr,h=new Mr,p=new Mr,m=0;m<=i;m++)for(var v=0;v<=o;v++){var y=v/o*s,b=m/i*Math.PI*2;h.x=(r+a*Math.cos(b))*Math.cos(y),h.y=(r+a*Math.cos(b))*Math.sin(y),h.z=a*Math.sin(b),c.push(h.x,h.y,h.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),f.push(v/o),f.push(m/i)}for(var _=1;_<=i;_++)for(var w=1;w<=o;w++){var x=(o+1)*_+w-1,A=(o+1)*(_-1)+w-1,M=(o+1)*(_-1)+w,E=(o+1)*_+w;u.push(x,A,E),u.push(A,M,E)}return e.setIndex(u),e.setAttribute("position",new ii(c,3)),e.setAttribute("normal",new ii(l,3)),e.setAttribute("uv",new ii(f,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(gi),Wl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;Object(g.a)(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:a,tubularSegments:i,radialSegments:o,p:s,q:u},i=Math.floor(i),o=Math.floor(o);for(var c=[],l=[],f=[],d=[],h=new Mr,p=new Mr,m=new Mr,v=new Mr,y=new Mr,b=new Mr,_=new Mr,w=0;w<=i;++w){var x=w/i*s*Math.PI*2;L(x,s,u,r,m),L(x+.01,s,u,r,v),b.subVectors(v,m),_.addVectors(v,m),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize();for(var A=0;A<=o;++A){var M=A/o*Math.PI*2,E=-a*Math.cos(M),C=a*Math.sin(M);h.x=m.x+(E*_.x+C*y.x),h.y=m.y+(E*_.y+C*y.y),h.z=m.z+(E*_.z+C*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),f.push(p.x,p.y,p.z),d.push(w/i),d.push(A/o)}}for(var S=1;S<=i;S++)for(var O=1;O<=o;O++){var T=(o+1)*(S-1)+(O-1),k=(o+1)*S+(O-1),B=(o+1)*S+O,P=(o+1)*(S-1)+O;c.push(T,k,P),c.push(k,B,P)}function L(e,t,n,r,a){var i=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);a.x=r*(2+u)*.5*i,a.y=r*(2+u)*o*.5,a.z=r*Math.sin(s)*.5}return e.setIndex(c),e.setAttribute("position",new ii(l,3)),e.setAttribute("normal",new ii(f,3)),e.setAttribute("uv",new ii(d,2)),e}return Object(y.a)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(gi),Xl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(g.a)(this,n),(r=t.call(this)).type="TubeGeometry",r.parameters={path:e,tubularSegments:a,radius:i,radialSegments:o,closed:s};var u=e.computeFrenetFrames(a,s);r.tangents=u.tangents,r.normals=u.normals,r.binormals=u.binormals;var c=new Mr,l=new Mr,f=new dr,d=new Mr,h=[],p=[],m=[],v=[];function y(){for(var e=0;e<a;e++)b(e);b(!1===s?a:0),w(),_()}function b(t){d=e.getPointAt(t/a,d);for(var n=u.normals[t],r=u.binormals[t],s=0;s<=o;s++){var f=s/o*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*n.x+m*r.x,l.y=v*n.y+m*r.y,l.z=v*n.z+m*r.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=d.x+i*l.x,c.y=d.y+i*l.y,c.z=d.z+i*l.z,h.push(c.x,c.y,c.z)}}function _(){for(var e=1;e<=a;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),i=(o+1)*e+t,s=(o+1)*(e-1)+t;v.push(n,r,s),v.push(r,i,s)}}function w(){for(var e=0;e<=a;e++)for(var t=0;t<=o;t++)f.x=e/a,f.y=t/o,m.push(f.x,f.y)}return y(),r.setIndex(v),r.setAttribute("position",new ii(h,3)),r.setAttribute("normal",new ii(p,3)),r.setAttribute("uv",new ii(m,2)),r}return Object(y.a)(n,[{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new rl[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(gi),ql=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;if(Object(g.a)(this,n),(r=t.call(this)).type="WireframeGeometry",!0===e.isGeometry)return console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Object(l.a)(r);var a=[],i=[0,0],o={},s=new Mr;if(null!==e.index){var u=e.attributes.position,c=e.index,f=e.groups;0===f.length&&(f=[{start:0,count:c.count,materialIndex:0}]);for(var d=0,h=f.length;d<h;++d)for(var p=f[d],m=p.start,v=m,y=m+p.count;v<y;v+=3)for(var b=0;b<3;b++){var _=c.getX(v+b),w=c.getX(v+(b+1)%3);i[0]=Math.min(_,w),i[1]=Math.max(_,w);var x=i[0]+","+i[1];void 0===o[x]&&(o[x]={index1:i[0],index2:i[1]})}for(var A in o){var M=o[A];s.fromBufferAttribute(u,M.index1),a.push(s.x,s.y,s.z),s.fromBufferAttribute(u,M.index2),a.push(s.x,s.y,s.z)}}else for(var E=e.attributes.position,C=0,S=E.count/3;C<S;C++)for(var O=0;O<3;O++){var T=3*C+O;s.fromBufferAttribute(E,T),a.push(s.x,s.y,s.z);var k=3*C+(O+1)%3;s.fromBufferAttribute(E,k),a.push(s.x,s.y,s.z)}return r.setAttribute("position",new ii(a,3)),r}return Object(y.a)(n)}(gi),Ql=Object.freeze({__proto__:null,BoxGeometry:Ri,BoxBufferGeometry:Ri,CircleGeometry:Oc,CircleBufferGeometry:Oc,ConeGeometry:kc,ConeBufferGeometry:kc,CylinderGeometry:Tc,CylinderBufferGeometry:Tc,DodecahedronGeometry:Pc,DodecahedronBufferGeometry:Pc,EdgesGeometry:Rc,ExtrudeGeometry:Ll,ExtrudeBufferGeometry:Ll,IcosahedronGeometry:jl,IcosahedronBufferGeometry:jl,LatheGeometry:Fl,LatheBufferGeometry:Fl,OctahedronGeometry:Rl,OctahedronBufferGeometry:Rl,ParametricGeometry:Il,ParametricBufferGeometry:Il,PlaneGeometry:ro,PlaneBufferGeometry:ro,PolyhedronGeometry:Bc,PolyhedronBufferGeometry:Bc,RingGeometry:zl,RingBufferGeometry:zl,ShapeGeometry:Ul,ShapeBufferGeometry:Ul,SphereGeometry:Nl,SphereBufferGeometry:Nl,TetrahedronGeometry:Gl,TetrahedronBufferGeometry:Gl,TextGeometry:Hl,TextBufferGeometry:Hl,TorusGeometry:Vl,TorusBufferGeometry:Vl,TorusKnotGeometry:Wl,TorusKnotBufferGeometry:Wl,TubeGeometry:Xl,TubeBufferGeometry:Xl,WireframeGeometry:ql}),Yl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new Xa(0),r.transparent=!0,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(za);Yl.prototype.isShadowMaterial=!0;var Jl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return Object(y.a)(n)}(Ni);Jl.prototype.isRawShaderMaterial=!0;var Kl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Xa(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=An,r.normalScale=new dr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.vertexTangents=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}]),n}(za);Kl.prototype.isMeshStandardMaterial=!0;var Zl=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoat=0,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new dr(1,1),r.clearcoatNormalMap=null,r.reflectivity=.5,Object.defineProperty(Object(p.a)(r),"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=ir(2.5*(e-1)/(e+1),0,1)}}),r.sheen=null,r.transmission=0,r.transmissionMap=null,r.thickness=.01,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new Xa(1,1,1),r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Xa).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this}}]),n}(Kl);Zl.prototype.isMeshPhysicalMaterial=!0;var $l=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new Xa(16777215),r.specular=new Xa(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=An,r.normalScale=new dr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=fe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(za);$l.prototype.isMeshPhongMaterial=!0;var ef=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new Xa(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=An,r.normalScale=new dr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(za);ef.prototype.isMeshToonMaterial=!0;var tf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=An,r.normalScale=new dr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(za);tf.prototype.isMeshNormalMaterial=!0;var nf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new Xa(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Xa(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=fe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(za);nf.prototype.isMeshLambertMaterial=!0;var rf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Xa(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=An,r.normalScale=new dr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(za);rf.prototype.isMeshMatcapMaterial=!0;var af=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(oc);af.prototype.isLineDashedMaterial=!0;var of=Object.freeze({__proto__:null,ShadowMaterial:Yl,SpriteMaterial:Cu,RawShaderMaterial:Jl,ShaderMaterial:Ni,PointsMaterial:gc,MeshPhysicalMaterial:Zl,MeshStandardMaterial:Kl,MeshPhongMaterial:$l,MeshToonMaterial:ef,MeshNormalMaterial:tf,MeshLambertMaterial:nf,MeshDepthMaterial:au,MeshDistanceMaterial:iu,MeshBasicMaterial:qa,MeshMatcapMaterial:rf,LineDashedMaterial:af,LineBasicMaterial:oc,Material:za}),sf={arraySlice:function(e,t,n){return sf.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,a=new e.constructor(r),i=0,o=0;o!==r;++i)for(var s=n[i]*t,u=0;u!==t;++u)a[o++]=e[s+u];return a},flattenJSON:function(e,t,n,r){for(var a=1,i=e[0];void 0!==i&&void 0===i[r];)i=e[a++];if(void 0!==i){var o=i[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=i[r])&&(t.push(i.time),n.push.apply(n,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{void 0!==(o=i[r])&&(t.push(i.time),o.toArray(n,n.length)),i=e[a++]}while(void 0!==i);else do{void 0!==(o=i[r])&&(t.push(i.time),n.push(o)),i=e[a++]}while(void 0!==i)}},subclip:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=e.clone();i.name=t;for(var o=[],s=0;s<i.tracks.length;++s){for(var u=i.tracks[s],c=u.getValueSize(),l=[],f=[],d=0;d<u.times.length;++d){var h=u.times[d]*a;if(!(h<n||h>=r)){l.push(u.times[d]);for(var p=0;p<c;++p)f.push(u.values[d*c+p])}}0!==l.length&&(u.times=sf.convertArray(l,u.times.constructor),u.values=sf.convertArray(f,u.values.constructor),o.push(u))}i.tracks=o;for(var m=1/0,v=0;v<i.tracks.length;++v)m>i.tracks[v].times[0]&&(m=i.tracks[v].times[0]);for(var g=0;g<i.tracks.length;++g)i.tracks[g].shift(-1*m);return i.resetDuration(),i},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var a=n.tracks.length,i=t/r,o=function(t){var r=n.tracks[t],a=r.ValueTypeName;if("bool"===a||"string"===a)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===a}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var c=0,l=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=l/3);var f=r.times.length-1,d=void 0;if(i<=r.times[0]){var h=s,p=u-s;d=sf.arraySlice(r.values,h,p)}else if(i>=r.times[f]){var m=f*u+s,v=m+u-s;d=sf.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,b=u-s;g.evaluate(i),d=sf.arraySlice(g.resultBuffer,y,b)}"quaternion"===a&&(new Ar).fromArray(d).normalize().conjugate().toArray(d);for(var _=o.times.length,w=0;w<_;++w){var x=w*l+c;if("quaternion"===a)Ar.multiplyQuaternionsFlat(o.values,x,d,0,o.values,x);else for(var A=l-2*c,M=0;M<A;++M)o.values[x+M]-=d[M]}},s=0;s<a;++s)o(s);return e.blendMode=cn,e}},uf=function(){function e(t,n,r,a){Object(g.a)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return Object(y.a)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{var i;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<a)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===o)break;if(a=r,e<(r=t[++n]))break t}i=t.length;break n}if(e>=a)break e;var s=t[1];e<s&&(n=2,a=s);for(var u=n-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=a,e>=(a=t[--n-1]))break t}i=n,n=0}for(;n<i;){var c=n+i>>>1;e<t[c]?i=c:n=c+1}if(r=t[n],void 0===(a=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r,i=0;i!==r;++i)t[i]=n[a+i];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();uf.prototype.beforeStart_=uf.prototype.copySampleValue_,uf.prototype.afterEnd_=uf.prototype.copySampleValue_;var cf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i){var o;return Object(g.a)(this,n),(o=t.call(this,e,r,a,i))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:an,endingEnd:an},o}return Object(y.a)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,a=e-2,i=e+1,o=r[a],s=r[i];if(void 0===o)switch(this.getSettings_().endingStart){case on:a=e,o=2*t-n;break;case sn:o=t+r[a=r.length-2]-r[a+1];break;default:a=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case on:i=e,s=2*n-t;break;case sn:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=a*c,this._offsetNext=i*c}},{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,c=this._offsetPrev,l=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,m=p*h,v=-f*m+2*f*p-f*h,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*m+(1.5+d)*p+.5*h,b=d*m-d*p,_=0;_!==o;++_)a[_]=v*i[c+_]+g*i[u+_]+y*i[s+_]+b*i[l+_];return a}}]),n}(uf),lf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i){return Object(g.a)(this,n),t.call(this,e,r,a,i)}return Object(y.a)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,c=(n-t)/(r-t),l=1-c,f=0;f!==o;++f)a[f]=i[u+f]*l+i[s+f]*c;return a}}]),n}(uf),ff=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i){return Object(g.a)(this,n),t.call(this,e,r,a,i)}return Object(y.a)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(uf),df=function(){function e(t,n,r,a){if(Object(g.a)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=sf.convertArray(n,this.TimeBufferType),this.values=sf.convertArray(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}return Object(y.a)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new ff(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new lf(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new cf(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case tn:t=this.InterpolantFactoryMethodDiscrete;break;case nn:t=this.InterpolantFactoryMethodLinear;break;case rn:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return tn;case this.InterpolantFactoryMethodLinear:return nn;case this.InterpolantFactoryMethodSmooth:return rn}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,a=0,i=r-1;a!==r&&n[a]<e;)++a;for(;-1!==i&&n[i]>t;)--i;if(++i,0!==a||i!==r){a>=i&&(a=(i=Math.max(i,1))-1);var o=this.getValueSize();this.times=sf.arraySlice(n,a,i),this.values=sf.arraySlice(this.values,a*o,i*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var i=null,o=0;o!==a;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==i&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,i),e=!1;break}i=s}if(void 0!==r&&sf.isTypedArray(r))for(var u=0,c=r.length;u!==c;++u){var l=r[u];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,l),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=sf.arraySlice(this.times),t=sf.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===rn,a=e.length-1,i=1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(r)s=!0;else for(var c=o*n,l=c-n,f=c+n,d=0;d!==n;++d){var h=t[c+d];if(h!==t[l+d]||h!==t[f+d]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];for(var p=o*n,m=i*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++i}}if(a>0){e[i]=e[a];for(var g=a*n,y=i*n,b=0;b!==n;++b)t[y+b]=t[g+b];++i}return i!==e.length?(this.times=sf.arraySlice(e,0,i),this.values=sf.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=sf.arraySlice(this.times,0),t=sf.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:sf.convertArray(e.times,Array),values:sf.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();df.prototype.TimeBufferType=Float32Array,df.prototype.ValueBufferType=Float32Array,df.prototype.DefaultInterpolation=nn;var hf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(df);hf.prototype.ValueTypeName="bool",hf.prototype.ValueBufferType=Array,hf.prototype.DefaultInterpolation=tn,hf.prototype.InterpolantFactoryMethodLinear=void 0,hf.prototype.InterpolantFactoryMethodSmooth=void 0;var pf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(df);pf.prototype.ValueTypeName="color";var mf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(df);mf.prototype.ValueTypeName="number";var vf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,i){return Object(g.a)(this,n),t.call(this,e,r,a,i)}return Object(y.a)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,c=u+o;u!==c;u+=4)Ar.slerpFlat(a,0,i,u-o,i,u,s);return a}}]),n}(uf),gf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new vf(this.times,this.values,this.getValueSize(),e)}}]),n}(df);gf.prototype.ValueTypeName="quaternion",gf.prototype.DefaultInterpolation=nn,gf.prototype.InterpolantFactoryMethodSmooth=void 0;var yf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(df);yf.prototype.ValueTypeName="string",yf.prototype.ValueBufferType=Array,yf.prototype.DefaultInterpolation=tn,yf.prototype.InterpolantFactoryMethodLinear=void 0,yf.prototype.InterpolantFactoryMethodSmooth=void 0;var bf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n)}(df);bf.prototype.ValueTypeName="vector";var _f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:un;Object(g.a)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=a,this.uuid=ar(),this.duration<0&&this.resetDuration()}return Object(y.a)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),a=0,i=n.length;a!==i;++a)t.push(wf(n[a]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},a=0,i=n.length;a!==i;++a)t.push(df.toJSON(n[a]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var a=t.length,i=[],o=0;o<a;o++){var s=[],u=[];s.push((o+a-1)%a,o,(o+1)%a),u.push(0,1,0);var c=sf.getKeyframeOrder(s);s=sf.sortedArray(s,1,c),u=sf.sortedArray(u,1,c),r||0!==s[0]||(s.push(a),u.push(u[0])),i.push(new mf(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,i)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},a=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var s=e[i],u=s.name.match(a);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,a){if(0!==n.length){var i=[],o=[];sf.flattenJSON(n,i,o,r),0!==i.length&&a.push(new e(t,i,o))}},r=[],a=e.name||"default",i=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],c=0;c<u.length;c++){var l=u[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){var f={},d=void 0;for(d=0;d<l.length;d++)if(l[d].morphTargets)for(var h=0;h<l[d].morphTargets.length;h++)f[l[d].morphTargets[h]]=-1;for(var p in f){for(var m=[],v=[],g=0;g!==l[d].morphTargets.length;++g){var y=l[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new mf(".morphTargetInfluence["+p+"]",m,v))}s=f.length*(i||1)}else{var b=".bones["+t[c].name+"]";n(bf,b+".position",l,"pos",r),n(gf,b+".quaternion",l,"rot",r),n(bf,b+".scale",l,"scl",r)}}return 0===r.length?null:new this(a,s,r,o)}}]),e}();function wf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mf;case"vector":case"vector2":case"vector3":case"vector4":return bf;case"color":return pf;case"quaternion":return gf;case"bool":case"boolean":return hf;case"string":return yf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];sf.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var xf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Af=Object(y.a)((function e(t,n,r){Object(g.a)(this,e);var a=this,i=!1,o=0,s=0,u=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===i&&void 0!==a.onStart&&a.onStart(e,o,s),i=!0},this.itemEnd=function(e){o++,void 0!==a.onProgress&&a.onProgress(e,o,s),o===s&&(i=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],a=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return a}return null}})),Mf=new Af,Ef=function(){function e(t){Object(g.a)(this,e),this.manager=void 0!==t?t:Mf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return Object(y.a)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,a){n.load(e,r,t,a)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),Cf={},Sf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=xf.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;if(void 0===Cf[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],c=!!s[2],l=s[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var f,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),p=0;p<l.length;p++)h[p]=l.charCodeAt(p);f="blob"===d?new Blob([h.buffer],{type:u}):h.buffer;break;case"document":var m=new DOMParser;f=m.parseFromString(l,u);break;case"json":f=JSON.parse(l);break;default:f=l}setTimeout((function(){t&&t(f),a.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}),0)}}else{for(var v in Cf[e]=[],Cf[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=Cf[e];if(delete Cf[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),xf.add(e,n);for(var i=0,o=r.length;i<o;i++){var s=r[i];s.onLoad&&s.onLoad(n)}a.manager.itemEnd(e)}else{for(var u=0,c=r.length;u<c;u++){var l=r[u];l.onError&&l.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=Cf[e],r=0,a=n.length;r<a;r++){var i=n[r];i.onProgress&&i.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=Cf[e];delete Cf[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=Cf[e];delete Cf[e];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return a.manager.itemStart(e),o}Cf[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Ef),Of=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Sf(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=_f.parse(e[n]);t.push(r)}return t}}]),n}(Ef),Tf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=[],o=new Ec,s=new Sf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(a.withCredentials);var u=0;function c(c){s.load(e[c],(function(e){var n=a.parse(e,!0);i[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=je),o.image=i,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var l=0,f=e.length;l<f;++l)c(l);else s.load(e,(function(e){var n=a.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){i[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)i[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),i[s].format=n.format,i[s].width=n.width,i[s].height=n.height}o.image=i}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=je),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(Ef),kf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=xf.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),xf.add(e,this),t&&t(this),a.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}]),n}(Ef),Bf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=new Xi,i=new kf(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);var o=0;function s(n){i.load(e[n],(function(e){a.images[n]=e,6===++o&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return a}}]),n}(Ef),Pf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Ku,o=new Sf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,(function(e){var n=a.parse(e);n&&(void 0!==n.image?i.image=n.image:void 0!==n.data&&(i.image.width=n.width,i.image.height=n.height,i.image.data=n.data),i.wrapS=void 0!==n.wrapS?n.wrapS:Oe,i.wrapT=void 0!==n.wrapT?n.wrapT:Oe,i.magFilter=void 0!==n.magFilter?n.magFilter:je,i.minFilter=void 0!==n.minFilter?n.minFilter:je,i.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(i.encoding=n.encoding),void 0!==n.flipY&&(i.flipY=n.flipY),void 0!==n.format&&(i.format=n.format),void 0!==n.type&&(i.type=n.type),void 0!==n.mipmaps&&(i.mipmaps=n.mipmaps,i.minFilter=Ie),1===n.mipmapCount&&(i.minFilter=je),void 0!==n.generateMipmaps&&(i.generateMipmaps=n.generateMipmaps),i.needsUpdate=!0,t&&t(i,n))}),n,r),i}}]),n}(Ef),Lf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=new gr,i=new kf(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(n){a.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);a.format=r?$e:et,a.needsUpdate=!0,void 0!==t&&t(a)}),n,r),a}}]),n}(Ef),Df=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return Object(y.a)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zc(t,e))}},{key:"getPoint",value:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var a=n[r]-t,i=this.curves[r],o=i.getLength(),s=0===o?0:1-a/o;return i.getPointAt(s)}r++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,a=this.curves;r<a.length;r++)for(var i=a[r],o=i&&i.isEllipseCurve?2*t:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?t*i.points.length:t,s=i.getPoints(o),u=0;u<s.length;u++){var c=s[u];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var a=this.curves[t];e.curves.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var a=e.curves[t];this.curves.push((new rl[a.type]).fromJSON(a))}return this}}]),n}(Ic),jf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new dr,e&&r.setFromPoints(e),r}return Object(y.a)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Zc(this.currentPoint.clone(),new dr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var a=new el(this.currentPoint.clone(),new dr(e,t),new dr(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){var o=new Jc(this.currentPoint.clone(),new dr(e,t),new dr(n,r),new dr(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new nl(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,a,i){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,a,i),this}},{key:"absarc",value:function(e,t,n,r,a,i){return this.absellipse(e,t,n,n,r,a,i),this}},{key:"ellipse",value:function(e,t,n,r,a,i,o,s){var u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,n,r,a,i,o,s),this}},{key:"absellipse",value:function(e,t,n,r,a,i,o,s){var u=new zc(e,t,n,r,a,i,o,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);return this.currentPoint.copy(l),this}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Df),Ff=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).uuid=ar(),r.type="Shape",r.holes=[],r}return Object(y.a)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push(a.clone())}return this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var a=this.holes[t];e.holes.push(a.toJSON())}return e}},{key:"fromJSON",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var a=e.holes[t];this.holes.push((new jf).fromJSON(a))}return this}}]),n}(jf),Rf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(g.a)(this,n),(r=t.call(this)).type="Light",r.color=new Xa(e),r.intensity=a,r}return Object(y.a)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Ca);Rf.prototype.isLight=!0;var If=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;return Object(g.a)(this,n),(i=t.call(this,e,a)).type="HemisphereLight",i.position.copy(Ca.DefaultUp),i.updateMatrix(),i.groundColor=new Xa(r),i}return Object(y.a)(n,[{key:"copy",value:function(e){return Rf.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(Rf);If.prototype.isHemisphereLight=!0;var zf=new ta,Uf=new Mr,Nf=new Mr,Gf=function(){function e(t){Object(g.a)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new dr(512,512),this.map=null,this.mapPass=null,this.matrix=new ta,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eo,this._frameExtents=new dr(1,1),this._viewportCount=1,this._viewports=[new br(0,0,1,1)]}return Object(y.a)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Uf.setFromMatrixPosition(e.matrixWorld),t.position.copy(Uf),Nf.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Nf),t.updateMatrixWorld(),zf.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zf),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Hf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this,new Hi(50,1,.5,500))).focus=1,e}return Object(y.a)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*rr*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&a===t.aspect&&i===t.far||(t.fov=r,t.aspect=a,t.far=i,t.updateProjectionMatrix()),Object(f.a)(Object(d.a)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Gf);Hf.prototype.isSpotLightShadow=!0;var Vf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="SpotLight",a.position.copy(Ca.DefaultUp),a.updateMatrix(),a.target=new Ca,a.distance=i,a.angle=o,a.penumbra=s,a.decay=u,a.shadow=new Hf,a}return Object(y.a)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Rf);Vf.prototype.isSpotLight=!0;var Wf=new ta,Xf=new Mr,qf=new Mr,Qf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this,new Hi(90,1,.5,500)))._frameExtents=new dr(4,2),e._viewportCount=6,e._viewports=[new br(2,1,1,1),new br(0,1,1,1),new br(3,1,1,1),new br(1,1,1,1),new br(3,0,1,1),new br(1,0,1,1)],e._cubeDirections=[new Mr(1,0,0),new Mr(-1,0,0),new Mr(0,0,1),new Mr(0,0,-1),new Mr(0,1,0),new Mr(0,-1,0)],e._cubeUps=[new Mr(0,1,0),new Mr(0,1,0),new Mr(0,1,0),new Mr(0,1,0),new Mr(0,0,1),new Mr(0,0,-1)],e}return Object(y.a)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Xf.setFromMatrixPosition(e.matrixWorld),n.position.copy(Xf),qf.copy(n.position),qf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(qf),n.updateMatrixWorld(),r.makeTranslation(-Xf.x,-Xf.y,-Xf.z),Wf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wf)}}]),n}(Gf);Qf.prototype.isPointLightShadow=!0;var Yf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="PointLight",a.distance=i,a.decay=o,a.shadow=new Qf,a}return Object(y.a)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Rf);Yf.prototype.isPointLight=!0;var Jf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return Object(g.a)(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=a,e.top=i,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return Object(y.a)(n,[{key:"copy",value:function(e,t){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=n-e,i=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i=(a+=u*this.view.offsetX)+u*this.view.width,s=(o-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Gi);Jf.prototype.isOrthographicCamera=!0;var Kf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){return Object(g.a)(this,n),t.call(this,new Jf(-5,5,5,-5,.5,500))}return Object(y.a)(n)}(Gf);Kf.prototype.isDirectionalLightShadow=!0;var Zf=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="DirectionalLight",a.position.copy(Ca.DefaultUp),a.updateMatrix(),a.target=new Ca,a.shadow=new Kf,a}return Object(y.a)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Rf);Zf.prototype.isDirectionalLight=!0;var $f=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="AmbientLight",a}return Object(y.a)(n)}(Rf);$f.prototype.isAmbientLight=!0;var ed=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return Object(g.a)(this,n),(a=t.call(this,e,r)).type="RectAreaLight",a.width=i,a.height=o,a}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Rf);ed.prototype.isRectAreaLight=!0;var td=function(){function e(){Object(g.a)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Mr)}return Object(y.a)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*r),t.addScaledVector(i[2],.488603*a),t.addScaledVector(i[3],.488603*n),t.addScaledVector(i[4],n*r*1.092548),t.addScaledVector(i[5],r*a*1.092548),t.addScaledVector(i[6],.315392*(3*a*a-1)),t.addScaledVector(i[7],n*a*1.092548),t.addScaledVector(i[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*r),t.addScaledVector(i[2],1.023328*a),t.addScaledVector(i[3],1.023328*n),t.addScaledVector(i[4],.858086*n*r),t.addScaledVector(i[5],.858086*r*a),t.addScaledVector(i[6],.743125*a*a-.247708),t.addScaledVector(i[7],.858086*n*a),t.addScaledVector(i[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}]),e}();td.prototype.isSphericalHarmonics3=!0;var nd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new td,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(g.a)(this,n),(e=t.call(this,void 0,a)).sh=r,e}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Rf);nd.prototype.isLightProbe=!0;var rd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).textures={},r}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Sf(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new of[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Xa).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var i=e.uniforms[a];switch(r.uniforms[a]={},i.type){case"t":r.uniforms[a].value=n(i.value);break;case"c":r.uniforms[a].value=(new Xa).setHex(i.value);break;case"v2":r.uniforms[a].value=(new dr).fromArray(i.value);break;case"v3":r.uniforms[a].value=(new Mr).fromArray(i.value);break;case"v4":r.uniforms[a].value=(new br).fromArray(i.value);break;case"m3":r.uniforms[a].value=(new pr).fromArray(i.value);break;case"m4":r.uniforms[a].value=(new ta).fromArray(i.value);break;default:r.uniforms[a].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new dr).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new dr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(Ef),ad=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(a){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}]),e}(),id=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(gi);id.prototype.isInstancedBufferGeometry=!0;var od=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(g.a)(this,n),"number"===typeof a&&(o=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(i=t.call(this,e,r,a)).meshPerAttribute=o,i}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(Ja);od.prototype.isInstancedBufferAttribute=!0;var sd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Sf(a.manager);i.setPath(a.path),i.setRequestHeader(a.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(n){try{t(a.parse(JSON.parse(n)))}catch(i){r?r(i):console.error(i),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var a=e.interleavedBuffers[r],i=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],a=new Uint32Array(r).buffer;return n[t]=a,a}(e,a.buffer),o=ci(a.type,i),s=new xu(o,a.stride);return s.uuid=a.uuid,t[r]=s,s}var a=e.isInstancedBufferGeometry?new id:new gi,i=e.data.index;if(void 0!==i){var o=ci(i.type,i.array);a.setIndex(new Ja(o,1))}var s=e.data.attributes;for(var u in s){var c=s[u],l=void 0;if(c.isInterleavedBufferAttribute){var f=r(e.data,c.data);l=new Mu(f,c.itemSize,c.offset,c.normalized)}else{var d=ci(c.type,c.array);l=new(c.isInstancedBufferAttribute?od:Ja)(d,c.itemSize,c.normalized)}void 0!==c.name&&(l.name=c.name),void 0!==c.usage&&l.setUsage(c.usage),void 0!==c.updateRange&&(l.updateRange.offset=c.updateRange.offset,l.updateRange.count=c.updateRange.count),a.setAttribute(u,l)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var m=h[p],v=[],g=0,y=m.length;g<y;g++){var b=m[g],_=void 0;if(b.isInterleavedBufferAttribute){var w=r(e.data,b.data);_=new Mu(w,b.itemSize,b.offset,b.normalized)}else{var x=ci(b.type,b.array);_=new Ja(x,b.itemSize,b.normalized)}void 0!==b.name&&(_.name=b.name),v.push(_)}a.morphAttributes[p]=v}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);var A=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==A)for(var M=0,E=A.length;M!==E;++M){var C=A[M];a.addGroup(C.start,C.count,C.materialIndex)}var S=e.data.boundingSphere;if(void 0!==S){var O=new Mr;void 0!==S.center&&O.fromArray(S.center),a.boundingSphere=new Xr(O,S.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}]),n}(Ef),ud=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=""===this.path?ad.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;var o=new Sf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var i=null;try{i=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=i.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?a.parse(i,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r,a,o,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,a=""===this.path?ad.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||a,(o=new Sf(this.manager)).setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),e.next=9,o.loadAsync(t,n);case 9:if(s=e.sent,u=JSON.parse(s),void 0!==(c=u.metadata)&&void 0!==c.type&&"geometry"!==c.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(u);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,a,s,o,n),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),void 0!==t){var l=!1;for(var f in i)if(i[f]instanceof HTMLImageElement){l=!0;break}!1===l&&t(u)}return u}},{key:"parseAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,o,s,u,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return o=e.sent,s=this.parseTextures(t.textures,o),u=this.parseMaterials(t.materials,s),c=this.parseObject(t.object,a,u,s,n),l=this.parseSkeletons(t.skeletons,c),this.bindSkeletons(c,l),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var a=(new Ff).fromJSON(e[n]);t[a.uuid]=a}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=(new ec).fromJSON(e[a],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new sd,a=0,i=e.length;a<i;a++){var o=void 0,s=e[a];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:s.type in Ql?o=Ql[s.type].fromJSON(s,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(s.type,'"'))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var a=new rd;a.setTextures(t);for(var i=0,o=e.length;i<o;i++){var s=e[i];if("MultiMaterial"===s.type){for(var u=[],c=0;c<s.materials.length;c++){var l=s.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=a.parse(l)),u.push(n[l.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=a.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],a=_f.parse(r);t[a.uuid]=a}return t}},{key:"parseImages",value:function(e,t){var n,r=this,a={};function i(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:ci(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Af(t);(n=new kf(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var c=e[s],l=c.url;if(Array.isArray(l)){a[c.uuid]=[];for(var f=0,d=l.length;f<d;f++){var h=i(l[f]);null!==h&&(h instanceof HTMLImageElement?a[c.uuid].push(h):a[c.uuid].push(new Ku(h.data,h.width,h.height)))}}else{var p=i(c.url);null!==p&&(a[c.uuid]=p)}}}return a}},{key:"parseImagesAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,s,u,c,l,f,d,h,p,m,v,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return u=Object(o.a)(i.a.mark((function e(t){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return o=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,a.loadAsync(o);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:ci(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},s=function(e){return u.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=32;break}(a=new kf(this.manager)).setCrossOrigin(this.crossOrigin),c=0,l=t.length;case 8:if(!(c<l)){e.next=32;break}if(f=t[c],d=f.url,!Array.isArray(d)){e.next=25;break}r[f.uuid]=[],h=0,p=d.length;case 14:if(!(h<p)){e.next=23;break}return m=d[h],e.next=18,s(m);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?r[f.uuid].push(v):r[f.uuid].push(new Ku(v.data,v.width,v.height)));case 20:h++,e.next=14;break;case 23:e.next=29;break;case 25:return e.next=27,s(f.url);case 27:null!==(g=e.sent)&&(r[f.uuid]=g);case 29:c++,e.next=8;break;case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var a=0,i=e.length;a<i;a++){var o=e[a];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0,u=t[o.image];Array.isArray(u)?(s=new Xi(u),6===u.length&&(s.needsUpdate=!0)):(s=u&&u.data?new Ku(u.data,u.width,u.height):new gr(u),u&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,cd)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],ld),s.wrapT=n(o.wrap[1],ld)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,fd)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,fd)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r}},{key:"parseObject",value:function(e,t,n,r,a){var i,o,s;function u(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,a=e.length;r<a;r++){var i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function l(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":i=new wu,void 0!==e.background&&(Number.isInteger(e.background)?i.background=new Xa(e.background):i.background=l(e.background)),void 0!==e.environment&&(i.environment=l(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new _u(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new bu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Hi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new Jf(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new $f(e.color,e.intensity);break;case"DirectionalLight":i=new Zf(e.color,e.intensity);break;case"PointLight":i=new Yf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new ed(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Vf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new If(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new nd).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),s=c(e.material),i=new Yu(o,s),void 0!==e.bindMode&&(i.bindMode=e.bindMode),void 0!==e.bindMatrix&&i.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(i.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),s=c(e.material),i=new ji(o,s);break;case"InstancedMesh":o=u(e.geometry),s=c(e.material);var f=e.count,d=e.instanceMatrix,h=e.instanceColor;(i=new ic(o,s,f)).instanceMatrix=new Ja(new Float32Array(d.array),16),void 0!==h&&(i.instanceColor=new Ja(new Float32Array(h.array),h.itemSize));break;case"LOD":i=new Hu;break;case"Line":i=new dc(u(e.geometry),c(e.material));break;case"LineLoop":i=new vc(u(e.geometry),c(e.material));break;case"LineSegments":i=new mc(u(e.geometry),c(e.material));break;case"PointCloud":case"Points":i=new xc(u(e.geometry),c(e.material));break;case"Sprite":i=new zu(c(e.material));break;case"Group":i=new fu;break;case"Bone":i=new Ju;break;default:i=new Ca}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(i.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,m=0;m<p.length;m++)i.add(this.parseObject(p[m],t,n,r,a));if(void 0!==e.animations)for(var v=e.animations,g=0;g<v.length;g++){var y=v[g];i.animations.push(a[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var b=e.levels,_=0;_<b.length;_++){var w=b[_],x=i.getObjectByProperty("uuid",w.object);void 0!==x&&i.addLevel(x,w.distance)}}return i}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(Ef),cd={UVMapping:_e,CubeReflectionMapping:we,CubeRefractionMapping:xe,EquirectangularReflectionMapping:Ae,EquirectangularRefractionMapping:Me,CubeUVReflectionMapping:Ee,CubeUVRefractionMapping:Ce},ld={RepeatWrapping:Se,ClampToEdgeWrapping:Oe,MirroredRepeatWrapping:Te},fd={NearestFilter:ke,NearestMipmapNearestFilter:Be,NearestMipmapLinearFilter:Le,LinearFilter:je,LinearMipmapNearestFilter:Fe,LinearMipmapLinearFilter:Ie},dd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return Object(y.a)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=this,i=xf.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(a.options,{colorSpaceConversion:"none"}))})).then((function(n){xf.add(e,n),t&&t(n),a.manager.itemEnd(e)})).catch((function(t){r&&r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}]),n}(Ef);dd.prototype.isImageBitmapLoader=!0;var hd=function(){function e(){Object(g.a)(this,e),this.type="ShapePath",this.color=new Xa,this.subPaths=[],this.currentPath=null}return Object(y.a)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new jf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,a,i){return this.currentPath.bezierCurveTo(e,t,n,r,a,i),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n],i=new Ff;i.curves=a.curves,t.push(i)}return t}function r(e,t){for(var n=t.length,r=!1,a=n-1,i=0;i<n;a=i++){var o=t[a],s=t[i],u=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=t[i],u=-u,s=t[a],c=-c),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var l=c*(e.x-o.x)-u*(e.y-o.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var a,i,o,s=kl.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===t)return n(u);var c=[];if(1===u.length)return i=u[0],(o=new Ff).curves=i.curves,c.push(o),c;var l=!s(u[0].getPoints());l=e?!l:l;var f,d,h=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=u.length;g<y;g++)a=s(f=(i=u[g]).getPoints()),(a=e?!a:a)?(!l&&p[v]&&v++,p[v]={s:new Ff,p:f},p[v].s.curves=i.curves,l&&v++,m[v]=[]):m[v].push({h:i,p:f[0]});if(!p[0])return n(u);if(p.length>1){for(var b=!1,_=[],w=0,x=p.length;w<x;w++)h[w]=[];for(var A=0,M=p.length;A<M;A++)for(var E=m[A],C=0;C<E.length;C++){for(var S=E[C],O=!0,T=0;T<p.length;T++)r(S.p,p[T].p)&&(A!==T&&_.push({froms:A,tos:T,hole:C}),O?(O=!1,h[T].push(S)):b=!0);O&&h[A].push(S)}_.length>0&&(b||(m=h))}for(var k=0,B=p.length;k<B;k++){o=p[k].s,c.push(o);for(var P=0,L=(d=m[k]).length;P<L;P++)o.holes.push(d[P].h)}return c}}]),e}(),pd=function(){function e(t){Object(g.a)(this,e),this.type="Font",this.data=t}return Object(y.a)(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=md(e,t,this.data),a=0,i=r.length;a<i;a++)Array.prototype.push.apply(n,r[a].toShapes());return n}}]),e}();function md(e,t,n){for(var r=Array.from(e),a=t/n.resolution,i=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,o=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=i;else{var f=vd(l,a,s,u,n);s+=f.offsetX,o.push(f.path)}}return o}function vd(e,t,n,r,a){var i=a.glyphs[e]||a.glyphs["?"];if(i){var o,s,u,c,l,f,d,h,p=new hd;if(i.o)for(var m=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(o,s);break;case"q":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,f=m[v++]*t+r,p.quadraticCurveTo(l,f,u,c);break;case"b":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,f=m[v++]*t+r,d=m[v++]*t+n,h=m[v++]*t+r,p.bezierCurveTo(l,f,d,h,u,c)}}return{offsetX:i.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".")}pd.prototype.isFont=!0;var gd,yd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Sf(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(a.withCredentials),i.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(i){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=a.parse(n);t&&t(r)}),n,r)}},{key:"parse",value:function(e){return new pd(e)}}]),n}(Ef),bd={getContext:function(){return void 0===gd&&(gd=new(window.AudioContext||window.webkitAudioContext)),gd},setContext:function(e){gd=e}},_d=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(g.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new Sf(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(n){try{var i=n.slice(0);bd.getContext().decodeAudioData(i,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),a.manager.itemError(e)}}),n,r)}}]),n}(Ef),wd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(g.a)(this,n),a=t.call(this,void 0,i);var o=(new Xa).set(e),s=(new Xa).set(r),u=new Mr(o.r,o.g,o.b),c=new Mr(s.r,s.g,s.b),l=Math.sqrt(Math.PI),f=l*Math.sqrt(.75);return a.sh.coefficients[0].copy(u).add(c).multiplyScalar(l),a.sh.coefficients[1].copy(u).sub(c).multiplyScalar(f),a}return Object(y.a)(n)}(nd);wd.prototype.isHemisphereLightProbe=!0;var xd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(g.a)(this,n),r=t.call(this,void 0,a);var i=(new Xa).set(e);return r.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return Object(y.a)(n)}(nd);xd.prototype.isAmbientLightProbe=!0;var Ad=new ta,Md=new ta,Ed=function(){function e(){Object(g.a)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return Object(y.a)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,a=e.projectionMatrix.clone(),i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(nr*t.fov*.5)/t.zoom;Md.elements[12]=-i,Ad.elements[12]=i,n=-s*t.aspect+o,r=s*t.aspect+o,a.elements[0]=2*t.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(a),n=-s*t.aspect-o,r=s*t.aspect-o,a.elements[0]=2*t.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(a)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Md),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ad)}}]),e}(),Cd=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(g.a)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Object(y.a)(e,[{key:"start",value:function(){this.startTime=Sd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Sd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Sd(){return("undefined"===typeof performance?Date:performance).now()}var Od=new Mr,Td=new Ar,kd=new Mr,Bd=new Mr,Pd=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(g.a)(this,n),(e=t.call(this)).type="AudioListener",e.context=bd.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Cd,e}return Object(y.a)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Od,Td,kd),Bd.set(0,0,-1).applyQuaternion(Td),t.positionX){var a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Od.x,a),t.positionY.linearRampToValueAtTime(Od.y,a),t.positionZ.linearRampToValueAtTime(Od.z,a),t.forwardX.linearRampToValueAtTime(Bd.x,a),t.forwardY.linearRampToValueAtTime(Bd.y,a),t.forwardZ.linearRampToValueAtTime(Bd.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Od.x,Od.y,Od.z),t.setOrientation(Bd.x,Bd.y,Bd.z,r.x,r.y,r.z)}}]),n}(Ca),Ld=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Object(y.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Ca),Dd=new Mr,jd=new Ar,Fd=new Mr,Rd=new Mr,Id=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return Object(y.a)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Dd,jd,Fd),Rd.set(0,0,1).applyQuaternion(jd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dd.x,r),t.positionY.linearRampToValueAtTime(Dd.y,r),t.positionZ.linearRampToValueAtTime(Dd.z,r),t.orientationX.linearRampToValueAtTime(Rd.x,r),t.orientationY.linearRampToValueAtTime(Rd.y,r),t.orientationZ.linearRampToValueAtTime(Rd.z,r)}else t.setPosition(Dd.x,Dd.y,Dd.z),t.setOrientation(Rd.x,Rd.y,Rd.z)}}}]),n}(Ld),zd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Object(g.a)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Object(y.a)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Ud=function(){function e(t,n,r){var a,i,o;switch(Object(g.a)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":a=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:a=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return Object(y.a)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,a=e*r+r,i=this.cumulativeWeight;if(0===i){for(var o=0;o!==r;++o)n[a+o]=n[o];i=t}else{var s=t/(i+=t);this._mixBufferRegion(n,a,0,s,r)}this.cumulativeWeight=i}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-a,t)}i>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,c=t+t;u!==c;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var a=n,i=r;a!==i;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,a){if(r>=.5)for(var i=0;i!==a;++i)e[t+i]=e[n+i]}},{key:"_slerp",value:function(e,t,n,r){Ar.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,a){var i=this._workIndex*a;Ar.multiplyQuaternionsFlat(e,i,e,t,e,n),Ar.slerpFlat(e,t,e,t,e,i,r)}},{key:"_lerp",value:function(e,t,n,r,a){for(var i=1-r,o=0;o!==a;++o){var s=t+o;e[s]=e[s]*i+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,a){for(var i=0;i!==a;++i){var o=t+i;e[o]=e[o]+e[n+i]*r}}}]),e}(),Nd="\\[\\]\\.:\\/",Gd=new RegExp("[\\[\\]\\.:\\/]","g"),Hd="[^\\[\\]\\.:\\/]",Vd="[^"+Nd.replace("\\.","")+"]",Wd=/((?:WC+[\/:])*)/.source.replace("WC",Hd),Xd=/(WCOD+)?/.source.replace("WCOD",Vd),qd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Hd),Qd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Hd),Yd=new RegExp("^"+Wd+Xd+qd+Qd+"$"),Jd=["material","materials","bones"],Kd=function(){function e(t,n,r){Object(g.a)(this,e);var a=r||Zd.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,a)}return Object(y.a)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Zd=function(){function e(t,n,r){Object(g.a)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return Object(y.a)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.node[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,a=n.propertyName,i=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[a];if(void 0!==u){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=i}else void 0!==u.fromArray&&void 0!==u.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(l=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=a;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+a+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Gd,"")}},{key:"parseTrackName",value:function(e){var t=Yd.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var a=n.nodeName.substring(r+1);-1!==Jd.indexOf(a)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var a=n[r];if(a.name===t||a.uuid===t)return a;var i=e(a.children);if(i)return i}return null}(e.children);if(r)return r}return null}}]),e}();Zd.Composite=Kd,Zd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Zd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Zd.prototype.GetterByBindingType=[Zd.prototype._getValue_direct,Zd.prototype._getValue_array,Zd.prototype._getValue_arrayElement,Zd.prototype._getValue_toArray],Zd.prototype.SetterByBindingTypeAndVersioning=[[Zd.prototype._setValue_direct,Zd.prototype._setValue_direct_setNeedsUpdate,Zd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zd.prototype._setValue_array,Zd.prototype._setValue_array_setNeedsUpdate,Zd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zd.prototype._setValue_arrayElement,Zd.prototype._setValue_arrayElement_setNeedsUpdate,Zd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zd.prototype._setValue_fromArray,Zd.prototype._setValue_fromArray_setNeedsUpdate,Zd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var $d=function(){function e(){Object(g.a)(this,e),this.uuid=ar(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}return Object(y.a)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,i=a.length,o=void 0,s=e.length,u=this.nCachedObjects_,c=0,l=arguments.length;c!==l;++c){var f=arguments[c],d=f.uuid,h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(f);for(var p=0,m=i;p!==m;++p)a[p].push(new Zd(f,n[p],r[p]))}else if(h<u){o=e[h];var v=--u,g=e[v];t[g.uuid]=h,e[h]=g,t[d]=v,e[v]=f;for(var y=0,b=i;y!==b;++y){var _=a[y],w=_[v],x=_[h];_[h]=w,void 0===x&&(x=new Zd(f,n[y],r[y])),_[v]=x}}else e[h]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=0,o=arguments.length;i!==o;++i){var s=arguments[i],u=s.uuid,c=t[u];if(void 0!==c&&c>=a){var l=a++,f=e[l];t[f.uuid]=c,e[c]=f,t[u]=l,e[l]=s;for(var d=0,h=r;d!==h;++d){var p=n[d],m=p[l],v=p[c];p[c]=m,p[l]=v}}}this.nCachedObjects_=a}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,a=this.nCachedObjects_,i=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],c=u.uuid,l=t[c];if(void 0!==l)if(delete t[c],l<a){var f=--a,d=e[f],h=--i,p=e[h];t[d.uuid]=l,e[l]=d,t[p.uuid]=f,e[f]=p,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[f],b=g[h];g[l]=y,g[f]=b,g.pop()}}else{var _=--i,w=e[_];_>0&&(t[w.uuid]=l),e[l]=w,e.pop();for(var x=0,A=r;x!==A;++x){var M=n[x];M[l]=M[_],M.pop()}}}this.nCachedObjects_=a}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],a=this._bindings;if(void 0!==r)return a[r];var i=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=a.length,n[e]=r,i.push(e),o.push(t),a.push(l);for(var f=c,d=s.length;f!==d;++f){var h=s[f];l[f]=new Zd(h,e,t)}return l}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length-1,s=i[o];t[e[o]]=n,i[n]=s,i.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}}]),e}();$d.prototype.isAnimationObjectGroup=!0;var eh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Object(g.a)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=a;for(var i=n.tracks,o=i.length,s=new Array(o),u={endingStart:an,endingEnd:an},c=0;c!==o;++c){var l=i[c].createInterpolant(null);s[c]=l,l.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$t,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(y.a)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,a=e._clip.duration,i=a/r,o=r/a;e.warp(1,i,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,a=r.time,i=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=a,s[1]=a+n,u[0]=e/i,u[1]=t/i,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var a=this._startTime;if(null!==a){var i=(e-a)*n;if(i<0||0===n)return;this._startTime=null,t=n*i}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,c=this._propertyBindings;if(this.blendMode===cn)for(var l=0,f=u.length;l!==f;++l)u[l].evaluate(o),c[l].accumulateAdditive(s);else for(var d=0,h=u.length;d!==h;++d)u[d].evaluate(o),c[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,a=this._loopCount,i=n===en;if(0===e)return-1===a?r:i&&1===(1&a)?t-r:r;if(n===Zt){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);var s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(i&&1===(1&a))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=on,r.endingEnd=on):(r.endingStart=e?this.zeroSlopeAtStart?on:an:sn,r.endingEnd=t?this.zeroSlopeAtEnd?on:an:sn)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,a=r.time,i=this._weightInterpolant;null===i&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);var o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=n,this}}]),e}(),th=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return Object(y.a)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,i=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==a;++l){var f=r[l],d=f.name,h=c[d];if(void 0!==h)i[l]=h;else{if(void 0!==(h=i[l])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,d));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;++(h=new Ud(Zd.create(n,d,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(h,s,d),i[l]=h}o[l].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var a=e._propertyBindings,i=0,o=a.length;i!==o;++i){var s=a[i];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,a=this._actionsByClip,i=a[t];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=i;else{var o=i.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var a=t[n];0===--a.referenceCount&&this._removeInactiveBinding(a)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,a=this._bindings,i=r[t];void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,i=this._bindingsByRootAndName,o=i[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[a],0===Object.keys(o).length&&delete i[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new lf(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,a=r.uuid,i="string"===typeof e?_f.findByName(r,e):e,o=null!==i?i.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==i?i.blendMode:un),void 0!==s){var c=s.actionByRoot[a];if(void 0!==c&&c.blendMode===n)return c;u=s.knownActions[0],null===i&&(i=u._clip)}if(null===i)return null;var l=new eh(this,i,t,n);return this._bindAction(l,u),this._addInactiveAction(l,o,a),l}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,a="string"===typeof e?_f.findByName(n,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,a,i)}for(var s=this._bindings,u=this._nActiveBindings,c=0;c!==u;++c)s[c].apply(i);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(void 0!==a){for(var i=a.knownActions,o=0,s=i.length;o!==s;++o){var u=i[o];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var a=n[r].actionByRoot[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var i=this._bindingsByRootAndName[t];if(void 0!==i)for(var o in i){var s=i[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Zn);th.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var nh=function(){function e(t){Object(g.a)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return Object(y.a)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),rh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(g.a)(this,n),(a=t.call(this,e,r)).meshPerAttribute=i,a}return Object(y.a)(n,[{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=Object(f.a)(Object(d.a)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(xu);rh.prototype.isInstancedInterleavedBuffer=!0;var ah=function(){function e(t,n,r,a,i){Object(g.a)(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=a,this.count=i,this.version=0}return Object(y.a)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();ah.prototype.isGLBufferAttribute=!0;var ih=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;Object(g.a)(this,e),this.ray=new ea(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new da,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return Object(y.a)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return sh(e,this,n,t),n.sort(oh),n}},{key:"intersectObjects",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,a=e.length;r<a;r++)sh(e[r],this,n,t);return n.sort(oh),n}}]),e}();function oh(e,t){return e.distance-t.distance}function sh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var a=e.children,i=0,o=a.length;i<o;i++)sh(a[i],t,n,!0)}var uh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(g.a)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Object(y.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ch=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(g.a)(this,e),this.radius=t,this.theta=n,this.y=r,this}return Object(y.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),lh=new dr,fh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new dr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new dr(-1/0,-1/0);Object(g.a)(this,e),this.min=t,this.max=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=lh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return lh.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();fh.prototype.isBox2=!0;var dh=new Mr,hh=new Mr,ph=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr;Object(g.a)(this,e),this.start=t,this.end=n}return Object(y.a)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){dh.subVectors(e,this.start),hh.subVectors(this.end,this.start);var n=hh.dot(hh),r=hh.dot(dh)/n;return t&&(r=ir(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),mh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this)).material=e,r.render=function(){},r.hasPositions=!1,r.hasNormals=!1,r.hasColors=!1,r.hasUvs=!1,r.positionArray=null,r.normalArray=null,r.colorArray=null,r.uvArray=null,r.count=0,r}return Object(y.a)(n)}(Ca);mh.prototype.isImmediateRenderObject=!0;var vh=new Mr,gh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;Object(g.a)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=r;for(var i=new gi,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var c=s/32*Math.PI*2,l=u/32*Math.PI*2;o.push(Math.cos(c),Math.sin(c),1,Math.cos(l),Math.sin(l),1)}i.setAttribute("position",new ii(o,3));var f=new oc({fog:!1,toneMapped:!1});return a.cone=new mc(i,f),a.add(a.cone),a.update(),a}return Object(y.a)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Ca),yh=new Mr,bh=new ta,_h=new ta,wh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;Object(g.a)(this,n);for(var a=xh(e),i=new gi,o=[],s=[],u=new Xa(0,0,1),c=new Xa(0,1,0),l=0;l<a.length;l++){var f=a[l];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(c.r,c.g,c.b))}i.setAttribute("position",new ii(o,3)),i.setAttribute("color",new ii(s,3));var d=new oc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,i,d)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=a,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Object(y.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,a=r.getAttribute("position");_h.copy(this.root.matrixWorld).invert();for(var i=0,o=0;i<t.length;i++){var s=t[i];s.parent&&s.parent.isBone&&(bh.multiplyMatrices(_h,s.matrixWorld),yh.setFromMatrixPosition(bh),a.setXYZ(o,yh.x,yh.y,yh.z),bh.multiplyMatrices(_h,s.parent.matrixWorld),yh.setFromMatrixPosition(bh),a.setXYZ(o+1,yh.x,yh.y,yh.z),o+=2)}r.getAttribute("position").needsUpdate=!0,Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(mc);function xh(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,xh(e.children[n]));return t}var Ah=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;Object(g.a)(this,n);var o=new Nl(r,4,2),s=new qa({wireframe:!0,fog:!1,toneMapped:!1});return(i=t.call(this,o,s)).light=e,i.light.updateMatrixWorld(),i.color=a,i.type="PointLightHelper",i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!1,i.update(),i}return Object(y.a)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(ji),Mh=new Mr,Eh=new Xa,Ch=new Xa,Sh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;Object(g.a)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a;var o=new Rl(r);o.rotateY(.5*Math.PI),i.material=new qa({wireframe:!0,fog:!1,toneMapped:!1}),void 0===i.color&&(i.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Ja(u,3)),i.add(new ji(o,i.material)),i.update(),i}return Object(y.a)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Eh.copy(this.light.color),Ch.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var a=n<r/2?Eh:Ch;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}e.lookAt(Mh.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Ca),Oh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Object(g.a)(this,n),i=new Xa(i),o=new Xa(o);for(var s=a/2,u=r/a,c=r/2,l=[],f=[],d=0,h=0,p=-c;d<=a;d++,p+=u){l.push(-c,0,p,c,0,p),l.push(p,0,-c,p,0,c);var m=d===s?i:o;m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3}var v=new gi;v.setAttribute("position",new ii(l,3)),v.setAttribute("color",new ii(f,3));var y=new oc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,y)).type="GridHelper",e}return Object(y.a)(n)}(mc),Th=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;Object(g.a)(this,n),s=new Xa(s),u=new Xa(u);for(var c=[],l=[],f=0;f<=a;f++){var d=f/a*(2*Math.PI),h=Math.sin(d)*r,p=Math.cos(d)*r;c.push(0,0,0),c.push(h,0,p);var m=1&f?s:u;l.push(m.r,m.g,m.b),l.push(m.r,m.g,m.b)}for(var v=0;v<=i;v++)for(var y=1&v?s:u,b=r-r/i*v,_=0;_<o;_++){var w=_/o*(2*Math.PI),x=Math.sin(w)*b,A=Math.cos(w)*b;c.push(x,0,A),l.push(y.r,y.g,y.b),w=(_+1)/o*(2*Math.PI),x=Math.sin(w)*b,A=Math.cos(w)*b,c.push(x,0,A),l.push(y.r,y.g,y.b)}var M=new gi;M.setAttribute("position",new ii(c,3)),M.setAttribute("color",new ii(l,3));var E=new oc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,M,E)).type="PolarGridHelper",e}return Object(y.a)(n)}(mc),kh=new Mr,Bh=new Mr,Ph=new Mr,Lh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i;Object(g.a)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=a,void 0===r&&(r=1);var o=new gi;o.setAttribute("position",new ii([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new oc({fog:!1,toneMapped:!1});return i.lightPlane=new dc(o,s),i.add(i.lightPlane),(o=new gi).setAttribute("position",new ii([0,0,0,0,0,1],3)),i.targetLine=new dc(o,s),i.add(i.targetLine),i.update(),i}return Object(y.a)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){kh.setFromMatrixPosition(this.light.matrixWorld),Bh.setFromMatrixPosition(this.light.target.matrixWorld),Ph.subVectors(Bh,kh),this.lightPlane.lookAt(Bh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bh),this.targetLine.scale.z=Ph.length()}}]),n}(Ca),Dh=new Mr,jh=new Gi,Fh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r;Object(g.a)(this,n);var a=new gi,i=new oc({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={},c=new Xa(16755200),l=new Xa(16711680),f=new Xa(43775),d=new Xa(16777215),h=new Xa(3355443);function p(e,t,n){m(e,n),m(t,n)}function m(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}return p("n1","n2",c),p("n2","n4",c),p("n4","n3",c),p("n3","n1",c),p("f1","f2",c),p("f2","f4",c),p("f4","f3",c),p("f3","f1",c),p("n1","f1",c),p("n2","f2",c),p("n3","f3",c),p("n4","f4",c),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",f),p("u2","u3",f),p("u3","u1",f),p("c","t",d),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h),a.setAttribute("position",new ii(o,3)),a.setAttribute("color",new ii(s,3)),(r=t.call(this,a,i)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update(),r}return Object(y.a)(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;jh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rh("c",t,e,jh,0,0,-1),Rh("t",t,e,jh,0,0,1),Rh("n1",t,e,jh,-1,-1,-1),Rh("n2",t,e,jh,1,-1,-1),Rh("n3",t,e,jh,-1,1,-1),Rh("n4",t,e,jh,1,1,-1),Rh("f1",t,e,jh,-1,-1,1),Rh("f2",t,e,jh,1,-1,1),Rh("f3",t,e,jh,-1,1,1),Rh("f4",t,e,jh,1,1,1),Rh("u1",t,e,jh,.7,1.1,-1),Rh("u2",t,e,jh,-.7,1.1,-1),Rh("u3",t,e,jh,0,2,-1),Rh("cf1",t,e,jh,-1,0,1),Rh("cf2",t,e,jh,1,0,1),Rh("cf3",t,e,jh,0,-1,1),Rh("cf4",t,e,jh,0,1,1),Rh("cn1",t,e,jh,-1,0,-1),Rh("cn2",t,e,jh,1,0,-1),Rh("cn3",t,e,jh,0,-1,-1),Rh("cn4",t,e,jh,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(mc);function Rh(e,t,n,r,a,i,o){Dh.set(a,i,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),c=0,l=s.length;c<l;c++)u.setXYZ(s[c],Dh.x,Dh.y,Dh.z)}var Ih,zh,Uh=new Sr,Nh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(g.a)(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new gi;return s.setIndex(new Ja(i,1)),s.setAttribute("position",new Ja(o,3)),(r=t.call(this,s,new oc({color:a,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return Object(y.a)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Uh.setFromObject(this.object),!Uh.isEmpty()){var t=Uh.min,n=Uh.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=t.x,a[4]=n.y,a[5]=n.z,a[6]=t.x,a[7]=t.y,a[8]=n.z,a[9]=n.x,a[10]=t.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=t.z,a[15]=t.x,a[16]=n.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=n.x,a[22]=t.y,a[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return mc.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(mc),Gh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(g.a)(this,n);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gi;return s.setIndex(new Ja(i,1)),s.setAttribute("position",new ii(o,3)),(r=t.call(this,s,new oc({color:a,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return Object(y.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(mc),Hh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;Object(g.a)(this,n);var o=i,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],u=new gi;u.setAttribute("position",new ii(s,3)),u.computeBoundingSphere(),(r=t.call(this,u,new oc({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=a;var c=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new gi;return l.setAttribute("position",new ii(c,3)),l.computeBoundingSphere(),r.add(new ji(l,new qa({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return Object(y.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?B:k,this.lookAt(this.plane.normal),Object(f.a)(Object(d.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(dc),Vh=new Mr,Wh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Mr(0,0,1),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mr(0,0,0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*i,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return Object(g.a)(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Ih&&((Ih=new gi).setAttribute("position",new ii([0,0,0,0,1,0],3)),(zh=new Tc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(a),e.line=new dc(Ih,new oc({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new ji(zh,new qa({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(i,s,u),e}return Object(y.a)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Vh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Vh,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Object(f.a)(Object(d.a)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(Ca),Xh=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(g.a)(this,n);var a=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new gi;o.setAttribute("position",new ii(a,3)),o.setAttribute("color",new ii(i,3));var s=new oc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return Object(y.a)(n,[{key:"setColors",value:function(e,t,n){var r=new Xa,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(mc),qh=new Float32Array(1),Qh=new Int32Array(qh.buffer),Yh=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"toHalfFloat",value:function(e){qh[0]=e;var t=Qh[0],n=t>>16&32768,r=t>>12&2047,a=t>>23&255;return a<103?n:a>142?(n|=31744,n|=(255==a?0:1)&&8388607&t):a<113?n|=((r|=2048)>>114-a)+(r>>113-a&1):(n|=a-112<<10|r>>1,n+=1&r)}}]),e}(),Jh=Math.pow(2,8),Kh=[.125,.215,.35,.446,.526,.582],Zh=5+Kh.length,$h=20,ep=(r={},Object(u.a)(r,hn,0),Object(u.a)(r,pn,1),Object(u.a)(r,vn,2),Object(u.a)(r,yn,3),Object(u.a)(r,bn,4),Object(u.a)(r,_n,5),Object(u.a)(r,mn,6),r),tp=new qa({side:B,depthWrite:!1,depthTest:!1}),np=new ji(new Ri,tp),rp=new Jf,ap=vp(),ip=ap._lodPlanes,op=ap._sizeLods,sp=ap._sigmas,up=new Xa,cp=null,lp=(1+Math.sqrt(5))/2,fp=1/lp,dp=[new Mr(1,1,1),new Mr(-1,1,1),new Mr(1,1,-1),new Mr(-1,1,-1),new Mr(0,lp,fp),new Mr(0,lp,-fp),new Mr(fp,0,lp),new Mr(-fp,0,lp),new Mr(lp,fp,0),new Mr(-lp,fp,0)];function hp(e){var t=Math.max(e.r,e.g,e.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);return e.multiplyScalar(Math.pow(2,-n)),(n+128)/255}var pp=function(){function e(t){Object(g.a)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new Mr(0,1,0);return new Jl({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:ep[hn]},outputEncoding:{value:ep[hn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:j,depthTest:!1,depthWrite:!1})}($h),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return Object(y.a)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;cp=this._renderer.getRenderTarget();var a=this._allocateTargets();return this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=_p(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=bp(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<ip.length;e++)ip[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(cp),e.scissorTest=!1,yp(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){cp=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:ke,minFilter:ke,generateMipmaps:!1,type:Ue,format:rt,encoding:mp(e)?e.encoding:vn,depthBuffer:!1},n=gp(t);return n.depthBuffer=!e,this._pingPongRenderTarget=gp(t),n}},{key:"_compileMaterial",value:function(e){var t=new ji(ip[0],e);this._renderer.compile(t,rp)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var a=new Hi(90,1,t,n),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,c=s.outputEncoding,l=s.toneMapping;s.getClearColor(up),s.toneMapping=pe,s.outputEncoding=hn,s.autoClear=!1;var f=!1,d=e.background;if(d){if(d.isColor){tp.color.copy(d).convertSRGBToLinear(),e.background=null;var h=hp(tp.color);tp.opacity=h,f=!0}}else{tp.color.copy(up).convertSRGBToLinear();var p=hp(tp.color);tp.opacity=p,f=!0}for(var m=0;m<6;m++){var v=m%3;0==v?(a.up.set(0,i[m],0),a.lookAt(o[m],0,0)):1==v?(a.up.set(0,0,i[m]),a.lookAt(0,o[m],0)):(a.up.set(0,i[m],0),a.lookAt(0,0,o[m])),yp(r,v*Jh,m>2?Jh:0,Jh,Jh),s.setRenderTarget(r),f&&s.render(np,a),s.render(e,a)}s.toneMapping=l,s.outputEncoding=c,s.autoClear=u}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=_p()):null==this._equirectShader&&(this._equirectShader=bp());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,a=new ji(ip[0],r),i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=ep[e.encoding],i.outputEncoding.value=ep[t.texture.encoding],yp(t,0,0,3*Jh,2*Jh),n.setRenderTarget(t),n.render(a,rp)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Zh;r++){var a=Math.sqrt(sp[r]*sp[r]-sp[r-1]*sp[r-1]),i=dp[(r-1)%dp.length];this._blur(e,r-1,r,a,i)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,a){var i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",a),this._halfBlur(i,e,n,n,r,"longitudinal",a)}},{key:"_halfBlur",value:function(e,t,n,r,a,i,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");var c=new ji(ip[r],u),l=u.uniforms,f=op[n]-1,d=isFinite(a)?Math.PI/(2*f):2*Math.PI/39,h=a/d,p=isFinite(a)?1+Math.floor(3*h):$h;p>$h&&console.warn("sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat($h));for(var m=[],v=0,g=0;g<$h;++g){var y=g/h,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<p&&(v+=2*b)}for(var _=0;_<m.length;_++)m[_]=m[_]/v;l.envMap.value=e.texture,l.samples.value=p,l.weights.value=m,l.latitudinal.value="latitudinal"===i,o&&(l.poleAxis.value=o),l.dTheta.value=d,l.mipInt.value=8-n,l.inputEncoding.value=ep[e.texture.encoding],l.outputEncoding.value=ep[e.texture.encoding];var w=op[r];yp(t,3*Math.max(0,Jh-2*w),(0===r?0:2*Jh)+2*w*(r>4?r-8+4:0),3*w,2*w),s.setRenderTarget(t),s.render(c,rp)}}]),e}();function mp(e){return void 0!==e&&e.type===Ue&&(e.encoding===hn||e.encoding===pn||e.encoding===mn)}function vp(){for(var e=[],t=[],n=[],r=8,a=0;a<Zh;a++){var i=Math.pow(2,r);t.push(i);var o=1/i;a>4?o=Kh[a-8+4-1]:0==a&&(o=0),n.push(o);for(var s=1/(i-1),u=-s/2,c=1+s/2,l=[u,u,c,u,c,c,u,u,c,c,u,c],f=new Float32Array(108),d=new Float32Array(72),h=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];f.set(g,18*p),d.set(l,12*p);var y=[p,p,p,p,p,p];h.set(y,6*p)}var b=new gi;b.setAttribute("position",new Ja(f,3)),b.setAttribute("uv",new Ja(d,2)),b.setAttribute("faceIndex",new Ja(h,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function gp(e){var t=new _r(3*Jh,3*Jh,e);return t.texture.mapping=Ee,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function yp(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function bp(){var e=new dr(1,1);return new Jl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:ep[hn]},outputEncoding:{value:ep[hn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:j,depthTest:!1,depthWrite:!1})}function _p(){return new Jl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ep[hn]},outputEncoding:{value:ep[hn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:j,depthTest:!1,depthWrite:!1})}var wp=0,xp=1,Ap=0,Mp=1,Ep=2;function Cp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Sp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Op(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new xc(e,t)}function Tp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new zu(e)}function kp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new xc(e,t)}function Bp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new gc(e)}function Pp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new gc(e)}function Lp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new gc(e)}function Dp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Mr(e,t,n)}function jp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ja(e,t).setUsage(Gn)}function Fp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ka(e,t)}function Rp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Za(e,t)}function Ip(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new $a(e,t)}function zp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ei(e,t)}function Up(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ti(e,t)}function Np(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ni(e,t)}function Gp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ri(e,t)}function Hp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ii(e,t)}function Vp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new oi(e,t)}function Wp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Xh(e)}function Xp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Nh(e,t)}function qp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new mc(new Rc(e.geometry),new oc({color:void 0!==t?t:16777215}))}function Qp(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new mc(new ql(e.geometry),new oc({color:void 0!==t?t:16777215}))}function Yp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Sf(e)}function Jp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Pf(e)}function Kp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new qi(e,n)}function Zp(){console.error("THREE.CanvasRenderer has been removed")}function $p(){console.error("THREE.JSONLoader has been removed.")}Ic.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ic.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},jf.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},Oh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},wh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ef.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ad.extractUrlBase(e)},Ef.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},fh.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},fh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},fh.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},fh.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Sr.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Sr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Sr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Sr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Sr.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Xr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},eo.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},ph.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},pr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},pr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},pr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},pr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},pr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},pr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ta.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},ta.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},ta.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Mr).setFromMatrixColumn(this,3)},ta.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},ta.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},ta.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ta.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ta.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},ta.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},ta.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ta.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},ta.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},ta.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},ta.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},ta.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},ta.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ta.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},ta.prototype.makeFrustum=function(e,t,n,r,a,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,a,i)},ta.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ki.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Ar.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Ar.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ea.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},ea.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},ea.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Ra.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ra.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},Ra.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Ra.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Ra.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Ra.barycoordFromPoint=function(e,t,n,r,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ra.getBarycoord(e,t,n,r,a)},Ra.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ra.getNormal(e,t,n,r)},Ff.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Ff.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ll(this,e)},Ff.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ul(this,e)},dr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},dr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},dr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Mr.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Mr.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Mr.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Mr.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Mr.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Mr.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Mr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Mr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Mr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},br.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},br.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ca.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Ca.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Ca.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Ca.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Ca.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Ca.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ji.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ji.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ln},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Yu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Hi.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Rf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ja.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Gn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Gn)}}}),Ja.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Gn:Nn),this},Ja.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ja.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},gi.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},gi.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ja(arguments[1],arguments[2])))},gi.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},gi.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},gi.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},gi.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},gi.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(gi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),xu.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Gn:Nn),this},xu.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ll.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ll.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ll.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},wu.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},nh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(za.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Xa}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===L}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ni.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),gu.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},gu.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},gu.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},gu.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},gu.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},gu.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},gu.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},gu.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},gu.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},gu.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},gu.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},gu.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},gu.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},gu.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},gu.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},gu.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},gu.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},gu.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},gu.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},gu.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},gu.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},gu.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},gu.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},gu.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},gu.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(gu.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?pn:hn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ou.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_r.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ld.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new _d).load(e,(function(e){t.setBuffer(e)})),this},zd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Wi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Wi.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},mr.crossOrigin=void 0,mr.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var a=new Lf;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},mr.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var a=new Bf;a.setCrossOrigin(this.crossOrigin);var i=a.load(e,n,void 0,r);return t&&(i.mapping=t),i},mr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},mr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var em={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function tm(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:b}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=b)},function(e,t,n){"use strict";e.exports=n(99)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"w",(function(){return u})),n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return Ee})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return me})),n.d(t,"g",(function(){return De})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return Ue})),n.d(t,"j",(function(){return Ie})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return L})),n.d(t,"n",(function(){return F})),n.d(t,"o",(function(){return W})),n.d(t,"p",(function(){return we})),n.d(t,"q",(function(){return _e})),n.d(t,"r",(function(){return be})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return Ne})),n.d(t,"u",(function(){return T})),n.d(t,"v",(function(){return C})),n.d(t,"x",(function(){return Ce})),n.d(t,"y",(function(){return P})),n.d(t,"z",(function(){return Ve})),n.d(t,"A",(function(){return Qe})),n.d(t,"B",(function(){return Xe})),n.d(t,"C",(function(){return Ge})),n.d(t,"D",(function(){return qe}));var r=n(9),a=n(4),i=n(3),o=n(14),s=x(),u=function(e){return y(e,s)},c=x();u.write=function(e){return y(e,c)};var l=x();u.onStart=function(e){return y(e,l)};var f=x();u.onFrame=function(e){return y(e,f)};var d=x();u.onFinish=function(e){return y(e,d)};var h=[];u.setTimeout=function(e,t){var n=u.now()+t,r={time:n,handler:e,cancel:function e(){var t=h.findIndex((function(t){return t.cancel==e}));~t&&h.splice(t,1),M.count-=~t?1:0}};return h.splice(p(n),0,r),M.count+=1,b(),r};var p=function(e){return~(~h.findIndex((function(t){return t.time>e}))||~h.length)};u.cancel=function(e){s.delete(e),c.delete(e)},u.sync=function(e){g=!0,u.batchedUpdates(e),g=!1},u.throttle=function(e){var t;function n(){try{e.apply(void 0,Object(o.a)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t=r,u.onStart(n)}return r.handler=e,r.cancel=function(){l.delete(n),t=null},r};var m="undefined"!=typeof window?window.requestAnimationFrame:function(){};u.use=function(e){return m=e},u.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,u.batchedUpdates=function(e){return e()},u.catch=console.error,u.frameLoop="always",u.advance=function(){"demand"!==u.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):w()};var v=-1,g=!1;function y(e,t){g?(t.delete(e),e(0)):(t.add(e),b())}function b(){v<0&&(v=0,"demand"!==u.frameLoop&&m(_))}function _(){~v&&(m(_),u.batchedUpdates(w))}function w(){var e=v;v=u.now();var t=p(v);t&&(A(h.splice(0,t),(function(e){return e.handler()})),M.count-=t),l.flush(),s.flush(e?Math.min(64,v-e):16.667),f.flush(),c.flush(),d.flush()}function x(){var e=new Set,t=e;return{add:function(n){M.count+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return M.count-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,M.count-=t.size,A(t,(function(t){return t(n)&&e.add(t)})),M.count+=e.size,t=e)}}}function A(e,t){e.forEach((function(e){try{t(e)}catch(n){u.catch(n)}}))}var M={count:0,clear:function(){v=-1,h=[],l=x(),s=x(),f=x(),c=x(),d=x(),M.count=0}},E=n(1);function C(){}var S=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},O={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function T(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var k=function(e,t){return e.forEach(t)};function B(e,t,n){if(O.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a)}var P=function(e){return O.und(e)?[]:O.arr(e)?e:[e]};function L(e,t){if(e.size){var n=Array.from(e);e.clear(),k(n,t)}}var D,j,F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return L(e,(function(e){return e.apply(void 0,n)}))},R=null,I=!1,z=C,U=Object.freeze({__proto__:null,get createStringInterpolator(){return D},get to(){return j},get colors(){return R},get skipAnimation(){return I},get willAdvance(){return z},assign:function(e){e.to&&(j=e.to),e.now&&(u.now=e.now),void 0!==e.colors&&(R=e.colors),null!=e.skipAnimation&&(I=e.skipAnimation),e.createStringInterpolator&&(D=e.createStringInterpolator),e.requestAnimationFrame&&u.use(e.requestAnimationFrame),e.batchedUpdates&&(u.batchedUpdates=e.batchedUpdates),e.willAdvance&&(z=e.willAdvance),e.frameLoop&&(u.frameLoop=e.frameLoop)}}),N=new Set,G=[],H=[],V=0,W={get idle(){return!N.size&&!G.length},start:function(e){V>e.priority?(N.add(e),u.onStart(X)):(q(e),u(Y))},advance:Y,sort:function(e){if(V)u.onFrame((function(){return W.sort(e)}));else{var t=G.indexOf(e);~t&&(G.splice(t,1),Q(e))}},clear:function(){G=[],N.clear()}};function X(){N.forEach(q),N.clear(),u(Y)}function q(e){G.includes(e)||Q(e)}function Q(e){G.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(G,(function(t){return t.priority>e.priority})),0,e)}function Y(e){for(var t=H,n=0;n<G.length;n++){var r=G[n];V=r.priority,r.idle||(z(r),r.advance(e),r.idle||t.push(r))}return V=0,(H=G).length=0,(G=t).length>0}var J={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},K="[-+]?\\d*\\.?\\d+",Z=K+"%";function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ee=new RegExp("rgb"+$(K,K,K)),te=new RegExp("rgba"+$(K,K,K,K)),ne=new RegExp("hsl"+$(K,Z,Z)),re=new RegExp("hsla"+$(K,Z,Z,K)),ae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ie=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,oe=/^#([0-9a-fA-F]{6})$/,se=/^#([0-9a-fA-F]{8})$/;function ue(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ce(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,i=ue(a,r,e+1/3),o=ue(a,r,e),s=ue(a,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function le(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function fe(e){return(parseFloat(e)%360+360)%360/360}function de(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function he(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function pe(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=oe.exec(e))?parseInt(t[1]+"ff",16)>>>0:R&&void 0!==R[e]?R[e]:(t=ee.exec(e))?(le(t[1])<<24|le(t[2])<<16|le(t[3])<<8|255)>>>0:(t=te.exec(e))?(le(t[1])<<24|le(t[2])<<16|le(t[3])<<8|de(t[4]))>>>0:(t=ae.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=se.exec(e))?parseInt(t[1],16)>>>0:(t=ie.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ne.exec(e))?(255|ce(fe(t[1]),he(t[2]),he(t[3])))>>>0:(t=re.exec(e))?(ce(fe(t[1]),he(t[2]),he(t[3]))|de(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,a=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(a,")")}var me=function e(t,n,r){if(O.fun(t))return t;if(O.arr(t))return e({range:t,output:n,extrapolate:r});if(O.str(t.output[0]))return D(t);var a=t,i=a.output,o=a.range||[0,1],s=a.extrapolateLeft||a.extrapolate||"extend",u=a.extrapolateRight||a.extrapolate||"extend",c=a.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,i,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=i(c),r===-1/0?c=-c:a===1/0?c+=r:c=c*(a-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],c,s,u,a.map)}};function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var ge=Symbol.for("FluidValue.get"),ye=Symbol.for("FluidValue.observers"),be=function(e){return Boolean(e&&e[ge])},_e=function(e){return e&&e[ge]?e[ge]():e},we=function(e){return e[ye]||null};function xe(e,t){var n=e[ye];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Ae=Object(a.a)((function e(t){if(Object(i.a)(this,e),this[ge]=void 0,this[ye]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Me(this,t)})),Me=function(e,t){return Oe(e,ge,t)};function Ee(e,t){if(e[ge]){var n=e[ye];n||Oe(e,ye,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ce(e,t){var n=e[ye];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[ye]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Se,Oe=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Te=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ke=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Be=new RegExp("(".concat(Te.source,")(%|[a-z]+)"),"i"),Pe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Le=function(e,t,n,r,a){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(a,")")},De=function(e){Se||(Se=R?new RegExp("(".concat(Object.keys(R).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return _e(e).replace(ke,pe).replace(Se,pe)})),n=t.map((function(e){return e.match(Te).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return me(ve({},e,{output:t}))}));return function(e){var n,a=!Be.test(t[0])&&(null==(n=t.find((function(e){return Be.test(e)})))?void 0:n.replace(Te,"")),i=0;return t[0].replace(Te,(function(){return"".concat(r[i++](e)).concat(a||"")})).replace(Pe,Le)}},je="react-spring: ",Fe=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(je,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Re=Fe(console.warn);function Ie(){Re("".concat(je,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var ze=Fe(console.warn);function Ue(){ze("".concat(je,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Ne(e){return O.str(e)&&("#"==e[0]||/\d/.test(e)||e in(R||{}))}var Ge=function(e){return Object(E.useEffect)(e,He)},He=[];function Ve(){var e=Object(E.useState)()[1],t=Object(E.useState)(We)[0];return Ge(t.unmount),function(){t.current&&e({})}}function We(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}function Xe(e,t){var n=Object(E.useState)((function(){return{inputs:t,result:e()}})),a=Object(r.a)(n,1)[0],i=Object(E.useRef)(),o=i.current,s=o;s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=a;return Object(E.useEffect)((function(){i.current=s,o==a&&(a.inputs=a.result=void 0)}),[s]),s.result}function qe(e){var t=Object(E.useRef)();return Object(E.useEffect)((function(){t.current=e})),t.current}var Qe="undefined"!==typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(47);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(10),a=n(65),i=n(41);function o(e){var t=Object(a.a)();return function(){var n,a=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Canvas",(function(){return ge})),n.d(t,"ReactThreeFiber",(function(){return G})),n.d(t,"_roots",(function(){return Ee})),n.d(t,"act",(function(){return Ie})),n.d(t,"addAfterEffect",(function(){return ce})),n.d(t,"addEffect",(function(){return ue})),n.d(t,"addTail",(function(){return le})),n.d(t,"advance",(function(){return Te})),n.d(t,"applyProps",(function(){return Pe})),n.d(t,"context",(function(){return ne})),n.d(t,"createPortal",(function(){return Ue})),n.d(t,"dispose",(function(){return Re})),n.d(t,"events",(function(){return he})),n.d(t,"extend",(function(){return Z})),n.d(t,"invalidate",(function(){return Oe})),n.d(t,"reconciler",(function(){return Be})),n.d(t,"render",(function(){return De})),n.d(t,"unmountComponentAtNode",(function(){return Fe})),n.d(t,"useFrame",(function(){return _e})),n.d(t,"useGraph",(function(){return xe})),n.d(t,"useLoader",(function(){return Me})),n.d(t,"useStore",(function(){return ye})),n.d(t,"useThree",(function(){return be}));var r=n(3),a=n(4),i=n(6),o=n(7),s=n(30),u=n(12),c=n(15),l=n(63),f=n(66),d=n(38),h=n(64);function p(e){return Object(l.a)(e)||Object(f.a)(e)||Object(d.a)(e)||Object(h.a)()}var m=n(9),v=n(14),g=n(13),y=n(22),b=n(0),_=n(1),w=n(55),x=n.n(w),A=n(93),M=n.n(A),E=n(92),C=n.n(E),S=n(46),O=n(33),T=n(18),k=n(70),B=n.n(k);function P(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,i=t.scroll,o=t.polyfill,s=t.offsetSize,u=o||("undefined"===typeof window?Object(a.a)((function e(){Object(r.a)(this,e)})):window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var c=Object(_.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Object(m.a)(c,2),f=l[0],d=l[1],h=Object(_.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f}),p=n?"number"===typeof n?n:n.scroll:null,v=n?"number"===typeof n?n:n.resize:null,g=Object(_.useRef)(!1);Object(_.useEffect)((function(){return g.current=!0,function(){g.current=!1}}));var y=Object(_.useMemo)((function(){var e=function(){if(h.current.element){var e=h.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};h.current.element instanceof HTMLElement&&s&&(t.height=h.current.element.offsetHeight,t.width=h.current.element.offsetWidth),Object.freeze(t),g.current&&!j(h.current.lastBounds,t)&&d(h.current.lastBounds=t)}};return[e,v?B()(e,v):e,p?B()(e,p):e]}),[d,s,p,v]),b=Object(m.a)(y,3),w=b[0],x=b[1],A=b[2];function M(){h.current.scrollContainers&&(h.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",A,!0)})),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function E(){h.current.element&&(h.current.resizeObserver=new u(A),h.current.resizeObserver.observe(h.current.element),i&&h.current.scrollContainers&&h.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",A,{capture:!0,passive:!0})})))}var C,S,O;return C=A,S=Boolean(i),Object(_.useEffect)((function(){if(S){var e=C;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[C,S]),O=x,Object(_.useEffect)((function(){var e=O;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[O]),Object(_.useEffect)((function(){M(),E()}),[i,A,x]),Object(_.useEffect)((function(){return M}),[]),[function(e){e&&e!==h.current.element&&(M(),h.current.element=e,h.current.scrollContainers=L(e),E())},f,w]}function L(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,Object(v.a)(L(e.parentElement)))}var D=["x","y","top","bottom","left","right","width","height"],j=function(e,t){return D.every((function(n){return e[n]===t[n]}))},F=["args"],R=["args"],I=["args"],z=["params"],U=["children","fallback","tabIndex","resize","id","style","className","events"],N=["gl","size","mode","events","onCreated"],G=Object.freeze({__proto__:null}),H={obj:function(e){return e===Object(e)&&!H.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(H.str(e)||H.num(e)||H.obj(e))return e===t;if(H.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!H.und(n)||e===t}};function V(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function W(e){var t=new b.Vector3;function n(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],a=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+a*a))}function r(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f.handlers)?void 0:n["onPointer"+t]}))}))}function a(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var r=e.eventObject.__r3f.handlers;if(n.hovered.delete(V(e)),r){var a=Object(g.a)(Object(g.a)({},e),{},{intersections:t||[]});null==r.onPointerOut||r.onPointerOut(a),null==r.onPointerLeave||r.onPointerLeave(a)}}}))}function i(e,t){t.forEach((function(t){var n;return null==(n=t.__r3f.handlers)||null==n.onPointerMissed?void 0:n.onPointerMissed(e)}))}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return function(){return a([])};case"onLostPointerCapture":return function(t){"pointerId"in t&&e.getState().internal.capturedMap.delete(t.pointerId),a([])}}return function(s){var u=e.getState(),c=u.onPointerMissed,l=u.internal;!function(t){var n,r=e.getState(),a=r.raycaster,i=r.mouse,o=r.camera,s=r.size,u=null!=(n=null==a.computeOffsets?void 0:a.computeOffsets(t,r))?n:t,c=u.offsetX,l=u.offsetY,f=s.width,d=s.height;i.set(c/f*2-1,-l/d*2+1),a.setFromCamera(i,o)}(s);var f="onPointerMove"===o,d=function(t,n){var r=e.getState().internal;return"pointerId"in n&&r.capturedMap.has(n.pointerId)&&t.push.apply(t,Object(v.a)(r.capturedMap.get(n.pointerId).values())),t}(function(t){var n=e.getState(),r=n.raycaster,a=n.internal;if(!r.enabled)return[];var i=new Set,o=[],s=t?t(a.interaction):a.interaction,u=r.intersectObjects(s,!0).filter((function(e){var t=V(e);return!i.has(t)&&(i.add(t),!0)}));r.filter&&(u=r.filter(u,n));var c,l=Object(y.a)(u);try{for(l.s();!(c=l.n()).done;)for(var f=c.value,d=f.object;d;){var h;(null==(h=d.__r3f)?void 0:h.handlers)&&o.push(Object(g.a)(Object(g.a)({},f),{},{eventObject:d})),d=d.parent}}catch(p){l.e(p)}finally{l.f()}return o}(f?r:void 0),s);f&&a(d),function(r,i,o){var s=e.getState(),u=s.raycaster,c=s.mouse,l=s.camera,f=s.internal;r.length&&function(){var e,s=t.set(c.x,c.y,0).unproject(l),d="click"===i.type?n(i):0,h=function(e){return i.target.releasePointerCapture(e)},p={stopped:!1},m=Object(y.a)(r);try{var b=function(){var t=e.value,n=function(e){var n,r;return null!=(n=null==(r=f.capturedMap.get(e))?void 0:r.has(t.eventObject))&&n},m=function(e){f.capturedMap.has(e)?f.capturedMap.get(e).set(t.eventObject,t):f.capturedMap.set(e,new Map([[t.eventObject,t]])),i.target.setPointerCapture(e)},y={};for(var b in Object.getPrototypeOf(i)){var _=i[b];"function"!==typeof _&&(y[b]=_)}var w=Object(g.a)(Object(g.a)(Object(g.a)({},t),y),{},{spaceX:c.x,spaceY:c.y,intersections:r,stopped:p.stopped,delta:d,unprojectedPoint:s,ray:u.ray,camera:l,stopPropagation:function(){var e="pointerId"in i&&f.capturedMap.get(i.pointerId);if((!e||e.has(t.eventObject))&&(w.stopped=p.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find((function(e){return e.eventObject===t.eventObject})))){var n=r.slice(0,r.indexOf(t));a([].concat(Object(v.a)(n),[t]))}},target:{hasPointerCapture:n,setPointerCapture:m,releasePointerCapture:h},currentTarget:{hasPointerCapture:n,setPointerCapture:m,releasePointerCapture:h},sourceEvent:i,nativeEvent:i});if(o(w),!0===p.stopped)return"break"};for(m.s();!(e=m.n()).done&&"break"!==b(););}catch(_){m.e(_)}finally{m.f()}}()}(d,s,(function(e){var t=e.eventObject,n=t.__r3f.handlers;if(n)if(f){if(n.onPointerOver||n.onPointerEnter||n.onPointerOut||n.onPointerLeave){var r=V(e),a=l.hovered.get(r);a?a.stopped&&e.stopPropagation():(l.hovered.set(r,e),null==n.onPointerOver||n.onPointerOver(e),null==n.onPointerEnter||n.onPointerEnter(e))}null==n.onPointerMove||n.onPointerMove(e)}else{var u=null==n?void 0:n[o];u&&("onClick"!==o&&"onContextMenu"!==o&&"onDoubleClick"!==o||l.initialHits.includes(t))&&(u(e),i(s,l.interaction.filter((function(e){return e!==t}))))}})),"onPointerDown"===o&&(l.initialClick=[s.offsetX,s.offsetY],l.initialHits=d.map((function(e){return e.eventObject}))),"onClick"!==o&&"onContextMenu"!==o&&"onDoubleClick"!==o||d.length||n(s)<=2&&(i(s,l.interaction),c&&c(s))}}}}var X=function(e){return e&&!!e.getState},q=function(e,t){var n,r;return{root:X(e)?e:null!=(n=null==(r=e.__r3f)?void 0:r.root)?n:t.__r3f.root,container:X(e)?e.getState().scene:e}},Q="__default",Y={},J=["children","key","ref"],K={},Z=function(e){K=Object(g.a)(Object(g.a)({},K),e)};function $(e,t){var n=e;return(null!=t&&t.instance||!n.__r3f)&&(n.__r3f=Object(g.a)({root:null,memoizedProps:{},objects:[]},t)),e}var ee,te=function(e){return e&&e.isOrthographicCamera},ne=_.createContext(null),re=function(e,t,n,r){var a=r.gl,i=r.size,o=r.shadows,s=void 0!==o&&o,c=r.linear,l=void 0!==c&&c,f=r.flat,d=void 0!==f&&f,h=r.vr,p=void 0!==h&&h,m=r.orthographic,y=void 0!==m&&m,_=r.frameloop,w=void 0===_?"always":_,A=r.dpr,E=void 0===A?1:A,C=r.performance,S=r.clock,O=void 0===S?new b.Clock:S,T=r.raycaster,k=r.camera,B=r.onPointerMissed;s&&(a.shadowMap.enabled=!0,"object"===typeof s?Object.assign(a.shadowMap,s):a.shadowMap.type=b.PCFSoftShadowMap),l||(d||(a.toneMapping=b.ACESFilmicToneMapping),a.outputEncoding=b.sRGBEncoding),"never"===w&&(O.stop(),O.elapsedTime=0);var P=x()((function(i,o){var s=new b.Raycaster,c=T||{},f=c.params,h=Object(u.a)(c,z);e(s,Object(g.a)(Object(g.a)({enabled:!0},h),{},{params:Object(g.a)(Object(g.a)({},s.params),f)}),{});var m=k instanceof b.Camera,_=m?k:y?new b.OrthographicCamera(0,0,0,0,.1,1e3):new b.PerspectiveCamera(75,0,.1,1e3);function x(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}m||(_.position.z=5,k&&e(_,k,{}),_.lookAt(0,0,0));var A=x(E),M=new b.Vector3,S=new b.Vector3;function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o().size,r=n.width,a=n.height,i=r/a,s=e.getWorldPosition(M).distanceTo(t);if(te(e))return{width:r/e.zoom,height:a/e.zoom,factor:1,distance:s,aspect:i};var u=e.fov*Math.PI/180,c=2*Math.tan(u/2)*s,l=c*(r/a);return{width:l,height:c,factor:r/l,distance:s,aspect:i}}var L=void 0,D=function(e){return i((function(t){return{performance:Object(g.a)(Object(g.a)({},t.performance),{},{current:e})}}))};return{gl:a,set:i,get:o,invalidate:function(){return t(o())},advance:function(e,t){return n(e,t,o())},linear:l,flat:d,scene:$(new b.Scene),camera:_,controls:null,raycaster:s,clock:O,mouse:new b.Vector2,vr:p,frameloop:w,onPointerMissed:B,performance:Object(g.a)(Object(g.a)({current:1,min:.5,max:1,debounce:200},C),{},{regress:function(){var e=o();L&&clearTimeout(L),e.performance.current!==e.performance.min&&D(e.performance.min),L=setTimeout((function(){return D(o().performance.max)}),e.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:A,dpr:A,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:P},setSize:function(e,t){var n={width:e,height:t};i((function(e){return{size:n,viewport:Object(g.a)(Object(g.a)({},e.viewport),P(_,S,n))}}))},setDpr:function(e){return i((function(t){return{viewport:Object(g.a)(Object(g.a)({},t.viewport),{},{dpr:x(e)})}}))},events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i((function(n){var r=n.internal;return{internal:Object(g.a)(Object(g.a)({},r),{},{priority:r.priority+(t>0?1:0),subscribers:[].concat(Object(v.a)(r.subscribers),[{ref:e,priority:t}]).sort((function(e,t){return e.priority-t.priority}))})}})),function(){i((function(n){var r=n.internal;return{internal:Object(g.a)(Object(g.a)({},r),{},{priority:r.priority-(t>0?1:0),subscribers:r.subscribers.filter((function(t){return t.ref!==e}))})}}))}}}}}));P.subscribe((function(){var e=P.getState(),t=e.camera,n=e.size,r=e.viewport;e.internal.lastProps.camera instanceof b.Camera||(te(t)?(t.left=n.width/-2,t.right=n.width/2,t.top=n.height/2,t.bottom=n.height/-2):t.aspect=n.width/n.height,t.updateProjectionMatrix(),t.updateMatrixWorld()),a.setPixelRatio(r.dpr),a.setSize(n.width,n.height)}),(function(e){return[e.viewport.dpr,e.size]}),M.a);var L=P.getState();return i&&L.setSize(i.width,i.height),P.subscribe((function(e){return t(e)})),P};function ae(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var ie=[],oe=[],se=[],ue=function(e){return ae(e,ie)},ce=function(e){return ae(e,oe)},le=function(e){return ae(e,se)};function fe(e,t){for(ee=0;ee<e.length;ee++)e[ee](t)}function de(e,t){var n=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(n=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ee=0;ee<t.internal.subscribers.length;ee++)t.internal.subscribers[ee].ref.current(t,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function he(e){var t=W(e).handlePointer,n={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(n).reduce((function(e,n){return Object(g.a)(Object(g.a)({},e),{},Object(c.a)({},n,t(n)))}),{}),connect:function(t){var r,a=e.getState(),i=a.set,o=a.events;null==o.disconnect||o.disconnect(),i((function(e){return{events:Object(g.a)(Object(g.a)({},e.events),{},{connected:t})}})),Object.entries(null!=(r=null==o?void 0:o.handlers)?r:[]).forEach((function(e){var r=Object(m.a)(e,2),a=r[0],i=r[1],o=Object(m.a)(n[a],2),s=o[0],u=o[1];t.addEventListener(s,i,{passive:u})}))},disconnect:function(){var t,r=e.getState(),a=r.set,i=r.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=Object(m.a)(e,2),r=t[0],a=t[1];if(i&&i.connected instanceof HTMLElement){var o=Object(m.a)(n[r],1)[0];i.connected.removeEventListener(o,a)}})),a((function(e){return{events:Object(g.a)(Object(g.a)({},e.events),{},{connected:!1})}})))}}}var pe="undefined"!==typeof window?_.useLayoutEffect:_.useEffect;function me(e){var t=e.set;return pe((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[]),null}var ve=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(_.Component);ve.getDerivedStateFromError=function(){return{error:!0}};var ge=_.forwardRef((function(e,t){var n=e.children,r=e.fallback,a=e.tabIndex,i=e.resize,o=e.id,s=e.style,c=e.className,l=e.events,f=Object(u.a)(e,U),d=P(Object(g.a)({scroll:!0,debounce:{scroll:50,resize:0}},i)),h=Object(m.a)(d,2),p=h[0],v=h[1],y=_.useRef(null),b=_.useState(!1),w=Object(m.a)(b,2),x=w[0],A=w[1],M=_.useState(!1),E=Object(m.a)(M,2),C=E[0],S=E[1];if(x)throw x;if(C)throw C;return pe((function(){v.width>0&&v.height>0&&De(_.createElement(ve,{set:S},_.createElement(_.Suspense,{fallback:_.createElement(me,{set:A})},n)),y.current,Object(g.a)(Object(g.a)({},f),{},{size:v,events:l||he}))}),[v,n]),pe((function(){var e=y.current;return function(){return Fe(e)}}),[]),_.createElement("div",{ref:p,id:o,className:c,tabIndex:a,style:Object(g.a)({position:"relative",width:"100%",height:"100%",overflow:"hidden"},s)},_.createElement("canvas",{ref:Object(T.default)([y,t]),style:{display:"block"}},r))}));function ye(){var e=_.useContext(ne);if(!e)throw"R3F hooks can only be used within the Canvas component!";return e}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return ye()(e,t)}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ye().getState().internal.subscribe,r=_.useRef(e);return _.useLayoutEffect((function(){r.current=e}),[e]),_.useLayoutEffect((function(){return n(r,t)}),[t]),null}function we(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function xe(e){return _.useMemo((function(){return we(e)}),[e])}function Ae(e,t){return function(n){var r=new n;e&&e(r);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return Promise.all(i.map((function(e){return new Promise((function(n,a){return r.load(e,(function(e){e.scene&&Object.assign(e,we(e.scene)),n(e)}),t,(function(t){return a("Could not load ".concat(e,": ").concat(t.message))}))}))})))}}function Me(e,t,n,r){var a=Array.isArray(t)?t:[t],i=O.a.apply(void 0,[Ae(n,r),e].concat(Object(v.a)(a)));return Array.isArray(t)?i:i[0]}Me.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return O.a.preload.apply(O.a,[Ae(n),e].concat(Object(v.a)(r)))},Me.clear=function(e,t){var n=Array.isArray(t)?t:[t];return O.a.clear.apply(O.a,[e].concat(Object(v.a)(n)))};var Ee=new Map,Ce=["legacy","blocking","concurrent"],Se=function(e){var t,n=!1;function r(a){if(n=!0,t=0,fe(ie,a),e.forEach((function(e){var n=e.store.getState();n.internal.active&&("always"===n.frameloop||n.internal.frames>0)&&(t+=de(a,n))})),fe(oe,a),t>0)return requestAnimationFrame(r);fe(se,a),n=!1}return{loop:r,invalidate:function t(a){if(!a)return e.forEach((function(e){return t(e.store.getState())}));!a.vr&&a.internal.active&&"never"!==a.frameloop&&(a.internal.frames=Math.min(60,a.internal.frames+1),n||(n=!0,requestAnimationFrame(r)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;n&&fe(ie,t),r?de(t,r):e.forEach((function(e){return de(t,e.store.getState())})),n&&fe(oe,t)}}}(Ee),Oe=Se.invalidate,Te=Se.advance,ke=function(e){function t(e,t){var a,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=null!=(a=null==e?void 0:e.__r3f)?a:{},f=l.root,d=null!=(i=null==f||null==f.getState?void 0:f.getState())?i:{},h=[],y=[],_={},w=0;Object.entries(t).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];-1===J.indexOf(n)&&(_[n]=r)})),l.memoizedProps&&l.memoizedProps.args&&(_.args=l.memoizedProps.args),l.memoizedProps&&l.memoizedProps.attach&&(_.attach=l.memoizedProps.attach),e.__r3f&&(e.__r3f.memoizedProps=_);var x=Object.keys(t);for(w=0;w<x.length;w++)H.equ(t[x[w]],s[x[w]])&&h.push(x[w]),H.fun(t[x[w]])&&/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x[w])&&y.push(x[w]);var A=[];if(u)for(x=Object.keys(s),w=0;w<x.length;w++)t.hasOwnProperty(x[w])||A.push(x[w]);var M=[].concat(h,J);null!=(o=e.__r3f)&&o.instance&&M.push("object");var E=Object(g.a)({},t);for(x=Object.keys(E),w=0;w<x.length;w++)M.indexOf(x[w])>-1&&delete E[x[w]];var C=Object.entries(E);for(w=0;w<A.length;w++)"children"!==A[w]&&C.unshift([A[w],Q+"remove"]);if(C.length>0){if(C.forEach((function(t){var r=Object(m.a)(t,2),a=r[0],i=r[1];if(!y.includes(a)){var o,s=e,u=s[a];if(a.includes("-")){var c=a.split("-");if(u=c.reduce((function(e,t){return e[t]}),e),!u||!u.set){var l=p(c.reverse()),f=l[0];s=l.slice(1).reverse().reduce((function(e,t){return e[t]}),e),a=f}}if(i===Q+"remove")if(u&&u.constructor)i=new u.constructor(_.args);else if(s.constructor){var h=new s.constructor(s.__r3f.memoizedProps.args);i=h[u],h.dispose&&h.dispose()}else i=0;if(u&&u.set&&(u.copy||u instanceof b.Layers)){if(Array.isArray(i))if(u.fromArray)u.fromArray(i);else(o=u).set.apply(o,Object(v.a)(i));else if(u.copy&&i&&i.constructor&&u.constructor.name===i.constructor.name)u.copy(i);else if(void 0!==i){var g=u instanceof b.Color;!g&&u.setScalar?u.setScalar(i):u instanceof b.Layers&&i instanceof b.Layers?u.mask=i.mask:u.set(i),!d.linear&&g&&u.convertSRGBToLinear()}}else s[a]=i,!d.linear&&s[a]instanceof b.Texture&&(s[a].encoding=b.sRGBEncoding);n(e)}})),u&&f&&e.raycast&&l.handlers){l.handlers=void 0;var S=d.internal.interaction.indexOf(e);S>-1&&d.internal.interaction.splice(S,1)}y.length&&(u&&f&&e.raycast&&d.internal.interaction.push(e),l.handlers=y.reduce((function(e,n){return Object(g.a)(Object(g.a)({},e),{},Object(c.a)({},n,t[n]))}),{})),e.parent&&r(e)}}function n(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function r(e){null==e.onUpdate||e.onUpdate(e)}function a(e,n,r,a,i){var o,c=n.args,l=void 0===c?[]:c,f=Object(u.a)(n,F),d="".concat(e[0].toUpperCase()).concat(e.slice(1));if(!X(r)&&i){r=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(i)}if(!r||!X(r))throw"No valid root for ".concat(d,"!");if("primitive"===e){if(void 0===f.object)throw"Primitives without 'object' are invalid!";o=$(f.object,{root:r,instance:!0})}else{var h=K[d]||b[d];if(!h)throw"".concat(d," is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively");var p=H.arr(l);o=$(p?Object(s.a)(h,Object(v.a)(l)):new h(l),{root:r,memoizedProps:{args:p&&0===l.length?null:l}})}return"attachFns"in f||(d.endsWith("Geometry")?f=Object(g.a)({attach:"geometry"},f):d.endsWith("Material")&&(f=Object(g.a)({attach:"material"},f))),t(o,f,{}),o}function i(e,t){var a=!1;if(t){if(t.attachArray)H.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t);else if(t.attachObject)H.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t;else if(t.attach&&!H.fun(t.attach))e[t.attach]=t;else if(H.arr(t.attachFns)){var i=Object(m.a)(t.attachFns,1)[0];H.str(i)&&H.fun(e[i])?e[i](t):H.fun(i)&&i(t,e)}else t.isObject3D&&(e.add(t),a=!0);a||(e.__r3f.objects.push(t),t.parent=e),r(t),n(t)}}function o(e,t,a){var o=!1;if(t){if(t.attachArray){var s=e[t.attachArray];H.arr(s)||(e[t.attachArray]=[]),s.splice(s.indexOf(a),0,t)}else{if(t.attachObject||t.attach&&!H.fun(t.attach))return i(e,t);if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var u=e.children.filter((function(e){return e!==t})),c=u.indexOf(a);e.children=[].concat(Object(v.a)(u.slice(0,c)),[t],Object(v.a)(u.slice(c))),o=!0}}o||(e.__r3f.objects.push(t),t.parent=e),r(t),n(t)}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&Object(v.a)(e).forEach((function(e){return f(t,e,n)}))}function f(e,t,r){if(t){var a;if(e.__r3f.objects){var i=e.__r3f.objects.length;e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t})),e.__r3f.objects.length<i&&(t.parent=null)}if(t.attachArray)e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t}));else if(t.attachObject)delete e[t.attachObject[0]][t.attachObject[1]];else if(t.attach&&!H.fun(t.attach))e[t.attach]=null;else if(H.arr(t.attachFns)){var o=Object(m.a)(t.attachFns,2)[1];H.str(o)&&H.fun(e[o])?e[o](t):H.fun(o)&&o(t,e)}else if(t.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){var n=e.getState().internal;n.interaction=n.interaction.filter((function(e){return e!==t})),n.initialHits=n.initialHits.filter((function(e){return e!==t})),n.hovered.forEach((function(e,r){e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}))}(t.__r3f.root,t)}var u,c=null==(a=t.__r3f)?void 0:a.instance,f=void 0===r?null!==t.dispose&&!c:r;if(!c)l(null==(u=t.__r3f)?void 0:u.objects,t,f),l(t.children,t,f);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,c||delete t.__r3f),f&&t.dispose&&"Scene"!==t.type&&Object(S.unstable_runWithPriority)(S.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),n(e)}}function d(e,t,n,r){var o=e.parent;if(o){var s=a(t,n,e.__r3f.root);e.children&&(e.children.forEach((function(e){return i(s,e)})),e.children=[]),e.__r3f.objects.forEach((function(e){return i(s,e)})),e.__r3f.objects=[],f(o,e),i(o,s),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=s,e.ref&&("function"===typeof e.ref?e.ref(s):e.ref.current=s))}))}}return{reconciler:C()({now:S.unstable_now,createInstance:a,removeChild:f,appendChild:i,appendInitialChild:i,insertBefore:o,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:H.fun(setTimeout)?setTimeout:void 0,cancelTimeout:H.fun(clearTimeout)?clearTimeout:void 0,setTimeout:H.fun(setTimeout)?setTimeout:void 0,clearTimeout:H.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:function(e,t){var n=q(e,t),r=n.container,a=n.root;r.__r3f.root=a,i(r,t)},removeChildFromContainer:function(e,t){f(q(e,t).container,t)},insertInContainerBefore:function(e,t,n){o(q(e,t).container,t,n)},commitUpdate:function(e,n,r,a,i,o){if(e.__r3f.instance&&i.object&&i.object!==e)d(e,r,i,o);else{var s=i.args,c=void 0===s?[]:s,l=Object(u.a)(i,R),f=a.args,h=void 0===f?[]:f,p=Object(u.a)(a,I);c.some((function(e,t){return H.obj(e)?Object.entries(e).some((function(e){var n=Object(m.a)(e,2),r=n[0];return n[1]!==h[t][r]})):e!==h[t]}))?d(e,r,i,o):t(e,l,p,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,n(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,n(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance:function(e){return e},getRootHostContext:function(e){return Y},getChildHostContext:function(e){return Y},createTextInstance:function(){},finalizeInitialChildren:function(e){return!!e.__r3f.handlers},commitMount:function(e){e.raycast&&e.__r3f.handlers&&e.__r3f.root.getState().internal.interaction.push(e)},prepareUpdate:function(){return Y},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}}),applyProps:t}}(),Be=ke.reconciler,Pe=ke.applyProps,Le=function(e,t){return(n=e)&&n.render?e:new b.WebGLRenderer(Object(g.a)({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e));var n};function De(e,t){var n,r,a,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s.gl,l=s.size,f=s.mode,d=void 0===f?Ce[1]:f,h=s.events,p=s.onCreated,m=Object(u.a)(s,N);l||(l={width:null!=(r=null==(a=t.parentElement)?void 0:a.clientWidth)?r:0,height:null!=(i=null==(o=t.parentElement)?void 0:o.clientHeight)?i:0});var v=Ee.get(t),y=null==v?void 0:v.fiber,b=null==v?void 0:v.store,w=null==(n=b)?void 0:n.getState();if(y&&w){var x=w.internal.lastProps;void 0===m.dpr||H.equ(x.dpr,m.dpr)||w.setDpr(m.dpr),H.equ(x.size,l)||w.setSize(l.width,l.height);var A=m.linear!==x.linear;A&&(Fe(t),y=void 0)}if(!y){var M=Le(c,t);m.vr&&(M.xr.enabled=!0,M.setAnimationLoop((function(e){return Te(e,!0)})));var E=(b=re(Pe,Oe,Te,Object(g.a)({gl:M,size:l},m))).getState();y=Be.createContainer(b,Ce.indexOf(d),!1,null),Ee.set(t,{fiber:y,store:b}),h&&E.set({events:h(b)})}if(b&&y)return Be.updateContainer(_.createElement(je,{store:b,element:e,onCreated:p,target:t}),y,null,(function(){})),b;throw"Error creating root!"}function je(e){var t=e.store,n=e.element,r=e.onCreated,a=e.target;return _.useEffect((function(){var e=t.getState();e.set((function(e){return{internal:Object(g.a)(Object(g.a)({},e.internal),{},{active:!0})}})),null==e.events.connect||e.events.connect(a),r&&r(e)}),[]),_.createElement(ne.Provider,{value:t},n)}function Fe(e,t){var n=Ee.get(e),r=null==n?void 0:n.fiber;if(r){var a=null==n?void 0:n.store.getState();a&&(a.internal.active=!1),Be.updateContainer(null,r,null,(function(){a&&setTimeout((function(){var n,r,i;null==a.events.disconnect||a.events.disconnect(),null==(n=a.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=a.gl)||null==i.forceContextLoss||i.forceContextLoss(),Re(a),Ee.delete(e),t&&t(e)}),500)}))}}function Re(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e){var n,r;null==(n=(r=t).dispose)||n.call(r),delete e[t]}}var Ie=Be.act,ze=H.fun(Symbol)&&Symbol.for?Symbol.for("react.portal"):60106;function Ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ze,key:null==r?null:""+r,children:e,containerInfo:$(t),implementation:n}}Be.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(63);var a=n(38),i=n(64);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.a)(e,t)||Object(i.a)()}},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(10);function a(e,t,n){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}},a(e,t,n||e)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(56);var a=n(66),i=n(38);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return re})),n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return oe})),n.d(t,"j",(function(){return se})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return ue})),n.d(t,"m",(function(){return ce})),n.d(t,"n",(function(){return ie})),n.d(t,"o",(function(){return le})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return fe}));var r=n(14),a=n(2),i=n(11),o=n(10),s=n(6),u=n(7),c=n(15),l=n(3),f=n(4),d=n(22),h=n(9),p=n(21);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function b(e){return e?e[0].toUpperCase()+e.slice(1):""}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y[e],a=r&&r[t]||t;return"on"+b(e)+b(a)+(n?"Capture":"")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=y[e],r=n&&n[t]||t;return e+r}function x(e){return"touches"in e}function A(e){return x(e)?function(e){return"touchend"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function M(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,a=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:o,origin:[a,i]}}function E(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function C(e,t){var n=Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),r=Object(h.a)(n,2);return M(r[0],r[1])}function S(e){var t=A(e);return x(e)?t.identifier:t.pointerId}function O(e){var t=A(e);return[t.clientX,t.clientY]}function T(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function k(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function B(){}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?B:1===t.length?t[0]:function(){var e,n,r=Object(d.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e=a.apply(this,arguments)||e}}catch(i){r.e(i)}finally{r.f()}return e}}function L(e,t){return Object.assign({},t,e||{})}var D=function(){function e(t,n,r){Object(l.a)(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return Object(f.a)(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?k(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,a=e.metaKey,i=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:a,ctrlKey:i})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var i=t._delta.map(Math.abs);p.a.addTo(t._distance,i)}var o=Object(h.a)(t._movement,2),s=o[0],u=o[1],c=Object(h.a)(n.threshold,2),l=c[0],f=c[1],d=t._step,m=t.values;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(s)>=l&&m[0]),!1===d[1]&&(d[1]=Math.abs(u)>=f&&m[1])):(!1===d[0]&&(d[0]=Math.abs(s)>=l&&Math.sign(s)*l),!1===d[1]&&(d[1]=Math.abs(u)>=f&&Math.sign(u)*f)),t.intentional=!1!==d[0]||!1!==d[1],t.intentional){var v=[0,0];if(n.hasCustomTransform){var g=Object(h.a)(m,2),y=g[0],b=g[1];v[0]=!1!==d[0]?y-d[0]:0,v[1]=!1!==d[1]?b-d[1]:0}else v[0]=!1!==d[0]?s-d[0]:0,v[1]=!1!==d[1]?u-d[1]:0;if(this.intent&&this.intent(v),(t._active&&!t._blocked||t.active)&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e)){t.first&&("bounds"in n&&(t._bounds=k(n.bounds,t)),this.setup&&this.setup()),t.movement=v;var _=t.offset;if(this.computeOffset(),!t.last||a>32){t.delta=p.a.sub(t.offset,_);var w=t.delta.map(Math.abs);p.a.addTo(t.distance,w),t.direction=t.delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[w[0]/a,w[1]/a])}}var x=t._active&&n.rubberband||[0,0];t.offset=Object(p.b)(t._bounds,t.offset,x),this.computeMovement()}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(g(g(g({},t),e),{},Object(c.a)({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var j=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"aliasKey","xy"),e}return Object(f.a)(n,[{key:"reset",value:function(){Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=p.a.add(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=p.a.sub(this.state.offset,this.state.lastOffset)}},{key:"intent",value:function(e){this.state.axis=this.state.axis||function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1],a=Math.abs(n)-Math.abs(r);return a>0?"x":a<0?"y":void 0}(e),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(e,t){switch(t){case"x":e[1]=0;break;case"y":e[0]=0}}(e,this.state.axis)}}]),n}(D),F=function(e){return e},R=.15,I={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[R,R];case!1:return[0,0];default:return p.a.toVector(e)}},from:function(e){return"function"===typeof e?e:null!=e?p.a.toVector(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||F},threshold:function(e){return p.a.toVector(e,0)}};var z=g(g({},I),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return z.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,a=void 0===r?1/0:r,i=e.top,o=void 0===i?-1/0:i,s=e.bottom,u=void 0===s?1/0:s;return[[n,a],[o,u]]}}),U=10,N={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[U*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,U*e]}},G=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","dragging"),e}return Object(f.a)(n,[{key:"reset",value:function(){Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=z.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,Object(i.a)(Object(o.a)(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons))&&(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=S(e),n._pointerActive=!0,this.computeValues(O(e)),this.computeInitial(),t.preventScroll?this.setupScrollPrevention(e):t.delay>0?this.setupDelayTrigger(e):this.startPointerDrag(e)))}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=S(e);if(!t._pointerId||r===t._pointerId){var a=O(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=p.a.sub(a,t._values),this.computeValues(a)),p.a.addTo(t._movement,t._delta),this.compute(e),t._delayed?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScroll&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(M){0}var t=this.state,n=this.config;if(t._pointerActive){var r=S(e);if(!t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var a=Object(h.a)(t._distance,2),i=a[0],o=a[1];if(t.tap=i<=3&&o<=3,t.tap&&n.filterTaps)t._force=!0;else{var s=Object(h.a)(t.direction,2),u=s[0],c=s[1],l=Object(h.a)(t.velocity,2),f=l[0],d=l[1],p=Object(h.a)(t.movement,2),m=p[0],v=p[1],g=Object(h.a)(n.swipe.velocity,2),y=g[0],b=g[1],_=Object(h.a)(n.swipe.distance,2),w=_[0],x=_[1],A=n.swipe.duration;t.elapsedTime<A&&(Math.abs(f)>y&&Math.abs(m)>w&&(t.swipe[0]=u),Math.abs(d)>b&&Math.abs(v)>x&&(t.swipe[1]=c))}this.emit()}}}},{key:"pointerClick",value:function(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){!function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,e)}},{key:"setupDelayTrigger",value:function(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,e)}},{key:"keyDown",value:function(e){var t=N[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;n._delta=t(r),this.start(e),n._keyboardActive=!0,p.a.addTo(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in N&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0})}}]),n}(j);var H="undefined"!==typeof window&&window.document&&window.document.createElement;function V(){return H&&"ontouchstart"in window}var W={isBrowser:H,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:V(),touchscreen:V()||H&&window.navigator.maxTouchPoints>1,pointer:H&&"onpointerdown"in window,pointerLock:H&&"exitPointerLock"in window.document},X=g(g({},z),{},{pointerLock:function(e,t,n){var r=n.pointer,a=(r=void 0===r?{}:r).lock,i=void 0!==a&&a,o=r.touch,s=void 0!==o&&o;return this.useTouch=W.touch&&s,W.pointerLock&&i},device:function(e,t){return this.useTouch?"touch":this.pointerLock?"mouse":W.pointer?"pointer":W.touch?"touch":"mouse"},preventScroll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>2?arguments[2]:void 0,n=t.preventScrollAxis,r=void 0===n?"y":n;return r&&(this.preventScrollAxis=r),!!W.touchscreen&&("number"===typeof e?e:!!e&&250)},pointerCapture:function(e,t,n){var r=n.pointer,a=(r=void 0===r?{}:r).capture,i=void 0===a||a,o=r.buttons,s=void 0===o?1:o;return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&i},threshold:function(e,t,n){var r=n.filterTaps,a=void 0!==r&&r,i=n.axis,o=void 0===i?void 0:i,s=p.a.toVector(e,a?3:o?1:0);return this.filterTaps=a,s},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,a=void 0===r?50:r,i=e.duration,o=void 0===i?250:i;return{velocity:this.transform(p.a.toVector(n)),distance:this.transform(p.a.toVector(a)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}}});var q=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","pinching"),m(Object(a.a)(e),"aliasKey","da"),e}return Object(f.a)(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){Object(i.a)(Object(o.a)(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?p.a.add(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"intent",value:function(e){var t=this.state;if(!t.axis){var n=30*Math.abs(e[0])-Math.abs(e[1]);n<0?t.axis="angle":n>0&&(t.axis="scale")}this.config.lockDirection&&("scale"===t.axis?e[1]=0:"angle"===t.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=C(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,a=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return a.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=M.apply(void 0,Object(r.a)(Array.from(n.values())));this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=C(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=M.apply(void 0,Object(r.a)(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],a=t.angle-r,i=0;Math.abs(a)>270&&(i+=Math.sign(a)),this.computeValues([t.distance,t.angle-360*i]),n.origin=t.origin,n.turns=i,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=p.a.sub(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){e.ctrlKey&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-T(e)[1]/36*t.offset[0],0],p.a.addTo(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t?(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))):e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(D),Q=g(g({},I),{},{useTouch:function(e,t,n){var r=n.pointer,a=(r=void 0===r?{}:r).touch,i=void 0!==a&&a;return W.touch&&i},device:function(e,t,n){if(n.shared.target&&!W.touch&&W.gesture)return"gesture";if(this.useTouch)return"touch";if(W.touchscreen){if(W.pointer)return"pointer";if(W.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,a=void 0===r?{}:r,i=n.angleBounds,o=void 0===i?{}:i,s=function(e){var t=L(k(a,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=L(k(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof a&&"function"!==typeof o?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=p.a.toVector(e,this.lockDirection?[.1,3]:0);return r}}),Y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","moving"),e}return Object(f.a)(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(O(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=O(e),n=this.state;n._delta=p.a.sub(t,n._values),p.a.addTo(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(j),J=g(g({},z),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),K=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","scrolling"),e}return Object(f.a)(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,a=r.scrollX,i=r.scrollY,o=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==a&&void 0!==a?a:o)&&void 0!==t?t:0,null!==(n=null!==i&&void 0!==i?i:s)&&void 0!==n?n:0]}(e);t._delta=p.a.sub(n,t._values),p.a.addTo(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(j),Z=z,$=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","wheeling"),e}return Object(f.a)(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=T(e),p.a.addTo(this.state._movement,t._delta),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(j),ee=z,te=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),m(Object(a.a)(e),"ingKey","hovering"),e}return Object(f.a)(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(O(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=O(e);t._movement=t._delta=p.a.sub(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(j),ne=g(g({},z),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),re=new Map,ae=new Map;function ie(e){re.set(e.key,e.engine),ae.set(e.key,e.resolver)}var oe={key:"drag",engine:G,resolver:X},se={key:"hover",engine:te,resolver:ne},ue={key:"move",engine:Y,resolver:J},ce={key:"pinch",engine:q,resolver:Q},le={key:"scroll",engine:K,resolver:Z},fe={key:"wheel",engine:$,resolver:ee}},function(e,t,n){e.exports=n(111)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n(9);function a(e,t,n){return Math.max(t,Math.min(e,n))}var i={toVector:function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},add:function(e,t){return[e[0]+t[0],e[1]+t[1]]},sub:function(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo:function(e,t){e[0]+=t[0],e[1]+=t[1]},subTo:function(e,t){e[0]-=t[0],e[1]-=t[1]}};function o(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?a(e,t,n):e<t?-o(t-e,n-t,r)+t:e>n?+o(e-n,n-t,r)+n:e}function u(e,t,n){var a=Object(r.a)(t,2),i=a[0],o=a[1],u=Object(r.a)(n,2),c=u[0],l=u[1],f=Object(r.a)(e,2),d=Object(r.a)(f[0],2),h=d[0],p=d[1],m=Object(r.a)(f[1],2),v=m[0],g=m[1];return[s(i,h,p,c),s(o,v,g,l)]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(38);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p}));var r=n(9),a=n(11),i=n(10),o=n(6),s=n(7),u=n(3),c=n(4),l=n(5),f=n(1),d=Symbol.for("Animated:node"),h=function(e){return e&&e[d]},p=function(e,t){return Object(l.h)(e,d,t)},m=function(e){return e&&e[d]&&e[d].getPayload()},v=function(){function e(){Object(u.a)(this,e),this.payload=void 0,p(this,this)}return Object(c.a)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),g=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,l.s.num(r._value)&&(r.lastPosition=r._value),r}return Object(c.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return l.s.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,l.s.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(v),y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=Object(l.f)({output:[e,e]}),r}return Object(c.a)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(l.s.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!Object(a.a)(Object(i.a)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(l.f)({output:[this.getValue(),e]})),this._value=0,Object(a.a)(Object(i.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(g),b={dependencies:null},_=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return Object(c.a)(n,[{key:"getValue",value:function(e){var t={};return Object(l.l)(this.source,(function(n,r){var a;(a=n)&&a[d]===a?t[r]=n.getValue(e):Object(l.r)(n)?t[r]=Object(l.q)(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(l.k)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(l.l)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;b.dependencies&&Object(l.r)(e)&&b.dependencies.add(e);var n=m(e);n&&Object(l.k)(n,(function(e){return t.add(e)}))}}]),n}(v),w=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(Object(a.a)(Object(i.a)(n.prototype),"setValue",this).call(this,e.map(x)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(_);function x(e){return(Object(l.t)(e)?y:g).create(e)}function A(e){var t=h(e);return t?t.constructor:l.s.arr(e)?w:Object(l.t)(e)?y:g}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}var E=function(e,t){var n=!l.s.fun(e)||e.prototype&&e.prototype.isReactComponent;return Object(f.forwardRef)((function(a,i){var o=Object(f.useRef)(null),s=n&&Object(f.useCallback)((function(e){o.current=function(e,t){e&&(l.s.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),u=function(e,t){var n=new Set;b.dependencies=n,e.style&&(e=M({},e,{style:t.createAnimatedStyle(e.style)}));return e=new _(e),b.dependencies=null,[e,n]}(a,t),c=Object(r.a)(u,2),d=c[0],h=c[1],p=Object(l.z)(),m=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,d.getValue(!0)))&&p()},v=new C(m,h),g=Object(f.useRef)();Object(l.A)((function(){var e=g.current;g.current=v,Object(l.k)(h,(function(e){return Object(l.c)(e,v)})),e&&(Object(l.k)(e.deps,(function(t){return Object(l.x)(t,e)})),l.w.cancel(e.update))})),Object(f.useEffect)(m,[]),Object(l.C)((function(){return function(){var e=g.current;Object(l.k)(e.deps,(function(t){return Object(l.x)(t,e)}))}}));var y=t.getComponentProps(d.getValue());return f.createElement(e,M({},y,{ref:s}))}))},C=function(){function e(t,n){Object(u.a)(this,e),this.update=t,this.deps=n}return Object(c.a)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&l.w.write(this.update)}}]),e}();var S=Symbol.for("AnimatedComponent"),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,a=t.createAnimatedStyle,i=void 0===a?function(e){return new _(e)}:a,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:i,getComponentProps:s},c=function e(t){var n=T(t)||"Anonymous";return(t=l.s.str(t)?e[t]||(e[t]=E(t,u)):t[S]||(t[S]=E(t,u))).displayName="Animated(".concat(n,")"),t};return Object(l.l)(e,(function(t,n){l.s.arr(e)&&(n=T(t)),c[n]=c(t)})),{animated:c}},T=function(e){return l.s.str(e)?e:e&&l.s.str(e.displayName)?e.displayName:l.s.fun(e)&&e.name||null}},function(e,t,n){"use strict";var r=n(19);n.d(t,"a",(function(){return r.i})),n.d(t,"b",(function(){return r.j})),n.d(t,"c",(function(){return r.l})),n.d(t,"d",(function(){return r.m})),n.d(t,"e",(function(){return r.n})),n.d(t,"f",(function(){return r.o})),n.d(t,"g",(function(){return r.q}))},,function(e,t,n){"use strict";e.exports=n(178)},function(e,t,n){var r=n(106);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(36),a=n(107),i=n(108);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THREE=void 0;var r=n(0);t.THREE=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(47),a=n(65);function i(e,t,n){return i=Object(a.a)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&Object(r.a)(i,n.prototype),i},i.apply(null,arguments)}},function(e,t,n){"use strict";var r=n(20),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.drawPlane=t.projectionMatrixFromCameraModel=t.invert=t.cameraDefaultDeviceID=t.z=void 0;var i,o=n(52),s=n(35),u=n(134);function c(){return i||(console.log("Zappar JS v".concat(u.VERSION)),i=o.initialize()),i}function l(){return c().loaded()}function f(e){return new Promise((function(t){return setTimeout(t,e)}))}t.z=c,t.cameraDefaultDeviceID=function(e){return c().camera_default_device_id(e||!1)},t.invert=function(e){var t=s.mat4.create();return s.mat4.invert(t,e),t},t.projectionMatrixFromCameraModel=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return c().projection_matrix_from_camera_model_ext(e,t,n,r,a)},t.drawPlane=function(e,t,n,r,a){c().draw_plane(e,t,n,r,a)},t.browserIncompatible=function(){return c().browser_incompatible()},t.browserIncompatibleUI=function(){c().browser_incompatible_ui()},t.loaded=l,t.loadedPromise=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f(50);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.permissionRequestUI=t.permissionDeniedUI=t.permissionRequest=t.permissionGranted=t.permissionDenied=t.setLogLevel=t.LogLevel=t.Pipeline=t.FaceLandmarkName=t.FaceLandmark=t.FaceMesh=t.getDefaultPipeline=t.glContextLost=t.glContextSet=t.onFrameUpdate=t.HTMLElementSource=t.CameraSource=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=t.CameraEnvironmentMap=t.DefaultLoaderUI=t.LoadingManager=t.LibraryLoader=t.HeadMaskMeshLoader=t.HeadMaskMesh=t.FaceMeshLoader=t.FaceBufferGeometry=t.FaceTrackerLoader=t.FaceLandmarkGroup=t.FaceAnchorGroup=t.InstantWorldAnchorGroup=t.ImageTrackerLoader=t.ImageAnchorGroup=t.CameraMirrorMode=t.CameraPoseMode=t.Camera=void 0;var r=n(104);console.log("Zappar for ThreeJS v".concat(r.VERSION));var a=n(50);Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return a.Camera}}),Object.defineProperty(t,"CameraPoseMode",{enumerable:!0,get:function(){return a.CameraPoseMode}}),Object.defineProperty(t,"CameraMirrorMode",{enumerable:!0,get:function(){return a.CameraMirrorMode}});var i=n(145);Object.defineProperty(t,"ImageAnchorGroup",{enumerable:!0,get:function(){return i.ImageAnchorGroup}});var o=n(146);Object.defineProperty(t,"ImageTrackerLoader",{enumerable:!0,get:function(){return o.ImageTrackerLoader}});var s=n(147);Object.defineProperty(t,"InstantWorldAnchorGroup",{enumerable:!0,get:function(){return s.InstantWorldAnchorGroup}});var u=n(148);Object.defineProperty(t,"FaceAnchorGroup",{enumerable:!0,get:function(){return u.FaceAnchorGroup}});var c=n(149);Object.defineProperty(t,"FaceLandmarkGroup",{enumerable:!0,get:function(){return c.FaceLandmarkGroup}});var l=n(150);Object.defineProperty(t,"FaceTrackerLoader",{enumerable:!0,get:function(){return l.FaceTrackerLoader}});var f=n(82);Object.defineProperty(t,"FaceBufferGeometry",{enumerable:!0,get:function(){return f.FaceBufferGeometry}});var d=n(83);Object.defineProperty(t,"FaceMeshLoader",{enumerable:!0,get:function(){return d.FaceMeshLoader}});var h=n(84);Object.defineProperty(t,"HeadMaskMesh",{enumerable:!0,get:function(){return h.HeadMaskMesh}});var p=n(151);Object.defineProperty(t,"HeadMaskMeshLoader",{enumerable:!0,get:function(){return p.HeadMaskMeshLoader}});var m=n(85);Object.defineProperty(t,"LibraryLoader",{enumerable:!0,get:function(){return m.LibraryLoader}});var v=n(152);Object.defineProperty(t,"LoadingManager",{enumerable:!0,get:function(){return v.LoadingManager}}),Object.defineProperty(t,"DefaultLoaderUI",{enumerable:!0,get:function(){return v.DefaultLoaderUI}});var g=n(153);Object.defineProperty(t,"CameraEnvironmentMap",{enumerable:!0,get:function(){return g.CameraEnvironmentMap}});var y=n(61);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return y.ImageTracker}}),Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return y.InstantWorldTracker}}),Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return y.BarcodeFinder}}),Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return y.FaceTracker}}),Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return y.CameraSource}}),Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return y.HTMLElementSource}}),Object.defineProperty(t,"onFrameUpdate",{enumerable:!0,get:function(){return y.onFrameUpdate}}),Object.defineProperty(t,"glContextSet",{enumerable:!0,get:function(){return y.glContextSet}}),Object.defineProperty(t,"glContextLost",{enumerable:!0,get:function(){return y.glContextLost}}),Object.defineProperty(t,"getDefaultPipeline",{enumerable:!0,get:function(){return y.getDefaultPipeline}});var b=n(43);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return b.FaceMesh}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return b.FaceLandmark}}),Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return b.FaceLandmarkName}}),Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return b.Pipeline}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return b.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return b.setLogLevel}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return b.permissionDenied}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return b.permissionGranted}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return b.permissionRequest}}),Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return b.permissionDeniedUI}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return b.permissionRequestUI}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return b.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return b.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return b.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return b.loadedPromise}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),a=n(22),i=n(57),o=n.n(i),s=[];function u(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Object(a.a)(t);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(o()(n,l.args)){if(u)return;if(l.error)throw l.error;if(l.response)return l.response;throw l.promise}}}catch(d){c.e(d)}finally{c.f()}var f={args:n,promise:e.apply(void 0,Object(r.a)(n)).then((function(e){return f.response=null==e||e})).catch((function(e){return f.error=null!=e?e:"unknown error"})).then((function(){s>0&&setTimeout((function(){var e=t.indexOf(f);-1!==e&&t.splice(e,1)}),s)}))};if(t.push(f),!u)throw f.promise}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0===n||0===n.length)e.splice(0,e.length);else{var a=e.find((function(e){return o()(n,e.args)}));if(a){var i=e.indexOf(a);-1!==i&&e.splice(i,1)}}}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u(e,s,n,l.lifespan)}l.lifespan=0,l.clear=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.apply(void 0,[s].concat(t))},l.preload=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u(e,s,n,l.lifespan,!0)},l.peek=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return null==(r=s.find((function(e){return o()(t,e.args)})))?void 0:r.response}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.r(t),n.d(t,"glMatrix",(function(){return r})),n.d(t,"mat2",(function(){return a})),n.d(t,"mat2d",(function(){return i})),n.d(t,"mat3",(function(){return o})),n.d(t,"mat4",(function(){return s})),n.d(t,"quat",(function(){return l})),n.d(t,"quat2",(function(){return f})),n.d(t,"vec2",(function(){return d})),n.d(t,"vec3",(function(){return u})),n.d(t,"vec4",(function(){return c}));var r={};n.r(r),n.d(r,"EPSILON",(function(){return h})),n.d(r,"ARRAY_TYPE",(function(){return p})),n.d(r,"RANDOM",(function(){return m})),n.d(r,"setMatrixArrayType",(function(){return v})),n.d(r,"toRadian",(function(){return y})),n.d(r,"equals",(function(){return b}));var a={};n.r(a),n.d(a,"create",(function(){return _})),n.d(a,"clone",(function(){return w})),n.d(a,"copy",(function(){return x})),n.d(a,"identity",(function(){return A})),n.d(a,"fromValues",(function(){return M})),n.d(a,"set",(function(){return E})),n.d(a,"transpose",(function(){return C})),n.d(a,"invert",(function(){return S})),n.d(a,"adjoint",(function(){return O})),n.d(a,"determinant",(function(){return T})),n.d(a,"multiply",(function(){return k})),n.d(a,"rotate",(function(){return B})),n.d(a,"scale",(function(){return P})),n.d(a,"fromRotation",(function(){return L})),n.d(a,"fromScaling",(function(){return D})),n.d(a,"str",(function(){return j})),n.d(a,"frob",(function(){return F})),n.d(a,"LDU",(function(){return R})),n.d(a,"add",(function(){return I})),n.d(a,"subtract",(function(){return z})),n.d(a,"exactEquals",(function(){return U})),n.d(a,"equals",(function(){return N})),n.d(a,"multiplyScalar",(function(){return G})),n.d(a,"multiplyScalarAndAdd",(function(){return H})),n.d(a,"mul",(function(){return V})),n.d(a,"sub",(function(){return W}));var i={};n.r(i),n.d(i,"create",(function(){return X})),n.d(i,"clone",(function(){return q})),n.d(i,"copy",(function(){return Q})),n.d(i,"identity",(function(){return Y})),n.d(i,"fromValues",(function(){return J})),n.d(i,"set",(function(){return K})),n.d(i,"invert",(function(){return Z})),n.d(i,"determinant",(function(){return $})),n.d(i,"multiply",(function(){return ee})),n.d(i,"rotate",(function(){return te})),n.d(i,"scale",(function(){return ne})),n.d(i,"translate",(function(){return re})),n.d(i,"fromRotation",(function(){return ae})),n.d(i,"fromScaling",(function(){return ie})),n.d(i,"fromTranslation",(function(){return oe})),n.d(i,"str",(function(){return se})),n.d(i,"frob",(function(){return ue})),n.d(i,"add",(function(){return ce})),n.d(i,"subtract",(function(){return le})),n.d(i,"multiplyScalar",(function(){return fe})),n.d(i,"multiplyScalarAndAdd",(function(){return de})),n.d(i,"exactEquals",(function(){return he})),n.d(i,"equals",(function(){return pe})),n.d(i,"mul",(function(){return me})),n.d(i,"sub",(function(){return ve}));var o={};n.r(o),n.d(o,"create",(function(){return ge})),n.d(o,"fromMat4",(function(){return ye})),n.d(o,"clone",(function(){return be})),n.d(o,"copy",(function(){return _e})),n.d(o,"fromValues",(function(){return we})),n.d(o,"set",(function(){return xe})),n.d(o,"identity",(function(){return Ae})),n.d(o,"transpose",(function(){return Me})),n.d(o,"invert",(function(){return Ee})),n.d(o,"adjoint",(function(){return Ce})),n.d(o,"determinant",(function(){return Se})),n.d(o,"multiply",(function(){return Oe})),n.d(o,"translate",(function(){return Te})),n.d(o,"rotate",(function(){return ke})),n.d(o,"scale",(function(){return Be})),n.d(o,"fromTranslation",(function(){return Pe})),n.d(o,"fromRotation",(function(){return Le})),n.d(o,"fromScaling",(function(){return De})),n.d(o,"fromMat2d",(function(){return je})),n.d(o,"fromQuat",(function(){return Fe})),n.d(o,"normalFromMat4",(function(){return Re})),n.d(o,"projection",(function(){return Ie})),n.d(o,"str",(function(){return ze})),n.d(o,"frob",(function(){return Ue})),n.d(o,"add",(function(){return Ne})),n.d(o,"subtract",(function(){return Ge})),n.d(o,"multiplyScalar",(function(){return He})),n.d(o,"multiplyScalarAndAdd",(function(){return Ve})),n.d(o,"exactEquals",(function(){return We})),n.d(o,"equals",(function(){return Xe})),n.d(o,"mul",(function(){return qe})),n.d(o,"sub",(function(){return Qe}));var s={};n.r(s),n.d(s,"create",(function(){return Ye})),n.d(s,"clone",(function(){return Je})),n.d(s,"copy",(function(){return Ke})),n.d(s,"fromValues",(function(){return Ze})),n.d(s,"set",(function(){return $e})),n.d(s,"identity",(function(){return et})),n.d(s,"transpose",(function(){return tt})),n.d(s,"invert",(function(){return nt})),n.d(s,"adjoint",(function(){return rt})),n.d(s,"determinant",(function(){return at})),n.d(s,"multiply",(function(){return it})),n.d(s,"translate",(function(){return ot})),n.d(s,"scale",(function(){return st})),n.d(s,"rotate",(function(){return ut})),n.d(s,"rotateX",(function(){return ct})),n.d(s,"rotateY",(function(){return lt})),n.d(s,"rotateZ",(function(){return ft})),n.d(s,"fromTranslation",(function(){return dt})),n.d(s,"fromScaling",(function(){return ht})),n.d(s,"fromRotation",(function(){return pt})),n.d(s,"fromXRotation",(function(){return mt})),n.d(s,"fromYRotation",(function(){return vt})),n.d(s,"fromZRotation",(function(){return gt})),n.d(s,"fromRotationTranslation",(function(){return yt})),n.d(s,"fromQuat2",(function(){return bt})),n.d(s,"getTranslation",(function(){return _t})),n.d(s,"getScaling",(function(){return wt})),n.d(s,"getRotation",(function(){return xt})),n.d(s,"fromRotationTranslationScale",(function(){return At})),n.d(s,"fromRotationTranslationScaleOrigin",(function(){return Mt})),n.d(s,"fromQuat",(function(){return Et})),n.d(s,"frustum",(function(){return Ct})),n.d(s,"perspective",(function(){return St})),n.d(s,"perspectiveFromFieldOfView",(function(){return Ot})),n.d(s,"ortho",(function(){return Tt})),n.d(s,"lookAt",(function(){return kt})),n.d(s,"targetTo",(function(){return Bt})),n.d(s,"str",(function(){return Pt})),n.d(s,"frob",(function(){return Lt})),n.d(s,"add",(function(){return Dt})),n.d(s,"subtract",(function(){return jt})),n.d(s,"multiplyScalar",(function(){return Ft})),n.d(s,"multiplyScalarAndAdd",(function(){return Rt})),n.d(s,"exactEquals",(function(){return It})),n.d(s,"equals",(function(){return zt})),n.d(s,"mul",(function(){return Ut})),n.d(s,"sub",(function(){return Nt}));var u={};n.r(u),n.d(u,"create",(function(){return Gt})),n.d(u,"clone",(function(){return Ht})),n.d(u,"length",(function(){return Vt})),n.d(u,"fromValues",(function(){return Wt})),n.d(u,"copy",(function(){return Xt})),n.d(u,"set",(function(){return qt})),n.d(u,"add",(function(){return Qt})),n.d(u,"subtract",(function(){return Yt})),n.d(u,"multiply",(function(){return Jt})),n.d(u,"divide",(function(){return Kt})),n.d(u,"ceil",(function(){return Zt})),n.d(u,"floor",(function(){return $t})),n.d(u,"min",(function(){return en})),n.d(u,"max",(function(){return tn})),n.d(u,"round",(function(){return nn})),n.d(u,"scale",(function(){return rn})),n.d(u,"scaleAndAdd",(function(){return an})),n.d(u,"distance",(function(){return on})),n.d(u,"squaredDistance",(function(){return sn})),n.d(u,"squaredLength",(function(){return un})),n.d(u,"negate",(function(){return cn})),n.d(u,"inverse",(function(){return ln})),n.d(u,"normalize",(function(){return fn})),n.d(u,"dot",(function(){return dn})),n.d(u,"cross",(function(){return hn})),n.d(u,"lerp",(function(){return pn})),n.d(u,"hermite",(function(){return mn})),n.d(u,"bezier",(function(){return vn})),n.d(u,"random",(function(){return gn})),n.d(u,"transformMat4",(function(){return yn})),n.d(u,"transformMat3",(function(){return bn})),n.d(u,"transformQuat",(function(){return _n})),n.d(u,"rotateX",(function(){return wn})),n.d(u,"rotateY",(function(){return xn})),n.d(u,"rotateZ",(function(){return An})),n.d(u,"angle",(function(){return Mn})),n.d(u,"zero",(function(){return En})),n.d(u,"str",(function(){return Cn})),n.d(u,"exactEquals",(function(){return Sn})),n.d(u,"equals",(function(){return On})),n.d(u,"sub",(function(){return Tn})),n.d(u,"mul",(function(){return kn})),n.d(u,"div",(function(){return Bn})),n.d(u,"dist",(function(){return Pn})),n.d(u,"sqrDist",(function(){return Ln})),n.d(u,"len",(function(){return Dn})),n.d(u,"sqrLen",(function(){return jn})),n.d(u,"forEach",(function(){return Fn}));var c={};n.r(c),n.d(c,"create",(function(){return Rn})),n.d(c,"clone",(function(){return In})),n.d(c,"fromValues",(function(){return zn})),n.d(c,"copy",(function(){return Un})),n.d(c,"set",(function(){return Nn})),n.d(c,"add",(function(){return Gn})),n.d(c,"subtract",(function(){return Hn})),n.d(c,"multiply",(function(){return Vn})),n.d(c,"divide",(function(){return Wn})),n.d(c,"ceil",(function(){return Xn})),n.d(c,"floor",(function(){return qn})),n.d(c,"min",(function(){return Qn})),n.d(c,"max",(function(){return Yn})),n.d(c,"round",(function(){return Jn})),n.d(c,"scale",(function(){return Kn})),n.d(c,"scaleAndAdd",(function(){return Zn})),n.d(c,"distance",(function(){return $n})),n.d(c,"squaredDistance",(function(){return er})),n.d(c,"length",(function(){return tr})),n.d(c,"squaredLength",(function(){return nr})),n.d(c,"negate",(function(){return rr})),n.d(c,"inverse",(function(){return ar})),n.d(c,"normalize",(function(){return ir})),n.d(c,"dot",(function(){return or})),n.d(c,"cross",(function(){return sr})),n.d(c,"lerp",(function(){return ur})),n.d(c,"random",(function(){return cr})),n.d(c,"transformMat4",(function(){return lr})),n.d(c,"transformQuat",(function(){return fr})),n.d(c,"zero",(function(){return dr})),n.d(c,"str",(function(){return hr})),n.d(c,"exactEquals",(function(){return pr})),n.d(c,"equals",(function(){return mr})),n.d(c,"sub",(function(){return vr})),n.d(c,"mul",(function(){return gr})),n.d(c,"div",(function(){return yr})),n.d(c,"dist",(function(){return br})),n.d(c,"sqrDist",(function(){return _r})),n.d(c,"len",(function(){return wr})),n.d(c,"sqrLen",(function(){return xr})),n.d(c,"forEach",(function(){return Ar}));var l={};n.r(l),n.d(l,"create",(function(){return Mr})),n.d(l,"identity",(function(){return Er})),n.d(l,"setAxisAngle",(function(){return Cr})),n.d(l,"getAxisAngle",(function(){return Sr})),n.d(l,"getAngle",(function(){return Or})),n.d(l,"multiply",(function(){return Tr})),n.d(l,"rotateX",(function(){return kr})),n.d(l,"rotateY",(function(){return Br})),n.d(l,"rotateZ",(function(){return Pr})),n.d(l,"calculateW",(function(){return Lr})),n.d(l,"exp",(function(){return Dr})),n.d(l,"ln",(function(){return jr})),n.d(l,"pow",(function(){return Fr})),n.d(l,"slerp",(function(){return Rr})),n.d(l,"random",(function(){return Ir})),n.d(l,"invert",(function(){return zr})),n.d(l,"conjugate",(function(){return Ur})),n.d(l,"fromMat3",(function(){return Nr})),n.d(l,"fromEuler",(function(){return Gr})),n.d(l,"str",(function(){return Hr})),n.d(l,"clone",(function(){return Vr})),n.d(l,"fromValues",(function(){return Wr})),n.d(l,"copy",(function(){return Xr})),n.d(l,"set",(function(){return qr})),n.d(l,"add",(function(){return Qr})),n.d(l,"mul",(function(){return Yr})),n.d(l,"scale",(function(){return Jr})),n.d(l,"dot",(function(){return Kr})),n.d(l,"lerp",(function(){return Zr})),n.d(l,"length",(function(){return $r})),n.d(l,"len",(function(){return ea})),n.d(l,"squaredLength",(function(){return ta})),n.d(l,"sqrLen",(function(){return na})),n.d(l,"normalize",(function(){return ra})),n.d(l,"exactEquals",(function(){return aa})),n.d(l,"equals",(function(){return ia})),n.d(l,"rotationTo",(function(){return oa})),n.d(l,"sqlerp",(function(){return sa})),n.d(l,"setAxes",(function(){return ua}));var f={};n.r(f),n.d(f,"create",(function(){return ca})),n.d(f,"clone",(function(){return la})),n.d(f,"fromValues",(function(){return fa})),n.d(f,"fromRotationTranslationValues",(function(){return da})),n.d(f,"fromRotationTranslation",(function(){return ha})),n.d(f,"fromTranslation",(function(){return pa})),n.d(f,"fromRotation",(function(){return ma})),n.d(f,"fromMat4",(function(){return va})),n.d(f,"copy",(function(){return ga})),n.d(f,"identity",(function(){return ya})),n.d(f,"set",(function(){return ba})),n.d(f,"getReal",(function(){return _a})),n.d(f,"getDual",(function(){return wa})),n.d(f,"setReal",(function(){return xa})),n.d(f,"setDual",(function(){return Aa})),n.d(f,"getTranslation",(function(){return Ma})),n.d(f,"translate",(function(){return Ea})),n.d(f,"rotateX",(function(){return Ca})),n.d(f,"rotateY",(function(){return Sa})),n.d(f,"rotateZ",(function(){return Oa})),n.d(f,"rotateByQuatAppend",(function(){return Ta})),n.d(f,"rotateByQuatPrepend",(function(){return ka})),n.d(f,"rotateAroundAxis",(function(){return Ba})),n.d(f,"add",(function(){return Pa})),n.d(f,"multiply",(function(){return La})),n.d(f,"mul",(function(){return Da})),n.d(f,"scale",(function(){return ja})),n.d(f,"dot",(function(){return Fa})),n.d(f,"lerp",(function(){return Ra})),n.d(f,"invert",(function(){return Ia})),n.d(f,"conjugate",(function(){return za})),n.d(f,"length",(function(){return Ua})),n.d(f,"len",(function(){return Na})),n.d(f,"squaredLength",(function(){return Ga})),n.d(f,"sqrLen",(function(){return Ha})),n.d(f,"normalize",(function(){return Va})),n.d(f,"str",(function(){return Wa})),n.d(f,"exactEquals",(function(){return Xa})),n.d(f,"equals",(function(){return qa}));var d={};n.r(d),n.d(d,"create",(function(){return Qa})),n.d(d,"clone",(function(){return Ya})),n.d(d,"fromValues",(function(){return Ja})),n.d(d,"copy",(function(){return Ka})),n.d(d,"set",(function(){return Za})),n.d(d,"add",(function(){return $a})),n.d(d,"subtract",(function(){return ei})),n.d(d,"multiply",(function(){return ti})),n.d(d,"divide",(function(){return ni})),n.d(d,"ceil",(function(){return ri})),n.d(d,"floor",(function(){return ai})),n.d(d,"min",(function(){return ii})),n.d(d,"max",(function(){return oi})),n.d(d,"round",(function(){return si})),n.d(d,"scale",(function(){return ui})),n.d(d,"scaleAndAdd",(function(){return ci})),n.d(d,"distance",(function(){return li})),n.d(d,"squaredDistance",(function(){return fi})),n.d(d,"length",(function(){return di})),n.d(d,"squaredLength",(function(){return hi})),n.d(d,"negate",(function(){return pi})),n.d(d,"inverse",(function(){return mi})),n.d(d,"normalize",(function(){return vi})),n.d(d,"dot",(function(){return gi})),n.d(d,"cross",(function(){return yi})),n.d(d,"lerp",(function(){return bi})),n.d(d,"random",(function(){return _i})),n.d(d,"transformMat2",(function(){return wi})),n.d(d,"transformMat2d",(function(){return xi})),n.d(d,"transformMat3",(function(){return Ai})),n.d(d,"transformMat4",(function(){return Mi})),n.d(d,"rotate",(function(){return Ei})),n.d(d,"angle",(function(){return Ci})),n.d(d,"zero",(function(){return Si})),n.d(d,"str",(function(){return Oi})),n.d(d,"exactEquals",(function(){return Ti})),n.d(d,"equals",(function(){return ki})),n.d(d,"len",(function(){return Bi})),n.d(d,"sub",(function(){return Pi})),n.d(d,"mul",(function(){return Li})),n.d(d,"div",(function(){return Di})),n.d(d,"dist",(function(){return ji})),n.d(d,"sqrDist",(function(){return Fi})),n.d(d,"sqrLen",(function(){return Ri})),n.d(d,"forEach",(function(){return Ii}));var h=1e-6,p="undefined"!==typeof Float32Array?Float32Array:Array,m=Math.random;function v(e){p=e}var g=Math.PI/180;function y(e){return e*g}function b(e,t){return Math.abs(e-t)<=h*Math.max(1,Math.abs(e),Math.abs(t))}function _(){var e=new p(4);return p!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function x(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function A(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function M(e,t,n,r){var a=new p(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function E(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function C(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function S(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null}function O(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function T(e){return e[0]*e[3]-e[2]*e[1]}function k(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*s+i*u,e[1]=a*s+o*u,e[2]=r*c+i*l,e[3]=a*c+o*l,e}function B(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=a*u+o*s,e[2]=r*-s+i*u,e[3]=a*-s+o*u,e}function P(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function L(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function D(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function j(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function F(e){return Math.hypot(e[0],e[1],e[2],e[3])}function R(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function I(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function z(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function N(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=h*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}function G(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function H(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var V=k,W=z;function X(){var e=new p(6);return p!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function q(e){var t=new p(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Q(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function J(e,t,n,r,a,i){var o=new p(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function K(e,t,n,r,a,i,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e}function Z(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=n*i-r*a;return u?(u=1/u,e[0]=i*u,e[1]=-r*u,e[2]=-a*u,e[3]=n*u,e[4]=(a*s-i*o)*u,e[5]=(r*o-n*s)*u,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return e[0]=r*c+i*l,e[1]=a*c+o*l,e[2]=r*f+i*d,e[3]=a*f+o*d,e[4]=r*h+i*p+s,e[5]=a*h+o*p+u,e}function te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*c,e[1]=a*l+o*c,e[2]=r*-c+i*l,e[3]=a*-c+o*l,e[4]=s,e[5]=u,e}function ne(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r*c,e[1]=a*c,e[2]=i*l,e[3]=o*l,e[4]=s,e[5]=u,e}function re(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=n[0],l=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*c+i*l+s,e[5]=a*c+o*l+u,e}function ae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function se(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function le(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function fe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function de(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function he(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function pe(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],c=t[1],l=t[2],f=t[3],d=t[4],p=t[5];return Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=h*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(a-l)<=h*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-f)<=h*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-p)<=h*Math.max(1,Math.abs(s),Math.abs(p))}var me=ee,ve=le;function ge(){var e=new p(9);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function be(e){var t=new p(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,n,r,a,i,o,s,u){var c=new p(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=u,c}function xe(e,t,n,r,a,i,o,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e}function Ae(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Me(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ee(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*o-s*c,d=-l*i+s*u,h=c*i-o*u,p=n*f+r*d+a*h;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+a*c)*p,e[2]=(s*r-a*o)*p,e[3]=d*p,e[4]=(l*n-a*u)*p,e[5]=(-s*n+a*i)*p,e[6]=h*p,e[7]=(-c*n+r*u)*p,e[8]=(o*n-r*i)*p,e):null}function Ce(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=o*l-s*c,e[1]=a*c-r*l,e[2]=r*s-a*o,e[3]=s*u-i*l,e[4]=n*l-a*u,e[5]=a*i-n*s,e[6]=i*c-o*u,e[7]=r*u-n*c,e[8]=n*o-r*i,e}function Se(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-o*u)+n*(-c*a+o*s)+r*(u*a-i*s)}function Oe(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1],p=n[2],m=n[3],v=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return e[0]=d*r+h*o+p*c,e[1]=d*a+h*s+p*l,e[2]=d*i+h*u+p*f,e[3]=m*r+v*o+g*c,e[4]=m*a+v*s+g*l,e[5]=m*i+v*u+g*f,e[6]=y*r+b*o+_*c,e[7]=y*a+b*s+_*l,e[8]=y*i+b*u+_*f,e}function Te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=d*r+h*o+c,e[7]=d*a+h*s+l,e[8]=d*i+h*u+f,e}function ke(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*o,e[1]=h*a+d*s,e[2]=h*i+d*u,e[3]=h*o-d*r,e[4]=h*s-d*a,e[5]=h*u-d*i,e[6]=c,e[7]=l,e[8]=f,e}function Be(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Pe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Le(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Fe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,c=n*o,l=r*o,f=r*s,d=a*o,h=a*s,p=a*u,m=i*o,v=i*s,g=i*u;return e[0]=1-f-p,e[3]=l-g,e[6]=d+v,e[1]=l+g,e[4]=1-c-p,e[7]=h-m,e[2]=d-v,e[5]=h+m,e[8]=1-c-f,e}function Re(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*o,b=n*u-a*o,_=n*c-i*o,w=r*u-a*s,x=r*c-i*s,A=a*c-i*u,M=l*m-f*p,E=l*v-d*p,C=l*g-h*p,S=f*v-d*m,O=f*g-h*m,T=d*g-h*v,k=y*T-b*O+_*S+w*C-x*E+A*M;return k?(k=1/k,e[0]=(s*T-u*O+c*S)*k,e[1]=(u*C-o*T-c*E)*k,e[2]=(o*O-s*C+c*M)*k,e[3]=(a*O-r*T-i*S)*k,e[4]=(n*T-a*C+i*E)*k,e[5]=(r*C-n*O-i*M)*k,e[6]=(m*A-v*x+g*w)*k,e[7]=(v*_-p*A-g*b)*k,e[8]=(p*x-m*_+g*y)*k,e):null}function Ie(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function ze(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ue(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function Ne(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ge(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function He(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ve(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function We(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Xe(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=t[0],d=t[1],p=t[2],m=t[3],v=t[4],g=t[5],y=t[6],b=t[7],_=t[8];return Math.abs(n-f)<=h*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=h*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-v)<=h*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-g)<=h*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=h*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=h*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(l-_)<=h*Math.max(1,Math.abs(l),Math.abs(_))}var qe=Oe,Qe=Ge;function Ye(){var e=new p(16);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Je(e){var t=new p(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ze(e,t,n,r,a,i,o,s,u,c,l,f,d,h,m,v){var g=new p(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a,g[5]=i,g[6]=o,g[7]=s,g[8]=u,g[9]=c,g[10]=l,g[11]=f,g[12]=d,g[13]=h,g[14]=m,g[15]=v,g}function $e(e,t,n,r,a,i,o,s,u,c,l,f,d,h,p,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=c,e[9]=l,e[10]=f,e[11]=d,e[12]=h,e[13]=p,e[14]=m,e[15]=v,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15],y=n*s-r*o,b=n*u-a*o,_=n*c-i*o,w=r*u-a*s,x=r*c-i*s,A=a*c-i*u,M=l*m-f*p,E=l*v-d*p,C=l*g-h*p,S=f*v-d*m,O=f*g-h*m,T=d*g-h*v,k=y*T-b*O+_*S+w*C-x*E+A*M;return k?(k=1/k,e[0]=(s*T-u*O+c*S)*k,e[1]=(a*O-r*T-i*S)*k,e[2]=(m*A-v*x+g*w)*k,e[3]=(d*x-f*A-h*w)*k,e[4]=(u*C-o*T-c*E)*k,e[5]=(n*T-a*C+i*E)*k,e[6]=(v*_-p*A-g*b)*k,e[7]=(l*A-d*_+h*b)*k,e[8]=(o*O-s*C+c*M)*k,e[9]=(r*C-n*O-i*M)*k,e[10]=(p*x-m*_+g*y)*k,e[11]=(f*_-l*x-h*y)*k,e[12]=(s*E-o*S-u*M)*k,e[13]=(n*S-r*E+a*M)*k,e[14]=(m*b-p*w-v*y)*k,e[15]=(l*w-f*b+d*y)*k,e):null}function rt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],v=t[14],g=t[15];return e[0]=s*(d*g-h*v)-f*(u*g-c*v)+m*(u*h-c*d),e[1]=-(r*(d*g-h*v)-f*(a*g-i*v)+m*(a*h-i*d)),e[2]=r*(u*g-c*v)-s*(a*g-i*v)+m*(a*c-i*u),e[3]=-(r*(u*h-c*d)-s*(a*h-i*d)+f*(a*c-i*u)),e[4]=-(o*(d*g-h*v)-l*(u*g-c*v)+p*(u*h-c*d)),e[5]=n*(d*g-h*v)-l*(a*g-i*v)+p*(a*h-i*d),e[6]=-(n*(u*g-c*v)-o*(a*g-i*v)+p*(a*c-i*u)),e[7]=n*(u*h-c*d)-o*(a*h-i*d)+l*(a*c-i*u),e[8]=o*(f*g-h*m)-l*(s*g-c*m)+p*(s*h-c*f),e[9]=-(n*(f*g-h*m)-l*(r*g-i*m)+p*(r*h-i*f)),e[10]=n*(s*g-c*m)-o*(r*g-i*m)+p*(r*c-i*s),e[11]=-(n*(s*h-c*f)-o*(r*h-i*f)+l*(r*c-i*s)),e[12]=-(o*(f*v-d*m)-l*(s*v-u*m)+p*(s*d-u*f)),e[13]=n*(f*v-d*m)-l*(r*v-a*m)+p*(r*d-a*f),e[14]=-(n*(s*v-u*m)-o*(r*v-a*m)+p*(r*u-a*s)),e[15]=n*(s*d-u*f)-o*(r*d-a*f)+l*(r*u-a*s),e}function at(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],v=e[15];return(t*o-n*i)*(f*v-d*m)-(t*s-r*i)*(l*v-d*p)+(t*u-a*i)*(l*m-f*p)+(n*s-r*o)*(c*v-d*h)-(n*u-a*o)*(c*m-f*h)+(r*u-a*s)*(c*p-l*h)}function it(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],m=t[12],v=t[13],g=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*f+x*m,e[1]=b*a+_*u+w*d+x*v,e[2]=b*i+_*c+w*h+x*g,e[3]=b*o+_*l+w*p+x*y,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*s+w*f+x*m,e[5]=b*a+_*u+w*d+x*v,e[6]=b*i+_*c+w*h+x*g,e[7]=b*o+_*l+w*p+x*y,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*s+w*f+x*m,e[9]=b*a+_*u+w*d+x*v,e[10]=b*i+_*c+w*h+x*g,e[11]=b*o+_*l+w*p+x*y,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*s+w*f+x*m,e[13]=b*a+_*u+w*d+x*v,e[14]=b*i+_*c+w*h+x*g,e[15]=b*o+_*l+w*p+x*y,e}function ot(e,t,n){var r,a,i,o,s,u,c,l,f,d,h,p,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*m+s*v+f*g+t[12],e[13]=a*m+u*v+d*g+t[13],e[14]=i*m+c*v+h*g+t[14],e[15]=o*m+l*v+p*g+t[15]),e}function st(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ut(e,t,n,r){var a,i,o,s,u,c,l,f,d,p,m,v,g,y,b,_,w,x,A,M,E,C,S,O,T=r[0],k=r[1],B=r[2],P=Math.hypot(T,k,B);return P<h?null:(T*=P=1/P,k*=P,B*=P,a=Math.sin(n),o=1-(i=Math.cos(n)),s=t[0],u=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],m=t[7],v=t[8],g=t[9],y=t[10],b=t[11],_=T*T*o+i,w=k*T*o+B*a,x=B*T*o-k*a,A=T*k*o-B*a,M=k*k*o+i,E=B*k*o+T*a,C=T*B*o+k*a,S=k*B*o-T*a,O=B*B*o+i,e[0]=s*_+f*w+v*x,e[1]=u*_+d*w+g*x,e[2]=c*_+p*w+y*x,e[3]=l*_+m*w+b*x,e[4]=s*A+f*M+v*E,e[5]=u*A+d*M+g*E,e[6]=c*A+p*M+y*E,e[7]=l*A+m*M+b*E,e[8]=s*C+f*S+v*O,e[9]=u*C+d*S+g*O,e[10]=c*C+p*S+y*O,e[11]=l*C+m*S+b*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+c*r,e[5]=o*a+l*r,e[6]=s*a+f*r,e[7]=u*a+d*r,e[8]=c*a-i*r,e[9]=l*a-o*r,e[10]=f*a-s*r,e[11]=d*a-u*r,e}function lt(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-c*r,e[1]=o*a-l*r,e[2]=s*a-f*r,e[3]=u*a-d*r,e[8]=i*r+c*a,e[9]=o*r+l*a,e[10]=s*r+f*a,e[11]=u*r+d*a,e}function ft(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+c*r,e[1]=o*a+l*r,e[2]=s*a+f*r,e[3]=u*a+d*r,e[4]=c*a-i*r,e[5]=l*a-o*r,e[6]=f*a-s*r,e[7]=d*a-u*r,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ht(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pt(e,t,n){var r,a,i,o=n[0],s=n[1],u=n[2],c=Math.hypot(o,s,u);return c<h?null:(o*=c=1/c,s*=c,u*=c,r=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=s*o*i+u*r,e[2]=u*o*i-s*r,e[3]=0,e[4]=o*s*i-u*r,e[5]=s*s*i+a,e[6]=u*s*i+o*r,e[7]=0,e[8]=o*u*i+s*r,e[9]=s*u*i-o*r,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,u=a+a,c=i+i,l=r*s,f=r*u,d=r*c,h=a*u,p=a*c,m=i*c,v=o*s,g=o*u,y=o*c;return e[0]=1-(h+m),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(l+m),e[6]=p+v,e[7]=0,e[8]=d+g,e[9]=p-v,e[10]=1-(l+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function bt(e,t){var n=new p(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=r*r+a*a+i*i+o*o;return f>0?(n[0]=2*(s*o+l*r+u*i-c*a)/f,n[1]=2*(u*o+l*a+c*r-s*i)/f,n[2]=2*(c*o+l*i+s*a-u*r)/f):(n[0]=2*(s*o+l*r+u*i-c*a),n[1]=2*(u*o+l*a+c*r-s*i),n[2]=2*(c*o+l*i+s*a-u*r)),yt(e,t,n),e}function _t(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(u,c,l),e}function xt(e,t){var n=new p(3);wt(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,s=t[1]*a,u=t[2]*i,c=t[4]*r,l=t[5]*a,f=t[6]*i,d=t[8]*r,h=t[9]*a,m=t[10]*i,v=o+l+m,g=0;return v>0?(g=2*Math.sqrt(v+1),e[3]=.25*g,e[0]=(f-h)/g,e[1]=(d-u)/g,e[2]=(s-c)/g):o>l&&o>m?(g=2*Math.sqrt(1+o-l-m),e[3]=(f-h)/g,e[0]=.25*g,e[1]=(s+c)/g,e[2]=(d+u)/g):l>m?(g=2*Math.sqrt(1+l-o-m),e[3]=(d-u)/g,e[0]=(s+c)/g,e[1]=.25*g,e[2]=(f+h)/g):(g=2*Math.sqrt(1+m-o-l),e[3]=(s-c)/g,e[0]=(d+u)/g,e[1]=(f+h)/g,e[2]=.25*g),e}function At(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,c=i+i,l=o+o,f=a*u,d=a*c,h=a*l,p=i*c,m=i*l,v=o*l,g=s*u,y=s*c,b=s*l,_=r[0],w=r[1],x=r[2];return e[0]=(1-(p+v))*_,e[1]=(d+b)*_,e[2]=(h-y)*_,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+v))*w,e[6]=(m+g)*w,e[7]=0,e[8]=(h+y)*x,e[9]=(m-g)*x,e[10]=(1-(f+p))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Mt(e,t,n,r,a){var i=t[0],o=t[1],s=t[2],u=t[3],c=i+i,l=o+o,f=s+s,d=i*c,h=i*l,p=i*f,m=o*l,v=o*f,g=s*f,y=u*c,b=u*l,_=u*f,w=r[0],x=r[1],A=r[2],M=a[0],E=a[1],C=a[2],S=(1-(m+g))*w,O=(h+_)*w,T=(p-b)*w,k=(h-_)*x,B=(1-(d+g))*x,P=(v+y)*x,L=(p+b)*A,D=(v-y)*A,j=(1-(d+m))*A;return e[0]=S,e[1]=O,e[2]=T,e[3]=0,e[4]=k,e[5]=B,e[6]=P,e[7]=0,e[8]=L,e[9]=D,e[10]=j,e[11]=0,e[12]=n[0]+M-(S*M+k*E+L*C),e[13]=n[1]+E-(O*M+B*E+D*C),e[14]=n[2]+C-(T*M+P*E+j*C),e[15]=1,e}function Et(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,c=n*o,l=r*o,f=r*s,d=a*o,h=a*s,p=a*u,m=i*o,v=i*s,g=i*u;return e[0]=1-f-p,e[1]=l+g,e[2]=d-v,e[3]=0,e[4]=l-g,e[5]=1-c-p,e[6]=h+m,e[7]=0,e[8]=d+v,e[9]=h-m,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ct(e,t,n,r,a,i,o){var s=1/(n-t),u=1/(a-r),c=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*u,e[10]=(o+i)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*c,e[15]=0,e}function St(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e}function Ot(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*c*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Tt(e,t,n,r,a,i,o){var s=1/(t-n),u=1/(r-a),c=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(o+i)*c,e[15]=1,e}function kt(e,t,n,r){var a,i,o,s,u,c,l,f,d,p,m=t[0],v=t[1],g=t[2],y=r[0],b=r[1],_=r[2],w=n[0],x=n[1],A=n[2];return Math.abs(m-w)<h&&Math.abs(v-x)<h&&Math.abs(g-A)<h?et(e):(l=m-w,f=v-x,d=g-A,a=b*(d*=p=1/Math.hypot(l,f,d))-_*(f*=p),i=_*(l*=p)-y*d,o=y*f-b*l,(p=Math.hypot(a,i,o))?(a*=p=1/p,i*=p,o*=p):(a=0,i=0,o=0),s=f*o-d*i,u=d*a-l*o,c=l*i-f*a,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),e[0]=a,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(a*m+i*v+o*g),e[13]=-(s*m+u*v+c*g),e[14]=-(l*m+f*v+d*g),e[15]=1,e)}function Bt(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=r[0],u=r[1],c=r[2],l=a-n[0],f=i-n[1],d=o-n[2],h=l*l+f*f+d*d;h>0&&(l*=h=1/Math.sqrt(h),f*=h,d*=h);var p=u*d-c*f,m=c*l-s*d,v=s*f-u*l;return(h=p*p+m*m+v*v)>0&&(p*=h=1/Math.sqrt(h),m*=h,v*=h),e[0]=p,e[1]=m,e[2]=v,e[3]=0,e[4]=f*v-d*m,e[5]=d*p-l*v,e[6]=l*m-f*p,e[7]=0,e[8]=l,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function Pt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Lt(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Dt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function jt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Ft(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Rt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function It(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function zt(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],m=e[12],v=e[13],g=e[14],y=e[15],b=t[0],_=t[1],w=t[2],x=t[3],A=t[4],M=t[5],E=t[6],C=t[7],S=t[8],O=t[9],T=t[10],k=t[11],B=t[12],P=t[13],L=t[14],D=t[15];return Math.abs(n-b)<=h*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=h*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(a-w)<=h*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(i-x)<=h*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-A)<=h*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-M)<=h*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-E)<=h*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-C)<=h*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-S)<=h*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-O)<=h*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-T)<=h*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(p-k)<=h*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-B)<=h*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(v-P)<=h*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-L)<=h*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-D)<=h*Math.max(1,Math.abs(y),Math.abs(D))}var Ut=it,Nt=jt;function Gt(){var e=new p(3);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ht(e){var t=new p(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Vt(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Wt(e,t,n){var r=new p(3);return r[0]=e,r[1]=t,r[2]=n,r}function Xt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function qt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Qt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Yt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Jt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Kt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Zt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function en(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function tn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function nn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function an(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function sn(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function un(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function cn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ln(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fn(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function dn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function hn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2];return e[0]=a*u-i*s,e[1]=i*o-r*u,e[2]=r*s-a*o,e}function pn(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function mn(e,t,n,r,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,c=o*(i-1),l=o*(3-2*i);return e[0]=t[0]*s+n[0]*u+r[0]*c+a[0]*l,e[1]=t[1]*s+n[1]*u+r[1]*c+a[1]*l,e[2]=t[2]*s+n[2]*u+r[2]*c+a[2]*l,e}function vn(e,t,n,r,a,i){var o=1-i,s=o*o,u=i*i,c=s*o,l=3*i*s,f=3*u*o,d=u*i;return e[0]=t[0]*c+n[0]*l+r[0]*f+a[0]*d,e[1]=t[1]*c+n[1]*l+r[1]*f+a[1]*d,e[2]=t[2]*c+n[2]*l+r[2]*f+a[2]*d,e}function gn(e,t){t=t||1;var n=2*m()*Math.PI,r=2*m()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function yn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function bn(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function _n(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],c=t[2],l=a*c-i*u,f=i*s-r*c,d=r*u-a*s,h=a*d-i*f,p=i*l-r*d,m=r*f-a*l,v=2*o;return l*=v,f*=v,d*=v,h*=2,p*=2,m*=2,e[0]=s+l+h,e[1]=u+f+p,e[2]=c+d+m,e}function wn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function xn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function An(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function Mn(e,t){var n=Wt(e[0],e[1],e[2]),r=Wt(t[0],t[1],t[2]);fn(n,n),fn(r,r);var a=dn(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function En(e){return e[0]=0,e[1]=0,e[2]=0,e}function Cn(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Sn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function On(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(n-i)<=h*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))}var Tn=Yt,kn=Jt,Bn=Kt,Pn=on,Ln=sn,Dn=Vt,jn=un,Fn=function(){var e=Gt();return function(t,n,r,a,i,o){var s,u;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();function Rn(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function In(e){var t=new p(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function zn(e,t,n,r){var a=new p(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function Un(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Nn(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function Gn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Hn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Vn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Wn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Xn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function qn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Qn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Yn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Jn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Kn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Zn(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function $n(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(n,r,a,i)}function er(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function tr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.hypot(t,n,r,a)}function nr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function rr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ar(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function ir(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function or(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sr(e,t,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=t[0],f=t[1],d=t[2],h=t[3];return e[0]=f*c-d*u+h*s,e[1]=-l*c+d*o-h*i,e[2]=l*u-f*o+h*a,e[3]=-l*s+f*i-d*a,e}function ur(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function cr(e,t){var n,r,a,i,o,s;t=t||1;do{o=(n=2*m()-1)*n+(r=2*m()-1)*r}while(o>=1);do{s=(a=2*m()-1)*a+(i=2*m()-1)*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*a*u,e[3]=t*i*u,e}function lr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function fr(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*i-u*a,f=c*a+u*r-o*i,d=c*i+o*a-s*r,h=-o*r-s*a-u*i;return e[0]=l*c+h*-o+f*-u-d*-s,e[1]=f*c+h*-s+d*-o-l*-u,e[2]=d*c+h*-u+l*-s-f*-o,e[3]=t[3],e}function dr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function pr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function mr(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],c=t[3];return Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=h*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-c)<=h*Math.max(1,Math.abs(i),Math.abs(c))}var vr=Hn,gr=Vn,yr=Wn,br=$n,_r=er,wr=tr,xr=nr,Ar=function(){var e=Rn();return function(t,n,r,a,i,o){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();function Mr(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Er(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Cr(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Sr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>h?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Or(e,t){var n=Kr(e,t);return Math.acos(2*n*n-1)}function Tr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+a*c-i*u,e[1]=a*l+o*u+i*s-r*c,e[2]=i*l+o*c+r*u-a*s,e[3]=o*l-r*s-a*u-i*c,e}function kr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-r*s,e}function Br(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-i*s,e[1]=a*u+o*s,e[2]=i*u+r*s,e[3]=o*u-a*s,e}function Pr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=a*u-r*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function Lr(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e}function Dr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),s=Math.exp(i),u=o>0?s*Math.sin(o)/o:0;return e[0]=n*u,e[1]=r*u,e[2]=a*u,e[3]=s*Math.cos(o),e}function jr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=n*s,e[1]=r*s,e[2]=a*s,e[3]=.5*Math.log(n*n+r*r+a*a+i*i),e}function Fr(e,t,n){return jr(e,t),Jr(e,e,n),Dr(e,e),e}function Rr(e,t,n,r){var a,i,o,s,u,c=t[0],l=t[1],f=t[2],d=t[3],p=n[0],m=n[1],v=n[2],g=n[3];return(i=c*p+l*m+f*v+d*g)<0&&(i=-i,p=-p,m=-m,v=-v,g=-g),1-i>h?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o):(s=1-r,u=r),e[0]=s*c+u*p,e[1]=s*l+u*m,e[2]=s*f+u*v,e[3]=s*d+u*g,e}function Ir(e){var t=m(),n=m(),r=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=i*Math.sin(2*Math.PI*r),e[3]=i*Math.cos(2*Math.PI*r),e}function zr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e}function Ur(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Nr(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*i+o]-t[3*o+i])*n,e[i]=(t[3*i+a]+t[3*a+i])*n,e[o]=(t[3*o+a]+t[3*a+o])*n}return e}function Gr(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=i*u*l-o*s*c,e[1]=o*s*l+i*u*c,e[2]=o*u*c-i*s*l,e[3]=o*u*l+i*s*c,e}function Hr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Vr=In,Wr=zn,Xr=Un,qr=Nn,Qr=Gn,Yr=Tr,Jr=Kn,Kr=or,Zr=ur,$r=tr,ea=$r,ta=nr,na=ta,ra=ir,aa=pr,ia=mr,oa=function(){var e=Gt(),t=Wt(1,0,0),n=Wt(0,1,0);return function(r,a,i){var o=dn(a,i);return o<-.999999?(hn(e,t,a),Dn(e)<1e-6&&hn(e,n,a),fn(e,e),Cr(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(hn(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,ra(r,r))}}(),sa=function(){var e=Mr(),t=Mr();return function(n,r,a,i,o,s){return Rr(e,r,o,s),Rr(t,a,i,s),Rr(n,e,t,2*s*(1-s)),n}}(),ua=function(){var e=ge();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],ra(t,Nr(t,e))}}();function ca(){var e=new p(8);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function la(e){var t=new p(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function fa(e,t,n,r,a,i,o,s){var u=new p(8);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function da(e,t,n,r,a,i,o){var s=new p(8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var u=.5*a,c=.5*i,l=.5*o;return s[4]=u*r+c*n-l*t,s[5]=c*r+l*e-u*n,s[6]=l*r+u*t-c*e,s[7]=-u*e-c*t-l*n,s}function ha(e,t,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=t[0],s=t[1],u=t[2],c=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=c,e[4]=r*c+a*u-i*s,e[5]=a*c+i*o-r*u,e[6]=i*c+r*s-a*o,e[7]=-r*o-a*s-i*u,e}function pa(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function ma(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function va(e,t){var n=Mr();xt(n,t);var r=new p(3);return _t(r,t),ha(e,n,r),e}function ga(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ya(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ba(e,t,n,r,a,i,o,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}var _a=Xr;function wa(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var xa=Xr;function Aa(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Ma(e,t){var n=t[4],r=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],c=t[3];return e[0]=2*(n*c+i*o+r*u-a*s),e[1]=2*(r*c+i*s+a*o-n*u),e[2]=2*(a*c+i*u+n*s-r*o),e}function Ea(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],l=t[4],f=t[5],d=t[6],h=t[7];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*c-i*u+l,e[5]=o*u+i*s-r*c+f,e[6]=o*c+r*u-a*s+d,e[7]=-r*s-a*u-i*c+h,e}function Ca(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return kr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function Sa(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return Br(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function Oa(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=s*o+l*r+u*i-c*a,d=u*o+l*a+c*r-s*i,h=c*o+l*i+s*a-u*r,p=l*o-s*r-u*a-c*i;return Pr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+p*r+d*i-h*a,e[5]=d*o+p*a+h*r-f*i,e[6]=h*o+p*i+f*a-d*r,e[7]=p*o-f*r-d*a-h*i,e}function Ta(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],c=t[2],l=t[3];return e[0]=s*o+l*r+u*i-c*a,e[1]=u*o+l*a+c*r-s*i,e[2]=c*o+l*i+s*a-u*r,e[3]=l*o-s*r-u*a-c*i,s=t[4],u=t[5],c=t[6],l=t[7],e[4]=s*o+l*r+u*i-c*a,e[5]=u*o+l*a+c*r-s*i,e[6]=c*o+l*i+s*a-u*r,e[7]=l*o-s*r-u*a-c*i,e}function ka(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+o*s+a*c-i*u,e[1]=a*l+o*u+i*s-r*c,e[2]=i*l+o*c+r*u-a*s,e[3]=o*l-r*s-a*u-i*c,s=n[4],u=n[5],c=n[6],l=n[7],e[4]=r*l+o*s+a*c-i*u,e[5]=a*l+o*u+i*s-r*c,e[6]=i*l+o*c+r*u-a*s,e[7]=o*l-r*s-a*u-i*c,e}function Ba(e,t,n,r){if(Math.abs(r)<h)return ga(e,t);var a=Math.hypot(n[0],n[1],n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,s=i*n[1]/a,u=i*n[2]/a,c=Math.cos(r),l=t[0],f=t[1],d=t[2],p=t[3];e[0]=l*c+p*o+f*u-d*s,e[1]=f*c+p*s+d*o-l*u,e[2]=d*c+p*u+l*s-f*o,e[3]=p*c-l*o-f*s-d*u;var m=t[4],v=t[5],g=t[6],y=t[7];return e[4]=m*c+y*o+v*u-g*s,e[5]=v*c+y*s+g*o-m*u,e[6]=g*c+y*u+m*s-v*o,e[7]=y*c-m*o-v*s-g*u,e}function Pa(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function La(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[4],u=n[5],c=n[6],l=n[7],f=t[4],d=t[5],h=t[6],p=t[7],m=n[0],v=n[1],g=n[2],y=n[3];return e[0]=r*y+o*m+a*g-i*v,e[1]=a*y+o*v+i*m-r*g,e[2]=i*y+o*g+r*v-a*m,e[3]=o*y-r*m-a*v-i*g,e[4]=r*l+o*s+a*c-i*u+f*y+p*m+d*g-h*v,e[5]=a*l+o*u+i*s-r*c+d*y+p*v+h*m-f*g,e[6]=i*l+o*c+r*u-a*s+h*y+p*g+f*v-d*m,e[7]=o*l-r*s-a*u-i*c+p*y-f*m-d*v-h*g,e}var Da=La;function ja(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Fa=Kr;function Ra(e,t,n,r){var a=1-r;return Fa(t,n)<0&&(r=-r),e[0]=t[0]*a+n[0]*r,e[1]=t[1]*a+n[1]*r,e[2]=t[2]*a+n[2]*r,e[3]=t[3]*a+n[3]*r,e[4]=t[4]*a+n[4]*r,e[5]=t[5]*a+n[5]*r,e[6]=t[6]*a+n[6]*r,e[7]=t[7]*a+n[7]*r,e}function Ia(e,t){var n=Ga(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function za(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Ua=$r,Na=Ua,Ga=ta,Ha=Ga;function Va(e,t){var n=Ga(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,a=t[1]/n,i=t[2]/n,o=t[3]/n,s=t[4],u=t[5],c=t[6],l=t[7],f=r*s+a*u+i*c+o*l;e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-r*f)/n,e[5]=(u-a*f)/n,e[6]=(c-i*f)/n,e[7]=(l-o*f)/n}return e}function Wa(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function Xa(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function qa(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=t[0],f=t[1],d=t[2],p=t[3],m=t[4],v=t[5],g=t[6],y=t[7];return Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-d)<=h*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-p)<=h*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-v)<=h*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-g)<=h*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))}function Qa(){var e=new p(2);return p!=Float32Array&&(e[0]=0,e[1]=0),e}function Ya(e){var t=new p(2);return t[0]=e[0],t[1]=e[1],t}function Ja(e,t){var n=new p(2);return n[0]=e,n[1]=t,n}function Ka(e,t){return e[0]=t[0],e[1]=t[1],e}function Za(e,t,n){return e[0]=t,e[1]=n,e}function $a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ei(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ti(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ni(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function ri(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ai(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ii(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function oi(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function si(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function ui(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function ci(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function li(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function fi(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function di(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function hi(e){var t=e[0],n=e[1];return t*t+n*n}function pi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function mi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function vi(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function gi(e,t){return e[0]*t[0]+e[1]*t[1]}function yi(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function bi(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e}function _i(e,t){t=t||1;var n=2*m()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e}function xi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function Ai(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e}function Mi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}function Ei(e,t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=a*s-i*o+n[0],e[1]=a*o+i*s+n[1],e}function Ci(e,t){var n=e[0],r=e[1],a=t[0],i=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(n*a+r*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function Si(e){return e[0]=0,e[1]=0,e}function Oi(e){return"vec2("+e[0]+", "+e[1]+")"}function Ti(e,t){return e[0]===t[0]&&e[1]===t[1]}function ki(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))}var Bi=di,Pi=ei,Li=ti,Di=ni,ji=li,Fi=fi,Ri=hi,Ii=function(){var e=Qa();return function(t,n,r,a,i,o){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(155),a=n(156),i=n(67),o=n(157);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(56);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(100)},function(e,t,n){"use strict";(function(e){function r(){var e,t=0,n=[],a=0,i=0;var o=h((function(e){i||u(1,e)})),s=h((function(e){i||u(-1,e)}));function u(n,r){i++;var a=0;try{r===v&&p();var o=n>0&&d(r);o?o.call(r,h((function(e){a++,u(1,e)})),h((function(e){a++,u(-1,e)}))):(t=n,e=r,c())}catch(s){t||a||u(-1,s)}}function c(){a||(setTimeout(l,0),a=1)}function l(){var e=n;a=0,n=[],e.forEach(f)}function f(e){e()}function d(e){var t=e&&(m(e)||"object"===typeof e)&&e.then;return m(t)&&t}function h(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function p(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"===typeof e},v={then:function(a,i){var o=r();return n.push((function(){var n=t>0?a:i;if(m(n))try{var r=n(e);r===o&&p();var s=d(r);s?s.call(r,o.resolve,o.reject):o.resolve(r)}catch(u){o.reject(u)}else o[t>0?"resolve":"reject"](e)})),t&&c(),o},resolve:o,reject:s};return v}function a(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),r.all=a.all=function(e){var t=0,n=[],r=i();return 0===e.length?r.resolve([]):e.forEach((function(a,o){var s=i();s.resolve(a),s.then((function(a){t++,n[o]=a,t===e.length&&r.resolve(n)}),r.reject)})),r};var i="function"===typeof Promise?a:r;function o(){var e=Object.create(null);function t(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var u=r.init;void 0===u&&(u=function(){});var c=r.getTransferables;if(void 0===c&&(c=null),!e[i])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),u=n("<"+o+">.init",u),c&&(c=n("<"+o+">.getTransferables",c));var l=null;"function"===typeof u?l=u.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:l,getTransferables:c},a(l)}catch(f){f&&f.noLog||console.error(f),a(f)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(a){console.error(a)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&t(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"===typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(u){n(u)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(u){console.error(u),n(u)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:a,success:!1,error:s.stack})}}))}var s=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return s=function(){return e},e},u=0,c=0,l=!1,f=Object.create(null),d=Object.create(null),h=Object.create(null);function p(e){if((!e||"function"!==typeof e.init)&&!l)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!s())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=i.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var o="workerModule"+ ++u,c=e.name||o,f=null;function h(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!f){f=g(a,"registerModule",h.workerModuleData);var n=function e(){f=null,d[a].delete(e)};(d[a]||(d[a]=new Set)).add(n)}return f.then((function(t){if(t.isCallable)return g(a,"callModule",{id:o,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(l=!0,e=p({workerId:a,name:"<"+c+"> function dependency: "+e.name,init:"function(){return (\n"+v(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),h.workerModuleData={isWorkerModule:!0,id:o,name:c,dependencies:t,init:v(n),getTransferables:r&&v(r)},h}function m(e){d[e]&&d[e].forEach((function(e){e()})),f[e]&&(f[e].terminate(),delete f[e])}function v(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function g(e,t,n){var r=i(),a=++c;return h[a]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=f[e];if(!t){var n=v(o);(t=f[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=h[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete h[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),r}var y=p({name:"Thenable",dependencies:[i],init:function(e){return e}})}).call(this,n(171))},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return i}));var a=n(2);function i(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(a.a)(e):t}},function(e,t,n){var r=n(105);function a(t,n,i){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}},a(t,n,i||t)}e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadedPromise=t.loaded=t.browserIncompatibleUI=t.browserIncompatible=t.projectionMatrixFromCameraModel=t.drawPlane=t.invert=t.cameraDefaultDeviceID=t.Event1=t.Event=t.logLevel=t.setLogLevel=t.LogLevel=t.Permission=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.permissionDeniedUI=t.FaceLandmark=t.FaceLandmarkName=t.Pipeline=t.HTMLElementSource=t.CameraSource=t.FaceMesh=t.FaceTracker=t.BarcodeFinder=t.InstantWorldTracker=t.ImageTracker=void 0;var r=n(110);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return r.ImageTracker}});var a=n(135);Object.defineProperty(t,"InstantWorldTracker",{enumerable:!0,get:function(){return a.InstantWorldTracker}});var i=n(136);Object.defineProperty(t,"BarcodeFinder",{enumerable:!0,get:function(){return i.BarcodeFinder}});var o=n(137);Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return o.FaceTracker}});var s=n(138);Object.defineProperty(t,"FaceMesh",{enumerable:!0,get:function(){return s.FaceMesh}});var u=n(139);Object.defineProperty(t,"CameraSource",{enumerable:!0,get:function(){return u.CameraSource}});var c=n(140);Object.defineProperty(t,"HTMLElementSource",{enumerable:!0,get:function(){return c.HTMLElementSource}});var l=n(141);Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return l.Pipeline}});var f=n(142);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return f.FaceLandmarkName}}),Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return f.FaceLandmark}});var d=n(143);Object.defineProperty(t,"permissionDeniedUI",{enumerable:!0,get:function(){return d.permissionDeniedUI}}),Object.defineProperty(t,"permissionGranted",{enumerable:!0,get:function(){return d.permissionGranted}}),Object.defineProperty(t,"permissionDenied",{enumerable:!0,get:function(){return d.permissionDenied}}),Object.defineProperty(t,"permissionRequest",{enumerable:!0,get:function(){return d.permissionRequest}}),Object.defineProperty(t,"permissionRequestUI",{enumerable:!0,get:function(){return d.permissionRequestUI}}),Object.defineProperty(t,"Permission",{enumerable:!0,get:function(){return d.Permission}});var h=n(144);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return h.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return h.setLogLevel}}),Object.defineProperty(t,"logLevel",{enumerable:!0,get:function(){return h.logLevel}});var p=n(44);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return p.Event}}),Object.defineProperty(t,"Event1",{enumerable:!0,get:function(){return p.Event1}});var m=n(31);Object.defineProperty(t,"cameraDefaultDeviceID",{enumerable:!0,get:function(){return m.cameraDefaultDeviceID}}),Object.defineProperty(t,"invert",{enumerable:!0,get:function(){return m.invert}}),Object.defineProperty(t,"drawPlane",{enumerable:!0,get:function(){return m.drawPlane}}),Object.defineProperty(t,"projectionMatrixFromCameraModel",{enumerable:!0,get:function(){return m.projectionMatrixFromCameraModel}}),Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return m.browserIncompatible}}),Object.defineProperty(t,"browserIncompatibleUI",{enumerable:!0,get:function(){return m.browserIncompatibleUI}}),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return m.loaded}}),Object.defineProperty(t,"loadedPromise",{enumerable:!0,get:function(){return m.loadedPromise}})},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zcwarn=t.zcerr=t.zcout=t.setLogLevel=void 0;var r=n(78),a=r.log_level_t.LOG_LEVEL_ERROR;t.setLogLevel=function(e){a=e},t.zcout=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_VERBOSE&&(e=console).log.apply(e,["[Zappar] INFO"].concat(n))},t.zcerr=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_ERROR&&(e=console).error.apply(e,["[Zappar] ERROR"].concat(n))},t.zcwarn=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a>=r.log_level_t.LOG_LEVEL_VERBOSE&&(e=console).log.apply(e,["[Zappar] WARN"].concat(n))}},function(e,t,n){"use strict";e.exports=n(101)},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCompatibility=t.Loader=t.ZapparCanvas=t.ZapparCamera=t.InstantTracker=t.ImageTracker=t.HeadMaskMesh=t.FaceTracker=t.FaceLandmark=t.FaceBufferGeometry=t.setLogLevel=t.LogLevel=t.Pipeline=t.browserIncompatible=void 0;var a=r(n(103));console.log("Zappar for React Three v".concat(a.default));var i=n(32);Object.defineProperty(t,"browserIncompatible",{enumerable:!0,get:function(){return i.browserIncompatible}}),Object.defineProperty(t,"Pipeline",{enumerable:!0,get:function(){return i.Pipeline}}),Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return i.LogLevel}}),Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return i.setLogLevel}});var o=n(154);Object.defineProperty(t,"FaceBufferGeometry",{enumerable:!0,get:function(){return r(o).default}});var s=n(160);Object.defineProperty(t,"FaceLandmark",{enumerable:!0,get:function(){return r(s).default}});var u=n(161);Object.defineProperty(t,"FaceTracker",{enumerable:!0,get:function(){return r(u).default}});var c=n(162);Object.defineProperty(t,"HeadMaskMesh",{enumerable:!0,get:function(){return r(c).default}});var l=n(163);Object.defineProperty(t,"ImageTracker",{enumerable:!0,get:function(){return r(l).default}});var f=n(164);Object.defineProperty(t,"InstantTracker",{enumerable:!0,get:function(){return r(f).default}});var d=n(174);Object.defineProperty(t,"ZapparCamera",{enumerable:!0,get:function(){return r(d).default}});var h=n(175);Object.defineProperty(t,"ZapparCanvas",{enumerable:!0,get:function(){return r(h).default}});var p=n(176);Object.defineProperty(t,"Loader",{enumerable:!0,get:function(){return r(p).default}});var m=n(177);Object.defineProperty(t,"BrowserCompatibility",{enumerable:!0,get:function(){return r(m).default}})},function(e,t,n){e.exports=n(172)()},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(42),o=n(36),s=n(27),u=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=t.CameraMirrorMode=t.CameraPoseMode=void 0;var c,l,f,d=n(43),h=n(29),p=n(61);!function(e){e[e.Default=0]="Default",e[e.Attitude=1]="Attitude",e[e.AnchorOrigin=2]="AnchorOrigin"}(c=t.CameraPoseMode||(t.CameraPoseMode={})),function(e){e[e.None=0]="None",e[e.Poses=1]="Poses",e[e.CSS=2]="CSS"}(l=t.CameraMirrorMode||(t.CameraMirrorMode={})),function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Rear=2]="Rear"}(f||(f={}));var m=function(e){s(n,e);var t=u(n);function n(e){var a;r(this,n),(a=t.call(this)).backgroundTexture=new h.THREE.Texture,a.poseMode=c.Default,a.rearCameraMirrorMode=l.None,a.userCameraMirrorMode=l.Poses,a._currentMirrorMode=l.None,a.isPerspectiveCamera=!0,a.cameraDirection=f.None,a.hasSetCSSScaleX=!1,a.emptyScene=new h.THREE.Scene,a.emptyTarget=new h.THREE.WebGLRenderTarget(2,2),a.renderWidth=0,a.renderHeight=0,a.pipeline=e instanceof d.Pipeline?e:(null===e||void 0===e?void 0:e.pipeline)||p.getDefaultPipeline(),a.rawPose=a.pipeline.cameraPoseDefault(),!e||e instanceof d.Pipeline?(a.rearCameraSource=new p.CameraSource(d.cameraDefaultDeviceID(),a.pipeline),a.userCameraSource=new p.CameraSource(d.cameraDefaultDeviceID(!0),a.pipeline)):(a.zNear=e.zNear?e.zNear:.1,a.zFar=e.zFar?e.zFar:100,a.rearCameraSource=a.cameraSourceFromOpts(e.rearCameraSource),a.userCameraSource=a.cameraSourceFromOpts(e.userCameraSource,!0)),a.matrixAutoUpdate=!1,document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?a.resume():a.pause()}));var i=new h.THREE.ImmediateRenderObject(new h.THREE.MeshBasicMaterial);return a.emptyScene.add(i),a}return a(n,[{key:"cameraSourceFromOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof Element?new d.HTMLElementSource(this.pipeline,e):new p.CameraSource(e||d.cameraDefaultDeviceID(t),this.pipeline)}},{key:"pause",value:function(){this.userCameraSource.pause(),this.rearCameraSource.pause()}},{key:"resume",value:function(){switch(this.cameraDirection){case f.User:this.userCameraSource.start();break;case f.Rear:this.rearCameraSource.start()}}},{key:"start",value:function(e){this.cameraDirection=e?f.User:f.Rear,this.resume()}},{key:"stop",value:function(){this.cameraDirection=f.None,this.pause()}},{key:"setPoseModeAnchorOrigin",value:function(e){this.poseAnchorOrigin=e,this.poseMode=c.AnchorOrigin}},{key:"currentMirrorMode",get:function(){return this._currentMirrorMode}},{key:"updateFrame",value:function(e){var t=e.getRenderTarget();e.setRenderTarget(this.emptyTarget),e.render(this.emptyScene,this),e.state.reset(),this.pipeline.processGL(),e.state.reset(),e.setRenderTarget(t),this.pipeline.frameUpdate(),this._currentMirrorMode=this.pipeline.cameraFrameUserFacing()?this.userCameraMirrorMode:this.rearCameraMirrorMode;var n=e.domElement;switch(this.currentMirrorMode!==l.CSS&&this.hasSetCSSScaleX?(n.style.transform="",this.hasSetCSSScaleX=!1):this.currentMirrorMode!==l.CSS||this.hasSetCSSScaleX||(n.style.transform="scaleX(-1)",this.hasSetCSSScaleX=!0),this.renderWidth=e.domElement.width,this.renderHeight=e.domElement.height,this._updateProjectionMatrix(),this.poseMode){case c.Default:this.rawPose=this.pipeline.cameraPoseDefault();break;case c.Attitude:this.rawPose=this.pipeline.cameraPoseWithAttitude(this.currentMirrorMode===l.Poses);break;case c.AnchorOrigin:this.rawPose=this.poseAnchorOrigin?this.getOriginPose():this.pipeline.cameraPoseDefault();break;default:this.rawPose=this.pipeline.cameraPoseDefault()}this.updateBackgroundTexture(e)}},{key:"_updateProjectionMatrix",value:function(){var e=this.pipeline.cameraModel(),t=d.projectionMatrixFromCameraModel(e,this.renderWidth,this.renderHeight,this.zNear,this.zFar);this.projectionMatrix.fromArray(t),"function"===typeof this.projectionMatrixInverse.invert?this.projectionMatrixInverse.copy(this.projectionMatrix).invert():this.projectionMatrixInverse.getInverse(this.projectionMatrix)}},{key:"updateMatrixWorld",value:function(e){this.matrix.fromArray(this.rawPose),this.matrix.decompose(this.position,this.quaternion,this.scale),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"getOriginPose",value:function(){return this.poseAnchorOrigin?this.pipeline.cameraPoseWithOrigin(this.poseAnchorOrigin.poseCameraRelative(this.currentMirrorMode===l.Poses)):this.pipeline.cameraPoseDefault()}},{key:"updateBackgroundTexture",value:function(e){this.pipeline.cameraFrameUploadGL();var t=this.pipeline.cameraFrameTextureGL();if(t){var n=e.properties.get(this.backgroundTexture);n.__webglTexture=t,n.__webglInit=!0;var r=new h.THREE.Matrix4;r.fromArray(this.pipeline.cameraFrameTextureMatrix(e.domElement.width,e.domElement.height,this.currentMirrorMode===l.Poses));var a=new h.THREE.Matrix3;a.setFromMatrix4(r),a.elements[6]=r.elements[12],a.elements[7]=r.elements[13],a.elements[8]=1,this.backgroundTexture.matrixAutoUpdate=!1,this.backgroundTexture.matrix=a}}},{key:"dispose",value:function(){this.rearCameraSource.destroy(),this.userCameraSource.destroy()}}]),n}(h.THREE.Camera);t.Camera=m},function(e,t,n){var r=n(67);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=t.initialize=void 0,"undefined"!==typeof Z_STANDALONE&&Z_STANDALONE&&document.currentScript){var r=new URL(document.currentScript.src),a=r.toString();if(r.pathname){var i=a.split("/");i.pop(),a=i.join("/")+"/"}n.p=a}var o=n(112),s=n(133);t.initialize=function(){return console.log("Zappar CV v".concat(s.VERSION)),o.initialize()};var u=n(78);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return u.barcode_format_t}}),Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return u.face_landmark_name_t}}),Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return u.instant_world_tracker_transform_orientation_t}}),Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return u.log_level_t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkProgram=t.compileShader=void 0,t.compileShader=function(e,t,n){var r=e.createShader(t);if(!r)throw new Error("Unable to create shader");e.shaderSource(r,n),e.compileShader(r);var a=e.getShaderInfoLog(r);if(a&&a.trim().length>0)throw new Error("Shader compile error: "+a);return r},t.linkProgram=function(e,t){e.linkProgram(t);var n=e.getProgramInfoLog(t);if(n&&n.trim().length>0)throw new Error("Unable to link: "+n)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(55)),i=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),o=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),s=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}})),u=(0,a.default)((function(e){return{object:void 0,set:function(t){return e({object:t})}}}));t.default={camera:i,imageTracker:o,instantTracker:s,faceTracker:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function a(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(a!==t){var i=t;t=r?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,subscribe:function(e,r,i){return r||i?function(e,r,i){void 0===r&&(r=a),void 0===i&&(i=Object.is),console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!i(o,n)){var a=o;e(o=n,a)}}return n.add(s),function(){return n.delete(s)}}(e,r,i):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,a,i),i}var i="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;t.default=function(e){var t="function"===typeof e?a(e):e,n=function(e,n){void 0===e&&(e=t.getState),void 0===n&&(n=Object.is);var a,o=r.useReducer((function(e){return e+1}),0)[1],s=t.getState(),u=r.useRef(s),c=r.useRef(e),l=r.useRef(n),f=r.useRef(!1),d=r.useRef();void 0===d.current&&(d.current=e(s));var h=!1;(u.current!==s||c.current!==e||l.current!==n||f.current)&&(a=e(s),h=!n(d.current,a)),i((function(){h&&(d.current=a),u.current=s,c.current=e,l.current=n,f.current=!1}));var p=r.useRef(s);i((function(){var e=function(){try{var e=t.getState(),n=c.current(e);l.current(d.current,n)||(u.current=e,d.current=n,o())}catch(r){f.current=!0,o()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n}),[]);var m=h?a:d.current;return r.useDebugValue(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!==a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!==a--;){var o=i[a];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)i.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0,function(e){e[e.UNKNOWN=131072]="UNKNOWN",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=4]="CODE_39",e[e.CODE_93=8]="CODE_93",e[e.CODE_128=16]="CODE_128",e[e.DATA_MATRIX=32]="DATA_MATRIX",e[e.EAN_8=64]="EAN_8",e[e.EAN_13=128]="EAN_13",e[e.ITF=256]="ITF",e[e.MAXICODE=512]="MAXICODE",e[e.PDF_417=1024]="PDF_417",e[e.QR_CODE=2048]="QR_CODE",e[e.RSS_14=4096]="RSS_14",e[e.RSS_EXPANDED=8192]="RSS_EXPANDED",e[e.UPC_A=16384]="UPC_A",e[e.UPC_E=32768]="UPC_E",e[e.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",e[e.ALL=131071]="ALL"}(t.barcode_format_t||(t.barcode_format_t={})),function(e){e[e.EYE_LEFT=0]="EYE_LEFT",e[e.EYE_RIGHT=1]="EYE_RIGHT",e[e.EAR_LEFT=2]="EAR_LEFT",e[e.EAR_RIGHT=3]="EAR_RIGHT",e[e.NOSE_BRIDGE=4]="NOSE_BRIDGE",e[e.NOSE_TIP=5]="NOSE_TIP",e[e.NOSE_BASE=6]="NOSE_BASE",e[e.LIP_TOP=7]="LIP_TOP",e[e.LIP_BOTTOM=8]="LIP_BOTTOM",e[e.MOUTH_CENTER=9]="MOUTH_CENTER",e[e.CHIN=10]="CHIN",e[e.EYEBROW_LEFT=11]="EYEBROW_LEFT",e[e.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"}(t.face_landmark_name_t||(t.face_landmark_name_t={})),function(e){e[e.WORLD=3]="WORLD",e[e.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",e[e.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",e[e.UNCHANGED=6]="UNCHANGED"}(t.instant_world_tracker_transform_orientation_t||(t.instant_world_tracker_transform_orientation_t={})),function(e){e[e.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",e[e.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",e[e.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"}(t.log_level_t||(t.log_level_t={}))},function(e,t,n){"use strict";var r=n(17),a=n(16),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.glContextLost=t.glContextSet=t.HTMLElementSource=t.CameraSource=t.InstantWorldTracker=t.FaceTracker=t.BarcodeFinder=t.ImageTracker=t.getDefaultPipeline=t.onFrameUpdate=void 0;var s,u=n(43),c=n(44);function l(){return s||(s=new u.Pipeline).onFrameUpdate.bind((function(){return t.onFrameUpdate.emit()})),s}t.onFrameUpdate=new c.Event,t.getDefaultPipeline=l;var f=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.ImageTracker);t.ImageTracker=f;var d=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.BarcodeFinder);t.BarcodeFinder=d;var h=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.FaceTracker);t.FaceTracker=h;var p=function(e){i(n,e);var t=o(n);function n(e){return a(this,n),t.call(this,e||l())}return r(n)}(u.InstantWorldTracker);t.InstantWorldTracker=p;var m=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.CameraSource);t.CameraSource=m;var v=function(e){i(n,e);var t=o(n);function n(e,r){return a(this,n),t.call(this,r||l(),e)}return r(n)}(u.HTMLElementSource);t.HTMLElementSource=v,t.glContextSet=function(e){l().glContextSet(e)},t.glContextLost=function(){l().glContextLost()}},function(e,t,n){"use strict";n.d(t,"useSpring",(function(){return Pe}));var r=n(2),a=n(14),i=n(9),o=n(11),s=n(10),u=n(6),c=n(7),l=n(73),f=n(20),d=n.n(f),h=n(34),p=n(4),m=n(3),v=n(22),g=n(5);n.d(t,"Globals",(function(){return g.b}));var y=n(1),b=n(23);n(86),n(87);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g.s.fun(e)?e.apply(void 0,n):e}var x=function(e,t){return!0===e||!!(t&&e&&(g.s.fun(e)?e(t):Object(g.y)(e).includes(t)))},A=function(e,t){return g.s.obj(e)?t&&e[t]:e},M=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},E=function(e){return e},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,n=S;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,a={},i=Object(v.a)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=t(e[o],o);g.s.und(s)||(a[o]=s)}}catch(u){i.e(u)}finally{i.f()}return a},S=["config","onProps","onStart","onChange","onPause","onResume","onRest"],O={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function T(e){var t=function(e){var t={},n=0;if(Object(g.l)(e,(function(e,r){O[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(g.l)(e,(function(e,r){return r in t||(n[r]=e)})),n}return _({},e)}function k(e){return e=Object(g.q)(e),g.s.arr(e)?e.map(k):Object(g.t)(e)?g.b.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function B(e){for(var t in e)return!0;return!1}function P(e){return g.s.fun(e)||g.s.arr(e)&&g.s.obj(e[0])}function L(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function D(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var j=_({},{tension:170,friction:26},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),F=Object(p.a)((function e(){Object(m.a)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,j)}));function R(e,t){if(g.s.und(t.decay)){var n=!g.s.und(t.tension)||!g.s.und(t.friction);!n&&g.s.und(t.frequency)&&g.s.und(t.damping)&&g.s.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var I=[],z=Object(p.a)((function e(){Object(m.a)(this,e),this.changed=!1,this.values=I,this.toValues=null,this.fromValues=I,this.to=void 0,this.from=void 0,this.config=new F,this.immediate=!1}));function U(e,t){var n=t.key,r=t.props,a=t.defaultProps,i=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,f=x(null!=(u=r.cancel)?u:null==a?void 0:a.cancel,n);if(f)m();else{g.s.und(r.pause)||(i.paused=x(r.pause,n));var d=null==a?void 0:a.pause;!0!==d&&(d=i.paused||x(d,n)),c=w(r.delay||0,n),d?(i.resumeQueue.add(p),o.pause()):(o.resume(),p())}function h(){i.resumeQueue.add(p),i.timeouts.delete(l),l.cancel(),c=l.time-g.w.now()}function p(){c>0?(l=g.w.setTimeout(m,c),i.pauseQueue.add(h),i.timeouts.add(l)):m()}function m(){i.pauseQueue.delete(h),i.timeouts.delete(l),e<=(i.cancelId||0)&&(f=!0);try{o.start(_({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var N=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?V(e.get()):t.every((function(e){return e.noop}))?G(e.get()):H(e.get(),t.every((function(e){return e.finished})))},G=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},V=function(e){return{value:e,cancelled:!0,finished:!1}};function W(e,t,n,r){var a=t.callId,i=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return i||e!==s||t.reset?n.promise=Object(h.a)(d.a.mark((function c(){var l,f,p,m,y,b,w,x;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=a,n.asyncTo=e,l=C(t,(function(e,t){return"onRest"===t?void 0:e})),m=new Promise((function(e,t){return f=e,p=t})),y=function(e){var t=a<=(n.cancelId||0)&&V(r)||a!==n.asyncId&&H(r,!1);if(t)throw e.result=t,p(e),e},b=function(e,t){var i=new q,o=new Q;return Object(h.a)(d.a.mark((function s(){var u,c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!g.b.skipAnimation){s.next=5;break}throw X(n),o.result=H(r,!1),p(o),o;case 5:return y(i),(u=g.s.obj(e)?_({},e):_({},t,{to:e})).parentId=a,Object(g.l)(l,(function(e,t){g.s.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,y(i),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!g.b.skipAnimation){c.next=9;break}return X(n),c.abrupt("return",H(r,!1));case 9:return c.prev=9,x=g.s.arr(e)?function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(v.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,b(a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(b,r.stop.bind(r))),c.next=13,Promise.all([x.then(f),m]);case 13:w=H(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof q)){c.next=22;break}w=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof Q)){c.next=26;break}w=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,a==n.asyncId&&(n.asyncId=i,n.asyncTo=i?s:void 0,n.promise=i?u:void 0),c.finish(27);case 30:return g.s.fun(o)&&g.w.batchedUpdates((function(){o(w,r,r.item)})),c.abrupt("return",w);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function X(e,t){Object(g.m)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var q=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return Object(p.a)(n)}(Object(l.a)(Error)),Q=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return Object(p.a)(n)}(Object(l.a)(Error)),Y=function(e){return e instanceof K},J=1,K=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).id=J++,e.key=void 0,e._priority=0,e}return Object(p.a)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Object(b.d)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.b.to(this,t)}},{key:"interpolate",value:function(){Object(g.j)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.b.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(g.d)(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||g.o.sort(this),Object(g.d)(this,{type:"priority",parent:this,priority:e})}}]),n}(g.a),Z=Symbol.for("SpringPhase"),$=function(e){return(1&e[Z])>0},ee=function(e){return(2&e[Z])>0},te=function(e){return(4&e[Z])>0},ne=function(e,t){return t?e[Z]|=3:e[Z]&=-3},re=function(e,t){return t?e[Z]|=4:e[Z]&=-5},ae=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var a;if(Object(m.a)(this,n),(a=t.call(this)).key=void 0,a.animation=new z,a.queue=void 0,a.defaultProps={},a._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},a._pendingCalls=new Set,a._lastCallId=0,a._lastToId=0,a._memoizedDuration=0,!g.s.und(e)||!g.s.und(r)){var i=g.s.obj(e)?_({},e):_({},r,{from:e});g.s.und(i.default)&&(i.default=!0),a.start(i)}return a}return Object(p.a)(n,[{key:"idle",get:function(){return!(ee(this)||this._state.asyncTo)||te(this)}},{key:"goal",get:function(){return Object(g.q)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(b.d)(this);return e instanceof b.b?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return $(this)}},{key:"isAnimating",get:function(){return ee(this)}},{key:"isPaused",get:function(){return te(this)}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,a=this.animation,i=a.config,o=a.toValues,s=Object(b.f)(a.to);!s&&Object(g.r)(a.to)&&(o=Object(g.y)(Object(g.q)(a.to))),a.values.forEach((function(u,c){if(!u.done){var l=u.constructor==b.a?1:s?s[c].lastPosition:o[c],f=a.immediate,d=l;if(!f){if(d=u.lastPosition,i.tension<=0)return void(u.done=!0);var h,p=u.elapsedTime+=e,m=a.fromValues[c],v=null!=u.v0?u.v0:u.v0=g.s.arr(i.velocity)?i.velocity[c]:i.velocity;if(g.s.und(i.duration))if(i.decay){var y=!0===i.decay?.998:i.decay,_=Math.exp(-(1-y)*p);d=m+v/(1-y)*(1-_),f=Math.abs(u.lastPosition-d)<.1,h=v*_}else{h=null==u.lastVelocity?v:u.lastVelocity;for(var w=i.precision||(m==l?.005:Math.min(1,.001*Math.abs(l-m))),x=i.restVelocity||w/10,A=i.clamp?0:i.bounce,M=!g.s.und(A),E=m==l?u.v0>0:m<l,C=Math.ceil(e/1),S=0;S<C&&(Math.abs(h)>x||!(f=Math.abs(l-d)<=w));++S){M&&(d==l||d>l==E)&&(h=-h*A,d=l),d+=1*(h+=1*((1e-6*-i.tension*(d-l)+.001*-i.friction*h)/i.mass))}}else{var O=1;i.duration>0&&(t._memoizedDuration!==i.duration&&(t._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,p=u.elapsedTime+=e)),O=(O=(i.progress||0)+p/t._memoizedDuration)>1?1:O<0?0:O,u.durationProgress=O),h=((d=m+i.easing(O)*(l-m))-u.lastPosition)/e,f=1==O}u.lastVelocity=h,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,i.round)&&(r=!0)}}));var u=Object(b.d)(this),c=u.getValue();if(n){var l=Object(g.q)(a.to);c===l&&!r||i.decay?r&&i.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return g.w.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(ee(this)){var t=this.animation,n=t.to,r=t.config;g.w.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return g.s.und(e)?(n=this.queue||[],this.queue=[]):n=[g.s.obj(e)?e:_({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return N(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),X(this._state,e&&this._lastCallId),g.w.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=g.s.obj(n)?n[t]:n)||P(n))&&(n=void 0),null==(r=g.s.obj(r)?r[t]:r)&&(r=void 0);var a={to:n,from:r};if(!$(this)){if(e.reverse){var i=[r,n];n=i[0],r=i[1]}r=Object(g.q)(r),g.s.und(r)?Object(b.d)(this)||this._set(n):this._set(r)}return a}},{key:"_update",value:function(e,t){var n=this,r=_({},e),a=this.key,i=this.defaultProps;r.default&&Object.assign(i,C(r,(function(e,t){return/^on/.test(t)?A(e,a):e}))),fe(this,r,"onProps"),de(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return U(++this._lastCallId,{key:a,props:r,defaultProps:i,state:s,actions:{pause:function(){te(n)||(re(n,!0),Object(g.n)(s.pauseQueue),de(n,"onPause",H(n,ie(n,n.animation.to)),n))},resume:function(){te(n)&&(re(n,!1),ee(n)&&n._resume(),Object(g.n)(s.resumeQueue),de(n,"onResume",H(n,ie(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var a=oe(r);if(a)return n._update(a,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(V(this));var a=!g.s.und(e.to),i=!g.s.und(e.from);if(a||i){if(!(t.callId>this._lastToId))return n(V(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,f=e.to,d=void 0===f?c:f,h=e.from,p=void 0===h?l:h;if(!i||a||t.default&&!g.s.und(d)||(d=p),t.reverse){var m=[p,d];d=m[0],p=m[1]}var v=!Object(g.u)(p,l);v&&(u.from=p),p=Object(g.q)(p);var y=!Object(g.u)(d,c);y&&this._focus(d);var A=P(t.to),M=u.config,E=M.decay,C=M.velocity;(a||i)&&(M.velocity=0),t.config&&!A&&function(e,t,n){for(var r in n&&(R(n=_({},n),t),t=_({},n,t)),R(e,t),Object.assign(e,t),j)null==e[r]&&(e[r]=j[r]);var a=e.mass,i=e.frequency,o=e.damping;g.s.und(i)||(i<.01&&(i=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/i,2)*a,e.friction=4*Math.PI*o*a/i)}(M,w(t.config,o),t.config!==s.config?w(s.config,o):void 0);var S=Object(b.d)(this);if(!S||g.s.und(d))return n(H(this,!0));var O=g.s.und(t.reset)?i&&!t.default:!g.s.und(p)&&x(t.reset,o),T=O?p:this.get(),B=k(d),L=g.s.num(B)||g.s.arr(B)||Object(g.t)(B),D=!A&&(!L||x(s.immediate||t.immediate,o));if(y){var F=Object(b.e)(d);if(F!==S.constructor){if(!D)throw Error("Cannot animate between ".concat(S.constructor.name," and ").concat(F.name,', as the "to" prop suggests'));S=this._set(B)}}var I=S.constructor,z=Object(g.r)(d),U=!1;if(!z){var N=O||!$(this)&&v;(y||N)&&(z=!(U=Object(g.u)(k(T),B))),(Object(g.u)(u.immediate,D)||D)&&Object(g.u)(M.decay,E)&&Object(g.u)(M.velocity,C)||(z=!0)}if(U&&ee(this)&&(u.changed&&!O?z=!0:z||this._stop(c)),!A&&((z||Object(g.r)(c))&&(u.values=S.getPayload(),u.toValues=Object(g.r)(d)?null:I==b.a?[1]:Object(g.y)(B)),u.immediate!=D&&(u.immediate=D,D||O||this._set(c)),z)){var X=u.onRest;Object(g.k)(le,(function(e){return fe(r,t,e)}));var q=H(this,ie(this,c));Object(g.n)(this._pendingCalls,q),this._pendingCalls.add(n),u.changed&&g.w.batchedUpdates((function(){u.changed=!O,null==X||X(q,r),O?w(s.onRest,q):null==u.onStart||u.onStart(q,r)}))}O&&this._set(T),A?n(W(t.to,t,this._state,this)):z?this._start():ee(this)&&!y?this._pendingCalls.add(n):n(G(T))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Object(g.p)(this)&&this._detach(),t.to=e,Object(g.p)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Object(g.r)(t)&&(Object(g.c)(t,this),Y(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Object(g.r)(e)&&Object(g.x)(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object(g.q)(e);if(!g.s.und(r)){var a=Object(b.d)(this);if(!a||!Object(g.u)(r,a.getValue())){var i=Object(b.e)(r);a&&a.constructor==i?a.setValue(r):Object(b.g)(this,i.create(r)),a&&g.w.batchedUpdates((function(){t._onChange(r,n)}))}}return Object(b.d)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,de(this,"onStart",H(this,ie(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),w(this.animation.onChange,e,this)),w(this.defaultProps.onChange,e,this),Object(o.a)(Object(s.a)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;Object(b.d)(this).reset(Object(g.q)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),ee(this)||(ne(this,!0),te(this)||this._resume())}},{key:"_resume",value:function(){g.b.skipAnimation?this.finish():g.o.start(this)}},{key:"_stop",value:function(e,t){if(ee(this)){ne(this,!1);var n=this.animation;Object(g.k)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Object(g.d)(this,{type:"idle",parent:this});var r=t?V(this.get()):H(this.get(),ie(this,null!=e?e:n.to));Object(g.n)(this._pendingCalls,r),n.changed&&(n.changed=!1,de(this,"onRest",r,this))}}}]),n}(K);function ie(e,t){var n=k(t),r=k(e.get());return Object(g.u)(r,n)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=w(t);if(r){var a=!0!==r&&T(r),i=(a||e).reverse,o=!a||a.reset;return se(_({},e,{loop:t,default:!1,pause:void 0,to:!i||P(n)?n:void 0,from:o?e.from:void 0,reset:o},a))}}function se(e){var t=e=T(e),n=t.to,r=t.from,a=new Set;return g.s.obj(n)&&ce(n,a),g.s.obj(r)&&ce(r,a),e.keys=a.size?Array.from(a):null,e}function ue(e){var t=se(e);return g.s.und(t.default)&&(t.default=C(t)),t}function ce(e,t){Object(g.l)(e,(function(e,n){return null!=e&&t.add(n)}))}var le=["onStart","onRest","onChange","onPause","onResume"];function fe(e,t,n){e.animation[n]=t[n]!==M(t,n)?A(t[n],e.key):void 0}function de(e,t){for(var n,r,a,i,o,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(a=(i=e.animation)[t])||(n=a).call.apply(n,[i].concat(c)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(c))}var he=["onStart","onChange","onRest"],pe=1,me=function(){function e(t,n){Object(m.a)(this,e),this.id=pe++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(_({default:!0},t))}return Object(p.a)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];g.s.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(se(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Object(g.y)(e).map(se):this.queue=[],this._flush?this._flush(this,t):(Ae(this,t),ve(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Object(g.k)(Object(g.y)(t),(function(t){return n[t].stop(!!e)}))}else X(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(g.s.und(e))this.start({pause:!0});else{var t=this.springs;Object(g.k)(Object(g.y)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(g.s.und(e))this.start({pause:!1});else{var t=this.springs;Object(g.k)(Object(g.y)(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Object(g.l)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,Object(g.m)(n,(function(t){var n=Object(i.a)(t,2),r=n[0],a=n[1];a.value=e.get(),r(a,e,e._item)})));var u=!o&&this._started,c=s||u&&a.size?this.get():null;s&&r.size&&Object(g.m)(r,(function(t){var n=Object(i.a)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})),u&&(this._started=!1,Object(g.m)(a,(function(t){var n=Object(i.a)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}g.w.onFrame(this._onFrame)}}]),e}();function ve(e,t){return Promise.all(t.map((function(t){return ge(e,t)}))).then((function(t){return N(e,t)}))}function ge(e,t,n){return ye.apply(this,arguments)}function ye(){return ye=Object(h.a)(d.a.mark((function e(t,n,r){var a,i,o,s,u,c,l,f,h,p,m,v,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.keys,i=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=g.s.obj(n.default)&&n.default,s&&(n.loop=!1),!1===i&&(n.to=null),!1===o&&(n.from=null),(f=g.s.arr(i)||g.s.fun(i)?i:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):Object(g.k)(he,(function(e){var r=n[e];if(g.s.fun(r)){var a=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,i=a.get(r);i?(t||(i.finished=!1),n&&(i.cancelled=!0)):a.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,Object(g.n)(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),p=(a||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),m=!0===n.cancel||!0===M(n,"cancel"),(f||m&&h.asyncId)&&p.push(U(++t._lastAsyncId,{props:n,state:h,actions:{pause:g.v,resume:g.v,start:function(e,n){m?(X(h,t._lastAsyncId),n(V(t))):(e.onRest=u,n(W(f,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=N,e.t1=t,e.next=19,Promise.all(p);case 19:if(e.t2=e.sent,v=(0,e.t0)(e.t1,e.t2),!s||!v.finished||r&&v.noop){e.next=26;break}if(!(y=oe(n,s,i))){e.next=26;break}return Ae(t,[y]),e.abrupt("return",ge(t,y,!0));case 26:return c&&g.w.batchedUpdates((function(){return c(v,t,t.item)})),e.abrupt("return",v);case 28:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function be(e,t){var n=_({},e.springs);return t&&Object(g.k)(Object(g.y)(t),(function(e){g.s.und(e.keys)&&(e=se(e)),g.s.obj(e.to)||(e=_({},e,{to:void 0})),xe(n,e,(function(e){return we(e)}))})),_e(e,n),n}function _e(e,t){Object(g.l)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Object(g.c)(t,e))}))}function we(e,t){var n=new ae;return n.key=e,t&&Object(g.c)(n,t),n}function xe(e,t,n){t.keys&&Object(g.k)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Ae(e,t){Object(g.k)(t,(function(t){xe(e.springs,t,(function(t){return we(t,e)}))}))}function Me(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var Ee,Ce,Se=["children"],Oe=function(e){var t=e.children,n=Me(e,Se),r=Object(y.useContext)(Te),a=n.pause||!!r.pause,i=n.immediate||!!r.immediate;n=Object(g.B)((function(){return{pause:a,immediate:i}}),[a,i]);var o=Te.Provider;return y.createElement(o,{value:n},t)},Te=(Ee=Oe,Ce={},Object.assign(Ee,y.createContext(Ce)),Ee.Provider._context=Ee,Ee.Consumer._context=Ee,Ee);Oe.Provider=Te.Provider,Oe.Consumer=Te.Consumer;var ke=function(){var e=[],t=function(t){Object(g.i)();var r=[];return Object(g.k)(e,(function(e,a){if(g.s.und(t))r.push(e.start());else{var i=n(t,e,a);i&&r.push(e.start(i))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Object(g.k)(e,(function(e){return e.pause.apply(e,Object(a.a)(t))})),this},t.resume=function(){var t=arguments;return Object(g.k)(e,(function(e){return e.resume.apply(e,Object(a.a)(t))})),this},t.set=function(t){Object(g.k)(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Object(g.k)(e,(function(e,a){if(g.s.und(t))r.push(e.start());else{var i=n._getProps(t,e,a);i&&r.push(e.start(i))}})),r},t.stop=function(){var t=arguments;return Object(g.k)(e,(function(e){return e.stop.apply(e,Object(a.a)(t))})),this},t.update=function(t){var n=this;return Object(g.k)(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return g.s.fun(e)?e(n,t):e};return t._getProps=n,t};function Be(e,t,n){var r=arguments,i=g.s.fun(t)&&t;i&&!n&&(n=[]);var o=Object(y.useMemo)((function(){return i||3==r.length?ke():void 0}),[]),s=Object(y.useRef)(0),u=Object(g.z)(),c=Object(y.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=be(e,t);return s.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?ve(e,t):new Promise((function(r){_e(e,n),c.queue.push((function(){r(ve(e,t))})),u()}))}}}),[]),l=Object(y.useRef)(Object(a.a)(c.ctrls)),f=[],d=Object(g.D)(e)||0;function h(e,n){for(var r=e;r<n;r++){var a=l.current[r]||(l.current[r]=new me(null,c.flush)),o=i?i(r,a):t[r];o&&(f[r]=ue(o))}}Object(y.useMemo)((function(){Object(g.k)(l.current.slice(e,d),(function(e){L(e,o),e.stop(!0)})),l.current.length=e,h(d,e)}),[e]),Object(y.useMemo)((function(){h(0,Math.min(d,e))}),n);var p=l.current.map((function(e,t){return be(e,f[t])})),m=Object(y.useContext)(Oe),v=Object(g.D)(m),b=m!==v&&B(m);Object(g.A)((function(){s.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],Object(g.k)(e,(function(e){return e()}))),Object(g.k)(l.current,(function(e,t){null==o||o.add(e),b&&e.start({default:m});var n=f[t];n&&(D(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Object(g.C)((function(){return function(){Object(g.k)(c.ctrls,(function(e){return e.stop(!0)}))}}));var w=p.map((function(e){return _({},e)}));return o?[w,o]:w}function Pe(e,t){var n=g.s.fun(e),r=Be(1,n?e:[e],n?t||[]:t),a=Object(i.a)(r,2),o=Object(i.a)(a[0],1),s=o[0],u=a[1];return n||2==arguments.length?[s,u]:s}var Le;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Le||(Le={}));var De=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,i){var o;Object(m.a)(this,n),(o=t.call(this)).key=void 0,o.idle=!0,o.calc=void 0,o._active=new Set,o.source=e,o.calc=g.f.apply(void 0,Object(a.a)(i));var s=o._get(),u=Object(b.e)(s);return Object(b.g)(Object(r.a)(o),u.create(s)),o}return Object(p.a)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(g.u)(t,n)||(Object(b.d)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Fe(this._active)&&Re(this)}},{key:"_get",value:function(){var e=g.s.arr(this.source)?this.source.map(g.q):Object(g.y)(Object(g.q)(this.source));return this.calc.apply(this,Object(a.a)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Fe(this._active)&&(this.idle=!1,Object(g.k)(Object(b.f)(this),(function(e){e.done=!1})),g.b.skipAnimation?(g.w.batchedUpdates((function(){return e.advance()})),Re(this)):g.o.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Object(g.k)(Object(g.y)(this.source),(function(n){Object(g.r)(n)&&Object(g.c)(n,e),Y(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Object(g.k)(Object(g.y)(this.source),(function(t){Object(g.r)(t)&&Object(g.x)(t,e)})),this._active.clear(),Re(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Object(g.y)(this.source).reduce((function(e,t){return Math.max(e,(Y(t)?t.priority:0)+1)}),0))}}]),n}(K);function je(e){return!1!==e.idle}function Fe(e){return!e.size||Array.from(e).every(je)}function Re(e){e.idle||(e.idle=!0,Object(g.k)(Object(b.f)(e),(function(e){e.done=!0})),Object(g.d)(e,{type:"idle",parent:e}))}g.b.assign({createStringInterpolator:g.g,to:function(e,t){return new De(e,t)}});g.o.advance},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(74);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cameraRotationForScreenOrientation=t.projectionMatrix=void 0;var r=n(35);function a(e){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return e?90:270;case"landscape-secondary":return 180;case"portrait-secondary":return e?270:90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return e?90:270;case 90:return 0;case 180:return e?270:90;case-90:return 180}return 0}t.projectionMatrix=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,s=2*e[2],u=2*e[3],c=r.mat4.create();r.mat4.frustum(c,i*(-.5-e[2])/e[0],i*(s-.5-e[2])/e[0],i*(u-.5-e[3])/e[1],i*(-.5-e[3])/e[1],i,o),c[4]*=-1,c[5]*=-1,c[6]*=-1,c[7]*=-1;var l=r.mat4.create();r.mat4.fromScaling(l,[.5*s,.5*u,1]),r.mat4.multiply(c,l,c),r.mat4.fromRotation(l,a(!1)*Math.PI/180,[0,0,1]),r.mat4.multiply(c,l,c);var f=r.vec3.create();f[0]=s,f[1]=u,f[2]=0,r.vec3.transformMat4(f,f,l);var d=Math.abs(f[0]),h=Math.abs(f[1]),p=1;return p=d/t>h/n?n/h:t/d,r.mat4.fromScaling(l,[p,p,1]),r.mat4.multiply(c,l,c),r.mat4.fromScaling(l,[2/t,2/n,1]),r.mat4.multiply(c,l,c),r.mat4.fromRotation(l,a(!1)*Math.PI/-180,[0,0,1]),r.mat4.multiply(c,c,l),c},t.cameraRotationForScreenOrientation=a},function(e,t,n){"use strict";var r=n(51),a=n(16),i=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.applyScreenCounterRotation=t.Pipeline=void 0;var o=n(123),s=n(35),u=n(68),c=n(124),l=n(125),f=n(75),d=n(76),h=n(45),p=new Map,m=function(){function e(t,n,r){a(this,e),this._client=t,this._impl=n,this._mgr=r,this.pendingMessages=[],this.cameraTokens=new Map,this.nextCameraToken=1,this.tokensInFlight=0,this.videoTextures=[],this.cameraPixelArrays=[],this.onGLContextReset=new d.Event}return i(e,[{key:"frameUpdate",value:function(e){var t,n=r(this.pendingMessages);try{for(n.s();!(t=n.n()).done;){var a=t.value;e.processMessages(a),this._mgr.postOutgoingMessage({t:"buf",p:this._impl,d:a},[a])}}catch(c){n.e(c)}finally{n.f()}this.pendingMessages=[];var i=this._client.pipeline_camera_frame_user_data(this._impl);if(i){var o,s=r(this.cameraTokens);try{for(s.s();!(o=s.n()).done;){var u=o.value;u[0]<i&&(u[1].texture&&this.videoTextures.push(u[1].texture),this.cameraTokens.delete(u[0]))}}catch(c){s.e(c)}finally{s.f()}}}},{key:"cameraTokenReturn",value:function(e,t){this.cameraPixelArrays.push(t),this.tokensInFlight--}},{key:"getVideoTexture",value:function(){return this.videoTextures.pop()}},{key:"destroy",value:function(){this._client.pipeline_destroy(this._impl),p.delete(this._impl)}},{key:"getCurrentCameraInfo",value:function(){var e=this._client.pipeline_camera_frame_user_data(this._impl);if(e)return this.cameraTokens.get(e)}},{key:"cameraFrameDrawGL",value:function(e,t,n){if(this.glContext){var r=this.getCurrentCameraInfo();r&&(this._cameraDraw||(this._cameraDraw=new o.CameraDraw(this.glContext)),this._cameraDraw.drawCameraFrame(e,t,r,!0===n))}}},{key:"glContextLost",value:function(){this._cameraDraw&&this._cameraDraw.dispose(),this._faceDraw&&this._faceDraw.dispose(),this._faceProjectDraw&&this._faceProjectDraw.dispose(),delete this._cameraDraw,delete this._faceDraw,delete this._faceProjectDraw,f.disposeDrawPlane(),this.onGLContextReset.emit();var e,t=r(this.videoTextures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.glContext&&this.glContext.deleteTexture(n)}}catch(s){t.e(s)}finally{t.f()}this.videoTextures=[];var a,i=r(this.cameraTokens);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.glContext&&o[1].texture&&this.glContext.deleteTexture(o[1].texture),o[1].texture=void 0}}catch(s){i.e(s)}finally{i.f()}this.glContext=void 0}},{key:"glContextSet",value:function(e,t){this.glContextLost(),this.glContext=e,t=t||[];for(var n=0;n<4;n++){var r=t[n]||e.createTexture();r&&(e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.videoTextures.push(r))}e.bindTexture(e.TEXTURE_2D,null)}},{key:"drawFace",value:function(e,t,n,r){if(this.glContext){this._faceDraw||(this._faceDraw=new c.FaceDraw(this.glContext));var a=s.mat4.create();s.mat4.multiply(a,e,t),s.mat4.multiply(a,a,n),this._faceDraw.drawFace(a,r)}}},{key:"drawFaceProject",value:function(e,t,n,r,a,i){this.glContext&&(this._faceProjectDraw||(this._faceProjectDraw=new l.FaceDrawProject(this.glContext)),this._faceProjectDraw.drawFace(e,t,n,r,a,i))}},{key:"cameraFrameTexture",value:function(){var e;return null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.texture}},{key:"cameraFrameTextureMatrix",value:function(e,t,n){var r=this.getCurrentCameraInfo();return r?o.cameraFrameTextureMatrix(r.dataWidth,r.dataHeight,e,t,r.uvTransform,n):s.mat4.create()}},{key:"cameraFrameUserFacing",value:function(){var e;return(null===(e=this.getCurrentCameraInfo())||void 0===e?void 0:e.userFacing)||!1}},{key:"cameraPoseWithAttitude",value:function(e){var t=v(this.getCurrentCameraInfo(),this._client.pipeline_camera_frame_camera_attitude(this._impl));if(e){var n=s.mat4.create();s.mat4.fromScaling(n,[-1,1,1]),s.mat4.multiply(t,n,t),s.mat4.multiply(t,t,n)}return s.mat4.invert(t,t),t}},{key:"processGL",value:function(){if(this.glContext){if(this.currentCameraSource)if(this.tokensInFlight>0)this.currentCameraSource.getFrame(!0);else{var e=this.currentCameraSource.getFrame(!1);if(e){var t=this.nextCameraToken++;this.cameraTokens.set(t,e);var n={d:e.data,p:this._impl,width:e.dataWidth,height:e.dataHeight,token:t,userFacing:e.userFacing,t:"cameraFrameC2S"};this.tokensInFlight++,this._mgr.postOutgoingMessage(n,[e.data])}}}else h.zcerr("no GL context for camera frames - please call pipeline_gl_context_set")}},{key:"motionAccelerometerSubmit",value:function(e,t,n,r){this._client.pipeline_motion_accelerometer_submit(this._impl,e,t,n,r)}},{key:"motionRotationRateSubmit",value:function(e,t,n,r){this._client.pipeline_motion_rotation_rate_submit(this._impl,e,t,n,r)}},{key:"motionAttitudeSubmit",value:function(e,t,n,r){this._client.pipeline_motion_attitude_submit(this._impl,e,t,n,r)}}],[{key:"create",value:function(t,n){var r=t.pipeline_create();return p.set(r,new e(t,r,n)),r}},{key:"get",value:function(e){return p.get(e)}}]),e}();function v(e,t){var n;n=!!e&&e.userFacing;var r=s.mat4.create();return s.mat4.fromRotation(r,u.cameraRotationForScreenOrientation(n)*Math.PI/180,[0,0,1]),s.mat4.multiply(r,r,t),r}t.Pipeline=m,t.applyScreenCounterRotation=v},function(e,t){function n(e,t,n){var r,a,i,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var c=function(){i=this,a=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(i,a),i=a=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,a),i=a=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),a=n(62);n.o(a,"useSpring")&&n.d(t,"useSpring",(function(){return a.useSpring}));var i=n(5),o=n(23),s=n(0),u=["primitive"].concat(Object.keys(s).filter((function(e){return/^[A-Z]/.test(e)})).map((function(e){return e[0].toLowerCase()+e.slice(1)})));a.Globals.assign({createStringInterpolator:i.g,colors:i.e,frameLoop:"demand"}),Object(r.addEffect)((function(){i.w.advance()}));var c=Object(o.c)(u,{applyAnimatedValues:r.applyProps}).animated},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return _}));var r=n(14),a=n(22),i=n(3),o=n(4),s=n(9),u=n(19);function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.c.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,a=void 0!==r&&r;return{passive:n,capture:a}},transform:function(e){return e}},f=["target","eventOptions","window","enabled","transform"];function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,a=Object.entries(t);r<a.length;r++){var i=Object(s.a)(a[r],2),o=i[0],u=i[1];switch(typeof u){case"function":n[o]=u.call(n,e[o],o,e);break;case"object":n[o]=d(e[o],u);break;case"boolean":u&&(n[o]=e[o])}}return n}var h=function(){function e(t){Object(i.a)(this,e),Object(u.e)(this,"_listeners",[]),this._ctrl=t}return Object(o.a)(e,[{key:"add",value:function(e,t,n,r,a){var i=Object(u.p)(t,n),o=Object(u.d)(Object(u.d)({},this._ctrl.config.shared.eventOptions),a);e.addEventListener(i,r,o),this._listeners.push((function(){return e.removeEventListener(i,r,o)}))}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}}]),e}(),p=function(){function e(){Object(i.a)(this,e),Object(u.e)(this,"_timeouts",new Map)}return Object(o.a)(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(i)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),m=function(){function e(t){Object(i.a)(this,e),Object(u.e)(this,"gestures",new Set),Object(u.e)(this,"_targetEventStore",new h(this)),Object(u.e)(this,"gestureEventStores",{}),Object(u.e)(this,"gestureTimeoutStores",{}),Object(u.e)(this,"handlers",{}),Object(u.e)(this,"config",{}),Object(u.e)(this,"pointerIds",new Set),Object(u.e)(this,"touchIds",new Set),Object(u.e)(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&v(e,"drag");t.wheel&&v(e,"wheel");t.scroll&&v(e,"scroll");t.move&&v(e,"move");t.pinch&&v(e,"pinch");t.hover&&v(e,"hover")}(this,t)}return Object(o.a)(e,[{key:"setEventIds",value:function(e){Object(u.k)(e)?this.touchIds=new Set(Object(u.f)(e)):"pointerId"in e&&("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId))}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=e,r=n.target,a=n.eventOptions,i=n.window,o=n.enabled,s=n.transform,h=c(n,f),p={shared:d({target:r,eventOptions:a,window:i,enabled:o,transform:s},l)};if(t){var m=u.a.get(t);p[t]=d(Object(u.d)({shared:p.shared},h),m)}else for(var v in h){var g=u.a.get(v);g&&(p[v]=d(Object(u.d)({shared:p.shared},h[v]),g))}return p}(e,t)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=Object(a.a)(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o,s=this.config.shared,c=s.eventOptions,l={};if(!s.target||(o=s.target())){var f=g(l,c,!!o);if(s.enabled){var d,h=Object(a.a)(this.gestures);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(this.config[p].enabled){var m=u.b.get(p);new m(this,n,p).bind(f)}}}catch(M){h.e(M)}finally{h.f()}var v=function(t){f(t,"",(function(r){return e.nativeHandlers[t](Object(u.d)(Object(u.d)({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var y in this.nativeHandlers)v(y)}for(var b in l)l[b]=u.g.apply(void 0,Object(r.a)(l[b]));if(!o)return l;for(var _ in l){var w=_.substr(2).toLowerCase(),x=!!~w.indexOf("capture"),A=!!~w.indexOf("passive");(x||A)&&(w=w.replace(/capture|passive/g,"")),this._targetEventStore.add(o,w,"",l[_],{capture:x,passive:A})}}}}]),e}();function v(e,t){e.gestures.add(t),e.gestureEventStores[t]=new h(e),e.gestureTimeoutStores[t]=new p}var g=function(e,t,n){return function(r,a,i){var o,s,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=null!==(o=c.capture)&&void 0!==o?o:t.capture,d=null!==(s=c.passive)&&void 0!==s?s:t.passive,h=l?r:Object(u.h)(r,a,f);n&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(i)}},y=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function b(e,t,n,r,a,i){if(e.has(n)&&u.b.has(r)){var o=n+"Start",s=n+"End";a[r]=function(e){var r=void 0;return e.first&&o in t&&t[o](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},i[r]=i[r]||{}}}function _(e,t){var n=function(e){var t={},n={},r=new Set;for(var a in e)y.test(a)?(r.add(RegExp.lastMatch),n[a]=e[a]):t[a]=e[a];return[n,t,r]}(e),r=Object(s.a)(n,3),a=r[0],i=r[1],o=r[2],u={};return b(o,a,"onDrag","drag",u,t),b(o,a,"onWheel","wheel",u,t),b(o,a,"onScroll","scroll",u,t),b(o,a,"onPinch","pinch",u,t),b(o,a,"onMove","move",u,t),b(o,a,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(10),a=n(47);var i=n(30);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(i.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(a.a)(o,e)},o(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawPlane=t.disposeDrawPlane=void 0;var r,a,i,o=n(53),s={};function u(e){if(i)return i;if(!(i=e.createBuffer()))throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),i}t.disposeDrawPlane=function(){r=void 0,a=void 0,i=void 0,s={}},t.drawPlane=function(e,t,n,r,i){var o=c(e),l=function(e){if(a)return a;if(!(a=e.createBuffer()))throw new Error("Unable to create buffer object");return e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-.5,.125,0,-.5,-.125,0,.5,.125,0,.5,-.125,0]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),a}(e),f=u(e);e.disable(e.DEPTH_TEST),e.useProgram(o.prog),e.uniformMatrix4fv(o.unif_proj,!1,t),e.uniformMatrix4fv(o.unif_camera,!1,n),e.uniformMatrix4fv(o.unif_matrix,!1,r),e.bindBuffer(e.ARRAY_BUFFER,l),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,function(e,t){if(s[t])return s[t];var n=e.createTexture();if(!n)throw new Error("Unable to create texture");s[t]=n,e.bindTexture(e.TEXTURE_2D,n);var r=0,a=e.RGBA,i=1,o=1,u=0,c=e.RGBA,l=e.UNSIGNED_BYTE,f=new Uint8Array([0,0,255,255]);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,r,a,i,o,u,c,l,f);var d=new Image;return d.onload=function(){e.bindTexture(e.TEXTURE_2D,n),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,r,a,c,l,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},d.src=t,n}(e,i)),e.uniform1i(o.unif_skinSampler,0),e.vertexAttribPointer(o.attr_position,3,e.FLOAT,!1,12,0),e.enableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,f),e.vertexAttribPointer(o.attr_textureCoord,2,e.FLOAT,!1,8,0),e.enableVertexAttribArray(o.attr_textureCoord),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.disableVertexAttribArray(o.attr_position),e.bindBuffer(e.ARRAY_BUFFER,null)};function c(e){if(r)return r;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=o.compileShader(e,e.VERTEX_SHADER,"\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 projMatrix;\nuniform mat4 cameraMatrix;\nuniform mat4 modelViewMatrix;\nattribute vec4 position;\nattribute vec2 textureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main()\n{\n    gl_Position = projMatrix * cameraMatrix * modelViewMatrix * position;\n    vTextureCoord = textureCoord;\n}"),a=o.compileShader(e,e.FRAGMENT_SHADER,"\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nuniform sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2D(skinSampler, vTextureCoord);\n}");e.attachShader(t,n),e.attachShader(t,a),o.linkProgram(e,t);var i=e.getUniformLocation(t,"projMatrix");if(!i)throw new Error("Unable to get uniform location projMatrix");var s=e.getUniformLocation(t,"modelViewMatrix");if(!s)throw new Error("Unable to get uniform location modelViewMatrix");var u=e.getUniformLocation(t,"cameraMatrix");if(!u)throw new Error("Unable to get uniform location cameraMatrix");var c=e.getUniformLocation(t,"skinSampler");if(!c)throw new Error("Unable to get uniform location skinSampler");return r={prog:t,unif_matrix:s,unif_proj:i,unif_camera:u,unif_skinSampler:c,attr_position:e.getAttribLocation(t,"position"),attr_textureCoord:e.getAttribLocation(t,"textureCoord")}}},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o;var s=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t){for(var n=0,r=this._funcs.length;n<r;n++)this._funcs[n](e,t)}}]),e}();t.Event2=s;var u=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n){for(var r=0,a=this._funcs.length;r<a;r++)this._funcs[r](e,t,n)}}]),e}();t.Event3=u;var c=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n,r,a){for(var i=0,o=this._funcs.length;i<o;i++)this._funcs[i](e,t,n,r,a)}}]),e}();t.Event5=c},function(e,t,n){var r;!function(a,i){"use strict";var o="function",s="undefined",u="object",c="string",l="model",f="name",d="type",h="vendor",p="version",m="architecture",v="console",g="mobile",y="tablet",b="smarttv",_="wearable",w="embedded",x={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===c&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},A={rgx:function(e,t){for(var n,r,a,s,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!c;)if(c=d[n++].exec(e))for(a=0;a<h.length;a++)l=c[++r],typeof(s=h[a])===u&&s.length>0?2==s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):i:this[s[0]]=l?s[1].call(this,l,s[2]):i:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):i):this[s]=l||i;f+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(x.has(t[n][r],e))return"?"===n?i:n}else if(x.has(t[n],e))return"?"===n?i:n;return e}},M={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},E={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[f,p],[/opios[\/\s]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[f,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[f,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[f],[/;fbav\/([\w\.]+);/i],[p,[f,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[f,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[f,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[p,A.str,M.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[m,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,x.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[h,"Samsung"],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[h,"Samsung"],[d,g]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[h,"Apple"],[d,g]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,"Apple"],[d,y]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[h,"Huawei"],[d,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[h,"Huawei"],[d,g]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[h,"Xiaomi"],[d,g]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[h,"Xiaomi"],[d,y]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[h,"OPPO"],[d,g]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[h,"Vivo"],[d,g]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[h,"Realme"],[d,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[h,"Motorola"],[d,g]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[d,y]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[d,y]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[h,"LG"],[d,g]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,g]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[h,"Google"],[d,y]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[h,"Google"],[d,g]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,"Sony"],[d,g]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[h,"Sony"],[d,y]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[h,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[h,"Amazon"],[d,y]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[h,"Amazon"],[d,g]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,h,[d,y]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[d,g]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[h,"ASUS"],[d,y]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[h,"ASUS"],[d,g]],[/(nexus\s9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[l,/_/g," "],[d,g]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[h,"Meizu"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,l,[d,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,l,[d,y]],[/\s(surface\sduo)\s/i],[l,[h,"Microsoft"],[d,y]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[h,"Fairphone"],[d,g]],[/\s(u304aa)\sbuild/i],[l,[h,"AT&T"],[d,g]],[/sie-(\w*)/i],[l,[h,"Siemens"],[d,g]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[h,"RCA"],[d,y]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[h,"Dell"],[d,y]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[h,"Verizon"],[d,y]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[h,"Barnes & Noble"],[d,y]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[h,"NuVision"],[d,y]],[/;\s(k88)\sbuild/i],[l,[h,"ZTE"],[d,y]],[/;\s(nx\d{3}j)\sbuild/i],[l,[h,"ZTE"],[d,g]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[h,"Swiss"],[d,g]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[h,"Swiss"],[d,y]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[h,"Zeki"],[d,y]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],l,[d,y]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[h,"Insignia"],[d,y]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[h,"NextBook"],[d,y]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],l,[d,g]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],l,[d,g]],[/;\s(ph-1)\s/i],[l,[h,"Essential"],[d,g]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[h,"Envizen"],[d,y]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[h,"MachSpeed"],[d,y]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w\s]+)\sbuild/i],[l,[h,"Nvidia"],[d,y]],[/(sprint)\s(\w+)/i],[h,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[d,g]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,"Zebra"],[d,y]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,"Zebra"],[d,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,l,[d,v]],[/droid.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[d,v]],[/(playstation\s[345portablevi]+)/i],[l,[h,"Sony"],[d,v]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[h,"Microsoft"],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,"Samsung"],[d,b]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[d,b]],[/(apple)\s?tv/i],[h,[l,"Apple TV"],[d,b]],[/crkey/i],[[l,"Chromecast"],[h,"Google"],[d,b]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[h,"Amazon"],[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,x.trim],[l,x.trim],[d,b]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[d,b]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[d,_]],[/droid.+;\s(glass)\s\d/i],[l,[h,"Google"],[d,_]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[h,"Zebra"],[d,_]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[d,w]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[d,g]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[d,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,x.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[h,"Generic"]],[/(phone)/i],[[d,g]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[f,[p,A.str,M.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[p,A.str,M.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[f,p],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[f,p]]},C=function e(t,n){if("object"===typeof t&&(n=t,t=i),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==typeof a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=n?x.extend(E,n):E;return this.getBrowser=function(){var e={name:i,version:i};return A.rgx.call(e,r,o.browser),e.major=x.major(e.version),e},this.getCPU=function(){var e={architecture:i};return A.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return A.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:i,version:i};return A.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:i,version:i};return A.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>255?x.trim(e,255):e,this},this.setUA(r),this};C.VERSION="0.7.28",C.BROWSER={NAME:f,MAJOR:"major",VERSION:p},C.CPU={ARCHITECTURE:m},C.DEVICE={MODEL:l,VENDOR:h,TYPE:d,CONSOLE:v,MOBILE:g,SMARTTV:b,TABLET:y,WEARABLE:_,EMBEDDED:w},C.ENGINE={NAME:f,VERSION:p},C.OS={NAME:f,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=C),t.UAParser=C):(r=function(){return C}.call(t,n,t,e))===i||(e.exports=r);var S="undefined"!==typeof a&&(a.jQuery||a.Zepto);if(S&&!S.ua){var O=new C;S.ua=O.getResult(),S.ua.get=function(){return O.getUA()},S.ua.set=function(e){O.setUA(e);var t=O.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log_level_t=t.instant_world_tracker_transform_orientation_t=t.face_landmark_name_t=t.barcode_format_t=void 0;var r=n(60);Object.defineProperty(t,"barcode_format_t",{enumerable:!0,get:function(){return r.barcode_format_t}});var a=n(60);Object.defineProperty(t,"face_landmark_name_t",{enumerable:!0,get:function(){return a.face_landmark_name_t}});var i=n(60);Object.defineProperty(t,"instant_world_tracker_transform_orientation_t",{enumerable:!0,get:function(){return i.instant_world_tracker_transform_orientation_t}});var o=n(60);Object.defineProperty(t,"log_level_t",{enumerable:!0,get:function(){return o.log_level_t}})},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(59),o=n(27),s=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;var u=n(69),c=n(127),l=n(80),f=n(53),d=n(35),h=n(45),p=1,m=new Map,v=function(e){o(n,e);var t=s(n);function n(e,a){var o;r(this,n),(o=t.call(this))._video=e,o._pipeline=a,o._isPaused=!0,o._hadFrames=!1,o._isUserFacing=!1,o._cameraToScreenRotation=0,o._isUploadFrame=!0,o._computedTransformRotation=-1,o._computedFrontCameraRotation=!1,o._cameraUvTransform=d.mat4.create(),o._cameraVertexTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o._framebufferWidth=0,o._framebufferHeight=0,o._framebufferId=null,o._renderTexture=null;var s=o._video;o._video instanceof HTMLVideoElement?s.addEventListener("loadedmetadata",(function(){o._hadFrames=!0})):o._hadFrames=!0,o._resetGLContext=o._resetGLContext.bind(i(o));var c=u.Pipeline.get(o._pipeline);return c&&c.onGLContextReset.bind(o._resetGLContext),o}return a(n,[{key:"_resetGLContext",value:function(){this._currentVideoTexture=void 0,this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}},{key:"destroy",value:function(){var e=u.Pipeline.get(this._pipeline);e&&e.onGLContextReset.unbind(this._resetGLContext),this.pause(),this._resetGLContext()}},{key:"pause",value:function(){this._isPaused=!0;var e=u.Pipeline.get(this._pipeline);e&&e.currentCameraSource===this&&(e.currentCameraSource=void 0)}},{key:"start",value:function(){var e;this._isPaused&&(this._isUploadFrame=!0,this._video instanceof HTMLVideoElement&&(this._hadFrames=!1)),this._isPaused=!1;var t=u.Pipeline.get(this._pipeline);t&&t.currentCameraSource!==this&&(null===(e=t.currentCameraSource)||void 0===e||e.pause(),t.currentCameraSource=this)}},{key:"getFrame",value:function(e){var t=u.Pipeline.get(this._pipeline);if(t){var n=t.glContext;if(n&&!this._isPaused&&this._hadFrames)try{return this._processFrame(n,this._cameraToScreenRotation,e)}catch(r){console.log("Unable to process frame")}}}},{key:"_processFrame",value:function(e,t,n){var r=u.Pipeline.get(this._pipeline);if(r){if(this._isUploadFrame)return this._currentVideoTexture||(this._currentVideoTexture=r.getVideoTexture()),this._uploadFrame(t,this._isUserFacing),void(this._isUploadFrame=!this._isUploadFrame);if(!n)return this._isUploadFrame=!this._isUploadFrame,this._readFrame(r,e)}}},{key:"_uploadFrame",value:function(e,t){if(this._currentVideoTexture){var n=u.Pipeline.get(this._pipeline);if(n){var r=n.glContext;if(r){r.disable(r.SCISSOR_TEST),r.disable(r.DEPTH_TEST),r.disable(r.BLEND),r.disable(r.CULL_FACE),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._currentVideoTexture);var a=r.RGBA,i=r.RGBA,o=r.UNSIGNED_BYTE;r.texImage2D(r.TEXTURE_2D,0,a,i,o,this._video);var s=0,c=0;this._video instanceof HTMLVideoElement?(s=this._video.videoWidth,c=this._video.videoHeight):(s=this._video.width,c=this._video.height),c>s&&(c=[s,s=c][0]),this._updateTransforms(e,t);var f=this._getFramebuffer(r,l.profile.dataWidth/4,l.profile.dataHeight),d=this._getVertexBuffer(r),h=this._getIndexBuffer(r),p=this._getGreyscaleShader(r);r.bindFramebuffer(r.FRAMEBUFFER,f),r.viewport(0,0,this._framebufferWidth,this._framebufferHeight),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r.bindBuffer(r.ARRAY_BUFFER,d),r.vertexAttribPointer(p.aVertexPositionLoc,2,r.FLOAT,!1,16,0),r.enableVertexAttribArray(p.aVertexPositionLoc),r.vertexAttribPointer(p.aTextureCoordLoc,2,r.FLOAT,!1,16,8),r.enableVertexAttribArray(p.aTextureCoordLoc),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,h),r.useProgram(p.program),r.uniform1f(p.uTexWidthLoc,l.profile.dataWidth),r.uniformMatrix4fv(p.uUvTransformLoc,!1,this._cameraUvTransform),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._currentVideoTexture),r.uniform1i(p.uSamplerLoc,0),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),r.disableVertexAttribArray(p.aVertexPositionLoc),r.disableVertexAttribArray(p.aTextureCoordLoc),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),r.useProgram(null),r.bindTexture(r.TEXTURE_2D,null)}}}}},{key:"_readFrame",value:function(e,t){if(!this._currentVideoTexture)throw new Error("No video texture");var n=this._currentVideoTexture;this._currentVideoTexture=void 0;for(var r=l.profile.dataWidth*l.profile.dataHeight,a=e.cameraPixelArrays.pop();a&&a.byteLength!==r;)a=e.cameraPixelArrays.pop();a||(a=new ArrayBuffer(r));var i=new Uint8Array(a),o=this._getFramebuffer(t,l.profile.dataWidth/4,l.profile.dataHeight);return t.bindFramebuffer(t.FRAMEBUFFER,o),t.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null),{uvTransform:this._cameraUvTransform,data:a,texture:n,dataWidth:l.profile.dataWidth,dataHeight:l.profile.dataHeight,userFacing:this._computedFrontCameraRotation}}},{key:"_updateTransforms",value:function(e,t){e==this._computedTransformRotation&&t==this._computedFrontCameraRotation||(this._computedTransformRotation=e,this._computedFrontCameraRotation=t,this._cameraUvTransform=this._getCameraUvTransform(),this._cameraVertexTransform=this._getCameraVertexTransform())}},{key:"_getCameraUvTransform",value:function(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},{key:"_getCameraVertexTransform",value:function(){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(!this._computedFrontCameraRotation)return e;switch(this._computedTransformRotation){case 0:case 90:case 180:e[0]=-1;break;case 270:e[5]=-1}return e}},{key:"_getFramebuffer",value:function(e,t,n){if(this._framebufferWidth===t&&this._framebufferHeight===n&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(e.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(e.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=e.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(e.bindFramebuffer(e.FRAMEBUFFER,this._framebufferId),this._renderTexture=e.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameterf(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderTexture,0);var r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+r.toString());return this._framebufferWidth=t,this._framebufferHeight=n,e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this._framebufferId}},{key:"_getVertexBuffer",value:function(e){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=e.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer);var t=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this._vertexBuffer}},{key:"_getIndexBuffer",value:function(e){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=e.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer);var t=new Uint16Array([0,1,2,0,2,3]);return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),this._indexBuffer}},{key:"_getGreyscaleShader",value:function(e){if(this._greyscaleShader)return this._greyscaleShader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=f.compileShader(e,e.VERTEX_SHADER,g),r=f.compileShader(e,e.FRAGMENT_SHADER,y);e.attachShader(t,n),e.attachShader(t,r),f.linkProgram(e,t);var a=e.getUniformLocation(t,"uTexWidth");if(!a)throw new Error("Unable to get uniform location uTexWidth");var i=e.getUniformLocation(t,"uUvTransform");if(!i)throw new Error("Unable to get uniform location uUvTransform");var o=e.getUniformLocation(t,"uSampler");if(!o)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:t,aVertexPositionLoc:e.getAttribLocation(t,"aVertexPosition"),aTextureCoordLoc:e.getAttribLocation(t,"aTextureCoord"),uTexWidthLoc:a,uUvTransformLoc:i,uSamplerLoc:o},this._greyscaleShader}}],[{key:"createVideoElementSource",value:function(e,t){var r=p++;return m.set(r,new n(t,e)),h.zcout("html_element_source_t initialized"),r}},{key:"getVideoElementSource",value:function(e){return m.get(e)}}]),n}(c.Source);t.HTMLElementSource=v;var g="\n    attribute vec4 aVertexPosition;\n    attribute vec2 aTextureCoord;\n\n    varying highp vec2 vTextureCoord1;\n    varying highp vec2 vTextureCoord2;\n    varying highp vec2 vTextureCoord3;\n    varying highp vec2 vTextureCoord4;\n\n    uniform float uTexWidth;\n\tuniform mat4 uUvTransform;\n\n    void main(void) {\n      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);\n      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);\n\n      gl_Position = aVertexPosition;\n      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;\n      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;\n      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;\n      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;\n    }\n",y="\n  varying highp vec2 vTextureCoord1;\n  varying highp vec2 vTextureCoord2;\n  varying highp vec2 vTextureCoord3;\n  varying highp vec2 vTextureCoord4;\n\n  uniform sampler2D uSampler;\n\n  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);\n\n  void main(void) {\n    lowp vec4 outpx;\n\n    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);\n    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);\n    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);\n    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);\n\n    gl_FragColor = outpx;\n  }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profile=t.EmbeddedVideoImplementation=void 0;var r=n(77);!function(e){e[e.OBJECT_URL=0]="OBJECT_URL",e[e.SRC_OBJECT=1]="SRC_OBJECT"}(t.EmbeddedVideoImplementation||(t.EmbeddedVideoImplementation={})),t.profile={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1},window.zeeProfile=t.profile;var a=new r.UAParser,i=(a.getOS().name||"unknown").toLowerCase(),o=(a.getEngine().name||"unknown").toLowerCase();function s(){var e=a.getOS().version;if(e){var n=e.split(".");if(n.length>=2){var r=parseInt(n[0]),i=parseInt(n[1]);(r<11||11===r&&i<3)&&(t.profile.blacklisted=!0),(r<12||12===r&&i<2)&&(t.profile.videoElementInDOM=!0),(12===r&&i>=2||r>=13)&&(t.profile.showGyroPermissionsWarningIfNecessary=!0),r>=13&&(t.profile.showSafariPermissionsResetIfNecessary=!0),(r>=12&&i>1||r>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(t.profile.requestHighFrameRate=!0,t.profile.videoHeight=360,t.profile.dataHeight=180)}}}"webkit"===o&&"ios"!==i&&(t.profile.deviceMotionMutliplier=1,void 0!==window.orientation&&s()),"webkit"===o&&"ios"===i&&(t.profile.deviceMotionMutliplier=1,s())},function(e,t,n){"use strict";n.r(t),t.default=n.p+"b4f46e148a3b3b5aef90717d8d60e3fc.zbin"},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceBufferGeometry=void 0;var s,u=n(29),c=n(83),l=function(e){i(n,e);var t=o(n);function n(e){var a;return r(this,n),(a=t.call(this)).hasSetIndices=!1,a.hasSetUVs=!1,a.recalculateNormals=!0,a.setIndex([]),a.setAttribute("position",new u.THREE.Float32BufferAttribute([],3)),a.setAttribute("normal",new u.THREE.Float32BufferAttribute([],3)),a.setAttribute("uv",new u.THREE.Float32BufferAttribute([],2)),e||(s||(s=(new c.FaceMeshLoader).load()),e=s),a._faceMesh=e,a}return a(n,[{key:"_updateIndices",value:function(){this.hasSetIndices||0!==this._faceMesh.indices.length&&(this.setIndex(new u.THREE.Uint16BufferAttribute(this._faceMesh.indices,1)),this.hasSetIndices=!0)}},{key:"_updateUVs",value:function(){this.hasSetUVs||0!==this._faceMesh.uvs.length&&(this.setAttribute("uv",new u.THREE.BufferAttribute(this._faceMesh.uvs,2)),this.hasSetUVs=!0)}},{key:"calculateNormals",get:function(){return this.recalculateNormals},set:function(e){this.recalculateNormals=e,this.recalculateNormals||("function"===typeof this.removeAttribute&&this.removeAttribute("normal"),delete this.normals)}},{key:"updateFromFaceAnchorGroup",value:function(e){0!==this._faceMesh.vertices.length&&e.currentAnchor&&this.updateFromFaceAnchor(e.currentAnchor)}},{key:"updateFromFaceAnchor",value:function(e){this.updateFromIdentityExpression(e.identity,e.expression)}},{key:"updateFromIdentityExpression",value:function(e,t){0!==this._faceMesh.vertices.length&&(this._updateIndices(),this._updateUVs(),this._faceMesh.updateFromIdentityExpression(e,t),this.vertices||(this.vertices=new Float32Array(this._faceMesh.vertices.length),this.verticesAttribute=new u.THREE.BufferAttribute(this.vertices,3),this.setAttribute("position",this.verticesAttribute)),this.vertices.set(this._faceMesh.vertices),this.verticesAttribute&&(this.verticesAttribute.needsUpdate=!0),this.computeBoundingSphere(),this.calculateNormals&&(this.normals||(this.normals=new Float32Array(this._faceMesh.normals.length),this.normalsAttribute=new u.THREE.BufferAttribute(this.normals,3),this.setAttribute("normal",this.normalsAttribute)),this.normals.set(this._faceMesh.normals),this.normalsAttribute&&(this.normalsAttribute.needsUpdate=!0)))}}]),n}(u.THREE.BufferGeometry);t.FaceBufferGeometry=l},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMeshLoader=void 0;var s=n(43),u=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_".concat(JSON.stringify(e||"default"));return this.manager.itemStart(o),(e?"string"===typeof e?i.load(e):e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"loadFace",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_face_".concat(JSON.stringify(e||"default"));return(e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFace(e.fillMouth,e.fillEyeLeft,e.fillEyeRight):i.loadDefaultFace()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"loadFullHeadSimplified",value:function(e,t,n,r){var a=this,i=new s.FaceMesh,o="__zappar_threejs_face_mesh_full_head_".concat(JSON.stringify(e||"default"));return(e?e.customModel?i.load(e.customModel,e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified(e.fillMouth,e.fillEyeLeft,e.fillEyeRight,e.fillNeck):i.loadDefaultFullHeadSimplified()).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(o)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(o),a.manager.itemEnd(o)})),i}},{key:"parse",value:function(){}}]),n}(n(29).THREE.Loader);t.FaceMeshLoader=u},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(59),o=n(27),s=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMesh=void 0;var u=n(43),c=n(29),l=n(82),f=function(e){o(n,e);var t=s(n);function n(e,a){var o;return r(this,n),(o=t.call(this)).onLoad=e,o.onError=a,o.faceMesh=new u.FaceMesh,o.faceBufferGeometry=new l.FaceBufferGeometry(o.faceMesh),o.geometry=o.faceBufferGeometry,o.material=new c.THREE.MeshBasicMaterial({colorWrite:!1}),o.faceMesh.loadDefaultFullHeadSimplified(!0,!0,!0,!0).then((function(){var e;return null===(e=o.onLoad)||void 0===e?void 0:e.call(i(o))})).catch((function(){var e;return null===(e=o.onError)||void 0===e?void 0:e.call(i(o))})),o.renderOrder=Number.MIN_SAFE_INTEGER,o}return a(n,[{key:"updateFromFaceAnchorGroup",value:function(e){this.faceBufferGeometry.updateFromFaceAnchorGroup(e)}},{key:"updateFromFaceAnchor",value:function(e){this.faceBufferGeometry.updateFromFaceAnchor(e)}},{key:"updateFromIdentityExpression",value:function(e,t){this.faceBufferGeometry.updateFromIdentityExpression(e,t)}},{key:"dispose",value:function(){this.faceMesh.destroy(),this.faceBufferGeometry.dispose()}}]),n}(c.THREE.Mesh);t.HeadMaskMesh=f},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.LibraryLoader=void 0;var s=n(32),u=n(29),c="__zappar_threejs_library",l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n){var r=this;this.manager.itemStart(c),s.loadedPromise().then((function(){null===e||void 0===e||e(),r.manager.itemEnd(c)})).catch((function(e){null===n||void 0===n||n(),r.manager.itemError(c),r.manager.itemEnd(c)}))}},{key:"parse",value:function(){}}]),n}(u.THREE.Loader);t.LibraryLoader=l},function(e,t){},function(e,t){},function(e,t,n){},function(e,t){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var a=self||window;try{try{var i;try{i=new a.Blob([e])}catch(c){(i=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(e),i=i.getBlob()}var o=a.URL||a.webkitURL,s=o.createObjectURL(i),u=new a[t](s,n);return o.revokeObjectURL(s),u}catch(c){return new a[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(c){if(!r)throw Error("Inline worker is not supported");return new a[t](r,n)}}},function(e,t,n){"use strict";e.exports=n(158)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}},function(e,t,n){"use strict";n.d(t,"useGesture",(function(){return c}));var r=n(24),a=n(1),i=n.n(a),o=n(72);n(88),n(89);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=i.a.useMemo((function(){return new o.a(e)}),[]);if(a.applyHandlers(e,r),a.applyConfig(t,n),i.a.useEffect(a.effect.bind(a)),i.a.useEffect((function(){return a.clean.bind(a)}),[]),void 0===t.target)return a.bind.bind(a)}function u(e){return e.forEach(r.e),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.b)(e,t),r=n.handlers,a=n.nativeHandlers,i=n.config;return s(r,i,void 0,a)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u([r.a,r.d,r.f,r.g,r.c,r.b]);return n(e,t)}},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r=9007199254740991,a="[object Symbol]",i=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var a=e.length,i=n+(r?1:-1);for(;r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}(e,m,n);var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function d(e,t,n){for(var r=-1,a=e?e.length:0;++r<a;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=e?e.length:0,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function p(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function m(e){return e!==e}function v(e,t){return e.has(t)}function g(e,t){return function(n){return e(t(n))}}var y=Array.prototype,b=Function.prototype,_=Object.prototype,w=c["__core-js_shared__"],x=function(){var e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=b.toString,M=_.hasOwnProperty,E=_.toString,C=RegExp("^"+A.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=c.Symbol,O=g(Object.getPrototypeOf,Object),T=_.propertyIsEnumerable,k=y.splice,B=S?S.isConcatSpreadable:void 0,P=Object.getOwnPropertySymbols,L=Math.max,D=q(c,"Map"),j=q(Object,"create");function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=e?e.length:0;for(this.__data__=new I;++t<n;)this.add(e[t])}function U(e,t){var n=ee(e)||$(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,a=!!r;for(var i in e)!t&&!M.call(e,i)||a&&("length"==i||K(i,r))||n.push(i);return n}function N(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!==n&&r!==r)return a;return-1}function G(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=J),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?G(s,t-1,n,r,a):p(a,s):r||(a[a.length]=s)}return a}function H(e){if(!re(e)||(t=e,x&&x in t))return!1;var t,n=ne(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?C:i;return n.test(function(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function V(e){if(!re(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||_;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}function W(e){return function(e,t,n){var r=t(e);return ee(e)?r:p(r,n(e))}(e,ie,Y)}function X(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return H(n)?n:void 0}F.prototype.clear=function(){this.__data__=j?j(null):{}},F.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},F.prototype.get=function(e){var t=this.__data__;if(j){var r=t[e];return r===n?void 0:r}return M.call(t,e)?t[e]:void 0},F.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:M.call(t,e)},F.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?n:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},R.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return N(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},I.prototype.clear=function(){this.__data__={hash:new F,map:new(D||R),string:new F}},I.prototype.delete=function(e){return X(this,e).delete(e)},I.prototype.get=function(e){return X(this,e).get(e)},I.prototype.has=function(e){return X(this,e).has(e)},I.prototype.set=function(e,t){return X(this,e).set(e,t),this},z.prototype.add=z.prototype.push=function(e){return this.__data__.set(e,n),this},z.prototype.has=function(e){return this.__data__.has(e)};var Q=P?g(P,Object):ce,Y=P?function(e){for(var t=[];e;)p(t,Q(e)),e=O(e);return t}:ce;function J(e){return ee(e)||$(e)||!!(B&&e&&e[B])}function K(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}function Z(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ae(e)&&E.call(e)==a}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function $(e){return function(e){return ae(e)&&te(e)}(e)&&M.call(e,"callee")&&(!T.call(e,"callee")||"[object Arguments]"==E.call(e))}var ee=Array.isArray;function te(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!ne(e)}function ne(e){var t=re(e)?E.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function re(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ae(e){return!!e&&"object"==typeof e}function ie(e){return te(e)?U(e,!0):V(e)}var oe,se,ue=(oe=function(e,t){return null==e?{}:(t=h(G(t,1),Z),function(e,t){return function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=e[o];n(s,o)&&(i[o]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var a,i=-1,o=f,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;n&&(t=h(t,(a=n,function(e){return a(e)}))),r?(o=d,s=!1):t.length>=200&&(o=v,s=!1,t=new z(t));e:for(;++i<u;){var p=e[i],m=n?n(p):p;if(p=r||0!==p?p:0,s&&m===m){for(var g=l;g--;)if(t[g]===m)continue e;c.push(p)}else o(t,m,r)||c.push(p)}return c}(W(e),t)))},se=L(void 0===se?oe.length-1:se,0),function(){for(var e=arguments,t=-1,n=L(e.length-se,0),r=Array(n);++t<n;)r[t]=e[se+t];t=-1;for(var a=Array(se+1);++t<se;)a[t]=e[t];return a[se]=r,l(oe,this,a)});function ce(){return[]}e.exports=ue}).call(this,n(90))},function(e,t,n){(function(t){var n=9007199254740991,r="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",o="[object Symbol]",s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var d=Object.prototype,h=d.hasOwnProperty,p=d.toString,m=c.Symbol,v=d.propertyIsEnumerable,g=m?m.isConcatSpreadable:void 0,y=Math.max;function b(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=_),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?b(s,t-1,n,r,a):f(a,s):r||(a[a.length]=s)}return a}function _(e){return x(e)||function(e){return function(e){return A(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==a||t==i}(e)}(e)}(e)&&h.call(e,"callee")&&(!v.call(e,"callee")||p.call(e)==r)}(e)||!!(g&&e&&e[g])}function w(e){if("string"==typeof e||function(e){return"symbol"==typeof e||A(e)&&p.call(e)==o}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var x=Array.isArray;function A(e){return!!e&&"object"==typeof e}var M,E,C=(M=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=e[o];n(s,o)&&(i[o]=s)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}(b(t,1),w))},E=y(void 0===E?M.length-1:E,0),function(){for(var e=arguments,t=-1,n=y(e.length-E,0),r=Array(n);++t<n;)r[t]=e[E+t];t=-1;for(var a=Array(E+1);++t<E;)a[t]=e[t];return a[E]=r,l(M,this,a)});e.exports=C}).call(this,n(90))},function(e,t,n){var r=function e(){function t(e){return a.appendChild(e.dom),e}function n(e){for(var t=0;t<a.children.length;t++)a.children[t].style.display=t===e?"block":"none";r=e}var r=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",(function(e){e.preventDefault(),n(++r%a.children.length)}),!1);var i=(performance||Date).now(),o=i,s=0,u=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:a,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-i,200),e>o+1e3&&(u.update(1e3*s/(e-o),100),o=e,s=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:a,setMode:n}};r.Panel=function(e,t,n){var r=1/0,a=0,i=Math.round,o=i(window.devicePixelRatio||1),s=80*o,u=48*o,c=3*o,l=2*o,f=3*o,d=15*o,h=74*o,p=30*o,m=document.createElement("canvas");m.width=s,m.height=u,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,u),v.fillStyle=t,v.fillText(e,c,l),v.fillRect(f,d,h,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,d,h,p),{dom:m,update:function(u,g){r=Math.min(r,u),a=Math.max(a,u),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,d),v.fillStyle=t,v.fillText(i(u)+" "+e+" ("+i(r)+"-"+i(a)+")",c,l),v.drawImage(m,f+o,d,h-o,p,f,d,h-o,p),v.fillRect(f+h-o,d,o,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+h-o,d,o,i((1-u/g)*p))}}},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(11),i=n(10),o=n(3),s=n(4),u=n(6),c=n(7),l=n(0),f=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new v(e)})),r.register((function(e){return new y(e)})),r.register((function(e){return new b(e)})),r.register((function(e){return new g(e)})),r.register((function(e){return new p(e)})),r.register((function(e){return new _(e)})),r}return Object(s.a)(n,[{key:"load",value:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:l.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new l.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,i={},o={};if("string"===typeof e)a=e;else if(l.LoaderUtils.decodeText(new Uint8Array(e,0,4))===w){try{i[h.KHR_BINARY_GLTF]=new M(e)}catch(g){return void(r&&r(g))}a=i[h.KHR_BINARY_GLTF].content}else a=l.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new te(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var f=this.pluginCallbacks[c](u);o[f.name]=f,i[f.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var p=s.extensionsUsed[d],v=s.extensionsRequired||[];switch(p){case h.KHR_MATERIALS_UNLIT:i[p]=new m;break;case h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[p]=new O;break;case h.KHR_DRACO_MESH_COMPRESSION:i[p]=new E(s,this.dracoLoader);break;case h.KHR_TEXTURE_TRANSFORM:i[p]=new C;break;case h.KHR_MESH_QUANTIZATION:i[p]=new T;break;default:v.indexOf(p)>=0&&void 0===o[p]&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}u.setExtensions(i),u.setPlugins(o),u.parse(n,r)}}}]),n}(l.Loader);function d(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var h={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},p=function(){function e(t){Object(o.a)(this,e),this.parser=t,this.name=h.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return Object(s.a)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],s=new l.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(a=new l.DirectionalLight(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new l.PointLight(s)).distance=u;break;case"spot":(a=new l.SpotLight(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),m=function(){function e(){Object(o.a)(this,e),this.name=h.KHR_MATERIALS_UNLIT}return Object(s.a)(e,[{key:"getMaterialType",value:function(){return l.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new l.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)}}]),e}(),v=function(){function e(t){Object(o.a)(this,e),this.parser=t,this.name=h.KHR_MATERIALS_CLEARCOAT}return Object(s.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){var o=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new l.Vector2(o,-o)}return Promise.all(a)}}]),e}(),g=function(){function e(t){Object(o.a)(this,e),this.parser=t,this.name=h.KHR_MATERIALS_TRANSMISSION}return Object(s.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),y=function(){function e(t){Object(o.a)(this,e),this.parser=t,this.name=h.KHR_TEXTURE_BASISU}return Object(s.a)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=n.images[a.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}]),e}(),b=function(){function e(t){Object(o.a)(this,e),this.parser=t,this.name=h.EXT_TEXTURE_WEBP,this.isSupported=null}return Object(s.a)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),_=function(){function e(t){Object(o.a)(this,e),this.name=h.EXT_MESHOPT_COMPRESSION,this.parser=t}return Object(s.a)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,i.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new ArrayBuffer(a*o),u=new Uint8Array(e[0],t,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,u,r.mode,r.filter),s}))}return null}}]),e}(),w="glTF",x=1313821514,A=5130562,M=Object(s.a)((function e(t){Object(o.a)(this,e),this.name=h.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:l.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==w)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),i=0;i<r;){var s=a.getUint32(i,!0);i+=4;var u=a.getUint32(i,!0);if(i+=4,u===x){var c=new Uint8Array(t,12+i,s);this.content=l.LoaderUtils.decodeText(c)}else if(u===A){var f=12+i;this.body=t.slice(f,f+s)}i+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),E=function(){function e(t,n){if(Object(o.a)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=h.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return Object(s.a)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},u={};for(var c in i){var l=G[c]||c.toLowerCase();o[l]=i[c]}for(var f in e.attributes){var d=G[f]||f.toLowerCase();if(void 0!==i[f]){var h=n.accessors[e.attributes[f]],p=I[h.componentType];u[d]=p,s[d]=!0===h.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,u)}))}))}}]),e}(),C=function(){function e(){Object(o.a)(this,e),this.name=h.KHR_TEXTURE_TRANSFORM}return Object(s.a)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),S=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),c=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),f=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),d={specular:{value:(new l.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return a._extraUniforms=d,a.onBeforeCompile=function(e){for(var t in d)e.uniforms[t]=d[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",c).replace("#include <lights_physical_fragment>",f)},Object.defineProperties(Object(r.a)(a),{specular:{get:function(){return d.specular.value},set:function(e){d.specular.value=e}},specularMap:{get:function(){return d.specularMap.value},set:function(e){d.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return d.glossiness.value},set:function(e){d.glossiness.value=e}},glossinessMap:{get:function(){return d.glossinessMap.value},set:function(e){d.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete a.metalness,delete a.roughness,delete a.metalnessMap,delete a.roughnessMap,a.setValues(e),a}return Object(s.a)(n,[{key:"copy",value:function(e){return Object(a.a)(Object(i.a)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(l.MeshStandardMaterial),O=function(){function e(){Object(o.a)(this,e),this.name=h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return Object(s.a)(e,[{key:"getMaterialType",value:function(){return S}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new l.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new l.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new l.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",o)),a.push(n.assignTexture(e,"specularMap",o))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new S(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=l.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),T=Object(s.a)((function e(){Object(o.a)(this,e),this.name=h.KHR_MESH_QUANTIZATION})),k=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,a,i){return Object(o.a)(this,n),t.call(this,e,r,a,i)}return Object(s.a)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}}]),n}(l.Interpolant);k.prototype.beforeStart_=k.prototype.copySampleValue_,k.prototype.afterEnd_=k.prototype.copySampleValue_,k.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,c=r-t,l=(n-t)/c,f=l*l,d=f*l,h=e*u,p=h-u,m=-2*d+3*f,v=d-f,g=1-m,y=v-f+l,b=0;b!==o;b++){var _=i[p+b+o],w=i[p+b+s]*c,x=i[h+b+o],A=i[h+b]*c;a[b]=g*_+y*w+m*x+v*A}return a};var B=0,P=1,L=2,D=3,j=4,F=5,R=6,I={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},z={9728:l.NearestFilter,9729:l.LinearFilter,9984:l.NearestMipmapNearestFilter,9985:l.LinearMipmapNearestFilter,9986:l.NearestMipmapLinearFilter,9987:l.LinearMipmapLinearFilter},U={33071:l.ClampToEdgeWrapping,33648:l.MirroredRepeatWrapping,10497:l.RepeatWrapping},N={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},G={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},H={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V={CUBICSPLINE:void 0,LINEAR:l.InterpolateLinear,STEP:l.InterpolateDiscrete},W="OPAQUE",X="MASK",q="BLEND";function Q(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function Y(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function J(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function K(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Z(e){var t=e.extensions&&e.extensions[h.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+$(t.attributes):e.indices+":"+$(e.attributes)+":"+e.mode}function $(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ee(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new d,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new l.ImageBitmapLoader(this.options.manager):this.textureLoader=new l.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new l.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return Object(s.a)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Y(a,i,r),J(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[h.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(Q(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,o=e[0],s=N[r.type],u=I[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==f){var m=Math.floor(d/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count,g=t.cache.get(v);g||(a=new u(o,m*h,r.count*h/c),g=new l.InterleavedBuffer(a,h/c),t.cache.add(v,g)),i=new l.InterleavedBufferAttribute(g,s,d%h/c,p)}else a=null===o?new u(r.count*s):new u(o,d,r.count*s),i=new l.BufferAttribute(a,s,p);if(void 0!==r.sparse){var y=N.SCALAR,b=I[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new b(e[1],_,r.sparse.count*y),A=new u(e[2],w,r.sparse.count*s);null!==o&&(i=new l.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var M=0,E=x.length;M<E;M++){var C=x[M];if(i.setX(C,A[M*s]),s>=2&&i.setY(C,A[M*s+1]),s>=3&&i.setZ(C,A[M*s+2]),s>=4&&i.setW(C,A[M*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],a=t.images[r.source],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,a,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,i=this.options,o=a.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];var u=self.URL||self.webkitURL,c=t.uri||"",f=!1,d=!0,h=c.search(/\.jpe?g($|\?)/i)>0||0===c.search(/^data\:image\/jpeg/);if(("image/jpeg"===t.mimeType||h)&&(d=!1),void 0!==t.bufferView)c=r.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);d=6===n||4===n||3===n}f=!0;var r=new Blob([e],{type:t.mimeType});return c=u.createObjectURL(r)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var p=Promise.resolve(c).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){var n=new l.Texture(e);n.needsUpdate=!0,t(n)}),n.load(Q(e,i.path),a,void 0,r)}))})).then((function(t){!0===f&&u.revokeObjectURL(c),t.flipY=!1,o.name&&(t.name=o.name),d||(t.format=l.RGBFormat);var n=(a.samplers||{})[o.sampler]||{};return t.magFilter=z[n.magFilter]||l.LinearFilter,t.minFilter=z[n.minFilter]||l.LinearMipmapLinearFilter,t.wrapS=U[n.wrapS]||l.RepeatWrapping,t.wrapT=U[n.wrapT]||l.RepeatWrapping,r.associations.set(t,{type:"textures",index:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=p,p}},{key:"assignTexture",value:function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[h.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[h.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var o=r.associations.get(a);a=r.extensions[h.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),r.associations.set(a,o)}}e[t]=a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal,o=Object.keys(t.morphAttributes).length>0,s=o&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,c=this.cache.get(u);c||(c=new l.PointsMaterial,l.Material.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(u,c)),n=c}else if(e.isLine){var f="LineBasicMaterial:"+n.uuid,d=this.cache.get(f);d||(d=new l.LineBasicMaterial,l.Material.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(f,d)),n=d}if(r||a||i||o){var h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),r&&(h+="vertex-tangents:"),a&&(h+="vertex-colors:"),i&&(h+="flat-shading:"),o&&(h+="morph-targets:"),s&&(h+="morph-normals:");var p=this.cache.get(h);p||(p=n.clone(),a&&(p.vertexColors=!0),i&&(p.flatShading=!0),o&&(p.morphTargets=!0),s&&(p.morphNormals=!0),r&&(p.vertexTangents=!0,p.normalScale&&(p.normalScale.y*=-1),p.clearcoatNormalScale&&(p.clearcoatNormalScale.y*=-1)),this.cache.add(h,p),this.associations.set(p,this.associations.get(n))),n=p}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return l.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,i=r.materials[e],o={},s=i.extensions||{},u=[];if(s[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(o,i,n))}else if(s[h.KHR_MATERIALS_UNLIT]){var f=a[h.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),u.push(f.extendParams(o,i,n))}else{var d=i.pbrMetallicRoughness||{};if(o.color=new l.Color(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var p=d.baseColorFactor;o.color.fromArray(p),o.opacity=p[3]}void 0!==d.baseColorTexture&&u.push(n.assignTexture(o,"map",d.baseColorTexture)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=l.DoubleSide);var m=i.alphaMode||W;return m===q?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,m===X&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new l.Vector2(1,-1),void 0!==i.normalTexture.scale&&o.normalScale.set(i.normalTexture.scale,-i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==l.MeshBasicMaterial&&(o.emissive=(new l.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==l.MeshBasicMaterial&&u.push(n.assignTexture(o,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){var r;return r=t===S?a[h.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),i.name&&(r.name=i.name),r.map&&(r.map.encoding=l.sRGBEncoding),r.emissiveMap&&(r.emissiveMap.encoding=l.sRGBEncoding),J(r,i),n.associations.set(r,{type:"materials",index:e}),i.extensions&&Y(a,r,i),r}))}},{key:"createUniqueName",value:function(e){for(var t=l.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[h.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return re(n,e,t)}))}for(var i=[],o=0,s=e.length;o<s;o++){var u=e[o],c=Z(u),f=r[c];if(f)i.push(f.promise);else{var d=void 0;d=u.extensions&&u.extensions[h.KHR_DRACO_MESH_COMPRESSION]?a(u):re(new l.BufferGeometry,u,t),r[c]={primitive:u,promise:d},i.push(d)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,a=this.extensions,i=r.meshes[e],o=i.primitives,s=[],u=0,c=o.length;u<c;u++){var f=void 0===o[u].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new l.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[u].material);s.push(f)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],u=[],c=0,f=s.length;c<f;c++){var d=s[c],h=o[c],p=void 0,m=r[c];if(h.mode===j||h.mode===F||h.mode===R||void 0===h.mode)!0!==(p=!0===i.isSkinnedMesh?new l.SkinnedMesh(d,m):new l.Mesh(d,m)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),h.mode===F?p.geometry=ae(p.geometry,l.TriangleStripDrawMode):h.mode===R&&(p.geometry=ae(p.geometry,l.TriangleFanDrawMode));else if(h.mode===P)p=new l.LineSegments(d,m);else if(h.mode===D)p=new l.Line(d,m);else if(h.mode===L)p=new l.LineLoop(d,m);else{if(h.mode!==B)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new l.Points(d,m)}Object.keys(p.geometry.morphAttributes).length>0&&K(p,i),p.name=n.createUniqueName(i.name||"mesh_"+e),J(p,i),h.extensions&&Y(a,p,h),n.assignFinalMaterial(p),u.push(p)}if(1===u.length)return u[0];for(var v=new l.Group,g=0,y=u.length;g<y;g++)v.add(u[g]);return v}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new l.PerspectiveCamera(l.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new l.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),J(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],o=[],s=0,u=t.channels.length;s<u;s++){var c=t.channels[s],f=t.samplers[c.sampler],d=c.target,h=void 0!==d.node?d.node:d.id,p=void 0!==t.parameters?t.parameters[f.input]:f.input,m=void 0!==t.parameters?t.parameters[f.output]:f.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",m)),i.push(f),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(o)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=[],c=function(e,t){var n=r[e],c=a[e],f=i[e],d=o[e],h=s[e];if(void 0===n)return"continue";n.updateMatrix(),n.matrixAutoUpdate=!0;var p=void 0;switch(H[h.path]){case H.weights:p=l.NumberKeyframeTrack;break;case H.rotation:p=l.QuaternionKeyframeTrack;break;default:p=l.VectorKeyframeTrack}var m=n.name?n.name:n.uuid,v=void 0!==d.interpolation?V[d.interpolation]:l.InterpolateLinear,g=[];H[h.path]===H.weights?n.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(m);var y=f.array;if(f.normalized){for(var b=ee(y.constructor),_=new Float32Array(y.length),w=0,x=y.length;w<x;w++)_[w]=y[w]*b;y=_}for(var A=0,M=g.length;A<M;A++){var E=new p(g[A]+"."+H[h.path],c.array,y,v);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new k(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(E)}},f=0,d=r.length;f<d;f++)c(f);var h=t.name?t.name:"animation_"+e;return new l.AnimationClip(h,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],i=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===a.isBone?new l.Bone:t.length>1?new l.Group:1===t.length?t[0]:new l.Object3D)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(a.name&&(o.userData.name=a.name,o.name=i),J(o,a),a.extensions&&Y(n,o,a),void 0!==a.matrix){var c=new l.Matrix4;c.fromArray(a.matrix),o.applyMatrix4(c)}else void 0!==a.translation&&o.position.fromArray(a.translation),void 0!==a.rotation&&o.quaternion.fromArray(a.rotation),void 0!==a.scale&&o.scale.fromArray(a.scale);return r.associations.set(o,{type:"nodes",index:e}),o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=new l.Group;r.name&&(a.name=this.createUniqueName(r.name)),J(a,r),r.extensions&&Y(n,a,r);for(var i=r.nodes||[],o=[],s=0,u=i.length;s<u;s++)o.push(ne(i[s],a,t,this));return Promise.all(o).then((function(){return a}))}}]),e}();function ne(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,o=n.length;i<o;i++){var s=n[i];if(s){r.push(s);var u=new l.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*i),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new l.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,u=o.length;s<u;s++){var c=o[s];i.push(ne(c,e,n,r))}return Promise.all(i)}))}function re(e,t,n){var r=t.attributes,a=[];function i(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=G[o]||o.toLowerCase();s in e.attributes||a.push(i(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(u)}return J(e,t),function(e,t,n){var r=t.attributes,a=new l.Box3;if(void 0!==r.POSITION){var i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(a.set(new l.Vector3(o[0],o[1],o[2]),new l.Vector3(s[0],s[1],s[2])),i.normalized){var u=ee(I[i.componentType]);a.min.multiplyScalar(u),a.max.multiplyScalar(u)}var c=t.targets;if(void 0!==c){for(var f=new l.Vector3,d=new l.Vector3,h=0,p=c.length;h<p;h++){var m=c[h];if(void 0!==m.POSITION){var v=n.json.accessors[m.POSITION],g=v.min,y=v.max;if(void 0!==g&&void 0!==y){if(d.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),d.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),d.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),v.normalized){var b=ee(I[v.componentType]);d.multiplyScalar(b)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(f)}e.boundingBox=a;var _=new l.Sphere;a.getCenter(_.center),_.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=_}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=0,o=t.length;i<o;i++){var s=t[i];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(!r&&!a)return Promise.resolve(e);for(var u=[],c=[],l=0,f=t.length;l<f;l++){var d=t[l];if(r){var h=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION):e.attributes.position;u.push(h)}if(a){var p=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL):e.attributes.normal;c.push(p)}}return Promise.all([Promise.all(u),Promise.all(c)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function ae(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===l.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<o;c++)c%2===0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(s),f}},function(e,t,n){"use strict";var r=n(58),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:_.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case i:u=!0}}if(u)return o=o(u=e),e=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+C(s,c++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],a=0;return S(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var k={current:null};function B(){var e=k.current;if(null===e)throw Error(h(321));return e}var P={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),a=n(58),i=n(46);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(m,e)||!h.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,A=60106,M=60107,E=60108,C=60114,S=60109,O=60110,T=60112,k=60113,B=60120,P=60115,L=60116,D=60121,j=60128,F=60129,R=60130,I=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),A=z("react.portal"),M=z("react.fragment"),E=z("react.strict_mode"),C=z("react.profiler"),S=z("react.provider"),O=z("react.context"),T=z("react.forward_ref"),k=z("react.suspense"),B=z("react.suspense_list"),P=z("react.memo"),L=z("react.lazy"),D=z("react.block"),z("react.scope"),j=z("react.opaque.id"),F=z("react.debug_trace_mode"),R=z("react.offscreen"),I=z("react.legacy_hidden")}var U,N="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}function H(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var V=!1;function W(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function X(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case A:return"Portal";case C:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return q(e.type);case D:return q(e._render);case L:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ae=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Oe=null,Te=null;function ke(e){if(e=ra(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ia(t),Se(e.stateNode,e.type,t))}}function Be(e){Oe?Te?Te.push(e):Te=[e]:Oe=e}function Pe(){if(Oe){var e=Oe,t=Te;if(Te=Oe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Le(e,t){return e(t)}function De(e,t,n,r,a){return e(t,n,r,a)}function je(){}var Fe=Le,Re=!1,Ie=!1;function ze(){null===Oe&&null===Te||(je(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ia(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(f)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(ve){Ne=!1}function He(e,t,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ve=!1,We=null,Xe=!1,qe=null,Qe={onError:function(e){Ve=!0,We=e}};function Ye(e,t,n,r,a,i,o,s,u){Ve=!1,We=null,He.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ze(a),e;if(i===r)return Ze(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,it=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=na(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_t)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function At(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:At("Animation","AnimationEnd"),animationiteration:At("Animation","AnimationIteration"),animationstart:At("Animation","AnimationStart"),transitionend:At("Transition","TransitionEnd")},Et={},Ct={};function St(e){if(Et[e])return Et[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return Et[e]=n[t];return e}f&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var Ot=St("animationend"),Tt=St("animationiteration"),kt=St("animationstart"),Bt=St("transitionend"),Pt=new Map,Lt=new Map,Dt=["abort","abort",Ot,"animationEnd",Tt,"animationIteration",kt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Bt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Lt.set(r,t),Pt.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Ft=8;function Rt(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,a=Ft=15;else if(0!==(i=134217727&n)){var u=i&~o;0!==u?(r=Rt(u),a=Ft):0!==(s&=i)&&(r=Rt(s),a=Ft)}else 0!==(i=n&~o)?(r=Rt(i),a=Ft):0!==s&&(r=Rt(s),a=Ft);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Rt(t),a<=Ft)return t;Ft=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Vt(t)),r|=e[n],t&=~a;return r}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Nt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Nt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Nt(3584&~t))&&(0===(e=Nt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Nt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Nt(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Xt|0)|0},Wt=Math.log,Xt=Math.LN2;var qt=i.unstable_UserBlockingPriority,Qt=i.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Re||je();var a=Zt,i=Re;Re=!0;try{De(a,e,t,n,r)}finally{(Re=i)||ze()}}function Kt(e,t,n,r){Qt(qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var a;if(Yt)if((a=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var i=$t(e,t,n,r);if(null===i)a&&mt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void ot.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return st=vt(st,e,t,n,r,a),!0;case"dragenter":return ut=vt(ut,e,t,n,r,a),!0;case"mouseover":return ct=vt(ct,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,vt(lt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ft.set(i,vt(ft.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;mt(e,r)}jr(e,t,r,null,n)}}}function $t(e,t,n,r){var a=Ce(r);if(null!==(a=na(a))){var i=Je(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Ke(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return jr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=a({},dn,{view:0,detail:0}),mn=un(pn),vn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(a({},vn,{dataTransfer:0})),bn=un(a({},pn,{relatedTarget:0})),_n=un(a({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=a({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),An=un(a({},dn,{data:0})),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function On(){return Sn}var Tn=a({},pn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=un(Tn),Bn=un(a({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Ln=un(a({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=a({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Dn),Fn=[9,13,27,32],Rn=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var zn=f&&"TextEvent"in window&&!In,Un=f&&(!Rn||In&&8<In&&11>=In),Nn=String.fromCharCode(32),Gn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function Qn(e,t,n,r){Be(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Kn(e){Tr(e,0)}function Zn(e){if(K(aa(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){Yn&&(Yn.detachEvent("onpropertychange",ir),Jn=Yn=null)}function ir(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Qn(t,Jn,e,Ce(e)),e=Kn,Re)e(t);else{Re=!0;try{Le(e,t)}finally{Re=!1,ze()}}}}function or(e,t,n){"focusin"===e?(ar(),Jn=n,(Yn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&ar()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,xr=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==br||br!==Z(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Rr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var Mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Mr.length;Er++)Lt.set(Mr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,c){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var l=We;Ve=!1,We=null,Xe||(Xe=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;Or(a,s,c),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;Or(a,s,c),i=u}}}if(Xe)throw e=qe,Xe=!1,qe=null,e}function kr(e,t){var n=oa(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Br="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Br]||(e[Br]=!0,s.forEach((function(t){Sr.has(t)||Lr(t,!1,e,null),Lr(t,!0,e,null)})))}function Lr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=oa(i),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(a|=4),Dr(i,e,a,t),o.add(s))}function Dr(e,t,n,r){var a=Lt.get(t);switch(void 0===a?2:a){case 0:a=Jt;break;case 1:a=Kt;break;default:a=Zt}n=a.bind(null,t,n,e),a=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=na(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e(t,n);Ie=!0;try{Fe(e,t,n)}finally{Ie=!1,ze()}}((function(){var r=i,a=Ce(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ot:case Tt:case kt:u=_n;break;case Bt:u=Ln;break;case"scroll":u=mn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Bn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Ue(p,d))&&l.push(Fr(p,m,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!na(c)&&!c[ea])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?na(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Bn,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:aa(u),h=null==c?s:aa(c),(s=new l(m,p+"leave",u,n,a)).target=f,s.relatedTarget=h,m=null,na(a)===r&&((l=new l(d,p+"enter",c,n,a)).target=h,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Ir(h))p++;for(h=0,m=d;m;m=Ir(m))h++;for(;0<p-h;)l=Ir(l),p--;for(;0<h-p;)d=Ir(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Ir(l),d=Ir(d)}l=null}else l=null;null!==u&&zr(o,s,u,l,!1),null!==c&&null!==f&&zr(o,f,c,l,!0)}if("select"===(u=(s=r?aa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(qn(s))if(er)v=cr;else{v=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Qn(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=r?aa(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(br=g,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Ar(o,n,a);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Ar(o,n,a)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=a)?en.value:en.textContent,Wn=!0)),0<(g=Rr(r,b)).length&&(b=new An(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Rn&&Hn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(a=new An("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Tr(o,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ue(e,n))&&r.unshift(Fr(e,i,a)),null!=(i=Ue(e,t))&&r.push(Fr(e,i,a))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Ue(n,i))&&o.unshift(Fr(n,u,s)):a||null!=(u=Ue(n,i))&&o.push(Fr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Nr=null,Gr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Xr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Kr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Kr,$r="__reactProps$"+Kr,ea="__reactContainer$"+Kr,ta="__reactEvents$"+Kr;function na(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[Zr]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ia(e){return e[$r]||null}function oa(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ua=-1;function ca(e){return{current:e}}function la(e){0>ua||(e.current=sa[ua],sa[ua]=null,ua--)}function fa(e,t){ua++,sa[ua]=e.current,e.current=t}var da={},ha=ca(da),pa=ca(!1),ma=da;function va(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ya(){la(pa),la(ha)}function ba(e,t,n){if(ha.current!==da)throw Error(o(168));fa(ha,t),fa(pa,n)}function _a(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,q(t)||"Unknown",i));return a({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,ma=ha.current,fa(ha,e),fa(pa,pa.current),!0}function xa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=_a(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,la(pa),la(ha),fa(ha,e)):la(pa),fa(pa,n)}var Aa=null,Ma=null,Ea=i.unstable_runWithPriority,Ca=i.unstable_scheduleCallback,Sa=i.unstable_cancelCallback,Oa=i.unstable_shouldYield,Ta=i.unstable_requestPaint,ka=i.unstable_now,Ba=i.unstable_getCurrentPriorityLevel,Pa=i.unstable_ImmediatePriority,La=i.unstable_UserBlockingPriority,Da=i.unstable_NormalPriority,ja=i.unstable_LowPriority,Fa=i.unstable_IdlePriority,Ra={},Ia=void 0!==Ta?Ta:function(){},za=null,Ua=null,Na=!1,Ga=ka(),Ha=1e4>Ga?ka:function(){return ka()-Ga};function Va(){switch(Ba()){case Pa:return 99;case La:return 98;case Da:return 97;case ja:return 96;case Fa:return 95;default:throw Error(o(332))}}function Wa(e){switch(e){case 99:return Pa;case 98:return La;case 97:return Da;case 96:return ja;case 95:return Fa;default:throw Error(o(332))}}function Xa(e,t){return e=Wa(e),Ea(e,t)}function qa(e,t,n){return e=Wa(e),Ca(e,t,n)}function Qa(){if(null!==Ua){var e=Ua;Ua=null,Sa(e)}Ya()}function Ya(){if(!Na&&null!==za){Na=!0;var e=0;try{var t=za;Xa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),za=null}catch(n){throw null!==za&&(za=za.slice(e+1)),Ca(Pa,Qa),n}finally{Na=!1}}}var Ja=w.ReactCurrentBatchConfig;function Ka(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Za=ca(null),$a=null,ei=null,ti=null;function ni(){ti=ei=$a=null}function ri(e){var t=Za.current;la(Za),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ii(e,t){$a=e,ti=ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ro=!0),e.firstContext=null)}function oi(e,t){if(ti!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ti=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ei){if(null===$a)throw Error(o(308));ei=t,$a.dependencies={lanes:0,firstContext:t,responders:null}}else ei=ei.next=t;return e._currentValue}var si=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function di(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var i=e.updateQueue;si=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,s=0,f=l=c=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(h,d,u):p)||void 0===u)break e;d=a({},d,u);break e;case 2:si=!0}}null!==o.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Ns|=s,e.lanes=s,e.memoizedState=d}}function pi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var mi=(new r.Component).refs;function vi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),a=hu(e),i=li(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),a=hu(e),i=li(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),fi(e,i),pu(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),a=li(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),fi(e,a),pu(e,r,n)}};function yi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(a,i))}function bi(e,t,n){var r=!1,a=da,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(a=ga(t)?ma:ha.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?va(e,a):da),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _i(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=mi,ui(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=oi(i):(i=ga(t)?ma:ha.current,a.context=va(e,i)),hi(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(vi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&gi.enqueueReplaceState(a,a.state,null),hi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var xi=Array.isArray;function Ai(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===mi&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Mi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ei(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Xu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Ai(e,t,n),r.return=e,r):((r=qu(n.type,n.key,n.props,null,e.mode,r)).ref=Ai(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=qu(t.type,t.key,t.props,null,e.mode,n)).ref=Ai(e,null,t),n.return=e,n;case A:return(t=Ku(t,e.mode,n)).return=e,t}if(xi(t)||G(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Mi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?n.type===M?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case A:return n.key===a?l(e,t,n,r):null}if(xi(n)||G(n))return null!==a?null:f(e,t,n,r,null);Mi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===M?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case A:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(xi(r)||G(r))return f(t,e=e.get(n)||null,r,a,null);Mi(t,r)}return null}function m(a,o,s,u){for(var c=null,l=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(a,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,m),null===l?c=g:l.sibling=g,l=g,f=v}if(m===s.length)return n(a,f),c;if(null===f){for(;m<s.length;m++)null!==(f=d(a,s[m],u))&&(o=i(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);m<s.length;m++)null!==(v=p(f,a,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=i(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(a,e)})),c}function v(a,s,u,c){var l=G(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(a,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,v),null===f?l=b:f.sibling=b,f=b,m=g}if(y.done)return n(a,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=d(a,y.value,c))&&(s=i(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(m=r(a,m);!y.done;v++,y=u.next())null!==(y=p(m,a,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=i(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(a,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===M&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case x:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===M){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=Ai(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===M?((r=Qu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=qu(i.type,i.key,i.props,null,e.mode,u)).ref=Ai(e,r,i),u.return=e,e=u)}return s(e);case A:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Ju(i,e.mode,u)).return=e,e=r),s(e);if(xi(i))return m(e,r,i,u);if(G(i))return v(e,r,i,u);if(l&&Mi(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,q(e.type)||"Component"))}return n(e,r)}}var Ci=Ei(!0),Si=Ei(!1),Oi={},Ti=ca(Oi),ki=ca(Oi),Bi=ca(Oi);function Pi(e){if(e===Oi)throw Error(o(174));return e}function Li(e,t){switch(fa(Bi,t),fa(ki,e),fa(Ti,Oi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}la(Ti),fa(Ti,t)}function Di(){la(Ti),la(ki),la(Bi)}function ji(e){Pi(Bi.current);var t=Pi(Ti.current),n=pe(t,e.type);t!==n&&(fa(ki,e),fa(Ti,n))}function Fi(e){ki.current===e&&(la(Ti),la(ki))}var Ri=ca(0);function Ii(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=null,Ui=null,Ni=!1;function Gi(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Hi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vi(e){if(Ni){var t=Ui;if(t){var n=t;if(!Hi(e,t)){if(!(t=Qr(n.nextSibling))||!Hi(e,t))return e.flags=-1025&e.flags|2,Ni=!1,void(zi=e);Gi(zi,n)}zi=e,Ui=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ni=!1,zi=e}}function Wi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function Xi(e){if(e!==zi)return!1;if(!Ni)return Wi(e),Ni=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Ui;t;)Gi(e,t),t=Qr(t.nextSibling);if(Wi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ui=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ui=null}}else Ui=zi?Qr(e.stateNode.nextSibling):null;return!0}function qi(){Ui=zi=null,Ni=!1}var Qi=[];function Yi(){for(var e=0;e<Qi.length;e++)Qi[e]._workInProgressVersionPrimary=null;Qi.length=0}var Ji=w.ReactCurrentDispatcher,Ki=w.ReactCurrentBatchConfig,Zi=0,$i=null,eo=null,to=null,no=!1,ro=!1;function ao(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,a,i){if(Zi=i,$i=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ji.current=null===e||null===e.memoizedState?Lo:Do,e=n(r,a),ro){i=0;do{if(ro=!1,!(25>i))throw Error(o(301));i+=1,to=eo=null,t.updateQueue=null,Ji.current=jo,e=n(r,a)}while(ro)}if(Ji.current=Po,t=null!==eo&&null!==eo.next,Zi=0,to=eo=$i=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$i.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$i.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$i.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$i.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=i=null,c=a;do{var l=c.lane;if((Zi&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,$i.lanes|=l,Ns|=l}c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=s,lr(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);lr(i,t.memoizedState)||(Ro=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Zi&e)===e)&&(t._workInProgressVersionPrimary=r,Qi.push(t))),e)return n(t._source);throw Qi.push(t),Error(o(350))}function po(e,t,n,r){var a=Ls;if(null===a)throw Error(o(349));var i=t._getVersion,s=i(t._source),u=Ji.current,c=u.useState((function(){return ho(a,t,n)})),l=c[1],f=c[0];c=to;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,m=d.source;d=d.subscribe;var v=$i;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=hu(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var u=31-Vt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(v);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Bo.bind(null,$i,e),c.queue=e,c.baseQueue=null,f=ho(a,t,n),c.memoizedState=c.baseState=f),f}function mo(e,t,n){return po(uo(),e,t,n)}function vo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Bo.bind(null,$i,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$i.updateQueue)?(t={lastEffect:null},$i.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function bo(){return uo().memoizedState}function _o(e,t,n,r){var a=so();$i.flags|=e,a.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var a=uo();r=void 0===r?null:r;var i=void 0;if(null!==eo){var o=eo.memoizedState;if(i=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,i,r)}$i.flags|=e,a.memoizedState=go(1|t,n,i,r)}function xo(e,t){return _o(516,4,e,t)}function Ao(e,t){return wo(516,4,e,t)}function Mo(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function So(){}function Oo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ko(e,t){var n=Va();Xa(98>n?98:n,(function(){e(!0)})),Xa(97<n?97:n,(function(){var n=Ki.transition;Ki.transition=1;try{e(!1),t()}finally{Ki.transition=n}}))}function Bo(e,t,n){var r=du(),a=hu(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===$i||null!==o&&o===$i)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,lr(u,s))return}catch(c){}pu(e,a,r)}}var Po={readContext:oi,useCallback:ao,useContext:ao,useEffect:ao,useImperativeHandle:ao,useLayoutEffect:ao,useMemo:ao,useReducer:ao,useRef:ao,useState:ao,useDebugValue:ao,useDeferredValue:ao,useTransition:ao,useMutableSource:ao,useOpaqueIdentifier:ao,unstable_isNewReconciler:!1},Lo={readContext:oi,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oi,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Bo.bind(null,$i,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:So,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return xo((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=ko.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ni){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&$i.mode)&&($i.flags|=516,go(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oi,useCallback:Oo,useContext:oi,useEffect:Ao,useImperativeHandle:Co,useLayoutEffect:Mo,useMemo:To,useReducer:lo,useRef:bo,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Ao((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[bo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},jo={readContext:oi,useCallback:Oo,useContext:oi,useEffect:Ao,useImperativeHandle:Co,useLayoutEffect:Mo,useMemo:To,useReducer:fo,useRef:bo,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Ao((function(){var t=Ki.transition;Ki.transition=1;try{r(e)}finally{Ki.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[bo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Fo=w.ReactCurrentOwner,Ro=!1;function Io(e,t,n,r){t.child=null===e?Si(t,null,n,r):Ci(t,e.child,n,r)}function zo(e,t,n,r,a){n=n.render;var i=t.ref;return ii(t,a),r=oo(e,t,n,r,i,a),null===e||Ro?(t.flags|=1,Io(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Uo(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,No(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Xu(o,r)).ref=t.ref,e.return=t,t.child=e)}function No(e,t,n,r,a,i){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ro=!1,0===(i&a))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(Ro=!0)}return Vo(e,t,n,r,i)}function Go(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Io(e,t,a,n),t.child}function Ho(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vo(e,t,n,r,a){var i=ga(n)?ma:ha.current;return i=va(t,i),ii(t,a),n=oo(e,t,n,r,i,a),null===e||Ro?(t.flags|=1,Io(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Wo(e,t,n,r,a){if(ga(n)){var i=!0;wa(t)}else i=!1;if(ii(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bi(t,n,r),wi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oi(c):c=va(t,c=ga(n)?ma:ha.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&_i(t,o,r,c),si=!1;var d=t.memoizedState;o.state=d,hi(t,r,o,a),u=t.memoizedState,s!==r||d!==u||pa.current||si?("function"===typeof l&&(vi(t,n,l,r),u=t.memoizedState),(s=si||yi(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ci(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ka(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oi(u):u=va(t,u=ga(n)?ma:ha.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&_i(t,o,r,u),si=!1,d=t.memoizedState,o.state=d,hi(t,r,o,a);var p=t.memoizedState;s!==f||d!==p||pa.current||si?("function"===typeof h&&(vi(t,n,h,r),p=t.memoizedState),(c=si||yi(t,n,c,r,d,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Xo(e,t,n,r,i,a)}function Xo(e,t,n,r,a,i){Ho(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&xa(t,n,!1),is(e,t,i);r=t.stateNode,Fo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):Io(e,t,s,i),t.memoizedState=r.state,a&&xa(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Li(e,t.containerInfo)}var Qo,Yo,Jo,Ko={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,a=t.pendingProps,i=Ri.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),fa(Ri,1&i),null===e?(void 0!==a.fallback&&Vi(t),e=a.children,i=a.fallback,o?(e=$o(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,e):"number"===typeof a.unstable_expectedLoadTime?(e=$o(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ko,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=ts(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Ko,a):(n=es(e,t,a.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Yu(t,a,0,null),n=Qu(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function es(e,t,n,r){var a=e.child;return e=a.sibling,n=Xu(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Xu(o,s),null!==e?r=Xu(e,r):(r=Qu(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ai(e.return,t)}function rs(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function as(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Io(e,t,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fa(Ri,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ii(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rs(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ii(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ns|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Xu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ni)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ya(),null;case 3:return Di(),la(pa),la(ha),Yi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fi(t);var i=Pi(Bi.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pi(Ti.current),Xi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)kr(Cr[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ue(r,s),kr("invalid",r)}for(var c in Me(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":kr("cancel",e),kr("close",e),i=r;break;case"iframe":case"object":case"embed":kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cr.length;i++)kr(Cr[i],e);i=r;break;case"source":kr("error",e),i=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),i=r;break;case"details":kr("toggle",e),i=r;break;case"input":ee(e,r),i=$(e,r),kr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),kr("invalid",e);break;default:i=r}Me(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&kr("scroll",e):null!=f&&_(e,s,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Ur)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pi(Bi.current),Pi(Ti.current),Xi(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return la(Ri),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ri.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Ls||0===(134217727&Ns)&&0===(134217727&Gs)||yu(Ls,js))),(r||n)&&(t.flags|=4),null);case 4:return Di(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ri(t),null;case 19:if(la(Ri),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Is||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ii(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fa(Ri,1&Ri.current|2),t.child}e=e.sibling}null!==r.tail&&Ha()>Xs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ii(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ni)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ha()-r.renderingStartTime>Xs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ha(),n.sibling=null,t=Ri.current,fa(Ri,s?1&t|2:1&t),n):null;case 23:case 24:return Au(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:ga(e.type)&&ya();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Di(),la(pa),la(ha),Yi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Fi(e),null;case 13:return la(Ri),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return la(Ri),null;case 4:return Di(),null;case 10:return ri(e),null;case 23:case 24:return Au(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Pi(Ti.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Me(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&kr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Ks=r),ls(0,t)},n}function hs(e,t,n){(n=li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ls(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ka(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ru(n,e),Fu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ka(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ma&&"function"===typeof Ma.onCommitFiberUnmount)try{Ma.onCommitFiberUnmount(Aa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ru(t,n);else{r=t;try{a()}catch(i){Uu(r,i)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Uu(t,i)}break;case 5:ms(t);break;case 4:Es(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?As(e,n,t):Ms(e,n,t)}function As(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(As(e,t,n),e=e.sibling;null!==e;)As(e,t,n),e=e.sibling}function Ms(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(bs(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,a),t=Ee(e,r),a=0;a<i.length;a+=2){var s=i[a],u=i[a+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Ha(),ys(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,ks=w.ReactCurrentDispatcher,Bs=w.ReactCurrentOwner,Ps=0,Ls=null,Ds=null,js=0,Fs=0,Rs=ca(0),Is=0,zs=null,Us=0,Ns=0,Gs=0,Hs=0,Vs=null,Ws=0,Xs=1/0;function qs(){Xs=Ha()+500}var Qs,Ys=null,Js=!1,Ks=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],au=null,iu=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Ps)?Ha():-1!==su?su:su=Ha()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Va()?1:2;if(0===uu&&(uu=Us),0!==Ja.transition){0!==cu&&(cu=null!==Vs?Vs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Va(),0!==(4&Ps)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<iu)throw iu=0,ou=null,Error(o(185));if(null===(e=mu(e,t)))return null;Ht(e,t,n),e===Ls&&(Gs|=t,4===Is&&yu(e,js));var r=Va();1===t?0!==(8&Ps)&&0===(48&Ps)?bu(e):(vu(e,n),0===Ps&&(qs(),Qa())):(0===(4&Ps)||98!==r&&99!==r||(null===au?au=new Set([e]):au.add(e)),vu(e,n)),Vs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Rt(c);var f=Ft;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=It(e,e===Ls?js:0),t=Ft,0===r)null!==n&&(n!==Ra&&Sa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ra&&Sa(n)}15===t?(n=bu.bind(null,e),null===za?(za=[n],Ua=Ca(Pa,Ya)):za.push(n),n=Ra):14===t?n=qa(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=qa(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=It(e,e===Ls?js:0);if(0===n)return null;var r=n,a=Ps;Ps|=16;var i=Cu();for(Ls===e&&js===r||(qs(),Mu(e,r));;)try{Tu();break}catch(u){Eu(e,u)}if(ni(),ks.current=i,Ps=a,null!==Ds?r=0:(Ls=null,js=0,r=Is),0!==(Us&Gs))Mu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=zt(e))&&(r=Su(e,n))),1===r)throw t=zs,Mu(e,0),yu(e,n),vu(e,Ha()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Ha())){if(0!==It(e,0))break;if(((a=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Vt(n);i=1<<s,(s=r[s])>a&&(a=s),n&=~i}if(n=a,10<(n=(120>(n=Ha()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return vu(e,Ha()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Hs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ps))throw Error(o(327));if(ju(),e===Ls&&0!==(e.expiredLanes&js)){var t=js,n=Su(e,t);0!==(Us&Gs)&&(n=Su(e,t=It(e,t)))}else n=Su(e,t=It(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=zt(e))&&(n=Su(e,t))),1===n)throw n=zs,Mu(e,0),yu(e,t),vu(e,Ha()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),vu(e,Ha()),null}function _u(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(qs(),Qa())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(qs(),Qa())}}function xu(e,t){fa(Rs,Fs),Fs|=t,Us|=t}function Au(){Fs=Rs.current,la(Rs)}function Mu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ya();break;case 3:Di(),la(pa),la(ha),Yi();break;case 5:Fi(r);break;case 4:Di();break;case 13:case 19:la(Ri);break;case 10:ri(r);break;case 23:case 24:Au()}n=n.return}Ls=e,Ds=Xu(e.current,null),js=Fs=Us=t,Is=0,zs=null,Hs=Gs=Ns=0}function Eu(e,t){for(;;){var n=Ds;try{if(ni(),Ji.current=Po,no){for(var r=$i.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}no=!1}if(Zi=0,to=eo=$i=null,ro=!1,Bs.current=null,null===n||null===n.return){Is=1,zs=t,Ds=null;break}e:{var i=e,o=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ri.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var g=new Set;g.add(c),d.updateQueue=g}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=li(-1,1);y.tag=2,fi(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Nu.bind(null,i,c,s);c.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),u=cs(u,s),d=o;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,di(d,ds(0,i,t));break e;case 1:i=u;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zs||!Zs.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,di(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Bu(n)}catch(A){t=A,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Cu(){var e=ks.current;return ks.current=Po,null===e?Po:e}function Su(e,t){var n=Ps;Ps|=16;var r=Cu();for(Ls===e&&js===t||Mu(e,t);;)try{Ou();break}catch(a){Eu(e,a)}if(ni(),Ps=n,ks.current=r,null!==Ds)throw Error(o(261));return Ls=null,js=0,Is}function Ou(){for(;null!==Ds;)ku(Ds)}function Tu(){for(;null!==Ds&&!Oa();)ku(Ds)}function ku(e){var t=Qs(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Bu(e):Ds=t,Bs.current=null}function Bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Fs)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fs)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Is&&(Is=5)}function Pu(e){var t=Va();return Xa(99,Lu.bind(null,e,t)),null}function Lu(e,t){do{ju()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Vt(i),l=1<<c;a[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==au&&0===(24&r)&&au.has(e)&&au.delete(e),e===Ls&&(Ds=Ls=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ps,Ps|=32,Bs.current=null,Nr=Yt,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var f=0,d=-1,h=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==i&&3!==v.nodeType||(d=f+i),v!==c||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===i&&(d=f),g===c&&++m===l&&(h=f),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Gr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ye(Ys.stateNode,""),128&b){var _=Ys.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Cs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Cs(Ys.alternate,Ys);break;case 4:Cs(Ys.alternate,Ys);break;case 8:Es(s,u=Ys);var x=u.alternate;_s(u),null!==x&&_s(x)}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Gr,_=vr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(b,x),i=pr(b,s),u&&i&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(_),w.extend(i.node,i.offset)):(_.setEnd(i.node,i.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Nr,Gr=Nr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var A=Ys.flags;if(36&A&&gs(b,Ys.alternate,Ys),128&A){_=void 0;var M=Ys.ref;if(null!==M){var E=Ys.stateNode;Ys.tag,_=E,"function"===typeof M?M(_):M.current=_}}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Uu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ia(),Ps=a}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((A=Ys).sibling=null,A.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?iu++:(iu=0,ou=e):iu=0,n=n.stateNode,Ma&&"function"===typeof Ma.onCommitFiberRoot)try{Ma.onCommitFiberRoot(Aa,n,void 0,64===(64&n.current.flags))}catch(C){}if(vu(e,Ha()),Js)throw Js=!1,e=Ks,Ks=null,e;return 0!==(8&Ps)||Qa(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Os(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&vs(e,Ys),0===(512&t)||$s||($s=!0,qa(97,(function(){return ju(),null}))),Ys=Ys.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Xa(e,Iu)}return!1}function Fu(e,t){nu.push(t,e),$s||($s=!0,qa(97,(function(){return ju(),null})))}function Ru(e,t){ru.push(t,e),$s||($s=!0,qa(97,(function(){return ju(),null})))}function Iu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(o(330));Uu(i,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===i)throw Error(o(330));Uu(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qa(),!0}function zu(e,t,n){fi(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=mu(e,1))&&(Ht(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)zu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var a=hs(n,e=cs(t,e),1);if(fi(n,a),a=du(),null!==(n=mu(n,1)))Ht(n,1,a),vu(n,a);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(js&n)===n&&(4===Is||3===Is&&(62914560&js)===js&&500>Ha()-Ws?Mu(e,0):Hs|=n),vu(e,t)}function Gu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Va()?1:2:(0===uu&&(uu=Us),0===(t=Nt(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=mu(e,t))&&(Ht(e,t,n),vu(e,n))}function Hu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,r){return new Hu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case M:return Qu(n.children,a,i,t);case F:s=8,a|=16;break;case E:s=8,a|=1;break;case C:return(e=Vu(12,n,t,8|a)).elementType=C,e.type=C,e.lanes=i,e;case k:return(e=Vu(13,n,t,a)).type=k,e.elementType=k,e.lanes=i,e;case B:return(e=Vu(19,n,t,a)).elementType=B,e.lanes=i,e;case R:return Yu(n,a,i,t);case I:return(e=Vu(24,n,t,a)).elementType=I,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case O:s=9;break e;case T:s=11;break e;case P:s=14;break e;case L:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Vu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Qu(e,t,n,r){return(e=Vu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Vu(23,e,r,t)).elementType=R,e.lanes=n,e}function Ju(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var a=t.current,i=du(),s=hu(a);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ga(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ga(c)){n=_a(n,c,u);break e}}n=u}else n=da;return null===t.context?t.context=n:t.pendingContext=n,(t=li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(a,t),pu(a,s,i),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Vu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ui(t),e[ea]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=tc(o);s.call(e)}}ec(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var u=a;a=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,a)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return $u(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pa.current)Ro=!0;else{if(0===(n&r)){switch(Ro=!1,t.tag){case 3:qo(t),qi();break;case 5:ji(t);break;case 1:ga(t.type)&&wa(t);break;case 4:Li(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;fa(Za,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fa(Ri,1&Ri.current),null!==(t=is(e,t,n))?t.sibling:null);fa(Ri,1&Ri.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return as(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),fa(Ri,Ri.current),r)break;return null;case 23:case 24:return t.lanes=0,Go(e,t,n)}return is(e,t,n)}Ro=0!==(16384&e.flags)}else Ro=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=va(t,ha.current),ii(t,n),a=oo(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var i=!0;wa(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ui(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vi(t,r,s,e),a.updater=gi,t.stateNode=a,a._reactInternals=t,wi(t,r,e,n),t=Xo(null,t,r,!0,i,n)}else t.tag=0,Io(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(a),e=Ka(a,e),i){case 0:t=Vo(null,t,a,e,n);break e;case 1:t=Wo(null,t,a,e,n);break e;case 11:t=zo(null,t,a,e,n);break e;case 14:t=Uo(null,t,a,Ka(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Vo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ci(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===a)qi(),t=is(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Ui=Qr(t.stateNode.containerInfo.firstChild),zi=t,i=Ni=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Qi.push(i);for(n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,r,n),qi();t=t.child}return t;case 5:return ji(t),null===e&&Vi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,Vr(r,a)?s=null:null!==i&&Vr(r,i)&&(t.flags|=16),Ho(e,t),Io(e,t,s,n),t.child;case 6:return null===e&&Vi(t),null;case 13:return Zo(e,t,n);case 4:return Li(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,zo(e,t,r,a=t.elementType===r?a:Ka(r,a),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value;var u=t.type._context;if(fa(Za,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=lr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===a.children&&!pa.current){t=is(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=li(-1,n&-n)).tag=2,fi(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ai(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Io(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ii(t,n),r=r(a=oi(a,i.unstable_observedBits)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return i=Ka(a=t.type,t.pendingProps),Uo(e,t,a,i=Ka(a.type,i),r,n);case 15:return No(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ka(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,wa(t)):e=!1,ii(t,n),bi(t,r,a),wi(t,r,a,n),Xo(null,t,r,!0,e,n);case 19:return as(e,t,n);case 23:case 24:return Go(e,t,n)}throw Error(o(156,t.tag))},ac.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rc(e,n)}},at=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ia(r);if(!a)throw Error(o(90));K(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Le=_u,De=function(e,t,n,r,a){var i=Ps;Ps|=4;try{return Xa(98,e.bind(null,t,n,r,a))}finally{0===(Ps=i)&&(qs(),Qa())}},je=function(){0===(49&Ps)&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ha())}))}Qa()}(),ju())},Fe=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(qs(),Qa())}};var uc={Events:[ra,aa,ia,Be,Pe,ju,{current:!1}]},cc={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Aa=fc.inject(lc),Ma=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Xa(99,e.bind(null,t))}finally{Ps=n,Qa()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},a=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?x.postMessage(null):(v=!1,g=null)}catch(n){throw x.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,x.postMessage(null))},a=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){p(y),y=-1}}function A(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<C(a,t)))break e;e[r]=t,e[n]=a,n=r}}function M(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],s=i+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],O=[],T=1,k=null,B=3,P=!1,L=!1,D=!1;function j(e){for(var t=M(O);null!==t;){if(null===t.callback)E(O);else{if(!(t.startTime<=e))break;E(O),t.sortIndex=t.expirationTime,A(S,t)}t=M(O)}}function F(e){if(D=!1,j(e),!L)if(null!==M(S))L=!0,r(R);else{var t=M(O);null!==t&&a(F,t.startTime-e)}}function R(e,n){L=!1,D&&(D=!1,i()),P=!0;var r=B;try{for(j(n),k=M(S);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=k.callback;if("function"===typeof o){k.callback=null,B=k.priorityLevel;var s=o(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?k.callback=s:k===M(S)&&E(S),j(n)}else E(S);k=M(S)}if(null!==k)var u=!0;else{var c=M(O);null!==c&&a(F,c.startTime-n),u=!1}return u}finally{k=null,B=r,P=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||P||(L=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return M(S)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,A(O,e),null===M(S)&&e===M(O)&&(D?i():D=!0,a(F,o-s))):(e.sortIndex=u,A(S,e),L||P||(L=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="1.0.7"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.32"},function(e,t,n){var r=n(36);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(109),a=n(59);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(20),a=n(51),i=n(16),o=n(17),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTracker=void 0;var u=n(44),c=n(31),l=function(){function e(t,n){var r=this;i(this,e),this._pipeline=t,this.onVisible=new u.Event1,this.onNotVisible=new u.Event1,this.onNewAnchor=new u.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=function(){var e=new Set,t=r.visible;r.visible=r._visibleLastFrame,r._visibleLastFrame=t,r.visible.clear();for(var n=r._z.image_tracker_anchor_count(r._impl),i=function(t){var n=r._z.image_tracker_anchor_id(r._impl,t),a=r.anchors.get(n);a||(a={onVisible:new u.Event,onNotVisible:new u.Event,id:n,poseCameraRelative:function(e){return r._z.image_tracker_anchor_pose_camera_relative(r._impl,t,!0===e)},pose:function(e,n){return r._z.image_tracker_anchor_pose(r._impl,t,e,!0===n)},visible:!0},!0,r.anchors.set(n,a),e.add(a)),a.visible=!0,r.visible.add(a)},o=0;o<n;o++)i(o);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.onNewAnchor.emit(l)}}catch(g){c.e(g)}finally{c.f()}var f,d=a(r.visible);try{for(d.s();!(f=d.n()).done;){var h=f.value;r._visibleLastFrame.has(h)?r._visibleLastFrame.delete(h):(r.onVisible.emit(h),h.onVisible.emit())}}catch(g){d.e(g)}finally{d.f()}var p,m=a(r._visibleLastFrame);try{for(m.s();!(p=m.n()).done;){var v=p.value;r.onNotVisible.emit(v),v.onNotVisible.emit()}}catch(g){m.e(g)}finally{m.f()}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=c.z(),this._impl=this._z.image_tracker_create(this._pipeline._getImpl()),n&&this.loadTarget(n)}return o(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.image_tracker_destroy(this._impl)}},{key:"loadTarget",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=6;break}return t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:e=t.sent;case 6:this._z.image_tracker_target_load_from_memory(this._impl,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"enabled",get:function(){return this._z.image_tracker_enabled(this._impl)},set:function(e){this._z.image_tracker_enabled_set(this._impl,e)}}]),e}();t.ImageTracker=l},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(B){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new O(r||[]);return i._invoke=function(e,t,n){var r=f;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return k()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(B){return{type:"throw",arg:B}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(T([])));w&&w!==n&&r.call(w,i)&&(b=w);var x=y.prototype=v.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(a,i,o,s){var u=l(e[a],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:k}}function k(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},A(M.prototype),u(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new M(c(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(x),u(x,s,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(20),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var i,o=n(113),s=n(75),u=n(68),c=n(35),l=n(116),f=n(121),d=n(122),h=n(69),p=n(126),m=n(79),v=n(128),g=n(130),y=n(45);function b(e){return a(this,void 0,void 0,r.mark((function t(){var a,o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==(a=n(132)).default&&(a=a.default),t.next=4,fetch(a);case 4:return o=t.sent,t.next=7,o.arrayBuffer();case 7:s=t.sent,null===i||void 0===i||i.face_tracker_model_load_from_memory(e,s);case 9:case"end":return t.stop()}}),t)})))}t.initialize=function(){var e=this;if(i)return i;var t=!1;l.launchWorker().then((function(){y.zcout("Fully loaded"),t=!0}));var _=new o.zappar_client((function(e){l.messageManager.postOutgoingMessage({t:"zappar",d:e},[e])}));if(window.location.hostname.toLowerCase().indexOf(".zappar.io")>0){var w=window.location.pathname.split("/");w.length>1&&w[1].length>0&&_.impl.analytics_project_id_set(".wiz"+w[1])}return l.messageManager.onIncomingMessage.bind((function(e){var t,n;switch(e.t){case"zappar":null===(t=h.Pipeline.get(e.p))||void 0===t||t.pendingMessages.push(e.d);break;case"buf":_.serializer.bufferReturn(e.d);break;case"cameraFrameRecycleS2C":var r=e;null===(n=h.Pipeline.get(r.p))||void 0===n||n.cameraTokenReturn(r.token,r.d);break;case"licerr":var a=document.createElement("div");a.innerHTML="Visit <a href='https://docs.zap.works/universal-ar/licensing/' style='color: white;'>our licensing page</a> to find out about hosting on your own domain.",a.style.position="absolute",a.style.bottom="20px",a.style.width="80%",a.style.backgroundColor="black",a.style.color="white",a.style.borderRadius="10px",a.style.padding="10px",a.style.fontFamily="sans-serif",a.style.textAlign="center",a.style.left="10%",a.style.zIndex=Number.MAX_SAFE_INTEGER.toString();var i=document.createElement("span");i.innerText=" (30)",a.append(i);var o=30;setInterval((function(){--o>=0&&(i.innerText=" ("+o.toString()+")")}),1e3),document.body.append(a)}})),i=Object.assign(Object.assign({},_.impl),{loaded:function(){return t},camera_default_device_id:function(e){return e?p.CameraSource.USER_DEFAULT_DEVICE_ID:p.CameraSource.DEFAULT_DEVICE_ID},camera_source_create:function(e,t){return p.CameraSource.create(e,t)},camera_source_destroy:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.destroy()},camera_source_pause:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.pause()},camera_source_start:function(e){var t;return null===(t=p.CameraSource.get(e))||void 0===t?void 0:t.start()},pipeline_create:function(){return h.Pipeline.create(_.impl,l.messageManager)},pipeline_frame_update:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.frameUpdate(_)},pipeline_camera_frame_draw_gl:function(e,t,n,r){var a;null===(a=h.Pipeline.get(e))||void 0===a||a.cameraFrameDrawGL(t,n,r)},draw_plane:function(e,t,n,r,a){s.drawPlane(e,t,n,r,a)},pipeline_draw_face:function(e,t,n,r,a){var i,o=d.getFaceMesh(a);if(!o)return y.zcwarn("attempting to call draw_face on a destroyed zappar_face_mesh_t"),new Uint16Array;null===(i=h.Pipeline.get(e))||void 0===i||i.drawFace(t,n,r,o)},pipeline_draw_face_project:function(e,t,n,r,a,i,o){var s;null===(s=h.Pipeline.get(e))||void 0===s||s.drawFaceProject(t,n,r,a,i,o)},projection_matrix_from_camera_model:u.projectionMatrix,projection_matrix_from_camera_model_ext:u.projectionMatrix,pipeline_process_gl:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.processGL()},pipeline_gl_context_set:function(e,t,n){var r;return null===(r=h.Pipeline.get(e))||void 0===r?void 0:r.glContextSet(t,n)},pipeline_gl_context_lost:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.glContextLost()},pipeline_camera_frame_upload_gl:function(){},pipeline_camera_frame_texture_gl:function(e){var t;return null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameTexture()},pipeline_camera_frame_texture_matrix:function(e,t,n,r){var a;return(null===(a=h.Pipeline.get(e))||void 0===a?void 0:a.cameraFrameTextureMatrix(t,n,r))||c.mat4.create()},pipeline_camera_frame_user_facing:function(e){var t;return(null===(t=h.Pipeline.get(e))||void 0===t?void 0:t.cameraFrameUserFacing())||!1},pipeline_camera_pose_default:function(){return c.mat4.create()},pipeline_camera_pose_with_attitude:function(e,t){var n;return(null===(n=h.Pipeline.get(e))||void 0===n?void 0:n.cameraPoseWithAttitude(t))||c.mat4.create()},pipeline_camera_pose_with_origin:function(e,t){var n=c.mat4.create();return c.mat4.invert(n,t),n},instant_world_tracker_anchor_pose_camera_relative:function(e,t){var n=h.applyScreenCounterRotation(void 0,_.impl.instant_world_tracker_anchor_pose_raw(e));if(t){var r=c.mat4.create();c.mat4.fromScaling(r,[-1,1,1]),c.mat4.multiply(n,r,n),c.mat4.multiply(n,n,r)}return n},instant_world_tracker_anchor_pose:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,_.impl.instant_world_tracker_anchor_pose_raw(e));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return c.mat4.multiply(r,t,r),r},image_tracker_anchor_pose_camera_relative:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,_.impl.image_tracker_anchor_pose_raw(e,t));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return r},image_tracker_anchor_pose:function(e,t,n,r){var a=h.applyScreenCounterRotation(void 0,_.impl.image_tracker_anchor_pose_raw(e,t));if(r){var i=c.mat4.create();c.mat4.fromScaling(i,[-1,1,1]),c.mat4.multiply(a,i,a),c.mat4.multiply(a,a,i)}return c.mat4.multiply(a,n,a),a},face_tracker_anchor_pose_camera_relative:function(e,t,n){var r=h.applyScreenCounterRotation(void 0,_.impl.face_tracker_anchor_pose_raw(e,t));if(n){var a=c.mat4.create();c.mat4.fromScaling(a,[-1,1,1]),c.mat4.multiply(r,a,r),c.mat4.multiply(r,r,a)}return r},face_tracker_anchor_pose:function(e,t,n,r){var a=h.applyScreenCounterRotation(void 0,_.impl.face_tracker_anchor_pose_raw(e,t));if(r){var i=c.mat4.create();c.mat4.fromScaling(i,[-1,1,1]),c.mat4.multiply(a,i,a),c.mat4.multiply(a,a,i)}return c.mat4.multiply(a,n,a),a},face_tracker_model_load_default:function(t){return a(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:case"end":return e.stop()}}),e)})))},face_mesh_create:function(){return d.createFaceMesh()},face_mesh_destroy:function(e){d.destroyFaceMesh(e)},face_mesh_indices:function(e){var t=d.getFaceMesh(e);return t?t.getIndices():(y.zcwarn("attempting to call face_mesh_indices on a destroyed zappar_face_mesh_t"),new Uint16Array)},face_mesh_indices_size:function(e){var t=d.getFaceMesh(e);return t?t.getIndices().length:(y.zcwarn("attempting to call face_mesh_indices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_uvs:function(e){var t=d.getFaceMesh(e);return t?t.getUVs():(y.zcwarn("attempting to call face_mesh_uvs on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_uvs_size:function(e){var t=d.getFaceMesh(e);return t?t.getUVs().length:(y.zcwarn("attempting to call face_mesh_uvs_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_vertices:function(e){var t=d.getFaceMesh(e);return t?t.getVertices():(y.zcwarn("attempting to call face_mesh_vertices on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_vertices_size:function(e){var t=d.getFaceMesh(e);return t?t.getVertices().length:(y.zcwarn("attempting to call face_mesh_vertices_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_normals:function(e){var t=d.getFaceMesh(e);return t?t.getNormals():(y.zcwarn("attempting to call face_mesh_normals on a destroyed zappar_face_mesh_t"),new Float32Array)},face_mesh_normals_size:function(e){var t=d.getFaceMesh(e);return t?t.getNormals().length:(y.zcwarn("attempting to call face_mesh_normals_size on a destroyed zappar_face_mesh_t"),0)},face_mesh_load_from_memory:function(e,t,n,r,a,i){var o=d.getFaceMesh(e);o?o.loadFromMemory(t,n,r,a,i):y.zcwarn("attempting to call face_mesh_load_from_memory on a destroyed zappar_face_mesh_t")},face_mesh_update:function(e,t,n,r){var a=d.getFaceMesh(e);a?a.update(t,n,r):y.zcwarn("attempting to call face_mesh_update on a destroyed zappar_face_mesh_t")},face_mesh_load_default:function(t){return a(e,void 0,void 0,r.mark((function e(){var a,i,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(i=n(81)).default&&(i=i.default),e.next=8,fetch(i);case 8:return o=e.sent,e.t0=a,e.next=12,o.arrayBuffer();case 12:e.t1=e.sent,e.t0.loadFromMemory.call(e.t0,e.t1,!1,!1,!1,!1);case 14:case"end":return e.stop()}}),e)})))},face_mesh_load_default_face:function(t,i,o,s){return a(e,void 0,void 0,r.mark((function e(){var a,u,c;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default_face on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(u=n(81)).default&&(u=u.default),e.next=8,fetch(u);case 8:return c=e.sent,e.t0=a,e.next=12,c.arrayBuffer();case 12:e.t1=e.sent,e.t2=i,e.t3=o,e.t4=s,e.t0.loadFromMemory.call(e.t0,e.t1,e.t2,e.t3,e.t4,!1);case 17:case"end":return e.stop()}}),e)})))},face_mesh_load_default_full_head_simplified:function(t,i,o,s,u){return a(e,void 0,void 0,r.mark((function e(){var a,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.getFaceMesh(t)){e.next=4;break}return y.zcwarn("attempting to call face_mesh_load_default_full_head_simplified on a destroyed zappar_face_mesh_t"),e.abrupt("return");case 4:return void 0!==(c=n(131)).default&&(c=c.default),e.next=8,fetch(c);case 8:return l=e.sent,e.t0=a,e.next=12,l.arrayBuffer();case 12:e.t1=e.sent,e.t2=i,e.t3=o,e.t4=s,e.t5=u,e.t0.loadFromMemory.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5);case 18:case"end":return e.stop()}}),e)})))},face_mesh_loaded_version:function(e){var t=d.getFaceMesh(e);return t?t.getModelVersion():(y.zcwarn("attempting to call face_mesh_load_default on a destroyed zappar_face_mesh_t"),-1)},face_landmark_create:function(e){return v.createFaceLandmark(e)},face_landmark_destroy:function(e){v.destroyFaceLandmark(e)},face_landmark_update:function(e,t,n,r){var a=v.getFaceLandmark(e);a?a.update(t,n,r):y.zcwarn("attempting to call face_landmark_update on a destroyed zappar_face_landmark_t")},face_landmark_anchor_pose:function(e){var t=v.getFaceLandmark(e);return t?t.anchor_pose:(y.zcwarn("attempting to call face_landmark_anchor_pose on a destroyed zappar_face_landmark_t"),c.mat4.create())},html_element_source_create:function(e,t){return m.HTMLElementSource.createVideoElementSource(e,t)},html_element_source_start:function(e){var t;return null===(t=m.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.start()},html_element_source_pause:function(e){var t;return null===(t=m.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.pause()},html_element_source_destroy:function(e){var t;return null===(t=m.HTMLElementSource.getVideoElementSource(e))||void 0===t?void 0:t.destroy()},permission_granted_all:f.permissionGrantedAll,permission_granted_camera:f.permissionGrantedCamera,permission_granted_motion:f.permissionGrantedMotion,permission_denied_any:f.permissionDeniedAny,permission_denied_camera:f.permissionDeniedCamera,permission_denied_motion:f.permissionDeniedMotion,permission_request_motion:f.permissionRequestMotion,permission_request_camera:f.permissionRequestCamera,permission_request_all:f.permissionRequestAll,permission_request_ui:f.permissionRequestUI,permission_request_ui_promise:f.permissionRequestUI,permission_denied_ui:f.permissionDeniedUI,browser_incompatible:g.default.incompatible,browser_incompatible_ui:g.default.incompatible_ui,log_level_set:function(e){y.setLogLevel(e),_.impl.log_level_set(e)}})}},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_client=void 0;var i=n(114),o=n(115),s=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._globalState={log_level:1},this.serializer=new i.MessageSerializer((function(e){n._messageSender(e)})),this.deserializer=new o.MessageDeserializer,this._latestId=1,this._pipeline_state_by_instance=new Map,this._camera_source_state_by_instance=new Map,this._image_tracker_state_by_instance=new Map,this._face_tracker_state_by_instance=new Map,this._face_mesh_state_by_instance=new Map,this._face_landmark_state_by_instance=new Map,this._barcode_finder_state_by_instance=new Map,this._instant_world_tracker_state_by_instance=new Map,this.impl={log_level:function(){return n._globalState.log_level},log_level_set:function(e){n.serializer.sendMessage(33,(function(t){t.logLevel(e)}))},analytics_project_id_set:function(e){n.serializer.sendMessage(30,(function(t){t.string(e)}))},pipeline_create:function(){var e=n._latestId++,t={current_frame_user_data:0,camera_model:new Float32Array([300,300,160,120,0,0]),camera_pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),camera_frame_camera_attitude:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),frame_number:0};return n._pipeline_state_by_instance.set(e,t),n.serializer.sendMessage(26,(function(t){t.type(e)})),e},pipeline_destroy:function(e){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n._pipeline_state_by_instance.delete(e),n.serializer.sendMessage(27,(function(t){t.type(e)}))},pipeline_frame_update:function(e){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(9,(function(t){t.type(e)}))},pipeline_frame_number:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.frame_number},pipeline_camera_model:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_model},pipeline_camera_frame_user_data:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.current_frame_user_data},pipeline_camera_frame_submit:function(e,t,r,a,i,o){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(8,(function(n){n.type(e),n.dataWithLength(t),n.int(r),n.int(a),n.int(i),n.matrix4x4(o)}))},pipeline_camera_frame_camera_attitude:function(e){var t=n._pipeline_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.camera_frame_camera_attitude},pipeline_motion_accelerometer_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(10,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},pipeline_motion_rotation_rate_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(11,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},pipeline_motion_attitude_submit:function(e,t,r,a,i){if(!n._pipeline_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(12,(function(n){n.type(e),n.timestamp(t),n.float(r),n.float(a),n.float(i)}))},camera_source_create:function(e,t){var r=n._latestId++;return n._camera_source_state_by_instance.set(r,{}),n.serializer.sendMessage(28,(function(n){n.type(r),n.type(e),n.string(t)})),r},camera_source_destroy:function(e){if(!n._camera_source_state_by_instance.get(e))throw new Error("This object has been destroyed");n._camera_source_state_by_instance.delete(e),n.serializer.sendMessage(29,(function(t){t.type(e)}))},image_tracker_create:function(e){var t=n._latestId++;return n._image_tracker_state_by_instance.set(t,{enabled:!0,target_loaded_version:-1,target_count:0,anchor_count:0,anchor_id:[],anchor_pose:[]}),n.serializer.sendMessage(2,(function(n){n.type(t),n.type(e)})),t},image_tracker_destroy:function(e){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._image_tracker_state_by_instance.delete(e),n.serializer.sendMessage(13,(function(t){t.type(e)}))},image_tracker_target_load_from_memory:function(e,t){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(4,(function(n){n.type(e),n.dataWithLength(t)}))},image_tracker_target_loaded_version:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_loaded_version},image_tracker_target_count:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.target_count},image_tracker_enabled:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},image_tracker_enabled_set:function(e,t){if(!n._image_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(3,(function(n){n.type(e),n.bool(t)}))},image_tracker_anchor_count:function(e){var t=n._image_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},image_tracker_anchor_id:function(e,t){var r=n._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},image_tracker_anchor_pose_raw:function(e,t){var r=n._image_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_create:function(e){var t=n._latestId++;return n._face_tracker_state_by_instance.set(t,{enabled:!0,model_loaded:-1,max_faces:1,anchor_count:0,anchor_id:[],anchor_pose:[],anchor_identity_coefficients:[],anchor_expression_coefficients:[]}),n.serializer.sendMessage(19,(function(n){n.type(t),n.type(e)})),t},face_tracker_destroy:function(e){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_tracker_state_by_instance.delete(e),n.serializer.sendMessage(20,(function(t){t.type(e)}))},face_tracker_model_load_from_memory:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(21,(function(n){n.type(e),n.dataWithLength(t)}))},face_tracker_model_loaded_version:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.model_loaded},face_tracker_enabled_set:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(22,(function(n){n.type(e),n.bool(t)}))},face_tracker_enabled:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},face_tracker_max_faces_set:function(e,t){if(!n._face_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(23,(function(n){n.type(e),n.int(t)}))},face_tracker_max_faces:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.max_faces},face_tracker_anchor_count:function(e){var t=n._face_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.anchor_count},face_tracker_anchor_id:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_id[t]},face_tracker_anchor_pose_raw:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_pose[t]},face_tracker_anchor_identity_coefficients:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_identity_coefficients[t]},face_tracker_anchor_expression_coefficients:function(e,t){var r=n._face_tracker_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.anchor_expression_coefficients[t]},face_mesh_create:function(){var e=n._latestId++;return n._face_mesh_state_by_instance.set(e,{}),n.serializer.sendMessage(24,(function(t){t.type(e)})),e},face_mesh_destroy:function(e){if(!n._face_mesh_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_mesh_state_by_instance.delete(e),n.serializer.sendMessage(25,(function(t){t.type(e)}))},face_landmark_create:function(e){var t=n._latestId++;return n._face_landmark_state_by_instance.set(t,{}),n.serializer.sendMessage(31,(function(n){n.type(t),n.faceLandmarkName(e)})),t},face_landmark_destroy:function(e){if(!n._face_landmark_state_by_instance.get(e))throw new Error("This object has been destroyed");n._face_landmark_state_by_instance.delete(e),n.serializer.sendMessage(32,(function(t){t.type(e)}))},barcode_finder_create:function(e){var t=n._latestId++;return n._barcode_finder_state_by_instance.set(t,{enabled:!0,number_found:0,found_text:[],found_format:[],formats:131071}),n.serializer.sendMessage(15,(function(n){n.type(t),n.type(e)})),t},barcode_finder_destroy:function(e){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n._barcode_finder_state_by_instance.delete(e),n.serializer.sendMessage(16,(function(t){t.type(e)}))},barcode_finder_enabled_set:function(e,t){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(17,(function(n){n.type(e),n.bool(t)}))},barcode_finder_enabled:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},barcode_finder_found_number:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.number_found},barcode_finder_found_text:function(e,t){var r=n._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_text[t]},barcode_finder_found_format:function(e,t){var r=n._barcode_finder_state_by_instance.get(e);if(!r)throw new Error("This object has been destroyed");return r.found_format[t]},barcode_finder_formats:function(e){var t=n._barcode_finder_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.formats},barcode_finder_formats_set:function(e,t){if(!n._barcode_finder_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(18,(function(n){n.type(e),n.barcodeFormat(t)}))},instant_world_tracker_create:function(e){var t=n._latestId++,r={enabled:!0,pose:new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};return n._instant_world_tracker_state_by_instance.set(t,r),n.serializer.sendMessage(5,(function(n){n.type(t),n.type(e)})),t},instant_world_tracker_destroy:function(e){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n._instant_world_tracker_state_by_instance.delete(e),n.serializer.sendMessage(14,(function(t){t.type(e)}))},instant_world_tracker_enabled_set:function(e,t){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(6,(function(n){n.type(e),n.bool(t)}))},instant_world_tracker_enabled:function(e){var t=n._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.enabled},instant_world_tracker_anchor_pose_raw:function(e){var t=n._instant_world_tracker_state_by_instance.get(e);if(!t)throw new Error("This object has been destroyed");return t.pose},instant_world_tracker_anchor_pose_set_from_camera_offset:function(e,t,r,a,i){if(!n._instant_world_tracker_state_by_instance.get(e))throw new Error("This object has been destroyed");n.serializer.sendMessage(7,(function(n){n.type(e),n.float(t),n.float(r),n.float(a),n.instantTrackerTransformOrientation(i)}))}}}return a(e,[{key:"processMessages",value:function(e){var t=this;this.deserializer.setData(e),this.deserializer.forMessages((function(e,n){switch(e){case 7:var r=n.type(),a=t._pipeline_state_by_instance.get(r);if(!a)return;a.frame_number=n.int();break;case 6:var i=n.type(),o=t._pipeline_state_by_instance.get(i);if(!o)return;o.camera_model=n.cameraModel();break;case 5:var s=n.type(),u=t._pipeline_state_by_instance.get(s);if(!u)return;u.current_frame_user_data=n.int();break;case 11:var c=n.type(),l=t._pipeline_state_by_instance.get(c);if(!l)return;l.camera_frame_camera_attitude=n.matrix4x4();break;case 18:var f=n.type(),d=t._image_tracker_state_by_instance.get(f);if(!d)return;d.target_loaded_version=n.int();break;case 20:var h=n.type(),p=t._image_tracker_state_by_instance.get(h);if(!p)return;p.target_count=n.int();break;case 1:var m=n.type(),v=t._image_tracker_state_by_instance.get(m);if(!v)return;v.anchor_count=n.int();break;case 2:var g=n.type(),y=t._image_tracker_state_by_instance.get(g);if(!y)return;var b=n.int();y.anchor_id[b]=n.string();break;case 3:var _=n.type(),w=t._image_tracker_state_by_instance.get(_);if(!w)return;var x=n.int();w.anchor_pose[x]=n.matrix4x4();break;case 17:var A=n.type(),M=t._face_tracker_state_by_instance.get(A);if(!M)return;M.model_loaded=n.int();break;case 12:var E=n.type(),C=t._face_tracker_state_by_instance.get(E);if(!C)return;C.anchor_count=n.int();break;case 13:var S=n.type(),O=t._face_tracker_state_by_instance.get(S);if(!O)return;var T=n.int();O.anchor_id[T]=n.string();break;case 14:var k=n.type(),B=t._face_tracker_state_by_instance.get(k);if(!B)return;var P=n.int();B.anchor_pose[P]=n.matrix4x4();break;case 15:var L=n.type(),D=t._face_tracker_state_by_instance.get(L);if(!D)return;var j=n.int();D.anchor_identity_coefficients[j]=n.identityCoefficients();break;case 16:var F=n.type(),R=t._face_tracker_state_by_instance.get(F);if(!R)return;var I=n.int();R.anchor_expression_coefficients[I]=n.expressionCoefficients();break;case 8:var z=n.type(),U=t._barcode_finder_state_by_instance.get(z);if(!U)return;U.number_found=n.int();break;case 9:var N=n.type(),G=t._barcode_finder_state_by_instance.get(N);if(!G)return;var H=n.int();G.found_text[H]=n.string();break;case 10:var V=n.type(),W=t._barcode_finder_state_by_instance.get(V);if(!W)return;var X=n.int();W.found_format[X]=n.barcodeFormat();break;case 4:var q=n.type(),Q=t._instant_world_tracker_state_by_instance.get(q);if(!Q)return;Q.pose=n.matrix4x4()}}))}}]),e}();t.zappar_client=s},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;var i=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:function(e){return n.int(e)},bool:function(e){return n.int(e?1:0)},float:function(e){return n.float(e)},string:function(e){return n.string(e)},dataWithLength:function(e){return n.arrayBuffer(e)},type:function(e){return n.int(e)},matrix4x4:function(e){return n.float32ArrayBuffer(e)},identityCoefficients:function(e){return n.float32ArrayBuffer(e)},expressionCoefficients:function(e){return n.float32ArrayBuffer(e)},cameraModel:function(e){return n.float32ArrayBuffer(e)},timestamp:function(e){return n.double(e)},barcodeFormat:function(e){return n.int(e)},faceLandmarkName:function(e){return n.int(e)},instantTrackerTransformOrientation:function(e){return n.int(e)},logLevel:function(e){return n.int(e)}},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}return a(e,[{key:"bufferReturn",value:function(e){this._freeBufferPool.push(e)}},{key:"_ensureArrayBuffer",value:function(e){var t=4*(this._offset+e+8);if(!(this._buffer&&this._buffer.byteLength>=t)){var n=void 0;if(!n){var r=t;r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,n=new ArrayBuffer(r)}var a=this._buffer?this._i32View:void 0;this._buffer=n,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),a&&this._i32View.set(a.subarray(0,this._offset))}}},{key:"sendMessage",value:function(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}},{key:"_sendOneTime",value:function(){var e=this;!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout((function(){e._timeoutSet=!1,e._send()}),0))}},{key:"_send",value:function(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}},{key:"int",value:function(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}},{key:"double",value:function(e){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}},{key:"float",value:function(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}},{key:"int32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"float32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"booleanArray",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}},{key:"uint8ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"arrayBuffer",value:function(e){var t=new Uint8Array(e);this.uint8ArrayBuffer(t)}},{key:"uint8ClampedArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"float32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}},{key:"uint16ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;var t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!==(1&e.length)&&this._offset++}},{key:"int32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}},{key:"uint32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}},{key:"string",value:function(e){var t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!==(3&t.byteLength)&&this._offset++}}]),e}();t.MessageSerializer=i},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;var i=function(){function e(){var t=this;r(this,e),this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:function(){return t._i32View[t._startOffset++]},bool:function(){return 1===t._i32View[t._startOffset++]},type:function(){return t._i32View[t._startOffset++]},float:function(){return t._f32View[t._startOffset++]},timestamp:function(){t._startOffset%2===1&&t._startOffset++;var e=t._f64View[t._startOffset/2];return t._startOffset+=2,e},string:function(){var e=t._i32View[t._startOffset++],n=(new TextDecoder).decode(new Uint8Array(t._buffer,4*t._startOffset,e));return t._startOffset+=e>>2,0!==(3&e)&&t._startOffset++,n},dataWithLength:function(){var e=t._i32View[t._startOffset++],n=new Uint8Array(e);return n.set(t._u8View.subarray(4*t._startOffset,4*t._startOffset+e)),t._startOffset+=n.byteLength>>2,0!==(3&n.byteLength)&&t._startOffset++,n.buffer},matrix4x4:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+16)),t._startOffset+=e,n},identityCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+50)),t._startOffset+=e,n},expressionCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+29)),t._startOffset+=e,n},cameraModel:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+6)),t._startOffset+=e,n},barcodeFormat:function(){return t._i32View[t._startOffset++]},faceLandmarkName:function(){return t._i32View[t._startOffset++]},instantTrackerTransformOrientation:function(){return t._i32View[t._startOffset++]},logLevel:function(){return t._i32View[t._startOffset++]}}}return a(e,[{key:"setData",value:function(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}},{key:"hasMessage",value:function(){return this._offset+1<this._length}},{key:"forMessages",value:function(e){for(;this.hasMessage();){var t=this._i32View[this._offset],n=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(n,this._processor)}}}]),e}();t.MessageDeserializer=i},function(e,t,n){"use strict";var r=n(20),a=n(51),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorker=t.messageManager=void 0;var o,s=n(117);function u(e){return new Promise((function(t){e.addEventListener("message",(function n(r){"loaded"===r.data&&(e.removeEventListener("message",n),t())}))}))}t.messageManager=new s.MsgManager,(o="undefined"!==typeof Z_STANDALONE&&Z_STANDALONE?n(118):n(119)).default&&(o=o.default),t.launchWorker=function(){return i(this,void 0,void 0,r.mark((function e(){var i,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){var e,n=t.messageManager.getOutgoingMessages(),r=a(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;i.postMessage(o.msg,o.transferables)}}catch(s){r.e(s)}finally{r.f()}},(i=new o).postMessage({t:"wasm",url:n(120).default}),e.next=5,u(i);case 5:t.messageManager.onOutgoingMessage.bind(s),s(),i.addEventListener("message",(function(e){t.messageManager.postIncomingMessage(e.data)}));case 8:case"end":return e.stop()}}),e)})))}},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;var i=n(76),o=function(){function e(){r(this,e),this.onOutgoingMessage=new i.Event,this.onIncomingMessage=new i.Event1,this._outgoingMessages=[]}return a(e,[{key:"postIncomingMessage",value:function(e){this.onIncomingMessage.emit(e)}},{key:"postOutgoingMessage",value:function(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}},{key:"getOutgoingMessages",value:function(){var e=this._outgoingMessages;return this._outgoingMessages=[],e}}]),e}();t.MsgManager=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(91),a=n.n(r);function i(){return a()('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=5)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(3);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw o}}}}},function(e,t,n){var r=n(6);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=self;a.messageManager.onOutgoingMessage.bind((function(){var e,t=a.messageManager.getOutgoingMessages(),n=r(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;i.postMessage(o.msg,o.transferables)}}catch(u){n.e(u)}finally{n.f()}}));i.addEventListener("message",(function e(t){if(t&&t.data&&"wasm"===t.data.t){var r=location.href.startsWith("blob")?t.data.url:n(24);r.default&&(r=r.default),a.launchWorkerServer(r),i.removeEventListener("message",e)}})),i.addEventListener("message",(function(e){a.messageManager.postIncomingMessage(e.data)}))},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=n(8),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function u(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.launchWorkerServer=t.messageManager=void 0;var i=n(10),o=n(14),u=n(15),c=n(22),f=n(25);t.messageManager=new c.MsgManager,t.launchWorkerServer=function(e){return a(this,void 0,void 0,r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=i.default({locateFile:function(t,n){return t.endsWith("zcv.wasm")?e:n+t},onRuntimeInitialized:function(){var e=o.getRuntimeObject(a),n=new u.zappar_server(e,(function(e,n){t.messageManager.postOutgoingMessage({p:e,t:"zappar",d:n},[n])}));t.messageManager.postOutgoingMessage("loaded",[]),t.messageManager.onIncomingMessage.bind((function(r){var a;switch(r.t){case"zappar":n.processBuffer(r.d),t.messageManager.postOutgoingMessage({t:"buf",d:r.d},[r.d]);break;case"buf":null===(a=n.serializersByPipelineId.get(r.p))||void 0===a||a.bufferReturn(r.d);break;case"cameraFrameC2S":var i=r,o=f.mat4.create();i.userFacing&&f.mat4.fromScaling(o,[-1,1,-1]);var u=n._pipeline_by_instance.get(i.p);u&&(e.pipeline_camera_frame_submit(u,i.d,i.width,i.height,i.token,o),e.pipeline_frame_update(u),n.exploreState());var c={token:i.token,d:i.d,p:i.p,t:"cameraFrameRecycleS2C"};t.messageManager.postOutgoingMessage(c,[i.d])}}))}});case 1:case"end":return n.stop()}}),n)})))}},function(e,t,n){e.exports=n(9)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new E(r||[]);return i._invoke=function(e,t,n){var r=_;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===a)throw i;return O()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=z(o,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===_)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=s(e,t,n);if("normal"===c.type){if(r=n.done?d:l,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=f;var _="suspendedStart",l="suspendedYield",p="executing",d="completed",m={};function h(){}function y(){}function b(){}var v={};c(v,i,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(T([])));w&&w!==n&&r.call(w,i)&&(v=w);var M=b.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,i,o,u){var c=s(e[a],e,i);if("throw"!==c.type){var f=c.arg,_=f.value;return _&&"object"===typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(_).then((function(e){f.value=e,o(f)}),(function(e){return n("throw",e,o,u)}))}u(c.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function z(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,z(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a \'throw\' method")}return m}var a=s(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=b,c(M,"constructor",b),c(b,"constructor",y),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(M),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(f(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(M),c(M,u,"Generator"),c(M,i,(function(){return this})),c(M,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return u.type="throw",u.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),f=r.call(o,"finallyLoc");if(c&&f){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){var t="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(n){var r;n=n||{},r||(r="undefined"!==typeof n?n:{});var a,i={};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);r.arguments=[],r.thisProgram="./this.program",r.quit=function(e,t){throw t},r.preRun=[],r.postRun=[];var o="";function u(e){return r.locateFile?r.locateFile(e,o):o+e}o=self.location.href,t&&(o=t),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):"",r.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},r.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},r.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},r.setWindowTitle=function(e){document.title=e};var c=r.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),f=r.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||c);for(a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);function s(e){var t=j;return j=j+e+15&-16,t}function _(e){var t=I[N>>2];return e=t+e+15&-16,I[N>>2]=e,e>=K&&!Y()?(I[N>>2]=t,0):t}function l(e){var t;return t||(t=16),Math.ceil(e/t)*t}i=void 0;var p,d={"f64-rem":function(e,t){return e%t},debugger:function(){}},m={};function h(e,t,n){return n&&n.length?r["dynCall_"+e].apply(null,[t].concat(n)):r["dynCall_"+e].call(null,t)}var y=!1;function b(e,t){e||Mr("Assertion failed: "+t)}function v(e){var t=r["_"+e];return b(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var g={stackSave:function(){gr()},stackRestore:function(){vr()},arrayToC:function(e){var t=br(e.length);return T.set(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=br(n),A(e,O,t,n)}return t}},w={string:g.stringToC,array:g.arrayToC};function M(e){var t;if(0===t||!e)return"";for(var n,r=0,a=0;(r|=n=O[e+a>>0],0!=n||t)&&(a++,!t||a!=t););if(t||(t=a),n="",128>r){for(;0<t;)r=String.fromCharCode.apply(String,O.subarray(e,e+Math.min(t,1024))),n=n?n+r:r,e+=1024,t-=1024;return n}return z(e)}var k="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(e,t){for(var n=t;e[n];)++n;if(16<n-t&&e.subarray&&k)return k.decode(e.subarray(t,n));for(n="";;){var r=e[t++];if(!r)return n;if(128&r){var a=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|a);else{var i=63&e[t++];if(224==(240&r))r=(15&r)<<12|a<<6|i;else{var o=63&e[t++];if(240==(248&r))r=(7&r)<<18|a<<12|i<<6|o;else{var u=63&e[t++];if(248==(252&r))r=(3&r)<<24|a<<18|i<<12|o<<6|u;else r=(1&r)<<30|a<<24|i<<18|o<<12|u<<6|63&e[t++]}}65536>r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}}function z(e){return x(O,e)}function A(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i);if(127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(2097151>=o){if(n+3>=r)break;t[n++]=240|o>>18}else{if(67108863>=o){if(n+4>=r)break;t[n++]=248|o>>24}else{if(n+5>=r)break;t[n++]=252|o>>30,t[n++]=128|o>>24&63}t[n++]=128|o>>18&63}t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-a}function L(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:2097151>=r?t+4:67108863>=r?t+5:t+6}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var E,T,O,S,C,I,P,B,F,j,D,R,V,q,G,N,U=65536,W=16777216;function H(e,t){return 0<e%t&&(e+=t-e%t),e}function Z(){r.HEAP8=T=new Int8Array(E),r.HEAP16=S=new Int16Array(E),r.HEAP32=I=new Int32Array(E),r.HEAPU8=O=new Uint8Array(E),r.HEAPU16=C=new Uint16Array(E),r.HEAPU32=P=new Uint32Array(E),r.HEAPF32=B=new Float32Array(E),r.HEAPF64=F=new Float64Array(E)}function Y(){var e=r.usingWasm?U:W,t=2147483648-e;if(I[N>>2]>t)return!1;var n=K;for(K=Math.max(K,16777216);K<I[N>>2];)K=536870912>=K?H(2*K,e):Math.min(H((3*K+2147483648)/4,e),t);return(e=r.reallocBuffer(K))&&e.byteLength==K?(r.buffer=E=e,Z(),!0):(K=n,!1)}j=N=0,D=!1,r.reallocBuffer||(r.reallocBuffer=function(e){try{var t=T,n=new ArrayBuffer(e);new Int8Array(n).set(t)}catch(r){return!1}return!!dr(n)&&n});try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(kr){(function(e){return e.byteLength})}var X=r.TOTAL_STACK||5242880,K=r.TOTAL_MEMORY||16777216;function J(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.g;"number"===typeof n?void 0===t.P?r.dynCall_v(n):r.dynCall_vi(n,t.P):n(void 0===t.P?null:t.P)}}}K<X&&f("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+K+"! (TOTAL_STACK="+X+")"),r.buffer?E=r.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(r.wasmMemory=new WebAssembly.Memory({initial:K/U}),E=r.wasmMemory.buffer):E=new ArrayBuffer(K),r.buffer=E),Z();var Q=[],$=[],ee=[],te=[],ne=[],re=!1;function ae(){var e=r.preRun.shift();Q.unshift(e)}var ie=Math.abs,oe=Math.ceil,ue=Math.floor,ce=Math.min,fe=0,se=null,_e=null;function le(){fe++,r.monitorRunDependencies&&r.monitorRunDependencies(fe)}function pe(){if(fe--,r.monitorRunDependencies&&r.monitorRunDependencies(fe),0==fe&&(null!==se&&(clearInterval(se),se=null),_e)){var e=_e;_e=null,e()}}function de(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}r.preloadedImages={},r.preloadedAudios={},function(){function e(){try{if(r.wasmBinary)return new Uint8Array(r.wasmBinary);if(r.readBinary)return r.readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(e){Mr(e)}}function t(){return r.wasmBinary||"function"!==typeof fetch?new Promise((function(t){t(e())})):fetch(i,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+i+"\'";return e.arrayBuffer()})).catch((function(){return e()}))}function n(e){function n(e){if((s=e.exports).memory){e=s.memory;var t=r.buffer;e.byteLength<t.byteLength&&f("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),t=new Int8Array(t),new Int8Array(e).set(t),r.buffer=E=e,Z()}r.asm=s,r.usingWasm=!0,pe()}function a(e){n(e.instance)}function o(e){t().then((function(e){return WebAssembly.instantiate(e,c)})).then(e,(function(e){f("failed to asynchronously prepare wasm: "+e),Mr(e)}))}if("object"!==typeof WebAssembly)return f("no native wasm support detected"),!1;if(!(r.wasmMemory instanceof WebAssembly.Memory))return f("no native wasm Memory in use"),!1;if(e.memory=r.wasmMemory,c.global={NaN:NaN,Infinity:1/0},c["global.Math"]=Math,c.env=e,le(),r.instantiateWasm)try{return r.instantiateWasm(c,n)}catch(u){return f("Module.instantiateWasm callback failed with error: "+u),!1}return r.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||de(i)||"function"!==typeof fetch?o(a):WebAssembly.instantiateStreaming(fetch(i,{credentials:"same-origin"}),c).then(a,(function(e){f("wasm streaming compile failed: "+e),f("falling back to ArrayBuffer instantiation"),o(a)})),{}}var a="zcv.wast",i="zcv.wasm",o="zcv.temp.asm.js";de(a)||(a=u(a)),de(i)||(i=u(i)),de(o)||(o=u(o));var c={global:null,env:null,asm2wasm:d,parent:r},s=null;r.asmPreload=r.asm;var _=r.reallocBuffer;r.reallocBuffer=function(e){if("asmjs"===l)var t=_(e);else e:{e=H(e,r.usingWasm?U:W);var n=r.buffer.byteLength;if(r.usingWasm)try{t=-1!==r.wasmMemory.grow((e-n)/65536)?r.buffer=r.wasmMemory.buffer:null;break e}catch(a){t=null;break e}t=void 0}return t};var l="";r.asm=function(e,t){if(!t.table){void 0===(e=r.wasmTableSize)&&(e=1024);var a=r.wasmMaxTableSize;t.table="object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?void 0!==a?new WebAssembly.Table({initial:e,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:e,element:"anyfunc"}):Array(e),r.wasmTable=t.table}return t.__memory_base||(t.__memory_base=r.STATIC_BASE),t.__table_base||(t.__table_base=0),b(t=n(t),"no binaryen method succeeded."),t}}();var me=[function(){if(self.crypto&&self.crypto.getRandomValues){var e=new Uint32Array(1);return self.crypto.getRandomValues(e),e[0]}return 9007199254740991*Math.random()}];j=433664,$.push({g:function(){Hn()}},{g:function(){tr()}},{g:function(){fr()}},{g:function(){pr()}},{g:function(){_r()}},{g:function(){Qn()}},{g:function(){er()}},{g:function(){$n()}},{g:function(){Xn()}},{g:function(){Jn()}},{g:function(){Kn()}},{g:function(){sr()}},{g:function(){Zn()}},{g:function(){nr()}},{g:function(){Yn()}},{g:function(){ir()}},{g:function(){rr()}},{g:function(){ar()}},{g:function(){or()}},{g:function(){ur()}},{g:function(){cr()}}),r.STATIC_BASE=1024,r.STATIC_BUMP=432640;var he=j;j+=16;var ye={};function be(){Mr()}function ve(){return"undefined"!==typeof dateNow||self.performance&&self.performance.now}var ge={I:1,u:2,Fc:3,Bb:4,M:5,ja:6,Ua:7,Zb:8,B:9,ib:10,fa:11,Pc:11,ya:12,W:13,ub:14,lc:15,ga:16,ha:17,Qc:18,Y:19,Z:20,N:21,i:22,Ub:23,wa:24,D:25,Mc:26,vb:27,hc:28,O:29,Cc:30,Nb:31,vc:32,rb:33,zc:34,cc:42,yb:43,jb:44,Eb:45,Fb:46,Gb:47,Mb:48,Nc:49,Xb:50,Db:51,ob:35,$b:37,$a:52,cb:53,Rc:54,Vb:55,eb:56,fb:57,pb:35,gb:59,jc:60,Yb:61,Jc:62,ic:63,dc:64,ec:65,Bc:66,ac:67,Xa:68,Gc:69,kb:70,wc:71,Pb:72,sb:73,bb:74,qc:76,ab:77,Ac:78,Hb:79,Ib:80,Lb:81,Kb:82,Jb:83,kc:38,ia:39,Qb:36,X:40,rc:95,uc:96,nb:104,Wb:105,Ya:97,yc:91,oc:88,fc:92,Dc:108,mb:111,Va:98,lb:103,Tb:101,Rb:100,Kc:110,wb:112,xb:113,Ab:115,Za:114,qb:89,Ob:90,xc:93,Ec:94,Wa:99,Sb:102,Cb:106,mc:107,Lc:109,Oc:87,tb:122,Hc:116,pc:95,bc:123,zb:84,sc:75,hb:125,nc:131,tc:130,Ic:86};function we(e){return r.___errno_location&&(I[r.___errno_location()>>2]=e),e}function Me(e,t){if(0===e)e=Date.now();else{if(1!==e||!ve())return we(ge.i),-1;e=be()}return I[t>>2]=e/1e3|0,I[t+4>>2]=e%1e3*1e6|0,0}var ke=0,xe=[],ze={};function Ae(e){if(!e||ze[e])return e;for(var t in ze){var n=+t;if(ze[n].ka===e)return n}return e}function Le(e){if(e){var t=ze[e];b(0<t.J),t.J--,0!==t.J||t.L||(t.oa&&r.dynCall_vi(t.oa,e),delete ze[e],Ee(e))}}function Ee(e){try{return mr(e)}catch(t){}}function Te(){var e=xe.pop();throw e=Ae(e),ze[e].L||(xe.push(e),ze[e].L=!0),ke=e,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}var Oe={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can\'t send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function Se(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function Ce(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Ie(e){var t=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function Pe(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function Be(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!==typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=Se(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var Fe=[];function je(e,t){Fe[e]={input:[],output:[],G:t},ft(e,De)}var De={open:function(e){var t=Fe[e.node.rdev];if(!t)throw new Xe(ge.Y);e.tty=t,e.seekable=!1},close:function(e){e.tty.G.flush(e.tty)},flush:function(e){e.tty.G.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.G.ra)throw new Xe(ge.ja);for(var a=0,i=0;i<r;i++){try{var o=e.tty.G.ra(e.tty)}catch(u){throw new Xe(ge.M)}if(void 0===o&&0===a)throw new Xe(ge.fa);if(null===o||void 0===o)break;a++,t[n+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.G.da)throw new Xe(ge.ja);var a=0;try{if(0===n&&0===r)e.tty.G.flush(e.tty);else for(;a<r;)e.tty.G.da(e.tty,t[n+a]),a++}catch(i){throw new Xe(ge.M)}return r&&(e.node.timestamp=Date.now()),a}},Re={ra:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\\n")),!t)return null;e.input=Un(t,!0)}return e.input.shift()},da:function(e,t){null===t||10===t?(c(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(c(x(e.output,0)),e.output=[])}},Ve={da:function(e,t){null===t||10===t?(f(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(f(x(e.output,0)),e.output=[])}},qe={o:null,A:function(){return qe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576===(61440&n)||4096===(61440&n))throw new Xe(ge.I);return qe.o||(qe.o={dir:{node:{m:qe.c.m,s:qe.c.s,lookup:qe.c.lookup,R:qe.c.R,rename:qe.c.rename,unlink:qe.c.unlink,rmdir:qe.c.rmdir,readdir:qe.c.readdir,symlink:qe.c.symlink},stream:{F:qe.f.F}},file:{node:{m:qe.c.m,s:qe.c.s},stream:{F:qe.f.F,read:qe.f.read,write:qe.f.write,la:qe.f.la,sa:qe.f.sa,T:qe.f.T}},link:{node:{m:qe.c.m,s:qe.c.s,readlink:qe.c.readlink},stream:{}},na:{node:{m:qe.c.m,s:qe.c.s},stream:ct}}),16384===(61440&(n=tt(e,t,n,r)).mode)?(n.c=qe.o.dir.node,n.f=qe.o.dir.stream,n.b={}):32768===(61440&n.mode)?(n.c=qe.o.file.node,n.f=qe.o.file.stream,n.h=0,n.b=null):40960===(61440&n.mode)?(n.c=qe.o.link.node,n.f=qe.o.link.stream):8192===(61440&n.mode)&&(n.c=qe.o.na.node,n.f=qe.o.na.stream),n.timestamp=Date.now(),e&&(e.b[t]=n),n},Ea:function(e){if(e.b&&e.b.subarray){for(var t=[],n=0;n<e.h;++n)t.push(e.b[n]);return t}return e.b},Wc:function(e){return e.b?e.b.subarray?e.b.subarray(0,e.h):new Uint8Array(e.b):new Uint8Array},pa:function(e,t){if(e.b&&e.b.subarray&&t>e.b.length&&(e.b=qe.Ea(e),e.h=e.b.length),!e.b||e.b.subarray){var n=e.b?e.b.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.b,e.b=new Uint8Array(t),0<e.h&&e.b.set(n.subarray(0,e.h),0))}else for(!e.b&&0<t&&(e.b=[]);e.b.length<t;)e.b.push(0)},Ma:function(e,t){if(e.h!=t)if(0==t)e.b=null,e.h=0;else{if(!e.b||e.b.subarray){var n=e.b;e.b=new Uint8Array(new ArrayBuffer(t)),n&&e.b.set(n.subarray(0,Math.min(t,e.h)))}else if(e.b||(e.b=[]),e.b.length>t)e.b.length=t;else for(;e.b.length<t;)e.b.push(0);e.h=t}},c:{m:function(e){var t={};return t.dev=8192===(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384===(61440&e.mode)?t.size=4096:32768===(61440&e.mode)?t.size=e.h:40960===(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ca=4096,t.blocks=Math.ceil(t.size/t.Ca),t},s:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&qe.Ma(e,t.size)},lookup:function(){throw Ke[ge.u]},R:function(e,t,n,r){return qe.createNode(e,t,n,r)},rename:function(e,t,n){if(16384===(61440&e.mode)){try{var r=et(t,n)}catch(i){}if(r)for(var a in r.b)throw new Xe(ge.ia)}delete e.parent.b[e.name],e.name=n,t.b[n]=e,e.parent=t},unlink:function(e,t){delete e.b[t]},rmdir:function(e,t){var n,r=et(e,t);for(n in r.b)throw new Xe(ge.ia);delete e.b[t]},readdir:function(e){var t,n=[".",".."];for(t in e.b)e.b.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=qe.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!==(61440&e.mode))throw new Xe(ge.i);return e.link}},f:{read:function(e,t,n,r,a){var i=e.node.b;if(a>=e.node.h)return 0;if(b(0<=(e=Math.min(e.node.h-a,r))),8<e&&i.subarray)t.set(i.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=i[a+r];return e},write:function(e,t,n,r,a,i){if(i=!1,!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.b||e.b.subarray)){if(i)return e.b=t.subarray(n,n+r),e.h=r;if(0===e.h&&0===a)return e.b=new Uint8Array(t.subarray(n,n+r)),e.h=r;if(a+r<=e.h)return e.b.set(t.subarray(n,n+r),a),r}if(qe.pa(e,a+r),e.b.subarray&&t.subarray)e.b.set(t.subarray(n,n+r),a);else for(i=0;i<r;i++)e.b[a+i]=t[n+i];return e.h=Math.max(e.h,a+r),r},F:function(e,t,n){if(1===n?t+=e.position:2===n&&32768===(61440&e.node.mode)&&(t+=e.node.h),0>t)throw new Xe(ge.i);return t},la:function(e,t,n){qe.pa(e.node,t+n),e.node.h=Math.max(e.node.h,t+n)},sa:function(e,t,n,r,a,i,o){if(32768!==(61440&e.node.mode))throw new Xe(ge.Y);if(n=e.node.b,2&o||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.h)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,!(r=hr(r)))throw new Xe(ge.ya);t.set(n,r)}else e=!1,r=n.byteOffset;return{Ka:r,za:e}},T:function(e,t,n,r,a){if(32768!==(61440&e.node.mode))throw new Xe(ge.Y);return 2&a||qe.f.write(e,t,0,r,n,!1),0}}};j+=16,j+=16,j+=16;var Ge=null,Ne={},Ue=[],We=1,He=null,Ze=!0,Ye={},Xe=null,Ke={};function Je(e,t){if(t=t||{},!(e=Be("/",e)))return{path:"",node:null};var n,r={qa:!0,ea:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.ea)throw new Xe(ge.X);e=Se(e.split("/").filter((function(e){return!!e})),!1);var a=Ge;for(r="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(a=et(a,e[n]),r=Ce(r+"/"+e[n]),a.S&&(!i||i&&t.qa)&&(a=a.S.root),!i||t.aa)for(i=0;40960===(61440&a.mode);)if(a=mt(r),a=Je(r=Be(Ie(r),a),{ea:t.ea}).node,40<i++)throw new Xe(ge.X)}return{path:r,node:a}}function Qe(e){for(var t;;){if(e===e.parent)return e=e.A.ta,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function $e(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%He.length}function et(e,t){var n;if(n=(n=at(e,"x"))?n:e.c.lookup?0:ge.W)throw new Xe(n,e);for(n=He[$e(e.id,t)];n;n=n.Ja){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.c.lookup(e,t)}function tt(e,t,n,r){return Mt||(Mt=function(e,t,n,r){e||(e=this),this.parent=e,this.A=e.A,this.S=null,this.id=We++,this.name=t,this.mode=n,this.c={},this.f={},this.rdev=r},Mt.prototype={},Object.defineProperties(Mt.prototype,{read:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}})),function(e){var t=$e(e.parent.id,e.name);e.Ja=He[t],He[t]=e}(e=new Mt(e,t,n,r)),e}var nt={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function rt(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function at(e,t){return Ze||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ge.W}function it(e,t){try{return et(e,t),ge.ha}catch(n){}return at(e,"wx")}function ot(e,t){kt||((kt=function(){}).prototype={},Object.defineProperties(kt.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new kt;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;e<=4096;e++)if(!Ue[e])return e;throw new Xe(ge.wa)}(t),e.fd=t,Ue[t]=e}var ut,ct={open:function(e){e.f=Ne[e.node.rdev].f,e.f.open&&e.f.open(e)},F:function(){throw new Xe(ge.O)}};function ft(e,t){Ne[e]={f:t}}function st(e,t){var n="/"===t,r=!t;if(n&&Ge)throw new Xe(ge.ga);if(!n&&!r){var a=Je(t,{qa:!1});if(t=a.path,(a=a.node).S)throw new Xe(ge.ga);if(16384!==(61440&a.mode))throw new Xe(ge.Z)}t={type:e,$c:{},ta:t,Ia:[]},(e=e.A(t)).A=t,t.root=e,n?Ge=e:a&&(a.S=t,a.A&&a.A.Ia.push(t))}function _t(e,t,n){var r=Je(e,{parent:!0}).node;if(!(e=Pe(e))||"."===e||".."===e)throw new Xe(ge.i);var a=it(r,e);if(a)throw new Xe(a);if(!r.c.R)throw new Xe(ge.I);return r.c.R(r,e,t,n)}function lt(e){_t(e,16895,0)}function pt(e,t,n){"undefined"===typeof n&&(n=t,t=438),_t(e,8192|t,n)}function dt(e,t){if(!Be(e))throw new Xe(ge.u);var n=Je(t,{parent:!0}).node;if(!n)throw new Xe(ge.u);var r=it(n,t=Pe(t));if(r)throw new Xe(r);if(!n.c.symlink)throw new Xe(ge.I);n.c.symlink(n,t,e)}function mt(e){if(!(e=Je(e).node))throw new Xe(ge.u);if(!e.c.readlink)throw new Xe(ge.i);return Be(Qe(e.parent),e.c.readlink(e))}function ht(e,t,n,a){if(""===e)throw new Xe(ge.u);if("string"===typeof t){var i=nt[t];if("undefined"===typeof i)throw Error("Unknown file open mode: "+t);t=i}if(n=64&t?4095&("undefined"===typeof n?438:n)|32768:0,"object"===typeof e)var o=e;else{e=Ce(e);try{o=Je(e,{aa:!(131072&t)}).node}catch(c){}}if(i=!1,64&t)if(o){if(128&t)throw new Xe(ge.ha)}else o=_t(e,n,0),i=!0;if(!o)throw new Xe(ge.u);if(8192===(61440&o.mode)&&(t&=-513),65536&t&&16384!==(61440&o.mode))throw new Xe(ge.Z);if(!i&&(n=o?40960===(61440&o.mode)?ge.X:16384===(61440&o.mode)&&("r"!==rt(t)||512&t)?ge.N:at(o,rt(t)):ge.u))throw new Xe(n);if(512&t){var u;if(!(u="string"===typeof(n=o)?Je(n,{aa:!0}).node:n).c.s)throw new Xe(ge.I);if(16384===(61440&u.mode))throw new Xe(ge.N);if(32768!==(61440&u.mode))throw new Xe(ge.i);if(n=at(u,"w"))throw new Xe(n);u.c.s(u,{size:0,timestamp:Date.now()})}t&=-641,(a=ot({node:o,path:Qe(o),flags:t,seekable:!0,position:0,f:o.f,Sa:[],error:!1},a)).f.open&&a.f.open(a),!r.logReadFiles||1&t||(xt||(xt={}),e in xt||(xt[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{Ye.onOpenFile&&(o=0,1!==(2097155&t)&&(o|=1),0!==(2097155&t)&&(o|=2),Ye.onOpenFile(e,o))}catch(c){console.log("FS.trackingDelegate[\'onOpenFile\'](\'"+e+"\', flags) threw an exception: "+c.message)}return a}function yt(e){if(null===e.fd)throw new Xe(ge.B);e.ba&&(e.ba=null);try{e.f.close&&e.f.close(e)}catch(t){throw t}finally{Ue[e.fd]=null}e.fd=null}function bt(e,t,n){if(null===e.fd)throw new Xe(ge.B);if(!e.seekable||!e.f.F)throw new Xe(ge.O);e.position=e.f.F(e,t,n),e.Sa=[]}function vt(){Xe||((Xe=function(e,t){this.node=t,this.Na=function(e){for(var t in this.v=e,ge)if(ge[t]===e){this.code=t;break}},this.Na(e),this.message=Oe[e],this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0})}).prototype=Error(),Xe.prototype.constructor=Xe,[ge.u].forEach((function(e){Ke[e]=new Xe(e),Ke[e].stack="<generic error, no stack>"})))}function gt(e,t,n){e=Ce("/dev/"+e);var r=function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}(!!t,!!n);wt||(wt=64);var a=wt++<<8|0;ft(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var i=0,o=0;o<a;o++){try{var u=t()}catch(c){throw new Xe(ge.M)}if(void 0===u&&0===i)throw new Xe(ge.fa);if(null===u||void 0===u)break;i++,n[r+o]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,a){for(var i=0;i<a;i++)try{n(t[r+i])}catch(o){throw new Xe(ge.M)}return a&&(e.node.timestamp=Date.now()),i}}),pt(e,r,a)}var wt,Mt,kt,xt,zt={},At={},Lt=0;function Et(){return I[(Lt+=4)-4>>2]}function Tt(){var e=Ue[Et()];if(!e)throw new Xe(ge.B);return e}function Ot(t,n){if(Vt=t,qt=n,!Dt)return 1;if(0==t)Bt=function(){var e=0|Math.max(0,Ct+n-be());setTimeout(It,e)},Ft="timeout";else if(1==t)Bt=function(){rn(It)},Ft="rAF";else if(2==t){if("undefined"===typeof e){var a=[];addEventListener("message",(function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),a.shift()())}),!0),e=function(e){a.push(e),void 0===r.setImmediates&&(r.setImmediates=[]),r.setImmediates.push(e),postMessage({target:"setimmediate"})}}Bt=function(){e(It)},Ft="immediate"}return 0}function St(e,t,n,a,i){r.noExitRuntime=!0,b(!Dt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Dt=e,Rt=a;var o="undefined"!==typeof a?function(){r.dynCall_vi(e,a)}:function(){r.dynCall_v(e)},u=jt;if(It=function(){if(!y)if(0<Nt.length){var e=Date.now(),t=Nt.shift();if(t.g(t.P),Pt){var n=Pt,a=0==n%1?n-1:Math.floor(n);Pt=t.Tc?a:(8*n+(a+.5))/9}console.log(\'main loop blocker "\'+t.name+\'" took \'+(Date.now()-e)+" ms"),r.setStatus&&(e=r.statusMessage||"Please wait...",t=Pt,n=Ut.Vc,t?t<n?r.setStatus(e+" ("+(n-t)+"/"+n+")"):r.setStatus(e):r.setStatus("")),u<jt||setTimeout(It,0)}else if(!(u<jt))if(Gt=Gt+1|0,1==Vt&&1<qt&&0!=Gt%qt)Bt();else{if(0==Vt&&(Ct=be()),"timeout"===Ft&&r.K&&(f("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Ft=""),!(y||r.preMainLoop&&!1===r.preMainLoop())){try{o()}catch(i){throw i&&"object"===typeof i&&i.stack&&f("exception thrown: "+[i,i.stack]),i}r.postMainLoop&&r.postMainLoop()}u<jt||("object"===typeof SDL&&SDL.audio&&SDL.audio.La&&SDL.audio.La(),Bt())}},i||(t&&0<t?Ot(0,1e3/t):Ot(1,1),Bt()),n)throw"SimulateInfiniteLoop"}var Ct,It,Pt,Bt=null,Ft="",jt=0,Dt=null,Rt=0,Vt=0,qt=0,Gt=0,Nt=[],Ut={},Wt=!1,Ht=!1,Zt=[];function Yt(){function e(){Ht=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}if(r.preloadPlugins||(r.preloadPlugins=[]),!sn){sn=!0;try{_n=!0}catch(n){_n=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}ln="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:_n?null:console.log("warning: no BlobBuilder"),pn="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,r.ua||"undefined"!==typeof pn||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.ua=!0),r.preloadPlugins.push({canHandle:function(e){return!r.ua&&/\\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,n,a){var i=null;if(_n)try{(i=new Blob([e],{type:on(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:on(t)}))}catch(c){!function(e){p||(p={}),p[e]||(p[e]=1,f(e))}("Blob constructor present but fails: "+c+"; falling back to blob builder")}i||((i=new ln).append(new Uint8Array(e).buffer),i=i.getBlob());var o=pn.createObjectURL(i),u=new Image;u.onload=function(){b(u.complete,"Image "+t+" could not be decoded");var a=document.createElement("canvas");a.width=u.width,a.height=u.height,a.getContext("2d").drawImage(u,0,0),r.preloadedImages[t]=a,pn.revokeObjectURL(o),n&&n(e)},u.onerror=function(){console.log("Image "+o+" could not be decoded"),a&&a()},u.src=o}}),r.preloadPlugins.push({canHandle:function(e){return!r.Zc&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,n,a){function i(a){u||(u=!0,r.preloadedAudios[t]=a,n&&n(e))}function o(){u||(u=!0,r.preloadedAudios[t]=new Audio,a&&a())}var u=!1;if(!_n)return o();try{var c=new Blob([e],{type:on(t)})}catch(s){return o()}c=pn.createObjectURL(c);var f=new Audio;f.addEventListener("canplaythrough",(function(){i(f)}),!1),f.onerror=function(){if(!u){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var n="",r=0,a=0,o=0;o<e.length;o++)for(r=r<<8|e[o],a+=8;6<=a;){var c=r>>a-6&63;a-=6,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]}2==a?(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&r)<<4],n+="=="):4==a&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&r)<<2],n+="="),f.src="data:audio/x-"+t.substr(-3)+";base64,"+n,i(f)}},f.src=c,an((function(){i(f)}),1e4)}});var t=r.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),r.elementPointerLock&&t.addEventListener("click",(function(e){!Ht&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),e.preventDefault())}),!1))}}function Xt(e,t,n,a){if(t&&r.K&&e==r.canvas)return r.K;if(t){var i={antialias:!1,alpha:!1};if(a)for(var o in a)i[o]=a[o];if(i=function(e,t){function n(){}"undefined"===typeof t.majorVersion&&"undefined"===typeof t.minorVersion&&(t.majorVersion=1,t.minorVersion=0);try{e.addEventListener("webglcontextcreationerror",n,!1);try{if(1==t.majorVersion&&0==t.minorVersion)var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);else{if(2!=t.majorVersion||0!=t.minorVersion)throw"Unsupported WebGL context version "+majorVersion+"."+minorVersion+"!";r=e.getContext("webgl2",t)}}finally{e.removeEventListener("webglcontextcreationerror",n,!1)}if(!r)throw":("}catch(i){return 0}return r?function(e,t){var n=On(Ln),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.Sc=r),Ln[n]=r,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&function(e){if(e||(e=En),!e.Ga){e.Ga=!0;var t=e.GLctx;if(2>e.version){var n=t.getExtension("ANGLE_instanced_arrays");n&&(t.vertexAttribDivisor=function(e,t){n.vertexAttribDivisorANGLE(e,t)},t.drawArraysInstanced=function(e,t,r,a){n.drawArraysInstancedANGLE(e,t,r,a)},t.drawElementsInstanced=function(e,t,r,a,i){n.drawElementsInstancedANGLE(e,t,r,a,i)});var r=t.getExtension("OES_vertex_array_object");r&&(t.createVertexArray=function(){return r.createVertexArrayOES()},t.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},t.bindVertexArray=function(e){r.bindVertexArrayOES(e)},t.isVertexArray=function(e){return r.isVertexArrayOES(e)});var a=t.getExtension("WEBGL_draw_buffers");a&&(t.drawBuffers=function(e,t){a.drawBuffersWEBGL(e,t)})}t.Uc=t.getExtension("EXT_disjoint_timer_query");var i="OES_texture_float OES_texture_half_float OES_standard_derivatives OES_vertex_array_object WEBGL_compressed_texture_s3tc WEBGL_depth_texture OES_element_index_uint EXT_texture_filter_anisotropic EXT_frag_depth WEBGL_draw_buffers ANGLE_instanced_arrays OES_texture_float_linear OES_texture_half_float_linear EXT_blend_minmax EXT_shader_texture_lod WEBGL_compressed_texture_pvrtc EXT_color_buffer_half_float WEBGL_color_buffer_float EXT_sRGB WEBGL_compressed_texture_etc1 EXT_disjoint_timer_query WEBGL_compressed_texture_etc WEBGL_compressed_texture_astc EXT_color_buffer_float WEBGL_compressed_texture_s3tc_srgb EXT_disjoint_timer_query_webgl2".split(" ");(e=t.getSupportedExtensions())&&0<e.length&&t.getSupportedExtensions().forEach((function(e){-1!=i.indexOf(e)&&t.getExtension(e)}))}}(r),n}(r,t):0}(e,i))var u=Ln[i].GLctx}else u=e.getContext("2d");return u?(n&&(t||b("undefined"===typeof Gn,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.K=u,t&&function(e){e?(e=Ln[e])&&(Gn=r.K=e.GLctx,En=e):Gn=r.K=En=null}(i),r.bd=t,Zt.forEach((function(e){e()})),Yt()),u):null}var Kt=!1,Jt=void 0,Qt=void 0;function $t(e,t,n){function a(){Wt=!1;var e=i.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},i.exitFullscreen=i.exitFullscreen.bind(document),Jt&&i.requestPointerLock(),Wt=!0,Qt?("undefined"!=typeof SDL&&(I[SDL.screen>>2]=8388608|P[SDL.screen>>2]),fn(r.canvas),cn()):fn(i)):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Qt?("undefined"!=typeof SDL&&(I[SDL.screen>>2]=-8388609&P[SDL.screen>>2]),fn(r.canvas),cn()):fn(i)),r.onFullScreen&&r.onFullScreen(Wt),r.onFullscreen&&r.onFullscreen(Wt)}"undefined"===typeof(Jt=e)&&(Jt=!0),"undefined"===typeof(Qt=t)&&(Qt=!1),"undefined"===typeof n&&null;var i=r.canvas;Kt||(Kt=!0,document.addEventListener("fullscreenchange",a,!1),document.addEventListener("mozfullscreenchange",a,!1),document.addEventListener("webkitfullscreenchange",a,!1),document.addEventListener("MSFullscreenChange",a,!1));var o=document.createElement("div");i.parentNode.insertBefore(o,i),o.appendChild(i),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?o.requestFullscreen({cd:n}):o.requestFullscreen()}function en(e,t,n){return f("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),en=function(e,t,n){return $t(e,t,n)},$t(e,t,n)}var tn=0;function nn(e){var t=Date.now();if(0===tn)tn=t+1e3/60;else for(;t+2>=tn;)tn+=1e3/60;setTimeout(e,Math.max(tn-t,0))}function rn(e){"undefined"===typeof window?nn(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||nn),window.requestAnimationFrame(e))}function an(e,t){r.noExitRuntime=!0,setTimeout((function(){y||e()}),t)}function on(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var un=[];function cn(){var e=r.canvas;un.forEach((function(t){t(e.width,e.height)}))}function fn(e,t,n){t&&n?(e.Ta=t,e.Fa=n):(t=e.Ta,n=e.Fa);var a=t,i=n;if(r.forcedAspectRatio&&0<r.forcedAspectRatio&&(a/i<r.forcedAspectRatio?a=Math.round(i*r.forcedAspectRatio):i=Math.round(a/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/a,screen.height/i);a=Math.round(a*o),i=Math.round(i*o)}Qt?(e.width!=a&&(e.width=a),e.height!=i&&(e.height=i),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),"undefined"!=typeof e.style&&(a!=t||i!=n?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}var sn,_n,ln,pn,dn=[],mn=void 0;function hn(e,t){P[e>>2]=t,P[e+4>>2]=t/4294967296|0}function yn(e,t,n,r){var a=P[e+8>>2];if(a){var i=M(a),o=e+112,u=M(o);u||(u="GET");var c=P[o+48>>2],f=P[o+52>>2],s=!!P[o+56>>2],_=P[o+64>>2],l=P[o+68>>2];a=P[o+72>>2];var p=P[o+76>>2],d=P[o+80>>2];o=P[o+84>>2];var m=!!(1&c),h=!!(2&c);c=!!(64&c),_=_?M(_):void 0,l=l?M(l):void 0;var y=p?M(p):void 0,b=new XMLHttpRequest;if(b.withCredentials=s,b.open(u,i,!c,_,l),c||(b.timeout=f),b.l=i,b.responseType=h?"moz-chunked-arraybuffer":"arraybuffer",p&&b.overrideMimeType(y),a)for(;(u=P[a>>2])&&(i=P[a+4>>2]);)a+=8,u=M(u),i=M(i),b.setRequestHeader(u,i);dn.push(b),P[e+0>>2]=dn.length,a=d&&o?O.slice(d,d+o):null,b.onload=function(r){var a=b.response?b.response.byteLength:0,i=0,o=0;m&&!h&&(i=hr(o=a),O.set(new Uint8Array(b.response),i)),P[e+12>>2]=i,hn(e+16,o),hn(e+24,0),a&&hn(e+32,a),C[e+40>>1]=b.readyState,4===b.readyState&&0===b.status&&(b.status=0<a?200:404),C[e+42>>1]=b.status,b.statusText&&A(b.statusText,O,e+44,64),200==b.status?t&&t(e,b,r):n&&n(e,b,r)},b.onerror=function(t){var r=b.status;4==b.readyState&&0==r&&(r=404),P[e+12>>2]=0,hn(e+16,0),hn(e+24,0),hn(e+32,0),C[e+40>>1]=b.readyState,C[e+42>>1]=r,n&&n(e,b,t)},b.ontimeout=function(t){n&&n(e,b,t)},b.onprogress=function(t){var n=m&&h&&b.response?b.response.byteLength:0,a=0;m&&h&&(a=hr(n),O.set(new Uint8Array(b.response),a)),P[e+12>>2]=a,hn(e+16,n),hn(e+24,t.loaded-n),hn(e+32,t.total),C[e+40>>1]=b.readyState,3<=b.readyState&&0===b.status&&0<t.loaded&&(b.status=200),C[e+42>>1]=b.status,b.statusText&&A(b.statusText,O,e+44,64),r&&r(e,b,t)};try{b.send(a)}catch(v){n&&n(e,b,v)}}else n(e,0,"no url specified!")}function bn(e,t,n,r,a){if(e){var i=P[t+112+60>>2];i||(i=P[t+8>>2]);var o=M(i);try{var u=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(n,o);u.onsuccess=function(){C[t+40>>1]=4,C[t+42>>1]=200,A("OK",O,t+44,64),r(t,0,o)},u.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=413,A("Payload Too Large",O,t+44,64),a(t,0,e)}}catch(c){a(t,0,c)}}else a(t,0,"IndexedDB not available!")}function vn(e,t,n,r){if(e){var a=P[t+112+60>>2];a||(a=P[t+8>>2]),a=M(a);try{var i=e.transaction(["FILES"],"readonly").objectStore("FILES").get(a);i.onsuccess=function(e){if(e.target.result){var a=(e=e.target.result).byteLength||e.length,i=hr(a);O.set(new Uint8Array(e),i),P[t+12>>2]=i,hn(t+16,a),hn(t+24,0),hn(t+32,a),C[t+40>>1]=4,C[t+42>>1]=200,A("OK",O,t+44,64),n(t,0,e)}else C[t+40>>1]=4,C[t+42>>1]=404,A("Not Found",O,t+44,64),r(t,0,"no data")},i.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=404,A("Not Found",O,t+44,64),r(t,0,e)}}catch(o){r(t,0,o)}}else r(t,0,"IndexedDB not available!")}function gn(e,t,n,r){if(e){var a=P[t+112+60>>2];a||(a=P[t+8>>2]),a=M(a);try{var i=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);i.onsuccess=function(e){e=e.target.result,P[t+12>>2]=0,hn(t+16,0),hn(t+24,0),hn(t+24,0),C[t+40>>1]=4,C[t+42>>1]=200,A("OK",O,t+44,64),n(t,0,e)},i.onerror=function(e){C[t+40>>1]=4,C[t+42>>1]=404,A("Not Found",O,t+44,64),r(t,0,e)}}catch(o){r(t,0,o)}}else r(t,0,"IndexedDB not available!")}var wn,Mn,kn=void 0;for(kn=wn=s(Math.max(12,1)),b(0==(3&wn)),Mn=wn+12;kn<Mn;kn+=4)I[kn>>2]=0;for(Mn=wn+12;kn<Mn;)T[kn++>>0]=0;var xn=1,zn=0,An=[],Ln=[],En=null,Tn=[];function On(e){for(var t=xn++,n=e.length;n<t;n++)e[n]=null;return t}function Sn(e,t,n,r){return e*=n,r*=Math.floor((e+r-1)/r),0>=t?0:(t-1)*r+e}function Cn(e,t,n,r,a){switch(t){case 6406:case 6409:case 6402:t=1;break;case 6410:t=2;break;case 6407:case 35904:t=3;break;case 6408:case 35906:t=4;break;default:return zn||(zn=1280),null}switch(e){case 5121:t*=1;break;case 5123:case 36193:t*=2;break;case 5125:case 5126:t*=4;break;case 34042:t=4;break;case 33635:case 32819:case 32820:t=2;break;default:return zn||(zn=1280),null}switch(n=Sn(n,r,t,4),e){case 5121:return O.subarray(a,a+n);case 5126:return B.subarray(a>>2,a+n>>2);case 5125:case 34042:return P.subarray(a>>2,a+n>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return C.subarray(a>>1,a+n>>1);default:return zn||(zn=1280),null}}function In(){return In.l||(In.l=[]),In.l.push(gr()),In.l.length-1}var Pn={},Bn=1;function Fn(e){return 0===e%4&&(0!==e%100||0===e%400)}function jn(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var Dn=[31,29,31,30,31,30,31,31,30,31,30,31],Rn=[31,28,31,30,31,30,31,31,30,31,30,31];function Vn(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(Fn(e.getFullYear())?Dn:Rn)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function qn(e,t,n,r){function a(e,t,n){for(e="number"===typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){e=Vn(new Date(e.j+1900,0,1),e.V);var t=u(new Date(e.getFullYear()+1,0,4));return 0>=o(u(new Date(e.getFullYear(),0,4)),e)?0>=o(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=I[r+40>>2];for(var s in r={Qa:I[r>>2],Pa:I[r+4>>2],U:I[r+8>>2],H:I[r+12>>2],C:I[r+16>>2],j:I[r+20>>2],va:I[r+24>>2],V:I[r+28>>2],ad:I[r+32>>2],Oa:I[r+36>>2],Ra:f?M(f):""},n=M(n),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"})n=n.replace(new RegExp(s,"g"),f[s]);var _="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),l="January February March April May June July August September October November December".split(" ");for(s in f={"%a":function(e){return _[e.va].substring(0,3)},"%A":function(e){return _[e.va]},"%b":function(e){return l[e.C].substring(0,3)},"%B":function(e){return l[e.C]},"%C":function(e){return i((e.j+1900)/100|0,2)},"%d":function(e){return i(e.H,2)},"%e":function(e){return a(e.H,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return i(e.U,2)},"%I":function(e){return 0==(e=e.U)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){return i(e.H+jn(Fn(e.j+1900)?Dn:Rn,e.C-1),3)},"%m":function(e){return i(e.C+1,2)},"%M":function(e){return i(e.Pa,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.U&&12>e.U?"AM":"PM"},"%S":function(e){return i(e.Qa,2)},"%t":function(){return"\\t"},"%u":function(e){return new Date(e.j+1900,e.C+1,e.H,0,0,0,0).getDay()||7},"%U":function(e){var t=new Date(e.j+1900,0,1),n=0===t.getDay()?t:Vn(t,7-t.getDay());return 0>o(n,e=new Date(e.j+1900,e.C,e.H))?i(Math.ceil((31-n.getDate()+(jn(Fn(e.getFullYear())?Dn:Rn,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%V":function(e){var t=u(new Date(e.j+1900,0,4)),n=u(new Date(e.j+1901,0,4)),r=Vn(new Date(e.j+1900,0,1),e.V);return 0>o(r,t)?"53":0>=o(n,r)?"01":i(Math.ceil((t.getFullYear()<e.j+1900?e.V+32-t.getDate():e.V+1-t.getDate())/7),2)},"%w":function(e){return new Date(e.j+1900,e.C+1,e.H,0,0,0,0).getDay()},"%W":function(e){var t=new Date(e.j,0,1),n=1===t.getDay()?t:Vn(t,0===t.getDay()?1:7-t.getDay()+1);return 0>o(n,e=new Date(e.j+1900,e.C,e.H))?i(Math.ceil((31-n.getDate()+(jn(Fn(e.getFullYear())?Dn:Rn,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%y":function(e){return(e.j+1900).toString().substring(2)},"%Y":function(e){return e.j+1900},"%z":function(e){var t=0<=(e=e.Oa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ra},"%%":function(){return"%"}},f)0<=n.indexOf(s)&&(n=n.replace(new RegExp(s,"g"),f[s](r)));return(s=Un(n,!1)).length>t?0:(T.set(s,e),s.length-1)}be="undefined"!==typeof dateNow?dateNow:"object"===typeof self&&self.performance&&"function"===typeof self.performance.now?function(){return self.performance.now()}:"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:Date.now,vt(),He=Array(4096),st(qe,"/"),lt("/tmp"),lt("/home"),lt("/home/web_user"),function(){if(lt("/dev"),ft(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),pt("/dev/null",259),je(1280,Re),je(1536,Ve),pt("/dev/tty",1280),pt("/dev/tty1",1536),"undefined"!==typeof crypto)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else t=function(){Mr("random_device")};gt("random",t),gt("urandom",t),lt("/dev/shm"),lt("/dev/shm/tmp")}(),lt("/proc"),lt("/proc/self"),lt("/proc/self/fd"),st({A:function(){var e=tt("/proc/self","fd",16895,73);return e.c={lookup:function(e,t){var n=Ue[+t];if(!n)throw new Xe(ge.B);return(e={parent:null,A:{ta:"fake"},c:{readlink:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd"),$.unshift((function(){if(!r.noFSInit&&!ut){b(!ut,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),ut=!0,vt(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?gt("stdin",r.stdin):dt("/dev/tty","/dev/stdin"),r.stdout?gt("stdout",null,r.stdout):dt("/dev/tty","/dev/stdout"),r.stderr?gt("stderr",null,r.stderr):dt("/dev/tty1","/dev/stderr");var e=ht("/dev/stdin","r");b(0===e.fd,"invalid handle for stdin ("+e.fd+")"),b(1===(e=ht("/dev/stdout","w")).fd,"invalid handle for stdout ("+e.fd+")"),b(2===(e=ht("/dev/stderr","w")).fd,"invalid handle for stderr ("+e.fd+")")}})),ee.push((function(){Ze=!1})),te.push((function(){ut=!1;var e=r._fflush;for(e&&e(0),e=0;e<Ue.length;e++){var t=Ue[e];t&&yt(t)}})),$.unshift((function(){})),te.push((function(){})),r.requestFullScreen=function(e,t,n){f("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),r.requestFullScreen=r.requestFullscreen,en(e,t,n)},r.requestFullscreen=function(e,t,n){$t(e,t,n)},r.requestAnimationFrame=function(e){rn(e)},r.setCanvasSize=function(e,t,n){fn(r.canvas,e,t),n||cn()},r.pauseMainLoop=function(){Bt=null,jt++},r.resumeMainLoop=function(){jt++;var e=Vt,t=qt,n=Dt;Dt=null,St(n,0,!1,Rt,!0),Ot(e,t),Bt()},r.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},r.createContext=function(e,t,n,r){return Xt(e,t,n,r)},function(){var e="undefined"===typeof ENVIRONMENT_IS_FETCH_WORKER;!function(e,t){try{var n=indexedDB.open("emscripten_filesystem",1)}catch(r){return void t(r)}n.onupgradeneeded=function(e){(e=e.target.result).objectStoreNames.contains("FILES")&&e.deleteObjectStore("FILES"),e.createObjectStore("FILES")},n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){t(e)}}((function(t){mn=t,e&&pe()}),(function(){mn=!1,e&&pe()})),"undefined"!==typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||le()}();for(var Gn,Nn=0;256>Nn;Nn++);for(Nn=0;32>Nn;Nn++)Tn.push(Array(Nn));function Un(e,t){var n=Array(L(e)+1);return e=A(e,n,0,n.length),t&&(n.length=e),n}N=s(4),R=V=l(j),G=l(q=R+X),I[N>>2]=G,D=!0,r.wasmTableSize=2468,r.wasmMaxTableSize=2468,r.Aa={},r.Ba={abort:Mr,assert:b,enlargeMemory:Y,getTotalMemory:function(){return K},abortOnCannotGrowMemory:function(){Mr("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+K+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_i:function(e){var t=gr();try{return r.dynCall_i(e)}catch(n){if(vr(t),"number"!==typeof n&&"longjmp"!==n)throw n;r.setThrew(1,0)}},invoke_ii:function(e,t){var n=gr();try{return r.dynCall_ii(e,t)}catch(a){if(vr(n),"number"!==typeof a&&"longjmp"!==a)throw a;r.setThrew(1,0)}},invoke_iii:function(e,t,n){var a=gr();try{return r.dynCall_iii(e,t,n)}catch(i){if(vr(a),"number"!==typeof i&&"longjmp"!==i)throw i;r.setThrew(1,0)}},invoke_iiii:function(e,t,n,a){var i=gr();try{return r.dynCall_iiii(e,t,n,a)}catch(o){if(vr(i),"number"!==typeof o&&"longjmp"!==o)throw o;r.setThrew(1,0)}},invoke_iiiii:function(e,t,n,a,i){var o=gr();try{return r.dynCall_iiiii(e,t,n,a,i)}catch(u){if(vr(o),"number"!==typeof u&&"longjmp"!==u)throw u;r.setThrew(1,0)}},invoke_iiiiid:function(e,t,n,a,i,o){var u=gr();try{return r.dynCall_iiiiid(e,t,n,a,i,o)}catch(c){if(vr(u),"number"!==typeof c&&"longjmp"!==c)throw c;r.setThrew(1,0)}},invoke_iiiiii:function(e,t,n,a,i,o){var u=gr();try{return r.dynCall_iiiiii(e,t,n,a,i,o)}catch(c){if(vr(u),"number"!==typeof c&&"longjmp"!==c)throw c;r.setThrew(1,0)}},invoke_iiiiiid:function(e,t,n,a,i,o,u){var c=gr();try{return r.dynCall_iiiiiid(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_iiiiiii:function(e,t,n,a,i,o,u){var c=gr();try{return r.dynCall_iiiiiii(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_iiiiiiii:function(e,t,n,a,i,o,u,c){var f=gr();try{return r.dynCall_iiiiiiii(e,t,n,a,i,o,u,c)}catch(s){if(vr(f),"number"!==typeof s&&"longjmp"!==s)throw s;r.setThrew(1,0)}},invoke_iiiiiiiii:function(e,t,n,a,i,o,u,c,f){var s=gr();try{return r.dynCall_iiiiiiiii(e,t,n,a,i,o,u,c,f)}catch(_){if(vr(s),"number"!==typeof _&&"longjmp"!==_)throw _;r.setThrew(1,0)}},invoke_iiiiij:function(e,t,n,a,i,o,u){var c=gr();try{return r.dynCall_iiiiij(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_iiji:function(e,t,n,a,i){var o=gr();try{return r.dynCall_iiji(e,t,n,a,i)}catch(u){if(vr(o),"number"!==typeof u&&"longjmp"!==u)throw u;r.setThrew(1,0)}},invoke_v:function(e){var t=gr();try{r.dynCall_v(e)}catch(n){if(vr(t),"number"!==typeof n&&"longjmp"!==n)throw n;r.setThrew(1,0)}},invoke_vi:function(e,t){var n=gr();try{r.dynCall_vi(e,t)}catch(a){if(vr(n),"number"!==typeof a&&"longjmp"!==a)throw a;r.setThrew(1,0)}},invoke_vii:function(e,t,n){var a=gr();try{r.dynCall_vii(e,t,n)}catch(i){if(vr(a),"number"!==typeof i&&"longjmp"!==i)throw i;r.setThrew(1,0)}},invoke_viiffii:function(e,t,n,a,i,o,u){var c=gr();try{r.dynCall_viiffii(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_viii:function(e,t,n,a){var i=gr();try{r.dynCall_viii(e,t,n,a)}catch(o){if(vr(i),"number"!==typeof o&&"longjmp"!==o)throw o;r.setThrew(1,0)}},invoke_viiifffii:function(e,t,n,a,i,o,u,c,f){var s=gr();try{r.dynCall_viiifffii(e,t,n,a,i,o,u,c,f)}catch(_){if(vr(s),"number"!==typeof _&&"longjmp"!==_)throw _;r.setThrew(1,0)}},invoke_viiiffii:function(e,t,n,a,i,o,u,c){var f=gr();try{r.dynCall_viiiffii(e,t,n,a,i,o,u,c)}catch(s){if(vr(f),"number"!==typeof s&&"longjmp"!==s)throw s;r.setThrew(1,0)}},invoke_viiii:function(e,t,n,a,i){var o=gr();try{r.dynCall_viiii(e,t,n,a,i)}catch(u){if(vr(o),"number"!==typeof u&&"longjmp"!==u)throw u;r.setThrew(1,0)}},invoke_viiiii:function(e,t,n,a,i,o){var u=gr();try{r.dynCall_viiiii(e,t,n,a,i,o)}catch(c){if(vr(u),"number"!==typeof c&&"longjmp"!==c)throw c;r.setThrew(1,0)}},invoke_viiiiiffffffffffffffff:function(e,t,n,a,i,o,u,c,f,s,_,l,p,d,m,h,y,b,v,g,w,M){var k=gr();try{r.dynCall_viiiiiffffffffffffffff(e,t,n,a,i,o,u,c,f,s,_,l,p,d,m,h,y,b,v,g,w,M)}catch(x){if(vr(k),"number"!==typeof x&&"longjmp"!==x)throw x;r.setThrew(1,0)}},invoke_viiiiii:function(e,t,n,a,i,o,u){var c=gr();try{r.dynCall_viiiiii(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_viijii:function(e,t,n,a,i,o,u){var c=gr();try{r.dynCall_viijii(e,t,n,a,i,o,u)}catch(f){if(vr(c),"number"!==typeof f&&"longjmp"!==f)throw f;r.setThrew(1,0)}},invoke_vij:function(e,t,n,a){var i=gr();try{r.dynCall_vij(e,t,n,a)}catch(o){if(vr(i),"number"!==typeof o&&"longjmp"!==o)throw o;r.setThrew(1,0)}},invoke_viji:function(e,t,n,a,i){var o=gr();try{r.dynCall_viji(e,t,n,a,i)}catch(u){if(vr(o),"number"!==typeof u&&"longjmp"!==u)throw u;r.setThrew(1,0)}},invoke_vijii:function(e,t,n,a,i,o){var u=gr();try{r.dynCall_vijii(e,t,n,a,i,o)}catch(c){if(vr(u),"number"!==typeof c&&"longjmp"!==c)throw c;r.setThrew(1,0)}},___buildEnvironment:function e(t){if(e.Da)var n=I[t>>2],a=I[n>>2];else e.Da=!0,ye.USER=ye.LOGNAME="web_user",ye.PATH="/",ye.PWD="/",ye.HOME="/home/web_user",ye.LANG="C.UTF-8",ye._=r.thisProgram,a=D?re?hr(1024):_(1024):s(1024),n=D?re?hr(256):_(256):s(256),I[n>>2]=a,I[t>>2]=n;t=[];var i,o=0;for(i in ye)if("string"===typeof ye[i]){var u=i+"="+ye[i];t.push(u),o+=u.length}if(1024<o)throw Error("Environment size exceeded TOTAL_ENV_SIZE!");for(i=0;i<t.length;i++){o=u=t[i];for(var c=a,f=0;f<o.length;++f)T[c++>>0]=o.charCodeAt(f);T[c>>0]=0,I[n+4*i>>2]=a,a+=u.length+1}I[n+4*t.length>>2]=0},___clock_gettime:function(){return Me.apply(null,arguments)},___cxa_allocate_exception:function(e){return hr(e)},___cxa_begin_catch:function(e){var t=ze[e];return t&&!t.ma&&(t.ma=!0,lr.$--),t&&(t.L=!1),xe.push(e),(t=Ae(e))&&ze[t].J++,e},___cxa_current_primary_exception:function(){var e=xe[xe.length-1]||0;if(e){var t=Ae(e);t&&ze[t].J++}return e},___cxa_decrement_exception_refcount:function(e){Le(Ae(e))},___cxa_end_catch:function(){r.setThrew(0);var e=xe.pop();e&&(Le(Ae(e)),ke=0)},___cxa_find_matching_catch:function e(){var t=ke;if(!t)return 0|(yr(0),0);var n=ze[t],a=n.type;if(!a)return 0|(yr(0),t);var i=Array.prototype.slice.call(arguments);r.___cxa_is_pointer_type(a),e.buffer||(e.buffer=hr(4)),I[e.buffer>>2]=t,t=e.buffer;for(var o=0;o<i.length;o++)if(i[o]&&r.___cxa_can_catch(i[o],a,t))return t=I[t>>2],n.ka=t,0|(yr(i[o]),t);return t=I[t>>2],0|(yr(a),t)},___cxa_free_exception:Ee,___cxa_increment_exception_refcount:function(e){(e=Ae(e))&&ze[e].J++},___cxa_pure_virtual:function(){throw y=!0,"Pure virtual function called!"},___cxa_rethrow:Te,___cxa_rethrow_primary_exception:function(e){e&&(xe.push(e),ze[e].L=!0,Te())},___cxa_throw:function(e,t,n){throw ze[e]={Ka:e,ka:e,type:t,oa:n,J:0,ma:!1,L:!1},ke=e,"uncaught_exception"in lr?lr.$++:lr.$=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___cxa_uncaught_exception:function(){return!!lr.$},___gxx_personality_v0:function(){},___lock:function(){},___map_file:function(){return we(ge.I),-1},___resumeException:function(e){throw ke||(ke=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___setErrNo:we,___syscall140:function(e,t){Lt=t;try{var n=Tt();Et();var r=Et(),a=Et(),i=Et();return bt(n,r,i),I[a>>2]=n.position,n.ba&&0===r&&0===i&&(n.ba=null),0}catch(o){return"undefined"!==typeof zt&&o instanceof Xe||Mr(o),-o.v}},___syscall145:function(e,t){Lt=t;try{var n=Tt(),r=Et();e:{var a=Et();for(t=e=0;t<a;t++){var i=I[r+(8*t+4)>>2],o=n,u=I[r+8*t>>2],c=i,f=void 0,s=T;if(0>c||0>f)throw new Xe(ge.i);if(null===o.fd)throw new Xe(ge.B);if(1===(2097155&o.flags))throw new Xe(ge.B);if(16384===(61440&o.node.mode))throw new Xe(ge.N);if(!o.f.read)throw new Xe(ge.i);var _="undefined"!==typeof f;if(_){if(!o.seekable)throw new Xe(ge.O)}else f=o.position;var l=o.f.read(o,s,u,c,f);_||(o.position+=l);var p=l;if(0>p){var d=-1;break e}if(e+=p,p<i)break}d=e}return d}catch(m){return"undefined"!==typeof zt&&m instanceof Xe||Mr(m),-m.v}},___syscall146:function(e,t){Lt=t;try{var n=Tt(),r=Et();e:{var a=Et();for(t=e=0;t<a;t++){var i=n,o=I[r+8*t>>2],u=I[r+(8*t+4)>>2],c=T,f=void 0;if(0>u||0>f)throw new Xe(ge.i);if(null===i.fd)throw new Xe(ge.B);if(0===(2097155&i.flags))throw new Xe(ge.B);if(16384===(61440&i.node.mode))throw new Xe(ge.N);if(!i.f.write)throw new Xe(ge.i);1024&i.flags&&bt(i,0,2);var s="undefined"!==typeof f;if(s){if(!i.seekable)throw new Xe(ge.O)}else f=i.position;var _=i.f.write(i,c,o,u,f,void 0);s||(i.position+=_);try{i.path&&Ye.onWriteToFile&&Ye.onWriteToFile(i.path)}catch(d){console.log("FS.trackingDelegate[\'onWriteToFile\'](\'"+path+"\') threw an exception: "+d.message)}var l=_;if(0>l){var p=-1;break e}e+=l}p=e}return p}catch(d){return"undefined"!==typeof zt&&d instanceof Xe||Mr(d),-d.v}},___syscall196:function(e,t){Lt=t;try{var n=M(Et());e:{var r=Et();try{var a=Je(n,{aa:!1}).node;if(!a)throw new Xe(ge.u);if(!a.c.m)throw new Xe(ge.I);var i=a.c.m(a)}catch(u){if(u&&u.node&&Ce(n)!==Ce(Qe(u.node))){var o=-ge.Z;break e}throw u}I[r>>2]=i.dev,I[r+4>>2]=0,I[r+8>>2]=i.ino,I[r+12>>2]=i.mode,I[r+16>>2]=i.nlink,I[r+20>>2]=i.uid,I[r+24>>2]=i.gid,I[r+28>>2]=i.rdev,I[r+32>>2]=0,I[r+36>>2]=i.size,I[r+40>>2]=4096,I[r+44>>2]=i.blocks,I[r+48>>2]=i.atime.getTime()/1e3|0,I[r+52>>2]=0,I[r+56>>2]=i.mtime.getTime()/1e3|0,I[r+60>>2]=0,I[r+64>>2]=i.ctime.getTime()/1e3|0,I[r+68>>2]=0,I[r+72>>2]=i.ino,o=0}return o}catch(u){return"undefined"!==typeof zt&&u instanceof Xe||Mr(u),-u.v}},___syscall221:function(e,t){Lt=t;try{var n=Tt();switch(Et()){case 0:var r=Et();return 0>r?-ge.i:ht(n.path,n.flags,0,r).fd;case 1:case 2:case 13:case 14:case 13:case 14:return 0;case 3:return n.flags;case 4:return r=Et(),n.flags|=r,0;case 12:case 12:return r=Et(),S[r+0>>1]=2,0;case 16:case 8:default:return-ge.i;case 9:return we(ge.i),-1}}catch(a){return"undefined"!==typeof zt&&a instanceof Xe||Mr(a),-a.v}},___syscall5:function(e,t){Lt=t;try{return ht(M(Et()),Et(),Et()).fd}catch(n){return"undefined"!==typeof zt&&n instanceof Xe||Mr(n),-n.v}},___syscall54:function(e,t){Lt=t;try{var n=Tt(),r=Et();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-ge.D;case 21519:if(!n.tty)return-ge.D;var a=Et();return I[a>>2]=0;case 21520:return n.tty?-ge.i:-ge.D;case 21531:if(e=a=Et(),!n.f.Ha)throw new Xe(ge.D);return n.f.Ha(n,r,e);default:Mr("bad ioctl syscall "+r)}}catch(i){return"undefined"!==typeof zt&&i instanceof Xe||Mr(i),-i.v}},___syscall6:function(e,t){Lt=t;try{return yt(Tt()),0}catch(n){return"undefined"!==typeof zt&&n instanceof Xe||Mr(n),-n.v}},___syscall91:function(e,t){Lt=t;try{var n=Et(),r=Et(),a=At[n];if(!a)return 0;if(r===a.Xc){var i=Ue[a.fd],o=a.flags,u=new Uint8Array(O.subarray(n,n+r));i&&i.f.T&&i.f.T(i,u,0,r,o),At[n]=null,a.za&&mr(a.Yc)}return 0}catch(c){return"undefined"!==typeof zt&&c instanceof Xe||Mr(c),-c.v}},___unlock:function(){},__addDays:Vn,__arraySum:jn,__emscripten_fetch_cache_data:bn,__emscripten_fetch_delete_cached_data:gn,__emscripten_fetch_load_cached_data:vn,__emscripten_fetch_xhr:yn,__emscripten_get_fetch_work_queue:function(){return wn},__isLeapYear:Fn,_abort:function(){r.abort()},_clock_gettime:Me,_emidentity:function(){var e=new URL(location.origin).hostname;if(0===e.length&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))0===e.indexOf("10.")&&(e="10.*"),0===e.indexOf("192.168.")&&(e="192.168.*"),0===e.indexOf("172.")&&(e="172.*"),0===e.indexOf("127.")&&(e="127.*");else{var t=new RegExp("("+String.fromCharCode(92)+".ngrok"+String.fromCharCode(92)+".io)$","i");t.test(e)&&(e="*.ngrok.io"),(t=new RegExp("("+String.fromCharCode(92)+".arweb"+String.fromCharCode(92)+".app)$","i")).test(e)&&(e="*.arweb.app")}t=L(e)+1;var n=hr(t);return A(e,O,n,t+1),n},_emlicerr:function(){self.postMessage({t:"licerr"})},_emscripten_asm_const_i:function(e){return me[e]()},_emscripten_async_call:function(e,t,n){function a(){!function(e){if(e){b("vi"),m.vi||(m.vi={});var t=m.vi;return t[e]||(t[e]=function(t){return h("vi",e,[t])}),t[e]}}(e)(t)}r.noExitRuntime=!0,0<=n?an(a,n):function(e){rn((function(){y||e()}))}(a)},_emscripten_get_now:be,_emscripten_get_now_is_monotonic:ve,_emscripten_is_main_browser_thread:function(){return!1},_emscripten_is_main_runtime_thread:function(){return 1},_emscripten_memcpy_big:function(e,t,n){return O.set(O.subarray(t,t+n),e),e},_emscripten_set_main_loop:St,_emscripten_set_main_loop_timing:Ot,_emscripten_start_fetch:function(e,t,n,a){function i(e){l?r.dynCall_vi(l,e):n&&n(e)}function o(e){p?r.dynCall_vi(p,e):a&&a(e)}function u(e,n){bn(mn,e,n.response,(function(e){_?r.dynCall_vi(_,e):t&&t(e)}),(function(e){_?r.dynCall_vi(_,e):t&&t(e)}))}function c(e){_?r.dynCall_vi(_,e):t&&t(e)}"undefined"!==typeof r&&(r.noExitRuntime=!0);var f=e+112,s=M(f),_=P[f+36>>2],l=P[f+40>>2],p=P[f+44>>2],d=P[f+48>>2],m=!!(4&d),h=!!(32&d);if(16&d&&"EM_IDB_STORE"!==s&&"EM_IDB_DELETE"!==s){if(h)return 0;yn(e,m?u:c,i,o)}else{if(!mn)return i(e),0;"EM_IDB_STORE"===s?(s=P[f+80>>2],f=O.slice(s,s+P[f+84>>2]),bn(mn,e,f,c,i)):"EM_IDB_DELETE"===s?gn(mn,e,c,i):vn(mn,e,c,h?i:m?function(e){yn(e,u,i,o)}:function(e){yn(e,c,i,o)})}return e},_getenv:function e(t){if(0===t)return 0;if(t=M(t),!ye.hasOwnProperty(t))return 0;e.l&&mr(e.l);var n=L(t=ye[t])+1,r=hr(n);return r&&A(t,T,r,n),e.l=r},_gettimeofday:function(e){var t=Date.now();return I[e>>2]=t/1e3|0,I[e+4>>2]=t%1e3*1e3|0,0},_glBindTexture:function(e,t){Gn.bindTexture(e,t?An[t]:null)},_glGenTextures:function(e,t){for(var n=0;n<e;n++){var r=Gn.createTexture();if(!r){for(zn||(zn=1282);n<e;)I[t+4*n++>>2]=0;break}var a=On(An);r.name=a,An[a]=r,I[t+4*n>>2]=a}},_glTexImage2D:function(e,t,n,r,a,i,o,u,c){var f=null;c&&(f=Cn(u,o,r,a,c)),Gn.texImage2D(e,t,n,r,a,i,o,u,f)},_glTexParameteri:function(e,t,n){Gn.texParameteri(e,t,n)},_llvm_exp2_f32:function(e){return Math.pow(2,e)},_llvm_stackrestore:function(e){var t=In.l[e];In.l.splice(e,1),vr(t)},_llvm_stacksave:In,_llvm_trap:function(){Mr("trap!")},_pthread_cond_destroy:function(){return 0},_pthread_cond_init:function(){return 0},_pthread_cond_signal:function(){return 0},_pthread_cond_wait:function(){return 0},_pthread_create:function(){return 11},_pthread_getspecific:function(e){return Pn[e]||0},_pthread_join:function(){},_pthread_key_create:function(e){return 0==e?ge.i:(I[e>>2]=Bn,Pn[Bn]=0,Bn++,0)},_pthread_mutex_destroy:function(){},_pthread_mutex_init:function(){},_pthread_once:function e(t,n){e.l||(e.l={}),t in e.l||(r.dynCall_v(n),e.l[t]=1)},_pthread_setspecific:function(e,t){return e in Pn?(Pn[e]=t,0):ge.i},_strftime:qn,_strftime_l:function(e,t,n,r){return qn(e,t,n,r)},_sysconf:function(e){switch(e){case 30:case 75:return 16384;case 85:return 131068;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return we(ge.i),-1},emscriptenWebGLComputeImageSize:Sn,emscriptenWebGLGetTexPixelData:Cn,DYNAMICTOP_PTR:N,tempDoublePtr:he,STACKTOP:V,STACK_MAX:q};var Wn=r.asm(r.Aa,r.Ba,E);r.asm=Wn;var Hn=r.__GLOBAL__I_000101=function(){return r.asm.__GLOBAL__I_000101.apply(null,arguments)},Zn=r.__GLOBAL__sub_I_AZHighLevelEncoder_cpp=function(){return r.asm.__GLOBAL__sub_I_AZHighLevelEncoder_cpp.apply(null,arguments)},Yn=r.__GLOBAL__sub_I_CameraSource_cpp=function(){return r.asm.__GLOBAL__sub_I_CameraSource_cpp.apply(null,arguments)},Xn=r.__GLOBAL__sub_I_CharacterSetECI_cpp=function(){return r.asm.__GLOBAL__sub_I_CharacterSetECI_cpp.apply(null,arguments)},Kn=r.__GLOBAL__sub_I_DMECEncoder_cpp=function(){return r.asm.__GLOBAL__sub_I_DMECEncoder_cpp.apply(null,arguments)},Jn=r.__GLOBAL__sub_I_DMHighLevelEncoder_cpp=function(){return r.asm.__GLOBAL__sub_I_DMHighLevelEncoder_cpp.apply(null,arguments)},Qn=r.__GLOBAL__sub_I_GridSampler_cpp=function(){return r.asm.__GLOBAL__sub_I_GridSampler_cpp.apply(null,arguments)},$n=r.__GLOBAL__sub_I_ODCode128Patterns_cpp=function(){return r.asm.__GLOBAL__sub_I_ODCode128Patterns_cpp.apply(null,arguments)},er=r.__GLOBAL__sub_I_ODRSSExpandedReader_cpp=function(){return r.asm.__GLOBAL__sub_I_ODRSSExpandedReader_cpp.apply(null,arguments)},tr=r.__GLOBAL__sub_I_PDFDetector_cpp=function(){return r.asm.__GLOBAL__sub_I_PDFDetector_cpp.apply(null,arguments)},nr=r.__GLOBAL__sub_I_StandardStatsManager_cpp=function(){return r.asm.__GLOBAL__sub_I_StandardStatsManager_cpp.apply(null,arguments)},rr=r.__GLOBAL__sub_I_barcode_finder_cpp=function(){return r.asm.__GLOBAL__sub_I_barcode_finder_cpp.apply(null,arguments)},ar=r.__GLOBAL__sub_I_face_landmark_cpp=function(){return r.asm.__GLOBAL__sub_I_face_landmark_cpp.apply(null,arguments)},ir=r.__GLOBAL__sub_I_face_mesh_cpp=function(){return r.asm.__GLOBAL__sub_I_face_mesh_cpp.apply(null,arguments)},or=r.__GLOBAL__sub_I_face_tracker_cpp=function(){return r.asm.__GLOBAL__sub_I_face_tracker_cpp.apply(null,arguments)},ur=r.__GLOBAL__sub_I_image_tracker_cpp=function(){return r.asm.__GLOBAL__sub_I_image_tracker_cpp.apply(null,arguments)},cr=r.__GLOBAL__sub_I_instant_tracker_cpp=function(){return r.asm.__GLOBAL__sub_I_instant_tracker_cpp.apply(null,arguments)},fr=r.__GLOBAL__sub_I_iostream_cpp=function(){return r.asm.__GLOBAL__sub_I_iostream_cpp.apply(null,arguments)},sr=r.__GLOBAL__sub_I_pipeline_cpp=function(){return r.asm.__GLOBAL__sub_I_pipeline_cpp.apply(null,arguments)},_r=r.__GLOBAL__sub_I_zappar_face_tracker_cpp=function(){return r.asm.__GLOBAL__sub_I_zappar_face_tracker_cpp.apply(null,arguments)};r.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=function(){return r.asm.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=function(){return r.asm.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i.apply(null,arguments)},r.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=function(){return r.asm.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=function(){return r.asm.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=function(){return r.asm.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=function(){return r.asm.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=function(){return r.asm.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i.apply(null,arguments)},r.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=function(){return r.asm.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=function(){return r.asm.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=function(){return r.asm.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=function(){return r.asm.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti.apply(null,arguments)},r.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=function(){return r.asm.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii.apply(null,arguments)},r.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=function(){return r.asm.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=function(){return r.asm.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc.apply(null,arguments)},r.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=function(){return r.asm.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=function(){return r.asm.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=function(){return r.asm.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=function(){return r.asm.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=function(){return r.asm.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii.apply(null,arguments)},r.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=function(){return r.asm.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii.apply(null,arguments)};var lr=r.__ZSt18uncaught_exceptionv=function(){return r.asm.__ZSt18uncaught_exceptionv.apply(null,arguments)};r.___cxa_can_catch=function(){return r.asm.___cxa_can_catch.apply(null,arguments)},r.___cxa_is_pointer_type=function(){return r.asm.___cxa_is_pointer_type.apply(null,arguments)},r.___em_js__emidentity=function(){return r.asm.___em_js__emidentity.apply(null,arguments)},r.___em_js__emlicerr=function(){return r.asm.___em_js__emlicerr.apply(null,arguments)};var pr=r.___emscripten_environ_constructor=function(){return r.asm.___emscripten_environ_constructor.apply(null,arguments)};r.___errno_location=function(){return r.asm.___errno_location.apply(null,arguments)},r.__get_environ=function(){return r.asm.__get_environ.apply(null,arguments)};var dr=r._emscripten_replace_memory=function(){return r.asm._emscripten_replace_memory.apply(null,arguments)},mr=r._free=function(){return r.asm._free.apply(null,arguments)};r._llvm_bswap_i32=function(){return r.asm._llvm_bswap_i32.apply(null,arguments)},r._llvm_round_f32=function(){return r.asm._llvm_round_f32.apply(null,arguments)},r._llvm_round_f64=function(){return r.asm._llvm_round_f64.apply(null,arguments)};var hr=r._malloc=function(){return r.asm._malloc.apply(null,arguments)};r._memcpy=function(){return r.asm._memcpy.apply(null,arguments)},r._memmove=function(){return r.asm._memmove.apply(null,arguments)},r._memset=function(){return r.asm._memset.apply(null,arguments)},r._pthread_cond_broadcast=function(){return r.asm._pthread_cond_broadcast.apply(null,arguments)},r._pthread_mutex_lock=function(){return r.asm._pthread_mutex_lock.apply(null,arguments)},r._pthread_mutex_unlock=function(){return r.asm._pthread_mutex_unlock.apply(null,arguments)},r._round=function(){return r.asm._round.apply(null,arguments)},r._sbrk=function(){return r.asm._sbrk.apply(null,arguments)},r._zappar_analytics_project_id_set=function(){return r.asm._zappar_analytics_project_id_set.apply(null,arguments)},r._zappar_barcode_finder_create=function(){return r.asm._zappar_barcode_finder_create.apply(null,arguments)},r._zappar_barcode_finder_destroy=function(){return r.asm._zappar_barcode_finder_destroy.apply(null,arguments)},r._zappar_barcode_finder_enabled=function(){return r.asm._zappar_barcode_finder_enabled.apply(null,arguments)},r._zappar_barcode_finder_enabled_set=function(){return r.asm._zappar_barcode_finder_enabled_set.apply(null,arguments)},r._zappar_barcode_finder_formats=function(){return r.asm._zappar_barcode_finder_formats.apply(null,arguments)},r._zappar_barcode_finder_formats_set=function(){return r.asm._zappar_barcode_finder_formats_set.apply(null,arguments)},r._zappar_barcode_finder_found_format=function(){return r.asm._zappar_barcode_finder_found_format.apply(null,arguments)},r._zappar_barcode_finder_found_number=function(){return r.asm._zappar_barcode_finder_found_number.apply(null,arguments)},r._zappar_barcode_finder_found_text=function(){return r.asm._zappar_barcode_finder_found_text.apply(null,arguments)},r._zappar_camera_default_device_id=function(){return r.asm._zappar_camera_default_device_id.apply(null,arguments)},r._zappar_camera_source_create=function(){return r.asm._zappar_camera_source_create.apply(null,arguments)},r._zappar_camera_source_destroy=function(){return r.asm._zappar_camera_source_destroy.apply(null,arguments)},r._zappar_camera_source_pause=function(){return r.asm._zappar_camera_source_pause.apply(null,arguments)},r._zappar_camera_source_start=function(){return r.asm._zappar_camera_source_start.apply(null,arguments)},r._zappar_face_landmark_anchor_pose=function(){return r.asm._zappar_face_landmark_anchor_pose.apply(null,arguments)},r._zappar_face_landmark_create=function(){return r.asm._zappar_face_landmark_create.apply(null,arguments)},r._zappar_face_landmark_destroy=function(){return r.asm._zappar_face_landmark_destroy.apply(null,arguments)},r._zappar_face_mesh_create=function(){return r.asm._zappar_face_mesh_create.apply(null,arguments)},r._zappar_face_mesh_destroy=function(){return r.asm._zappar_face_mesh_destroy.apply(null,arguments)},r._zappar_face_tracker_anchor_count=function(){return r.asm._zappar_face_tracker_anchor_count.apply(null,arguments)},r._zappar_face_tracker_anchor_expression_coefficients=function(){return r.asm._zappar_face_tracker_anchor_expression_coefficients.apply(null,arguments)},r._zappar_face_tracker_anchor_id=function(){return r.asm._zappar_face_tracker_anchor_id.apply(null,arguments)},r._zappar_face_tracker_anchor_identity_coefficients=function(){return r.asm._zappar_face_tracker_anchor_identity_coefficients.apply(null,arguments)},r._zappar_face_tracker_anchor_pose_raw=function(){return r.asm._zappar_face_tracker_anchor_pose_raw.apply(null,arguments)},r._zappar_face_tracker_create=function(){return r.asm._zappar_face_tracker_create.apply(null,arguments)},r._zappar_face_tracker_destroy=function(){return r.asm._zappar_face_tracker_destroy.apply(null,arguments)},r._zappar_face_tracker_enabled=function(){return r.asm._zappar_face_tracker_enabled.apply(null,arguments)},r._zappar_face_tracker_enabled_set=function(){return r.asm._zappar_face_tracker_enabled_set.apply(null,arguments)},r._zappar_face_tracker_max_faces=function(){return r.asm._zappar_face_tracker_max_faces.apply(null,arguments)},r._zappar_face_tracker_max_faces_set=function(){return r.asm._zappar_face_tracker_max_faces_set.apply(null,arguments)},r._zappar_face_tracker_model_load_from_memory=function(){return r.asm._zappar_face_tracker_model_load_from_memory.apply(null,arguments)},r._zappar_face_tracker_model_loaded_version=function(){return r.asm._zappar_face_tracker_model_loaded_version.apply(null,arguments)},r._zappar_has_initialized=function(){return r.asm._zappar_has_initialized.apply(null,arguments)},r._zappar_image_tracker_anchor_count=function(){return r.asm._zappar_image_tracker_anchor_count.apply(null,arguments)},r._zappar_image_tracker_anchor_id=function(){return r.asm._zappar_image_tracker_anchor_id.apply(null,arguments)},r._zappar_image_tracker_anchor_pose_raw=function(){return r.asm._zappar_image_tracker_anchor_pose_raw.apply(null,arguments)},r._zappar_image_tracker_create=function(){return r.asm._zappar_image_tracker_create.apply(null,arguments)},r._zappar_image_tracker_destroy=function(){return r.asm._zappar_image_tracker_destroy.apply(null,arguments)},r._zappar_image_tracker_enabled=function(){return r.asm._zappar_image_tracker_enabled.apply(null,arguments)},r._zappar_image_tracker_enabled_set=function(){return r.asm._zappar_image_tracker_enabled_set.apply(null,arguments)},r._zappar_image_tracker_target_count=function(){return r.asm._zappar_image_tracker_target_count.apply(null,arguments)},r._zappar_image_tracker_target_load_from_memory=function(){return r.asm._zappar_image_tracker_target_load_from_memory.apply(null,arguments)},r._zappar_image_tracker_target_loaded_version=function(){return r.asm._zappar_image_tracker_target_loaded_version.apply(null,arguments)},r._zappar_instant_world_tracker_anchor_pose_raw=function(){return r.asm._zappar_instant_world_tracker_anchor_pose_raw.apply(null,arguments)},r._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset=function(){return r.asm._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset.apply(null,arguments)},r._zappar_instant_world_tracker_create=function(){return r.asm._zappar_instant_world_tracker_create.apply(null,arguments)},r._zappar_instant_world_tracker_destroy=function(){return r.asm._zappar_instant_world_tracker_destroy.apply(null,arguments)},r._zappar_instant_world_tracker_enabled=function(){return r.asm._zappar_instant_world_tracker_enabled.apply(null,arguments)},r._zappar_instant_world_tracker_enabled_set=function(){return r.asm._zappar_instant_world_tracker_enabled_set.apply(null,arguments)},r._zappar_invert=function(){return r.asm._zappar_invert.apply(null,arguments)},r._zappar_loaded=function(){return r.asm._zappar_loaded.apply(null,arguments)},r._zappar_log_level=function(){return r.asm._zappar_log_level.apply(null,arguments)},r._zappar_log_level_set=function(){return r.asm._zappar_log_level_set.apply(null,arguments)},r._zappar_pipeline_camera_frame_camera_attitude=function(){return r.asm._zappar_pipeline_camera_frame_camera_attitude.apply(null,arguments)},r._zappar_pipeline_camera_frame_submit=function(){return r.asm._zappar_pipeline_camera_frame_submit.apply(null,arguments)},r._zappar_pipeline_camera_frame_texture_gl=function(){return r.asm._zappar_pipeline_camera_frame_texture_gl.apply(null,arguments)},r._zappar_pipeline_camera_frame_texture_matrix=function(){return r.asm._zappar_pipeline_camera_frame_texture_matrix.apply(null,arguments)},r._zappar_pipeline_camera_frame_upload_gl=function(){return r.asm._zappar_pipeline_camera_frame_upload_gl.apply(null,arguments)},r._zappar_pipeline_camera_frame_user_data=function(){return r.asm._zappar_pipeline_camera_frame_user_data.apply(null,arguments)},r._zappar_pipeline_camera_frame_user_facing=function(){return r.asm._zappar_pipeline_camera_frame_user_facing.apply(null,arguments)},r._zappar_pipeline_camera_model=function(){return r.asm._zappar_pipeline_camera_model.apply(null,arguments)},r._zappar_pipeline_camera_pose_default=function(){return r.asm._zappar_pipeline_camera_pose_default.apply(null,arguments)},r._zappar_pipeline_camera_pose_with_attitude=function(){return r.asm._zappar_pipeline_camera_pose_with_attitude.apply(null,arguments)},r._zappar_pipeline_camera_pose_with_origin=function(){return r.asm._zappar_pipeline_camera_pose_with_origin.apply(null,arguments)},r._zappar_pipeline_create=function(){return r.asm._zappar_pipeline_create.apply(null,arguments)},r._zappar_pipeline_destroy=function(){return r.asm._zappar_pipeline_destroy.apply(null,arguments)},r._zappar_pipeline_frame_number=function(){return r.asm._zappar_pipeline_frame_number.apply(null,arguments)},r._zappar_pipeline_frame_update=function(){return r.asm._zappar_pipeline_frame_update.apply(null,arguments)},r._zappar_pipeline_motion_accelerometer_submit=function(){return r.asm._zappar_pipeline_motion_accelerometer_submit.apply(null,arguments)},r._zappar_pipeline_motion_attitude_submit=function(){return r.asm._zappar_pipeline_motion_attitude_submit.apply(null,arguments)},r._zappar_pipeline_motion_rotation_rate_submit=function(){return r.asm._zappar_pipeline_motion_rotation_rate_submit.apply(null,arguments)},r._zappar_pipeline_process_gl=function(){return r.asm._zappar_pipeline_process_gl.apply(null,arguments)},r.establishStackSpace=function(){return r.asm.establishStackSpace.apply(null,arguments)},r.getTempRet0=function(){return r.asm.getTempRet0.apply(null,arguments)},r.runPostSets=function(){return r.asm.runPostSets.apply(null,arguments)};var yr=r.setTempRet0=function(){return r.asm.setTempRet0.apply(null,arguments)};r.setThrew=function(){return r.asm.setThrew.apply(null,arguments)};var br=r.stackAlloc=function(){return r.asm.stackAlloc.apply(null,arguments)},vr=r.stackRestore=function(){return r.asm.stackRestore.apply(null,arguments)},gr=r.stackSave=function(){return r.asm.stackSave.apply(null,arguments)};function wr(){function e(){if(!r.calledRun&&(r.calledRun=!0,!y)){if(re||(re=!0,J($)),J(ee),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var e=r.postRun.shift();ne.unshift(e)}J(ne)}}if(!(0<fe)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)ae();J(Q),0<fe||r.calledRun||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e())}}function Mr(e){throw r.onAbort&&r.onAbort(e),void 0!==e?(c(e),f(e),e=JSON.stringify(e)):e="",y=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(r.dynCall_i=function(){return r.asm.dynCall_i.apply(null,arguments)},r.dynCall_ii=function(){return r.asm.dynCall_ii.apply(null,arguments)},r.dynCall_iii=function(){return r.asm.dynCall_iii.apply(null,arguments)},r.dynCall_iiii=function(){return r.asm.dynCall_iiii.apply(null,arguments)},r.dynCall_iiiii=function(){return r.asm.dynCall_iiiii.apply(null,arguments)},r.dynCall_iiiiid=function(){return r.asm.dynCall_iiiiid.apply(null,arguments)},r.dynCall_iiiiii=function(){return r.asm.dynCall_iiiiii.apply(null,arguments)},r.dynCall_iiiiiid=function(){return r.asm.dynCall_iiiiiid.apply(null,arguments)},r.dynCall_iiiiiii=function(){return r.asm.dynCall_iiiiiii.apply(null,arguments)},r.dynCall_iiiiiiii=function(){return r.asm.dynCall_iiiiiiii.apply(null,arguments)},r.dynCall_iiiiiiiii=function(){return r.asm.dynCall_iiiiiiiii.apply(null,arguments)},r.dynCall_iiiiij=function(){return r.asm.dynCall_iiiiij.apply(null,arguments)},r.dynCall_iiji=function(){return r.asm.dynCall_iiji.apply(null,arguments)},r.dynCall_v=function(){return r.asm.dynCall_v.apply(null,arguments)},r.dynCall_vi=function(){return r.asm.dynCall_vi.apply(null,arguments)},r.dynCall_vii=function(){return r.asm.dynCall_vii.apply(null,arguments)},r.dynCall_viiffii=function(){return r.asm.dynCall_viiffii.apply(null,arguments)},r.dynCall_viii=function(){return r.asm.dynCall_viii.apply(null,arguments)},r.dynCall_viiifffii=function(){return r.asm.dynCall_viiifffii.apply(null,arguments)},r.dynCall_viiiffii=function(){return r.asm.dynCall_viiiffii.apply(null,arguments)},r.dynCall_viiii=function(){return r.asm.dynCall_viiii.apply(null,arguments)},r.dynCall_viiiii=function(){return r.asm.dynCall_viiiii.apply(null,arguments)},r.dynCall_viiiiiffffffffffffffff=function(){return r.asm.dynCall_viiiiiffffffffffffffff.apply(null,arguments)},r.dynCall_viiiiii=function(){return r.asm.dynCall_viiiiii.apply(null,arguments)},r.dynCall_viijii=function(){return r.asm.dynCall_viijii.apply(null,arguments)},r.dynCall_vij=function(){return r.asm.dynCall_vij.apply(null,arguments)},r.dynCall_viji=function(){return r.asm.dynCall_viji.apply(null,arguments)},r.dynCall_vijii=function(){return r.asm.dynCall_vijii.apply(null,arguments)},r.asm=Wn,r.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?v(e):function(){var r=n,a=arguments,i=v(e),o=[],u=0;if(a)for(var c=0;c<a.length;c++){var f=w[r[c]];f?(0===u&&(u=gr()),o[c]=f(a[c])):o[c]=a[c]}return r=i.apply(null,o),r="string"===t?M(r):"boolean"===t?!!r:r,0!==u&&vr(u),r}},r.setValue=function(e,t,n){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":T[e>>0]=t;break;case"i16":S[e>>1]=t;break;case"i32":I[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,1<=+ie(tempDouble)?0<tempDouble?(0|ce(+ue(tempDouble/4294967296),4294967295))>>>0:~~+oe((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],I[e>>2]=tempI64[0],I[e+4>>2]=tempI64[1];break;case"float":B[e>>2]=t;break;case"double":F[e>>3]=t;break;default:Mr("invalid type for setValue: "+n)}},r.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return T[e>>0];case"i16":return S[e>>1];case"i32":case"i64":return I[e>>2];case"float":return B[e>>2];case"double":return F[e>>3];default:Mr("invalid type for getValue: "+t)}return null},r.UTF8ToString=z,r.then=function(e){if(r.calledRun)e(r);else{var t=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){t&&t(),e(r)}}return r},_e=function e(){r.calledRun||wr(),r.calledRun||(_e=e)},r.run=wr,r.abort=Mr,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return r.noExitRuntime=!0,wr(),n}}();t.default=n}.call(this,n(11).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(12),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){s(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(s,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},c.clearImmediate=f}function f(e){delete i[e]}function s(e){if(o)setTimeout(s,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(4),n(13))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,f=[],s=!1,_=-1;function l(){s&&c&&(s=!1,c.length?f=c.concat(f):_=-1,f.length&&p())}function p(){if(!s){var e=u(l);s=!0;for(var t=f.length;t;){for(c=f,f=[];++_<t;)c&&c[_].run();_=-1,t=f.length}c=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new d(e,t)),1!==f.length||s||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeObject=void 0,t.getRuntimeObject=function(e){var t=e.cwrap("zappar_log_level","number",[]),n=e.cwrap("zappar_log_level_set",null,["number"]),r=e.cwrap("zappar_analytics_project_id_set",null,["string"]),a=e.cwrap("zappar_pipeline_create","number",[]),i=e.cwrap("zappar_pipeline_destroy",null,["number"]),o=e.cwrap("zappar_pipeline_frame_update",null,["number"]),u=e.cwrap("zappar_pipeline_frame_number","number",["number"]),c=e.cwrap("zappar_pipeline_camera_model","number",["number"]),f=e.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),s=e.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number"]),_=e.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),l=e.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),p=e.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),d=e.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),m=e.cwrap("zappar_camera_source_create","number",["number","string"]),h=e.cwrap("zappar_camera_source_destroy",null,["number"]),y=e.cwrap("zappar_image_tracker_create","number",["number"]),b=e.cwrap("zappar_image_tracker_destroy",null,["number"]),v=e.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),g=e.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),w=e.cwrap("zappar_image_tracker_target_count","number",["number"]),M=e.cwrap("zappar_image_tracker_enabled","number",["number"]),k=e.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),x=e.cwrap("zappar_image_tracker_anchor_count","number",["number"]),z=e.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),A=e.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),L=e.cwrap("zappar_face_tracker_create","number",["number"]),E=e.cwrap("zappar_face_tracker_destroy",null,["number"]),T=e.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),O=e.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),S=e.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),C=e.cwrap("zappar_face_tracker_enabled","number",["number"]),I=e.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),P=e.cwrap("zappar_face_tracker_max_faces","number",["number"]),B=e.cwrap("zappar_face_tracker_anchor_count","number",["number"]),F=e.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),j=e.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),D=e.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),R=e.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),V=e.cwrap("zappar_face_mesh_create","number",[]),q=e.cwrap("zappar_face_mesh_destroy",null,["number"]),G=e.cwrap("zappar_face_landmark_create","number",["number"]),N=e.cwrap("zappar_face_landmark_destroy",null,["number"]),U=e.cwrap("zappar_barcode_finder_create","number",["number"]),W=e.cwrap("zappar_barcode_finder_destroy",null,["number"]),H=e.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),Z=e.cwrap("zappar_barcode_finder_enabled","number",["number"]),Y=e.cwrap("zappar_barcode_finder_found_number","number",["number"]),X=e.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),K=e.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),J=e.cwrap("zappar_barcode_finder_formats","number",["number"]),Q=e.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),$=e.cwrap("zappar_instant_world_tracker_create","number",["number"]),ee=e.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),te=e.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),ne=e.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),re=e.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),ae=e.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset",null,["number","number","number","number","number"]),ie=32,oe=e._malloc(ie),ue=64,ce=e._malloc(ue);return{log_level:function(){return t()},log_level_set:function(e){return n(e)},analytics_project_id_set:function(e){return r(e)},pipeline_create:function(){return a()},pipeline_destroy:function(){i()},pipeline_frame_update:function(e){return o(e)},pipeline_frame_number:function(e){return u(e)},pipeline_camera_model:function(t){var n=c(t),r=new Float32Array(6);return r.set(e.HEAPF32.subarray(n/4,6+n/4)),n=r},pipeline_camera_frame_user_data:function(e){return f(e)},pipeline_camera_frame_submit:function(t,n,r,a,i,o){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var u=oe,c=n.byteLength;e.HEAPU8.set(new Uint8Array(n),oe);var f=r,_=a,l=i;ue<o.byteLength&&(e._free(ue),ue=o.byteLength,ce=e._malloc(ue));var p=ce;return e.HEAPF32.set(o,ce/4),s(t,u,c,f,_,l,p)},pipeline_camera_frame_camera_attitude:function(t){var n=_(t),r=new Float32Array(16);return r.set(e.HEAPF32.subarray(n/4,16+n/4)),n=r},pipeline_motion_accelerometer_submit:function(e,t,n,r,a){return l(e,t,n,r,a)},pipeline_motion_rotation_rate_submit:function(e,t,n,r,a){return p(e,t,n,r,a)},pipeline_motion_attitude_submit:function(e,t,n,r,a){return d(e,t,n,r,a)},camera_source_create:function(e,t){return m(e,t)},camera_source_destroy:function(){h()},image_tracker_create:function(e){return y(e)},image_tracker_destroy:function(){b()},image_tracker_target_load_from_memory:function(t,n){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var r=oe,a=n.byteLength;return e.HEAPU8.set(new Uint8Array(n),oe),v(t,r,a)},image_tracker_target_loaded_version:function(e){return g(e)},image_tracker_target_count:function(e){return w(e)},image_tracker_enabled:function(e){var t=M(e);return t=1===t},image_tracker_enabled_set:function(e,t){return k(e,t?1:0)},image_tracker_anchor_count:function(e){return x(e)},image_tracker_anchor_id:function(e,t){return z(e,t)},image_tracker_anchor_pose_raw:function(t,n){var r=A(t,n),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a},face_tracker_create:function(e){return L(e)},face_tracker_destroy:function(){E()},face_tracker_model_load_from_memory:function(t,n){ie<n.byteLength&&(e._free(oe),ie=n.byteLength,oe=e._malloc(ie));var r=oe,a=n.byteLength;return e.HEAPU8.set(new Uint8Array(n),oe),T(t,r,a)},face_tracker_model_loaded_version:function(e){return O(e)},face_tracker_enabled_set:function(e,t){return S(e,t?1:0)},face_tracker_enabled:function(e){var t=C(e);return t=1===t},face_tracker_max_faces_set:function(e,t){return I(e,t)},face_tracker_max_faces:function(e){return P(e)},face_tracker_anchor_count:function(e){return B(e)},face_tracker_anchor_id:function(e,t){return F(e,t)},face_tracker_anchor_pose_raw:function(t,n){var r=j(t,n),a=new Float32Array(16);return a.set(e.HEAPF32.subarray(r/4,16+r/4)),r=a},face_tracker_anchor_identity_coefficients:function(t,n){var r=D(t,n),a=new Float32Array(50);return a.set(e.HEAPF32.subarray(r/4,50+r/4)),r=a},face_tracker_anchor_expression_coefficients:function(t,n){var r=R(t,n),a=new Float32Array(29);return a.set(e.HEAPF32.subarray(r/4,29+r/4)),r=a},face_mesh_create:function(){return V()},face_mesh_destroy:function(){q()},face_landmark_create:function(e){return G(e)},face_landmark_destroy:function(){N()},barcode_finder_create:function(e){return U(e)},barcode_finder_destroy:function(){W()},barcode_finder_enabled_set:function(e,t){return H(e,t?1:0)},barcode_finder_enabled:function(e){var t=Z(e);return t=1===t},barcode_finder_found_number:function(e){return Y(e)},barcode_finder_found_text:function(e,t){return X(e,t)},barcode_finder_found_format:function(e,t){return K(e,t)},barcode_finder_formats:function(e){return J(e)},barcode_finder_formats_set:function(e,t){return Q(e,t)},instant_world_tracker_create:function(e){return $(e)},instant_world_tracker_destroy:function(){ee()},instant_world_tracker_enabled_set:function(e,t){return te(e,t?1:0)},instant_world_tracker_enabled:function(e){var t=ne(e);return t=1===t},instant_world_tracker_anchor_pose_raw:function(t){var n=re(t),r=new Float32Array(16);return r.set(e.HEAPF32.subarray(n/4,16+n/4)),n=r},instant_world_tracker_anchor_pose_set_from_camera_offset:function(e,t,n,r,a){return ae(e,t,n,r,a)}}}},function(e,t,n){"use strict";var r=n(16),a=n(2),i=n(0),o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.zappar_server=void 0;var u=n(20),c=n(21),f=function(){function e(t,n){i(this,e),this._impl=t,this._sender=n,this._deserializer=new c.MessageDeserializer,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}return o(e,[{key:"processBuffer",value:function(e){var t=this;this._deserializer.setData(e),this._deserializer.forMessages((function(e,n){switch(e){case 33:t._impl.log_level_set(n.logLevel());break;case 30:t._impl.analytics_project_id_set(n.string());break;case 26:var r=n.type(),a=t._impl.pipeline_create();t._pipeline_by_instance.set(r,a),t._pipeline_id_by_pipeline_id.set(r,r),t.serializersByPipelineId.set(r,new u.MessageSerializer((function(e){t._sender(r,e)})));break;case 27:var i=n.type(),o=t._pipeline_by_instance.get(i);if(void 0===o)return;t._impl.pipeline_destroy(o),t._pipeline_by_instance.delete(i);break;case 9:var c=n.type(),f=t._pipeline_by_instance.get(c);if(void 0===f)return;t._impl.pipeline_frame_update(f);break;case 8:var s=n.type(),_=t._pipeline_by_instance.get(s);if(void 0===_)return;t._impl.pipeline_camera_frame_submit(_,n.dataWithLength(),n.int(),n.int(),n.int(),n.matrix4x4());break;case 10:var l=n.type(),p=t._pipeline_by_instance.get(l);if(void 0===p)return;t._impl.pipeline_motion_accelerometer_submit(p,n.timestamp(),n.float(),n.float(),n.float());break;case 11:var d=n.type(),m=t._pipeline_by_instance.get(d);if(void 0===m)return;t._impl.pipeline_motion_rotation_rate_submit(m,n.timestamp(),n.float(),n.float(),n.float());break;case 12:var h=n.type(),y=t._pipeline_by_instance.get(h);if(void 0===y)return;t._impl.pipeline_motion_attitude_submit(y,n.timestamp(),n.float(),n.float(),n.float());break;case 28:var b=n.type(),v=n.type(),g=t._pipeline_by_instance.get(v),w=n.string(),M=t._impl.camera_source_create(g,w);t._camera_source_by_instance.set(b,M),t._pipeline_id_by_camera_source_id.set(b,v);break;case 29:var k=n.type(),x=t._camera_source_by_instance.get(k);if(void 0===x)return;t._impl.camera_source_destroy(x),t._camera_source_by_instance.delete(k);break;case 2:var z=n.type(),A=n.type(),L=t._pipeline_by_instance.get(A),E=t._impl.image_tracker_create(L);t._image_tracker_by_instance.set(z,E),t._pipeline_id_by_image_tracker_id.set(z,A);break;case 13:var T=n.type(),O=t._image_tracker_by_instance.get(T);if(void 0===O)return;t._impl.image_tracker_destroy(O),t._image_tracker_by_instance.delete(T);break;case 4:var S=n.type(),C=t._image_tracker_by_instance.get(S);if(void 0===C)return;t._impl.image_tracker_target_load_from_memory(C,n.dataWithLength());break;case 3:var I=n.type(),P=t._image_tracker_by_instance.get(I);if(void 0===P)return;t._impl.image_tracker_enabled_set(P,n.bool());break;case 19:var B=n.type(),F=n.type(),j=t._pipeline_by_instance.get(F),D=t._impl.face_tracker_create(j);t._face_tracker_by_instance.set(B,D),t._pipeline_id_by_face_tracker_id.set(B,F);break;case 20:var R=n.type(),V=t._face_tracker_by_instance.get(R);if(void 0===V)return;t._impl.face_tracker_destroy(V),t._face_tracker_by_instance.delete(R);break;case 21:var q=n.type(),G=t._face_tracker_by_instance.get(q);if(void 0===G)return;t._impl.face_tracker_model_load_from_memory(G,n.dataWithLength());break;case 22:var N=n.type(),U=t._face_tracker_by_instance.get(N);if(void 0===U)return;t._impl.face_tracker_enabled_set(U,n.bool());break;case 23:var W=n.type(),H=t._face_tracker_by_instance.get(W);if(void 0===H)return;t._impl.face_tracker_max_faces_set(H,n.int());break;case 24:var Z=n.type(),Y=t._impl.face_mesh_create();t._face_mesh_by_instance.set(Z,Y);break;case 25:var X=n.type(),K=t._face_mesh_by_instance.get(X);if(void 0===K)return;t._impl.face_mesh_destroy(K),t._face_mesh_by_instance.delete(X);break;case 31:var J=n.type(),Q=n.faceLandmarkName(),$=t._impl.face_landmark_create(Q);t._face_landmark_by_instance.set(J,$);break;case 32:var ee=n.type(),te=t._face_landmark_by_instance.get(ee);if(void 0===te)return;t._impl.face_landmark_destroy(te),t._face_landmark_by_instance.delete(ee);break;case 15:var ne=n.type(),re=n.type(),ae=t._pipeline_by_instance.get(re),ie=t._impl.barcode_finder_create(ae);t._barcode_finder_by_instance.set(ne,ie),t._pipeline_id_by_barcode_finder_id.set(ne,re);break;case 16:var oe=n.type(),ue=t._barcode_finder_by_instance.get(oe);if(void 0===ue)return;t._impl.barcode_finder_destroy(ue),t._barcode_finder_by_instance.delete(oe);break;case 17:var ce=n.type(),fe=t._barcode_finder_by_instance.get(ce);if(void 0===fe)return;t._impl.barcode_finder_enabled_set(fe,n.bool());break;case 18:var se=n.type(),_e=t._barcode_finder_by_instance.get(se);if(void 0===_e)return;t._impl.barcode_finder_formats_set(_e,n.barcodeFormat());break;case 5:var le=n.type(),pe=n.type(),de=t._pipeline_by_instance.get(pe),me=t._impl.instant_world_tracker_create(de);t._instant_world_tracker_by_instance.set(le,me),t._pipeline_id_by_instant_world_tracker_id.set(le,pe);break;case 14:var he=n.type(),ye=t._instant_world_tracker_by_instance.get(he);if(void 0===ye)return;t._impl.instant_world_tracker_destroy(ye),t._instant_world_tracker_by_instance.delete(he);break;case 6:var be=n.type(),ve=t._instant_world_tracker_by_instance.get(be);if(void 0===ve)return;t._impl.instant_world_tracker_enabled_set(ve,n.bool());break;case 7:var ge=n.type(),we=t._instant_world_tracker_by_instance.get(ge);if(void 0===we)return;t._impl.instant_world_tracker_anchor_pose_set_from_camera_offset(we,n.float(),n.float(),n.float(),n.instantTrackerTransformOrientation())}}))}},{key:"exploreState",value:function(){var e,t=this,n=a(this._pipeline_by_instance);try{var i=function(){var n=r(e.value,2),a=n[0],i=n[1],o=t._pipeline_id_by_pipeline_id.get(a);if(!o)return"continue";var u=t.serializersByPipelineId.get(o);if(!u)return"continue";u.sendMessage(7,(function(e){e.type(a),e.int(t._impl.pipeline_frame_number(i))})),u.sendMessage(6,(function(e){e.type(a),e.cameraModel(t._impl.pipeline_camera_model(i))})),u.sendMessage(5,(function(e){e.type(a),e.int(t._impl.pipeline_camera_frame_user_data(i))})),u.sendMessage(11,(function(e){e.type(a),e.matrix4x4(t._impl.pipeline_camera_frame_camera_attitude(i))}))};for(n.s();!(e=n.n()).done;)i()}catch(I){n.e(I)}finally{n.f()}var o,u=a(this._camera_source_by_instance);try{for(u.s();!(o=u.n()).done;){var c=r(o.value,2),f=c[0],s=(c[1],this._pipeline_id_by_camera_source_id.get(f));if(s)this.serializersByPipelineId.get(s)}}catch(I){u.e(I)}finally{u.f()}var _,l=a(this._image_tracker_by_instance);try{var p=function(){var e=r(_.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_image_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(18,(function(e){e.type(n),e.int(t._impl.image_tracker_target_loaded_version(a))})),o.sendMessage(20,(function(e){e.type(n),e.int(t._impl.image_tracker_target_count(a))})),o.sendMessage(1,(function(e){e.type(n),e.int(t._impl.image_tracker_anchor_count(a))}));for(var u=function(e){o.sendMessage(2,(function(r){r.type(n),r.int(e),r.string(t._impl.image_tracker_anchor_id(a,e))}))},c=0;c<t._impl.image_tracker_anchor_count(a);c++)u(c);for(var f=function(e){o.sendMessage(3,(function(r){r.type(n),r.int(e),r.matrix4x4(t._impl.image_tracker_anchor_pose_raw(a,e))}))},s=0;s<t._impl.image_tracker_anchor_count(a);s++)f(s)};for(l.s();!(_=l.n()).done;)p()}catch(I){l.e(I)}finally{l.f()}var d,m=a(this._face_tracker_by_instance);try{var h=function(){var e=r(d.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_face_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(17,(function(e){e.type(n),e.int(t._impl.face_tracker_model_loaded_version(a))})),o.sendMessage(12,(function(e){e.type(n),e.int(t._impl.face_tracker_anchor_count(a))}));for(var u=function(e){o.sendMessage(13,(function(r){r.type(n),r.int(e),r.string(t._impl.face_tracker_anchor_id(a,e))}))},c=0;c<t._impl.face_tracker_anchor_count(a);c++)u(c);for(var f=function(e){o.sendMessage(14,(function(r){r.type(n),r.int(e),r.matrix4x4(t._impl.face_tracker_anchor_pose_raw(a,e))}))},s=0;s<t._impl.face_tracker_anchor_count(a);s++)f(s);for(var _=function(e){o.sendMessage(15,(function(r){r.type(n),r.int(e),r.identityCoefficients(t._impl.face_tracker_anchor_identity_coefficients(a,e))}))},l=0;l<t._impl.face_tracker_anchor_count(a);l++)_(l);for(var p=function(e){o.sendMessage(16,(function(r){r.type(n),r.int(e),r.expressionCoefficients(t._impl.face_tracker_anchor_expression_coefficients(a,e))}))},m=0;m<t._impl.face_tracker_anchor_count(a);m++)p(m)};for(m.s();!(d=m.n()).done;)h()}catch(I){m.e(I)}finally{m.f()}var y,b=a(this._face_mesh_by_instance);try{for(b.s();!(y=b.n()).done;){var v=r(y.value,2),g=v[0],w=(v[1],this._pipeline_id_by_face_mesh_id.get(g));if(w)this.serializersByPipelineId.get(w)}}catch(I){b.e(I)}finally{b.f()}var M,k=a(this._face_landmark_by_instance);try{for(k.s();!(M=k.n()).done;){var x=r(M.value,2),z=x[0],A=(x[1],this._pipeline_id_by_face_landmark_id.get(z));if(A)this.serializersByPipelineId.get(A)}}catch(I){k.e(I)}finally{k.f()}var L,E=a(this._barcode_finder_by_instance);try{var T=function(){var e=r(L.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_barcode_finder_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(8,(function(e){e.type(n),e.int(t._impl.barcode_finder_found_number(a))}));for(var u=function(e){o.sendMessage(9,(function(r){r.type(n),r.int(e),r.string(t._impl.barcode_finder_found_text(a,e))}))},c=0;c<t._impl.barcode_finder_found_number(a);c++)u(c);for(var f=function(e){o.sendMessage(10,(function(r){r.type(n),r.int(e),r.barcodeFormat(t._impl.barcode_finder_found_format(a,e))}))},s=0;s<t._impl.barcode_finder_found_number(a);s++)f(s)};for(E.s();!(L=E.n()).done;)T()}catch(I){E.e(I)}finally{E.f()}var O,S=a(this._instant_world_tracker_by_instance);try{var C=function(){var e=r(O.value,2),n=e[0],a=e[1],i=t._pipeline_id_by_instant_world_tracker_id.get(n);if(!i)return"continue";var o=t.serializersByPipelineId.get(i);if(!o)return"continue";o.sendMessage(4,(function(e){e.type(n),e.matrix4x4(t._impl.instant_world_tracker_anchor_pose_raw(a))}))};for(S.s();!(O=S.n()).done;)C()}catch(I){S.e(I)}finally{S.f()}}}]),e}();t.zappar_server=f},function(e,t,n){var r=n(17),a=n(18),i=n(3),o=n(19);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(0),a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSerializer=void 0;var i=function(){function e(t){var n=this;r(this,e),this._messageSender=t,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:function(e){return n.int(e)},bool:function(e){return n.int(e?1:0)},float:function(e){return n.float(e)},string:function(e){return n.string(e)},dataWithLength:function(e){return n.arrayBuffer(e)},type:function(e){return n.int(e)},matrix4x4:function(e){return n.float32ArrayBuffer(e)},identityCoefficients:function(e){return n.float32ArrayBuffer(e)},expressionCoefficients:function(e){return n.float32ArrayBuffer(e)},cameraModel:function(e){return n.float32ArrayBuffer(e)},timestamp:function(e){return n.double(e)},barcodeFormat:function(e){return n.int(e)},faceLandmarkName:function(e){return n.int(e)},instantTrackerTransformOrientation:function(e){return n.int(e)},logLevel:function(e){return n.int(e)}},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}return a(e,[{key:"bufferReturn",value:function(e){this._freeBufferPool.push(e)}},{key:"_ensureArrayBuffer",value:function(e){var t=4*(this._offset+e+8);if(!(this._buffer&&this._buffer.byteLength>=t)){var n=void 0;if(!n){var r=t;r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,n=new ArrayBuffer(r)}var a=this._buffer?this._i32View:void 0;this._buffer=n,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),a&&this._i32View.set(a.subarray(0,this._offset))}}},{key:"sendMessage",value:function(e,t){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=e,this._offset+=2,t(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}},{key:"_sendOneTime",value:function(){var e=this;!1===this._timeoutSet&&(this._timeoutSet=!0,setTimeout((function(){e._timeoutSet=!1,e._send()}),0))}},{key:"_send",value:function(){0!==this._freeBufferPool.length?(this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1):this._sendOneTime()}},{key:"int",value:function(e){this._ensureArrayBuffer(1),this._i32View[this._offset]=e,this._offset++}},{key:"double",value:function(e){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=e,this._offset+=2}},{key:"float",value:function(e){this._ensureArrayBuffer(1),this._f32View[this._offset]=e,this._offset++}},{key:"int32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"float32Array",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._f32View[this._offset+t]=e[t];this._offset+=e.length}},{key:"booleanArray",value:function(e){this._ensureArrayBuffer(e.length);for(var t=0;t<e.length;++t)this._i32View[this._offset+t]=e[t]?1:0;this._offset+=e.length}},{key:"uint8ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8View.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"arrayBuffer",value:function(e){var t=new Uint8Array(e);this.uint8ArrayBuffer(t)}},{key:"uint8ClampedArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.byteLength,this._offset++,this._u8cView.set(e,4*this._offset),this._offset+=e.byteLength>>2,0!==(3&e.byteLength)&&this._offset++}},{key:"float32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._f32View.set(e,this._offset),this._offset+=e.length}},{key:"uint16ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++;var t=2*this._offset;this._u16View.set(e,t),this._offset+=e.length>>1,0!==(1&e.length)&&this._offset++}},{key:"int32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._i32View.set(e,this._offset),this._offset+=e.length}},{key:"uint32ArrayBuffer",value:function(e){this._ensureArrayBuffer(e.byteLength/4),this._i32View[this._offset]=e.length,this._offset++,this._u32View.set(e,this._offset),this._offset+=e.length}},{key:"string",value:function(e){var t=(new TextEncoder).encode(e);this._ensureArrayBuffer(t.byteLength/4),this._i32View[this._offset]=t.byteLength,this._offset++,this._u8View.set(t,4*this._offset),this._offset+=t.byteLength>>2,0!==(3&t.byteLength)&&this._offset++}}]),e}();t.MessageSerializer=i},function(e,t,n){"use strict";var r=n(0),a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeserializer=void 0;var i=function(){function e(){var t=this;r(this,e),this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:function(){return t._i32View[t._startOffset++]},bool:function(){return 1===t._i32View[t._startOffset++]},type:function(){return t._i32View[t._startOffset++]},float:function(){return t._f32View[t._startOffset++]},timestamp:function(){t._startOffset%2===1&&t._startOffset++;var e=t._f64View[t._startOffset/2];return t._startOffset+=2,e},string:function(){var e=t._i32View[t._startOffset++],n=(new TextDecoder).decode(new Uint8Array(t._buffer,4*t._startOffset,e));return t._startOffset+=e>>2,0!==(3&e)&&t._startOffset++,n},dataWithLength:function(){var e=t._i32View[t._startOffset++],n=new Uint8Array(e);return n.set(t._u8View.subarray(4*t._startOffset,4*t._startOffset+e)),t._startOffset+=n.byteLength>>2,0!==(3&n.byteLength)&&t._startOffset++,n.buffer},matrix4x4:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+16)),t._startOffset+=e,n},identityCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+50)),t._startOffset+=e,n},expressionCoefficients:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+29)),t._startOffset+=e,n},cameraModel:function(){var e=t._i32View[t._startOffset++],n=new Float32Array(e);return n.set(t._f32View.subarray(t._startOffset,t._startOffset+6)),t._startOffset+=e,n},barcodeFormat:function(){return t._i32View[t._startOffset++]},faceLandmarkName:function(){return t._i32View[t._startOffset++]},instantTrackerTransformOrientation:function(){return t._i32View[t._startOffset++]},logLevel:function(){return t._i32View[t._startOffset++]}}}return a(e,[{key:"setData",value:function(e){this._buffer=e,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,e.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}},{key:"hasMessage",value:function(){return this._offset+1<this._length}},{key:"forMessages",value:function(e){for(;this.hasMessage();){var t=this._i32View[this._offset],n=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=t,e(n,this._processor)}}}]),e}();t.MessageDeserializer=i},function(e,t,n){"use strict";var r=n(0),a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.MsgManager=void 0;var i=n(23),o=function(){function e(){r(this,e),this.onOutgoingMessage=new i.Event,this.onIncomingMessage=new i.Event1,this._outgoingMessages=[]}return a(e,[{key:"postIncomingMessage",value:function(e){this.onIncomingMessage.emit(e)}},{key:"postOutgoingMessage",value:function(e,t){this._outgoingMessages.push({msg:e,transferables:t}),this.onOutgoingMessage.emit()}},{key:"getOutgoingMessages",value:function(){var e=this._outgoingMessages;return this._outgoingMessages=[],e}}]),e}();t.MsgManager=o},function(e,t,n){"use strict";var r=n(0),a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.Event5=t.Event3=t.Event2=t.Event1=t.Event=void 0;var i=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(){for(var e=0,t=this._funcs.length;e<t;e++)this._funcs[e]()}}]),e}();t.Event=i;var o=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e){for(var t=0,n=this._funcs.length;t<n;t++)this._funcs[t](e)}}]),e}();t.Event1=o;var u=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t){for(var n=0,r=this._funcs.length;n<r;n++)this._funcs[n](e,t)}}]),e}();t.Event2=u;var c=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n){for(var r=0,a=this._funcs.length;r<a;r++)this._funcs[r](e,t,n)}}]),e}();t.Event3=c;var f=function(){function e(){r(this,e),this._funcs=[]}return a(e,[{key:"bind",value:function(e){this._funcs.push(e)}},{key:"unbind",value:function(e){var t=this._funcs.indexOf(e);t>-1&&this._funcs.splice(t,1)}},{key:"emit",value:function(e,t,n,r,a){for(var i=0,o=this._funcs.length;i<o;i++)this._funcs[i](e,t,n,r,a)}}]),e}();t.Event5=f},function(e,t,n){"use strict";n.r(t),t.default="./zcv.wasm"},function(e,t,n){"use strict";n.r(t),n.d(t,"glMatrix",(function(){return r})),n.d(t,"mat2",(function(){return a})),n.d(t,"mat2d",(function(){return i})),n.d(t,"mat3",(function(){return o})),n.d(t,"mat4",(function(){return u})),n.d(t,"quat",(function(){return s})),n.d(t,"quat2",(function(){return _})),n.d(t,"vec2",(function(){return l})),n.d(t,"vec3",(function(){return c})),n.d(t,"vec4",(function(){return f}));var r={};n.r(r),n.d(r,"EPSILON",(function(){return p})),n.d(r,"ARRAY_TYPE",(function(){return d})),n.d(r,"RANDOM",(function(){return m})),n.d(r,"setMatrixArrayType",(function(){return h})),n.d(r,"toRadian",(function(){return b})),n.d(r,"equals",(function(){return v}));var a={};n.r(a),n.d(a,"create",(function(){return g})),n.d(a,"clone",(function(){return w})),n.d(a,"copy",(function(){return M})),n.d(a,"identity",(function(){return k})),n.d(a,"fromValues",(function(){return x})),n.d(a,"set",(function(){return z})),n.d(a,"transpose",(function(){return A})),n.d(a,"invert",(function(){return L})),n.d(a,"adjoint",(function(){return E})),n.d(a,"determinant",(function(){return T})),n.d(a,"multiply",(function(){return O})),n.d(a,"rotate",(function(){return S})),n.d(a,"scale",(function(){return C})),n.d(a,"fromRotation",(function(){return I})),n.d(a,"fromScaling",(function(){return P})),n.d(a,"str",(function(){return B})),n.d(a,"frob",(function(){return F})),n.d(a,"LDU",(function(){return j})),n.d(a,"add",(function(){return D})),n.d(a,"subtract",(function(){return R})),n.d(a,"exactEquals",(function(){return V})),n.d(a,"equals",(function(){return q})),n.d(a,"multiplyScalar",(function(){return G})),n.d(a,"multiplyScalarAndAdd",(function(){return N})),n.d(a,"mul",(function(){return U})),n.d(a,"sub",(function(){return W}));var i={};n.r(i),n.d(i,"create",(function(){return H})),n.d(i,"clone",(function(){return Z})),n.d(i,"copy",(function(){return Y})),n.d(i,"identity",(function(){return X})),n.d(i,"fromValues",(function(){return K})),n.d(i,"set",(function(){return J})),n.d(i,"invert",(function(){return Q})),n.d(i,"determinant",(function(){return $})),n.d(i,"multiply",(function(){return ee})),n.d(i,"rotate",(function(){return te})),n.d(i,"scale",(function(){return ne})),n.d(i,"translate",(function(){return re})),n.d(i,"fromRotation",(function(){return ae})),n.d(i,"fromScaling",(function(){return ie})),n.d(i,"fromTranslation",(function(){return oe})),n.d(i,"str",(function(){return ue})),n.d(i,"frob",(function(){return ce})),n.d(i,"add",(function(){return fe})),n.d(i,"subtract",(function(){return se})),n.d(i,"multiplyScalar",(function(){return _e})),n.d(i,"multiplyScalarAndAdd",(function(){return le})),n.d(i,"exactEquals",(function(){return pe})),n.d(i,"equals",(function(){return de})),n.d(i,"mul",(function(){return me})),n.d(i,"sub",(function(){return he}));var o={};n.r(o),n.d(o,"create",(function(){return ye})),n.d(o,"fromMat4",(function(){return be})),n.d(o,"clone",(function(){return ve})),n.d(o,"copy",(function(){return ge})),n.d(o,"fromValues",(function(){return we})),n.d(o,"set",(function(){return Me})),n.d(o,"identity",(function(){return ke})),n.d(o,"transpose",(function(){return xe})),n.d(o,"invert",(function(){return ze})),n.d(o,"adjoint",(function(){return Ae})),n.d(o,"determinant",(function(){return Le})),n.d(o,"multiply",(function(){return Ee})),n.d(o,"translate",(function(){return Te})),n.d(o,"rotate",(function(){return Oe})),n.d(o,"scale",(function(){return Se})),n.d(o,"fromTranslation",(function(){return Ce})),n.d(o,"fromRotation",(function(){return Ie})),n.d(o,"fromScaling",(function(){return Pe})),n.d(o,"fromMat2d",(function(){return Be})),n.d(o,"fromQuat",(function(){return Fe})),n.d(o,"normalFromMat4",(function(){return je})),n.d(o,"projection",(function(){return De})),n.d(o,"str",(function(){return Re})),n.d(o,"frob",(function(){return Ve})),n.d(o,"add",(function(){return qe})),n.d(o,"subtract",(function(){return Ge})),n.d(o,"multiplyScalar",(function(){return Ne})),n.d(o,"multiplyScalarAndAdd",(function(){return Ue})),n.d(o,"exactEquals",(function(){return We})),n.d(o,"equals",(function(){return He})),n.d(o,"mul",(function(){return Ze})),n.d(o,"sub",(function(){return Ye}));var u={};n.r(u),n.d(u,"create",(function(){return Xe})),n.d(u,"clone",(function(){return Ke})),n.d(u,"copy",(function(){return Je})),n.d(u,"fromValues",(function(){return Qe})),n.d(u,"set",(function(){return $e})),n.d(u,"identity",(function(){return et})),n.d(u,"transpose",(function(){return tt})),n.d(u,"invert",(function(){return nt})),n.d(u,"adjoint",(function(){return rt})),n.d(u,"determinant",(function(){return at})),n.d(u,"multiply",(function(){return it})),n.d(u,"translate",(function(){return ot})),n.d(u,"scale",(function(){return ut})),n.d(u,"rotate",(function(){return ct})),n.d(u,"rotateX",(function(){return ft})),n.d(u,"rotateY",(function(){return st})),n.d(u,"rotateZ",(function(){return _t})),n.d(u,"fromTranslation",(function(){return lt})),n.d(u,"fromScaling",(function(){return pt})),n.d(u,"fromRotation",(function(){return dt})),n.d(u,"fromXRotation",(function(){return mt})),n.d(u,"fromYRotation",(function(){return ht})),n.d(u,"fromZRotation",(function(){return yt})),n.d(u,"fromRotationTranslation",(function(){return bt})),n.d(u,"fromQuat2",(function(){return vt})),n.d(u,"getTranslation",(function(){return gt})),n.d(u,"getScaling",(function(){return wt})),n.d(u,"getRotation",(function(){return Mt})),n.d(u,"fromRotationTranslationScale",(function(){return kt})),n.d(u,"fromRotationTranslationScaleOrigin",(function(){return xt})),n.d(u,"fromQuat",(function(){return zt})),n.d(u,"frustum",(function(){return At})),n.d(u,"perspective",(function(){return Lt})),n.d(u,"perspectiveFromFieldOfView",(function(){return Et})),n.d(u,"ortho",(function(){return Tt})),n.d(u,"lookAt",(function(){return Ot})),n.d(u,"targetTo",(function(){return St})),n.d(u,"str",(function(){return Ct})),n.d(u,"frob",(function(){return It})),n.d(u,"add",(function(){return Pt})),n.d(u,"subtract",(function(){return Bt})),n.d(u,"multiplyScalar",(function(){return Ft})),n.d(u,"multiplyScalarAndAdd",(function(){return jt})),n.d(u,"exactEquals",(function(){return Dt})),n.d(u,"equals",(function(){return Rt})),n.d(u,"mul",(function(){return Vt})),n.d(u,"sub",(function(){return qt}));var c={};n.r(c),n.d(c,"create",(function(){return Gt})),n.d(c,"clone",(function(){return Nt})),n.d(c,"length",(function(){return Ut})),n.d(c,"fromValues",(function(){return Wt})),n.d(c,"copy",(function(){return Ht})),n.d(c,"set",(function(){return Zt})),n.d(c,"add",(function(){return Yt})),n.d(c,"subtract",(function(){return Xt})),n.d(c,"multiply",(function(){return Kt})),n.d(c,"divide",(function(){return Jt})),n.d(c,"ceil",(function(){return Qt})),n.d(c,"floor",(function(){return $t})),n.d(c,"min",(function(){return en})),n.d(c,"max",(function(){return tn})),n.d(c,"round",(function(){return nn})),n.d(c,"scale",(function(){return rn})),n.d(c,"scaleAndAdd",(function(){return an})),n.d(c,"distance",(function(){return on})),n.d(c,"squaredDistance",(function(){return un})),n.d(c,"squaredLength",(function(){return cn})),n.d(c,"negate",(function(){return fn})),n.d(c,"inverse",(function(){return sn})),n.d(c,"normalize",(function(){return _n})),n.d(c,"dot",(function(){return ln})),n.d(c,"cross",(function(){return pn})),n.d(c,"lerp",(function(){return dn})),n.d(c,"hermite",(function(){return mn})),n.d(c,"bezier",(function(){return hn})),n.d(c,"random",(function(){return yn})),n.d(c,"transformMat4",(function(){return bn})),n.d(c,"transformMat3",(function(){return vn})),n.d(c,"transformQuat",(function(){return gn})),n.d(c,"rotateX",(function(){return wn})),n.d(c,"rotateY",(function(){return Mn})),n.d(c,"rotateZ",(function(){return kn})),n.d(c,"angle",(function(){return xn})),n.d(c,"zero",(function(){return zn})),n.d(c,"str",(function(){return An})),n.d(c,"exactEquals",(function(){return Ln})),n.d(c,"equals",(function(){return En})),n.d(c,"sub",(function(){return Tn})),n.d(c,"mul",(function(){return On})),n.d(c,"div",(function(){return Sn})),n.d(c,"dist",(function(){return Cn})),n.d(c,"sqrDist",(function(){return In})),n.d(c,"len",(function(){return Pn})),n.d(c,"sqrLen",(function(){return Bn})),n.d(c,"forEach",(function(){return Fn}));var f={};n.r(f),n.d(f,"create",(function(){return jn})),n.d(f,"clone",(function(){return Dn})),n.d(f,"fromValues",(function(){return Rn})),n.d(f,"copy",(function(){return Vn})),n.d(f,"set",(function(){return qn})),n.d(f,"add",(function(){return Gn})),n.d(f,"subtract",(function(){return Nn})),n.d(f,"multiply",(function(){return Un})),n.d(f,"divide",(function(){return Wn})),n.d(f,"ceil",(function(){return Hn})),n.d(f,"floor",(function(){return Zn})),n.d(f,"min",(function(){return Yn})),n.d(f,"max",(function(){return Xn})),n.d(f,"round",(function(){return Kn})),n.d(f,"scale",(function(){return Jn})),n.d(f,"scaleAndAdd",(function(){return Qn})),n.d(f,"distance",(function(){return $n})),n.d(f,"squaredDistance",(function(){return er})),n.d(f,"length",(function(){return tr})),n.d(f,"squaredLength",(function(){return nr})),n.d(f,"negate",(function(){return rr})),n.d(f,"inverse",(function(){return ar})),n.d(f,"normalize",(function(){return ir})),n.d(f,"dot",(function(){return or})),n.d(f,"cross",(function(){return ur})),n.d(f,"lerp",(function(){return cr})),n.d(f,"random",(function(){return fr})),n.d(f,"transformMat4",(function(){return sr})),n.d(f,"transformQuat",(function(){return _r})),n.d(f,"zero",(function(){return lr})),n.d(f,"str",(function(){return pr})),n.d(f,"exactEquals",(function(){return dr})),n.d(f,"equals",(function(){return mr})),n.d(f,"sub",(function(){return hr})),n.d(f,"mul",(function(){return yr})),n.d(f,"div",(function(){return br})),n.d(f,"dist",(function(){return vr})),n.d(f,"sqrDist",(function(){return gr})),n.d(f,"len",(function(){return wr})),n.d(f,"sqrLen",(function(){return Mr})),n.d(f,"forEach",(function(){return kr}));var s={};n.r(s),n.d(s,"create",(function(){return xr})),n.d(s,"identity",(function(){return zr})),n.d(s,"setAxisAngle",(function(){return Ar})),n.d(s,"getAxisAngle",(function(){return Lr})),n.d(s,"getAngle",(function(){return Er})),n.d(s,"multiply",(function(){return Tr})),n.d(s,"rotateX",(function(){return Or})),n.d(s,"rotateY",(function(){return Sr})),n.d(s,"rotateZ",(function(){return Cr})),n.d(s,"calculateW",(function(){return Ir})),n.d(s,"exp",(function(){return Pr})),n.d(s,"ln",(function(){return Br})),n.d(s,"pow",(function(){return Fr})),n.d(s,"slerp",(function(){return jr})),n.d(s,"random",(function(){return Dr})),n.d(s,"invert",(function(){return Rr})),n.d(s,"conjugate",(function(){return Vr})),n.d(s,"fromMat3",(function(){return qr})),n.d(s,"fromEuler",(function(){return Gr})),n.d(s,"str",(function(){return Nr})),n.d(s,"clone",(function(){return Ur})),n.d(s,"fromValues",(function(){return Wr})),n.d(s,"copy",(function(){return Hr})),n.d(s,"set",(function(){return Zr})),n.d(s,"add",(function(){return Yr})),n.d(s,"mul",(function(){return Xr})),n.d(s,"scale",(function(){return Kr})),n.d(s,"dot",(function(){return Jr})),n.d(s,"lerp",(function(){return Qr})),n.d(s,"length",(function(){return $r})),n.d(s,"len",(function(){return ea})),n.d(s,"squaredLength",(function(){return ta})),n.d(s,"sqrLen",(function(){return na})),n.d(s,"normalize",(function(){return ra})),n.d(s,"exactEquals",(function(){return aa})),n.d(s,"equals",(function(){return ia})),n.d(s,"rotationTo",(function(){return oa})),n.d(s,"sqlerp",(function(){return ua})),n.d(s,"setAxes",(function(){return ca}));var _={};n.r(_),n.d(_,"create",(function(){return fa})),n.d(_,"clone",(function(){return sa})),n.d(_,"fromValues",(function(){return _a})),n.d(_,"fromRotationTranslationValues",(function(){return la})),n.d(_,"fromRotationTranslation",(function(){return pa})),n.d(_,"fromTranslation",(function(){return da})),n.d(_,"fromRotation",(function(){return ma})),n.d(_,"fromMat4",(function(){return ha})),n.d(_,"copy",(function(){return ya})),n.d(_,"identity",(function(){return ba})),n.d(_,"set",(function(){return va})),n.d(_,"getReal",(function(){return ga})),n.d(_,"getDual",(function(){return wa})),n.d(_,"setReal",(function(){return Ma})),n.d(_,"setDual",(function(){return ka})),n.d(_,"getTranslation",(function(){return xa})),n.d(_,"translate",(function(){return za})),n.d(_,"rotateX",(function(){return Aa})),n.d(_,"rotateY",(function(){return La})),n.d(_,"rotateZ",(function(){return Ea})),n.d(_,"rotateByQuatAppend",(function(){return Ta})),n.d(_,"rotateByQuatPrepend",(function(){return Oa})),n.d(_,"rotateAroundAxis",(function(){return Sa})),n.d(_,"add",(function(){return Ca})),n.d(_,"multiply",(function(){return Ia})),n.d(_,"mul",(function(){return Pa})),n.d(_,"scale",(function(){return Ba})),n.d(_,"dot",(function(){return Fa})),n.d(_,"lerp",(function(){return ja})),n.d(_,"invert",(function(){return Da})),n.d(_,"conjugate",(function(){return Ra})),n.d(_,"length",(function(){return Va})),n.d(_,"len",(function(){return qa})),n.d(_,"squaredLength",(function(){return Ga})),n.d(_,"sqrLen",(function(){return Na})),n.d(_,"normalize",(function(){return Ua})),n.d(_,"str",(function(){return Wa})),n.d(_,"exactEquals",(function(){return Ha})),n.d(_,"equals",(function(){return Za}));var l={};n.r(l),n.d(l,"create",(function(){return Ya})),n.d(l,"clone",(function(){return Xa})),n.d(l,"fromValues",(function(){return Ka})),n.d(l,"copy",(function(){return Ja})),n.d(l,"set",(function(){return Qa})),n.d(l,"add",(function(){return $a})),n.d(l,"subtract",(function(){return ei})),n.d(l,"multiply",(function(){return ti})),n.d(l,"divide",(function(){return ni})),n.d(l,"ceil",(function(){return ri})),n.d(l,"floor",(function(){return ai})),n.d(l,"min",(function(){return ii})),n.d(l,"max",(function(){return oi})),n.d(l,"round",(function(){return ui})),n.d(l,"scale",(function(){return ci})),n.d(l,"scaleAndAdd",(function(){return fi})),n.d(l,"distance",(function(){return si})),n.d(l,"squaredDistance",(function(){return _i})),n.d(l,"length",(function(){return li})),n.d(l,"squaredLength",(function(){return pi})),n.d(l,"negate",(function(){return di})),n.d(l,"inverse",(function(){return mi})),n.d(l,"normalize",(function(){return hi})),n.d(l,"dot",(function(){return yi})),n.d(l,"cross",(function(){return bi})),n.d(l,"lerp",(function(){return vi})),n.d(l,"random",(function(){return gi})),n.d(l,"transformMat2",(function(){return wi})),n.d(l,"transformMat2d",(function(){return Mi})),n.d(l,"transformMat3",(function(){return ki})),n.d(l,"transformMat4",(function(){return xi})),n.d(l,"rotate",(function(){return zi})),n.d(l,"angle",(function(){return Ai})),n.d(l,"zero",(function(){return Li})),n.d(l,"str",(function(){return Ei})),n.d(l,"exactEquals",(function(){return Ti})),n.d(l,"equals",(function(){return Oi})),n.d(l,"len",(function(){return Si})),n.d(l,"sub",(function(){return Ci})),n.d(l,"mul",(function(){return Ii})),n.d(l,"div",(function(){return Pi})),n.d(l,"dist",(function(){return Bi})),n.d(l,"sqrDist",(function(){return Fi})),n.d(l,"sqrLen",(function(){return ji})),n.d(l,"forEach",(function(){return Di}));var p=1e-6,d="undefined"!==typeof Float32Array?Float32Array:Array,m=Math.random;function h(e){d=e}var y=Math.PI/180;function b(e){return e*y}function v(e,t){return Math.abs(e-t)<=p*Math.max(1,Math.abs(e),Math.abs(t))}function g(){var e=new d(4);return d!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new d(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function k(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function x(e,t,n,r){var a=new d(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function z(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function A(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function L(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null}function E(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function T(e){return e[0]*e[3]-e[2]*e[1]}function O(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*u+i*c,e[1]=a*u+o*c,e[2]=r*f+i*s,e[3]=a*f+o*s,e}function S(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*u,e[1]=a*c+o*u,e[2]=r*-u+i*c,e[3]=a*-u+o*c,e}function C(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1];return e[0]=r*u,e[1]=a*u,e[2]=i*c,e[3]=o*c,e}function I(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function P(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function B(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function F(e){return Math.hypot(e[0],e[1],e[2],e[3])}function j(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function D(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function R(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function q(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-c)<=p*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))}function G(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function N(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var U=O,W=R;function H(){var e=new d(6);return d!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Z(e){var t=new d(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Y(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function K(e,t,n,r,a,i){var o=new d(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function J(e,t,n,r,a,i,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e}function Q(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=n*i-r*a;return c?(c=1/c,e[0]=i*c,e[1]=-r*c,e[2]=-a*c,e[3]=n*c,e[4]=(a*u-i*o)*c,e[5]=(r*o-n*u)*c,e):null}function $(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1],_=n[2],l=n[3],p=n[4],d=n[5];return e[0]=r*f+i*s,e[1]=a*f+o*s,e[2]=r*_+i*l,e[3]=a*_+o*l,e[4]=r*p+i*d+u,e[5]=a*p+o*d+c,e}function te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=Math.sin(n),s=Math.cos(n);return e[0]=r*s+i*f,e[1]=a*s+o*f,e[2]=r*-f+i*s,e[3]=a*-f+o*s,e[4]=u,e[5]=c,e}function ne(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1];return e[0]=r*f,e[1]=a*f,e[2]=i*s,e[3]=o*s,e[4]=u,e[5]=c,e}function re(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=n[0],s=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*f+i*s+u,e[5]=a*f+o*s+c,e}function ae(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ue(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function ce(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function fe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function se(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function _e(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function le(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function pe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function de(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=t[0],f=t[1],s=t[2],_=t[3],l=t[4],d=t[5];return Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-s)<=p*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-_)<=p*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-l)<=p*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-d)<=p*Math.max(1,Math.abs(u),Math.abs(d))}var me=ee,he=se;function ye(){var e=new d(9);return d!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ve(e){var t=new d(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,n,r,a,i,o,u,c){var f=new d(9);return f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a,f[5]=i,f[6]=o,f[7]=u,f[8]=c,f}function Me(e,t,n,r,a,i,o,u,c,f){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e[8]=f,e}function ke(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function xe(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function ze(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=s*o-u*f,l=-s*i+u*c,p=f*i-o*c,d=n*_+r*l+a*p;return d?(d=1/d,e[0]=_*d,e[1]=(-s*r+a*f)*d,e[2]=(u*r-a*o)*d,e[3]=l*d,e[4]=(s*n-a*c)*d,e[5]=(-u*n+a*i)*d,e[6]=p*d,e[7]=(-f*n+r*c)*d,e[8]=(o*n-r*i)*d,e):null}function Ae(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8];return e[0]=o*s-u*f,e[1]=a*f-r*s,e[2]=r*u-a*o,e[3]=u*c-i*s,e[4]=n*s-a*c,e[5]=a*i-n*u,e[6]=i*f-o*c,e[7]=r*c-n*f,e[8]=n*o-r*i,e}function Le(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],f=e[8];return t*(f*i-o*c)+n*(-f*a+o*u)+r*(c*a-i*u)}function Ee(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=n[0],p=n[1],d=n[2],m=n[3],h=n[4],y=n[5],b=n[6],v=n[7],g=n[8];return e[0]=l*r+p*o+d*f,e[1]=l*a+p*u+d*s,e[2]=l*i+p*c+d*_,e[3]=m*r+h*o+y*f,e[4]=m*a+h*u+y*s,e[5]=m*i+h*c+y*_,e[6]=b*r+v*o+g*f,e[7]=b*a+v*u+g*s,e[8]=b*i+v*c+g*_,e}function Te(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=n[0],p=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=c,e[6]=l*r+p*o+f,e[7]=l*a+p*u+s,e[8]=l*i+p*c+_,e}function Oe(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=Math.sin(n),p=Math.cos(n);return e[0]=p*r+l*o,e[1]=p*a+l*u,e[2]=p*i+l*c,e[3]=p*o-l*r,e[4]=p*u-l*a,e[5]=p*c-l*i,e[6]=f,e[7]=s,e[8]=_,e}function Se(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ce(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Ie(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Pe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Fe(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,u=r+r,c=a+a,f=n*o,s=r*o,_=r*u,l=a*o,p=a*u,d=a*c,m=i*o,h=i*u,y=i*c;return e[0]=1-_-d,e[3]=s-y,e[6]=l+h,e[1]=s+y,e[4]=1-f-d,e[7]=p-m,e[2]=l-h,e[5]=p+m,e[8]=1-f-_,e}function je(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15],b=n*u-r*o,v=n*c-a*o,g=n*f-i*o,w=r*c-a*u,M=r*f-i*u,k=a*f-i*c,x=s*m-_*d,z=s*h-l*d,A=s*y-p*d,L=_*h-l*m,E=_*y-p*m,T=l*y-p*h,O=b*T-v*E+g*L+w*A-M*z+k*x;return O?(O=1/O,e[0]=(u*T-c*E+f*L)*O,e[1]=(c*A-o*T-f*z)*O,e[2]=(o*E-u*A+f*x)*O,e[3]=(a*E-r*T-i*L)*O,e[4]=(n*T-a*A+i*z)*O,e[5]=(r*A-n*E-i*x)*O,e[6]=(m*k-h*M+y*w)*O,e[7]=(h*g-d*k-y*v)*O,e[8]=(d*M-m*g+y*b)*O,e):null}function De(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Re(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ve(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function qe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ge(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Ne(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ue(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function We(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function He(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],_=t[0],l=t[1],d=t[2],m=t[3],h=t[4],y=t[5],b=t[6],v=t[7],g=t[8];return Math.abs(n-_)<=p*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-d)<=p*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-m)<=p*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-h)<=p*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-y)<=p*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=p*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-v)<=p*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(s-g)<=p*Math.max(1,Math.abs(s),Math.abs(g))}var Ze=Ee,Ye=Ge;function Xe(){var e=new d(16);return d!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ke(e){var t=new d(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qe(e,t,n,r,a,i,o,u,c,f,s,_,l,p,m,h){var y=new d(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=r,y[4]=a,y[5]=i,y[6]=o,y[7]=u,y[8]=c,y[9]=f,y[10]=s,y[11]=_,y[12]=l,y[13]=p,y[14]=m,y[15]=h,y}function $e(e,t,n,r,a,i,o,u,c,f,s,_,l,p,d,m,h){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e[8]=f,e[9]=s,e[10]=_,e[11]=l,e[12]=p,e[13]=d,e[14]=m,e[15]=h,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15],b=n*u-r*o,v=n*c-a*o,g=n*f-i*o,w=r*c-a*u,M=r*f-i*u,k=a*f-i*c,x=s*m-_*d,z=s*h-l*d,A=s*y-p*d,L=_*h-l*m,E=_*y-p*m,T=l*y-p*h,O=b*T-v*E+g*L+w*A-M*z+k*x;return O?(O=1/O,e[0]=(u*T-c*E+f*L)*O,e[1]=(a*E-r*T-i*L)*O,e[2]=(m*k-h*M+y*w)*O,e[3]=(l*M-_*k-p*w)*O,e[4]=(c*A-o*T-f*z)*O,e[5]=(n*T-a*A+i*z)*O,e[6]=(h*g-d*k-y*v)*O,e[7]=(s*k-l*g+p*v)*O,e[8]=(o*E-u*A+f*x)*O,e[9]=(r*A-n*E-i*x)*O,e[10]=(d*M-m*g+y*b)*O,e[11]=(_*g-s*M-p*b)*O,e[12]=(u*z-o*L-c*x)*O,e[13]=(n*L-r*z+a*x)*O,e[14]=(m*v-d*w-h*b)*O,e[15]=(s*w-_*v+l*b)*O,e):null}function rt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],f=t[7],s=t[8],_=t[9],l=t[10],p=t[11],d=t[12],m=t[13],h=t[14],y=t[15];return e[0]=u*(l*y-p*h)-_*(c*y-f*h)+m*(c*p-f*l),e[1]=-(r*(l*y-p*h)-_*(a*y-i*h)+m*(a*p-i*l)),e[2]=r*(c*y-f*h)-u*(a*y-i*h)+m*(a*f-i*c),e[3]=-(r*(c*p-f*l)-u*(a*p-i*l)+_*(a*f-i*c)),e[4]=-(o*(l*y-p*h)-s*(c*y-f*h)+d*(c*p-f*l)),e[5]=n*(l*y-p*h)-s*(a*y-i*h)+d*(a*p-i*l),e[6]=-(n*(c*y-f*h)-o*(a*y-i*h)+d*(a*f-i*c)),e[7]=n*(c*p-f*l)-o*(a*p-i*l)+s*(a*f-i*c),e[8]=o*(_*y-p*m)-s*(u*y-f*m)+d*(u*p-f*_),e[9]=-(n*(_*y-p*m)-s*(r*y-i*m)+d*(r*p-i*_)),e[10]=n*(u*y-f*m)-o*(r*y-i*m)+d*(r*f-i*u),e[11]=-(n*(u*p-f*_)-o*(r*p-i*_)+s*(r*f-i*u)),e[12]=-(o*(_*h-l*m)-s*(u*h-c*m)+d*(u*l-c*_)),e[13]=n*(_*h-l*m)-s*(r*h-a*m)+d*(r*l-a*_),e[14]=-(n*(u*h-c*m)-o*(r*h-a*m)+d*(r*c-a*u)),e[15]=n*(u*l-c*_)-o*(r*l-a*_)+s*(r*c-a*u),e}function at(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],u=e[6],c=e[7],f=e[8],s=e[9],_=e[10],l=e[11],p=e[12],d=e[13],m=e[14],h=e[15];return(t*o-n*i)*(_*h-l*m)-(t*u-r*i)*(s*h-l*d)+(t*c-a*i)*(s*m-_*d)+(n*u-r*o)*(f*h-l*p)-(n*c-a*o)*(f*m-_*p)+(r*c-a*u)*(f*d-s*p)}function it(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=t[9],p=t[10],d=t[11],m=t[12],h=t[13],y=t[14],b=t[15],v=n[0],g=n[1],w=n[2],M=n[3];return e[0]=v*r+g*u+w*_+M*m,e[1]=v*a+g*c+w*l+M*h,e[2]=v*i+g*f+w*p+M*y,e[3]=v*o+g*s+w*d+M*b,v=n[4],g=n[5],w=n[6],M=n[7],e[4]=v*r+g*u+w*_+M*m,e[5]=v*a+g*c+w*l+M*h,e[6]=v*i+g*f+w*p+M*y,e[7]=v*o+g*s+w*d+M*b,v=n[8],g=n[9],w=n[10],M=n[11],e[8]=v*r+g*u+w*_+M*m,e[9]=v*a+g*c+w*l+M*h,e[10]=v*i+g*f+w*p+M*y,e[11]=v*o+g*s+w*d+M*b,v=n[12],g=n[13],w=n[14],M=n[15],e[12]=v*r+g*u+w*_+M*m,e[13]=v*a+g*c+w*l+M*h,e[14]=v*i+g*f+w*p+M*y,e[15]=v*o+g*s+w*d+M*b,e}function ot(e,t,n){var r,a,i,o,u,c,f,s,_,l,p,d,m=n[0],h=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*h+t[8]*y+t[12],e[13]=t[1]*m+t[5]*h+t[9]*y+t[13],e[14]=t[2]*m+t[6]*h+t[10]*y+t[14],e[15]=t[3]*m+t[7]*h+t[11]*y+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=t[8],l=t[9],p=t[10],d=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=u,e[5]=c,e[6]=f,e[7]=s,e[8]=_,e[9]=l,e[10]=p,e[11]=d,e[12]=r*m+u*h+_*y+t[12],e[13]=a*m+c*h+l*y+t[13],e[14]=i*m+f*h+p*y+t[14],e[15]=o*m+s*h+d*y+t[15]),e}function ut(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ct(e,t,n,r){var a,i,o,u,c,f,s,_,l,d,m,h,y,b,v,g,w,M,k,x,z,A,L,E,T=r[0],O=r[1],S=r[2],C=Math.hypot(T,O,S);return C<p?null:(T*=C=1/C,O*=C,S*=C,a=Math.sin(n),o=1-(i=Math.cos(n)),u=t[0],c=t[1],f=t[2],s=t[3],_=t[4],l=t[5],d=t[6],m=t[7],h=t[8],y=t[9],b=t[10],v=t[11],g=T*T*o+i,w=O*T*o+S*a,M=S*T*o-O*a,k=T*O*o-S*a,x=O*O*o+i,z=S*O*o+T*a,A=T*S*o+O*a,L=O*S*o-T*a,E=S*S*o+i,e[0]=u*g+_*w+h*M,e[1]=c*g+l*w+y*M,e[2]=f*g+d*w+b*M,e[3]=s*g+m*w+v*M,e[4]=u*k+_*x+h*z,e[5]=c*k+l*x+y*z,e[6]=f*k+d*x+b*z,e[7]=s*k+m*x+v*z,e[8]=u*A+_*L+h*E,e[9]=c*A+l*L+y*E,e[10]=f*A+d*L+b*E,e[11]=s*A+m*L+v*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ft(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],u=t[6],c=t[7],f=t[8],s=t[9],_=t[10],l=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+f*r,e[5]=o*a+s*r,e[6]=u*a+_*r,e[7]=c*a+l*r,e[8]=f*a-i*r,e[9]=s*a-o*r,e[10]=_*a-u*r,e[11]=l*a-c*r,e}function st(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],u=t[2],c=t[3],f=t[8],s=t[9],_=t[10],l=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-f*r,e[1]=o*a-s*r,e[2]=u*a-_*r,e[3]=c*a-l*r,e[8]=i*r+f*a,e[9]=o*r+s*a,e[10]=u*r+_*a,e[11]=c*r+l*a,e}function _t(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],u=t[2],c=t[3],f=t[4],s=t[5],_=t[6],l=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+f*r,e[1]=o*a+s*r,e[2]=u*a+_*r,e[3]=c*a+l*r,e[4]=f*a-i*r,e[5]=s*a-o*r,e[6]=_*a-u*r,e[7]=l*a-c*r,e}function lt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function dt(e,t,n){var r,a,i,o=n[0],u=n[1],c=n[2],f=Math.hypot(o,u,c);return f<p?null:(o*=f=1/f,u*=f,c*=f,r=Math.sin(t),i=1-(a=Math.cos(t)),e[0]=o*o*i+a,e[1]=u*o*i+c*r,e[2]=c*o*i-u*r,e[3]=0,e[4]=o*u*i-c*r,e[5]=u*u*i+a,e[6]=c*u*i+o*r,e[7]=0,e[8]=o*c*i+u*r,e[9]=u*c*i-o*r,e[10]=c*c*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function bt(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=r+r,c=a+a,f=i+i,s=r*u,_=r*c,l=r*f,p=a*c,d=a*f,m=i*f,h=o*u,y=o*c,b=o*f;return e[0]=1-(p+m),e[1]=_+b,e[2]=l-y,e[3]=0,e[4]=_-b,e[5]=1-(s+m),e[6]=d+h,e[7]=0,e[8]=l+y,e[9]=d-h,e[10]=1-(s+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function vt(e,t){var n=new d(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=r*r+a*a+i*i+o*o;return _>0?(n[0]=2*(u*o+s*r+c*i-f*a)/_,n[1]=2*(c*o+s*a+f*r-u*i)/_,n[2]=2*(f*o+s*i+u*a-c*r)/_):(n[0]=2*(u*o+s*r+c*i-f*a),n[1]=2*(c*o+s*a+f*r-u*i),n[2]=2*(f*o+s*i+u*a-c*r)),bt(e,t,n),e}function gt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],u=t[6],c=t[8],f=t[9],s=t[10];return e[0]=Math.hypot(n,r,a),e[1]=Math.hypot(i,o,u),e[2]=Math.hypot(c,f,s),e}function Mt(e,t){var n=new d(3);wt(n,t);var r=1/n[0],a=1/n[1],i=1/n[2],o=t[0]*r,u=t[1]*a,c=t[2]*i,f=t[4]*r,s=t[5]*a,_=t[6]*i,l=t[8]*r,p=t[9]*a,m=t[10]*i,h=o+s+m,y=0;return h>0?(y=2*Math.sqrt(h+1),e[3]=.25*y,e[0]=(_-p)/y,e[1]=(l-c)/y,e[2]=(u-f)/y):o>s&&o>m?(y=2*Math.sqrt(1+o-s-m),e[3]=(_-p)/y,e[0]=.25*y,e[1]=(u+f)/y,e[2]=(l+c)/y):s>m?(y=2*Math.sqrt(1+s-o-m),e[3]=(l-c)/y,e[0]=(u+f)/y,e[1]=.25*y,e[2]=(_+p)/y):(y=2*Math.sqrt(1+m-o-s),e[3]=(u-f)/y,e[0]=(l+c)/y,e[1]=(_+p)/y,e[2]=.25*y),e}function kt(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=t[3],c=a+a,f=i+i,s=o+o,_=a*c,l=a*f,p=a*s,d=i*f,m=i*s,h=o*s,y=u*c,b=u*f,v=u*s,g=r[0],w=r[1],M=r[2];return e[0]=(1-(d+h))*g,e[1]=(l+v)*g,e[2]=(p-b)*g,e[3]=0,e[4]=(l-v)*w,e[5]=(1-(_+h))*w,e[6]=(m+y)*w,e[7]=0,e[8]=(p+b)*M,e[9]=(m-y)*M,e[10]=(1-(_+d))*M,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xt(e,t,n,r,a){var i=t[0],o=t[1],u=t[2],c=t[3],f=i+i,s=o+o,_=u+u,l=i*f,p=i*s,d=i*_,m=o*s,h=o*_,y=u*_,b=c*f,v=c*s,g=c*_,w=r[0],M=r[1],k=r[2],x=a[0],z=a[1],A=a[2],L=(1-(m+y))*w,E=(p+g)*w,T=(d-v)*w,O=(p-g)*M,S=(1-(l+y))*M,C=(h+b)*M,I=(d+v)*k,P=(h-b)*k,B=(1-(l+m))*k;return e[0]=L,e[1]=E,e[2]=T,e[3]=0,e[4]=O,e[5]=S,e[6]=C,e[7]=0,e[8]=I,e[9]=P,e[10]=B,e[11]=0,e[12]=n[0]+x-(L*x+O*z+I*A),e[13]=n[1]+z-(E*x+S*z+P*A),e[14]=n[2]+A-(T*x+C*z+B*A),e[15]=1,e}function zt(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,u=r+r,c=a+a,f=n*o,s=r*o,_=r*u,l=a*o,p=a*u,d=a*c,m=i*o,h=i*u,y=i*c;return e[0]=1-_-d,e[1]=s+y,e[2]=l-h,e[3]=0,e[4]=s-y,e[5]=1-f-d,e[6]=p+m,e[7]=0,e[8]=l+h,e[9]=p-m,e[10]=1-f-_,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function At(e,t,n,r,a,i,o){var u=1/(n-t),c=1/(a-r),f=1/(i-o);return e[0]=2*i*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*c,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(a+r)*c,e[10]=(o+i)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*f,e[15]=0,e}function Lt(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e}function Et(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+u),f=2/(a+i);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-(o-u)*c*.5,e[9]=(a-i)*f*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function Tt(e,t,n,r,a,i,o){var u=1/(t-n),c=1/(r-a),f=1/(i-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+n)*u,e[13]=(a+r)*c,e[14]=(o+i)*f,e[15]=1,e}function Ot(e,t,n,r){var a,i,o,u,c,f,s,_,l,d,m=t[0],h=t[1],y=t[2],b=r[0],v=r[1],g=r[2],w=n[0],M=n[1],k=n[2];return Math.abs(m-w)<p&&Math.abs(h-M)<p&&Math.abs(y-k)<p?et(e):(s=m-w,_=h-M,l=y-k,a=v*(l*=d=1/Math.hypot(s,_,l))-g*(_*=d),i=g*(s*=d)-b*l,o=b*_-v*s,(d=Math.hypot(a,i,o))?(a*=d=1/d,i*=d,o*=d):(a=0,i=0,o=0),u=_*o-l*i,c=l*a-s*o,f=s*i-_*a,(d=Math.hypot(u,c,f))?(u*=d=1/d,c*=d,f*=d):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=s,e[3]=0,e[4]=i,e[5]=c,e[6]=_,e[7]=0,e[8]=o,e[9]=f,e[10]=l,e[11]=0,e[12]=-(a*m+i*h+o*y),e[13]=-(u*m+c*h+f*y),e[14]=-(s*m+_*h+l*y),e[15]=1,e)}function St(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=r[0],c=r[1],f=r[2],s=a-n[0],_=i-n[1],l=o-n[2],p=s*s+_*_+l*l;p>0&&(s*=p=1/Math.sqrt(p),_*=p,l*=p);var d=c*l-f*_,m=f*s-u*l,h=u*_-c*s;return(p=d*d+m*m+h*h)>0&&(d*=p=1/Math.sqrt(p),m*=p,h*=p),e[0]=d,e[1]=m,e[2]=h,e[3]=0,e[4]=_*h-l*m,e[5]=l*d-s*h,e[6]=s*m-_*d,e[7]=0,e[8]=s,e[9]=_,e[10]=l,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function Ct(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function It(e){return Math.hypot(e[0],e[1],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Pt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Bt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function Ft(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function jt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Dt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Rt(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=e[8],_=e[9],l=e[10],d=e[11],m=e[12],h=e[13],y=e[14],b=e[15],v=t[0],g=t[1],w=t[2],M=t[3],k=t[4],x=t[5],z=t[6],A=t[7],L=t[8],E=t[9],T=t[10],O=t[11],S=t[12],C=t[13],I=t[14],P=t[15];return Math.abs(n-v)<=p*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-g)<=p*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-w)<=p*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(i-M)<=p*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(o-k)<=p*Math.max(1,Math.abs(o),Math.abs(k))&&Math.abs(u-x)<=p*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(c-z)<=p*Math.max(1,Math.abs(c),Math.abs(z))&&Math.abs(f-A)<=p*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(s-L)<=p*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(_-E)<=p*Math.max(1,Math.abs(_),Math.abs(E))&&Math.abs(l-T)<=p*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(d-O)<=p*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(m-S)<=p*Math.max(1,Math.abs(m),Math.abs(S))&&Math.abs(h-C)<=p*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(y-I)<=p*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(b-P)<=p*Math.max(1,Math.abs(b),Math.abs(P))}var Vt=it,qt=Bt;function Gt(){var e=new d(3);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Nt(e){var t=new d(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ut(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function Wt(e,t,n){var r=new d(3);return r[0]=e,r[1]=t,r[2]=n,r}function Ht(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Zt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Yt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Xt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Kt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Jt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Qt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function en(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function tn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function nn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function an(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.hypot(n,r,a)}function un(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function cn(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function fn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function sn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function _n(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function ln(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],c=n[2];return e[0]=a*c-i*u,e[1]=i*o-r*c,e[2]=r*u-a*o,e}function dn(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function mn(e,t,n,r,a,i){var o=i*i,u=o*(2*i-3)+1,c=o*(i-2)+i,f=o*(i-1),s=o*(3-2*i);return e[0]=t[0]*u+n[0]*c+r[0]*f+a[0]*s,e[1]=t[1]*u+n[1]*c+r[1]*f+a[1]*s,e[2]=t[2]*u+n[2]*c+r[2]*f+a[2]*s,e}function hn(e,t,n,r,a,i){var o=1-i,u=o*o,c=i*i,f=u*o,s=3*i*u,_=3*c*o,l=c*i;return e[0]=t[0]*f+n[0]*s+r[0]*_+a[0]*l,e[1]=t[1]*f+n[1]*s+r[1]*_+a[1]*l,e[2]=t[2]*f+n[2]*s+r[2]*_+a[2]*l,e}function yn(e,t){t=t||1;var n=2*m()*Math.PI,r=2*m()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function bn(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function vn(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function gn(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],u=t[0],c=t[1],f=t[2],s=a*f-i*c,_=i*u-r*f,l=r*c-a*u,p=a*l-i*_,d=i*s-r*l,m=r*_-a*s,h=2*o;return s*=h,_*=h,l*=h,p*=2,d*=2,m*=2,e[0]=u+s+p,e[1]=c+_+d,e[2]=f+l+m,e}function wn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function Mn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function kn(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function xn(e,t){var n=Wt(e[0],e[1],e[2]),r=Wt(t[0],t[1],t[2]);_n(n,n),_n(r,r);var a=ln(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function zn(e){return e[0]=0,e[1]=0,e[2]=0,e}function An(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ln(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function En(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],u=t[2];return Math.abs(n-i)<=p*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=p*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-u)<=p*Math.max(1,Math.abs(a),Math.abs(u))}var Tn=Xt,On=Kt,Sn=Jt,Cn=on,In=un,Pn=Ut,Bn=cn,Fn=function(){var e=Gt();return function(t,n,r,a,i,o){var u,c;for(n||(n=3),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],i(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();function jn(){var e=new d(4);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Dn(e){var t=new d(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Rn(e,t,n,r){var a=new d(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function Vn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function qn(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function Gn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Nn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function Un(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Wn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Hn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Zn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Yn(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Xn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Kn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Qn(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function $n(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(n,r,a,i)}function er(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function tr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.hypot(t,n,r,a)}function nr(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function rr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ar(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function ir(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function or(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ur(e,t,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],c=n[1]*r[3]-n[3]*r[1],f=n[2]*r[3]-n[3]*r[2],s=t[0],_=t[1],l=t[2],p=t[3];return e[0]=_*f-l*c+p*u,e[1]=-s*f+l*o-p*i,e[2]=s*c-_*o+p*a,e[3]=-s*u+_*i-l*a,e}function cr(e,t,n,r){var a=t[0],i=t[1],o=t[2],u=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=u+r*(n[3]-u),e}function fr(e,t){var n,r,a,i,o,u;t=t||1;do{o=(n=2*m()-1)*n+(r=2*m()-1)*r}while(o>=1);do{u=(a=2*m()-1)*a+(i=2*m()-1)*i}while(u>=1);var c=Math.sqrt((1-o)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*a*c,e[3]=t*i*c,e}function sr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function _r(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],u=n[1],c=n[2],f=n[3],s=f*r+u*i-c*a,_=f*a+c*r-o*i,l=f*i+o*a-u*r,p=-o*r-u*a-c*i;return e[0]=s*f+p*-o+_*-c-l*-u,e[1]=_*f+p*-u+l*-o-s*-c,e[2]=l*f+p*-c+s*-u-_*-o,e[3]=t[3],e}function lr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function pr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function dr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function mr(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-c)<=p*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))}var hr=Nn,yr=Un,br=Wn,vr=$n,gr=er,wr=tr,Mr=nr,kr=function(){var e=jn();return function(t,n,r,a,i,o){var u,c;for(n||(n=4),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],i(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}();function xr(){var e=new d(4);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function zr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ar(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Lr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>p?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function Er(e,t){var n=Jr(e,t);return Math.acos(2*n*n-1)}function Tr(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*s+o*u+a*f-i*c,e[1]=a*s+o*c+i*u-r*f,e[2]=i*s+o*f+r*c-a*u,e[3]=o*s-r*u-a*c-i*f,e}function Or(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=a*c+i*u,e[2]=i*c-a*u,e[3]=o*c-r*u,e}function Sr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*u,e[1]=a*c+o*u,e[2]=i*c+r*u,e[3]=o*c-a*u,e}function Cr(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=a*c-r*u,e[2]=i*c+o*u,e[3]=o*c-i*u,e}function Ir(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e}function Pr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),u=Math.exp(i),c=o>0?u*Math.sin(o)/o:0;return e[0]=n*c,e[1]=r*c,e[2]=a*c,e[3]=u*Math.cos(o),e}function Br(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=Math.sqrt(n*n+r*r+a*a),u=o>0?Math.atan2(o,i)/o:0;return e[0]=n*u,e[1]=r*u,e[2]=a*u,e[3]=.5*Math.log(n*n+r*r+a*a+i*i),e}function Fr(e,t,n){return Br(e,t),Kr(e,e,n),Pr(e,e),e}function jr(e,t,n,r){var a,i,o,u,c,f=t[0],s=t[1],_=t[2],l=t[3],d=n[0],m=n[1],h=n[2],y=n[3];return(i=f*d+s*m+_*h+l*y)<0&&(i=-i,d=-d,m=-m,h=-h,y=-y),1-i>p?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-r)*a)/o,c=Math.sin(r*a)/o):(u=1-r,c=r),e[0]=u*f+c*d,e[1]=u*s+c*m,e[2]=u*_+c*h,e[3]=u*l+c*y,e}function Dr(e){var t=m(),n=m(),r=m(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=i*Math.sin(2*Math.PI*r),e[3]=i*Math.cos(2*Math.PI*r),e}function Rr(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,u=o?1/o:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-a*u,e[3]=i*u,e}function Vr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function qr(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*i+o]-t[3*o+i])*n,e[i]=(t[3*i+a]+t[3*a+i])*n,e[o]=(t[3*o+a]+t[3*a+o])*n}return e}function Gr(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),u=Math.sin(n),c=Math.cos(n),f=Math.sin(r),s=Math.cos(r);return e[0]=i*c*s-o*u*f,e[1]=o*u*s+i*c*f,e[2]=o*c*f-i*u*s,e[3]=o*c*s+i*u*f,e}function Nr(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Ur=Dn,Wr=Rn,Hr=Vn,Zr=qn,Yr=Gn,Xr=Tr,Kr=Jn,Jr=or,Qr=cr,$r=tr,ea=$r,ta=nr,na=ta,ra=ir,aa=dr,ia=mr,oa=function(){var e=Gt(),t=Wt(1,0,0),n=Wt(0,1,0);return function(r,a,i){var o=ln(a,i);return o<-.999999?(pn(e,t,a),Pn(e)<1e-6&&pn(e,n,a),_n(e,e),Ar(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(pn(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,ra(r,r))}}(),ua=function(){var e=xr(),t=xr();return function(n,r,a,i,o,u){return jr(e,r,o,u),jr(t,a,i,u),jr(n,e,t,2*u*(1-u)),n}}(),ca=function(){var e=ye();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],ra(t,qr(t,e))}}();function fa(){var e=new d(8);return d!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function sa(e){var t=new d(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function _a(e,t,n,r,a,i,o,u){var c=new d(8);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=u,c}function la(e,t,n,r,a,i,o){var u=new d(8);u[0]=e,u[1]=t,u[2]=n,u[3]=r;var c=.5*a,f=.5*i,s=.5*o;return u[4]=c*r+f*n-s*t,u[5]=f*r+s*e-c*n,u[6]=s*r+c*t-f*e,u[7]=-c*e-f*t-s*n,u}function pa(e,t,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=t[0],u=t[1],c=t[2],f=t[3];return e[0]=o,e[1]=u,e[2]=c,e[3]=f,e[4]=r*f+a*c-i*u,e[5]=a*f+i*o-r*c,e[6]=i*f+r*u-a*o,e[7]=-r*o-a*u-i*c,e}function da(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function ma(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function ha(e,t){var n=xr();Mt(n,t);var r=new d(3);return gt(r,t),pa(e,n,r),e}function ya(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ba(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function va(e,t,n,r,a,i,o,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=u,e[7]=c,e}var ga=Hr;function wa(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Ma=Hr;function ka(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function xa(e,t){var n=t[4],r=t[5],a=t[6],i=t[7],o=-t[0],u=-t[1],c=-t[2],f=t[3];return e[0]=2*(n*f+i*o+r*c-a*u),e[1]=2*(r*f+i*u+a*o-n*c),e[2]=2*(a*f+i*c+n*u-r*o),e}function za(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=.5*n[0],c=.5*n[1],f=.5*n[2],s=t[4],_=t[5],l=t[6],p=t[7];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=o*u+a*f-i*c+s,e[5]=o*c+i*u-r*f+_,e[6]=o*f+r*c-a*u+l,e[7]=-r*u-a*c-i*f+p,e}function Aa(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Or(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function La(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Sr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function Ea(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],u=t[4],c=t[5],f=t[6],s=t[7],_=u*o+s*r+c*i-f*a,l=c*o+s*a+f*r-u*i,p=f*o+s*i+u*a-c*r,d=s*o-u*r-c*a-f*i;return Cr(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=_*o+d*r+l*i-p*a,e[5]=l*o+d*a+p*r-_*i,e[6]=p*o+d*i+_*a-l*r,e[7]=d*o-_*r-l*a-p*i,e}function Ta(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],u=t[0],c=t[1],f=t[2],s=t[3];return e[0]=u*o+s*r+c*i-f*a,e[1]=c*o+s*a+f*r-u*i,e[2]=f*o+s*i+u*a-c*r,e[3]=s*o-u*r-c*a-f*i,u=t[4],c=t[5],f=t[6],s=t[7],e[4]=u*o+s*r+c*i-f*a,e[5]=c*o+s*a+f*r-u*i,e[6]=f*o+s*i+u*a-c*r,e[7]=s*o-u*r-c*a-f*i,e}function Oa(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[0],c=n[1],f=n[2],s=n[3];return e[0]=r*s+o*u+a*f-i*c,e[1]=a*s+o*c+i*u-r*f,e[2]=i*s+o*f+r*c-a*u,e[3]=o*s-r*u-a*c-i*f,u=n[4],c=n[5],f=n[6],s=n[7],e[4]=r*s+o*u+a*f-i*c,e[5]=a*s+o*c+i*u-r*f,e[6]=i*s+o*f+r*c-a*u,e[7]=o*s-r*u-a*c-i*f,e}function Sa(e,t,n,r){if(Math.abs(r)<p)return ya(e,t);var a=Math.hypot(n[0],n[1],n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,u=i*n[1]/a,c=i*n[2]/a,f=Math.cos(r),s=t[0],_=t[1],l=t[2],d=t[3];e[0]=s*f+d*o+_*c-l*u,e[1]=_*f+d*u+l*o-s*c,e[2]=l*f+d*c+s*u-_*o,e[3]=d*f-s*o-_*u-l*c;var m=t[4],h=t[5],y=t[6],b=t[7];return e[4]=m*f+b*o+h*c-y*u,e[5]=h*f+b*u+y*o-m*c,e[6]=y*f+b*c+m*u-h*o,e[7]=b*f-m*o-h*u-y*c,e}function Ca(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Ia(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],u=n[4],c=n[5],f=n[6],s=n[7],_=t[4],l=t[5],p=t[6],d=t[7],m=n[0],h=n[1],y=n[2],b=n[3];return e[0]=r*b+o*m+a*y-i*h,e[1]=a*b+o*h+i*m-r*y,e[2]=i*b+o*y+r*h-a*m,e[3]=o*b-r*m-a*h-i*y,e[4]=r*s+o*u+a*f-i*c+_*b+d*m+l*y-p*h,e[5]=a*s+o*c+i*u-r*f+l*b+d*h+p*m-_*y,e[6]=i*s+o*f+r*c-a*u+p*b+d*y+_*h-l*m,e[7]=o*s-r*u-a*c-i*f+d*b-_*m-l*h-p*y,e}var Pa=Ia;function Ba(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Fa=Jr;function ja(e,t,n,r){var a=1-r;return Fa(t,n)<0&&(r=-r),e[0]=t[0]*a+n[0]*r,e[1]=t[1]*a+n[1]*r,e[2]=t[2]*a+n[2]*r,e[3]=t[3]*a+n[3]*r,e[4]=t[4]*a+n[4]*r,e[5]=t[5]*a+n[5]*r,e[6]=t[6]*a+n[6]*r,e[7]=t[7]*a+n[7]*r,e}function Da(e,t){var n=Ga(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Ra(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Va=$r,qa=Va,Ga=ta,Na=Ga;function Ua(e,t){var n=Ga(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,a=t[1]/n,i=t[2]/n,o=t[3]/n,u=t[4],c=t[5],f=t[6],s=t[7],_=r*u+a*c+i*f+o*s;e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=(u-r*_)/n,e[5]=(c-a*_)/n,e[6]=(f-i*_)/n,e[7]=(s-o*_)/n}return e}function Wa(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function Ha(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Za(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],f=e[7],s=t[0],_=t[1],l=t[2],d=t[3],m=t[4],h=t[5],y=t[6],b=t[7];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-_)<=p*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(a-l)<=p*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-d)<=p*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-m)<=p*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-h)<=p*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(c-y)<=p*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-b)<=p*Math.max(1,Math.abs(f),Math.abs(b))}function Ya(){var e=new d(2);return d!=Float32Array&&(e[0]=0,e[1]=0),e}function Xa(e){var t=new d(2);return t[0]=e[0],t[1]=e[1],t}function Ka(e,t){var n=new d(2);return n[0]=e,n[1]=t,n}function Ja(e,t){return e[0]=t[0],e[1]=t[1],e}function Qa(e,t,n){return e[0]=t,e[1]=n,e}function $a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ei(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ti(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function ni(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function ri(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ai(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ii(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function oi(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ui(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function ci(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function fi(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function si(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function _i(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function li(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function pi(e){var t=e[0],n=e[1];return t*t+n*n}function di(e,t){return e[0]=-t[0],e[1]=-t[1],e}function mi(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function hi(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function yi(e,t){return e[0]*t[0]+e[1]*t[1]}function bi(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function vi(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e}function gi(e,t){t=t||1;var n=2*m()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function wi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e}function Mi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function ki(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e}function xi(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}function zi(e,t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=Math.sin(r),u=Math.cos(r);return e[0]=a*u-i*o+n[0],e[1]=a*o+i*u+n[1],e}function Ai(e,t){var n=e[0],r=e[1],a=t[0],i=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var u=a*a+i*i;u>0&&(u=1/Math.sqrt(u));var c=(n*a+r*i)*o*u;return c>1?0:c<-1?Math.PI:Math.acos(c)}function Li(e){return e[0]=0,e[1]=0,e}function Ei(e){return"vec2("+e[0]+", "+e[1]+")"}function Ti(e,t){return e[0]===t[0]&&e[1]===t[1]}function Oi(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=p*Math.max(1,Math.abs(r),Math.abs(i))}var Si=li,Ci=ei,Ii=ti,Pi=ni,Bi=si,Fi=_i,ji=pi,Di=function(){var e=Ya();return function(t,n,r,a,i,o){var u,c;for(n||(n=2),r||(r=0),c=a?Math.min(a*n+r,t.length):t.length,u=r;u<c;u+=n)e[0]=t[u],e[1]=t[u+1],i(e,e,o),t[u]=e[0],t[u+1]=e[1];return t}}()}]);\n//# sourceMappingURL=worker.104e4a0f.worker.js.map',"Worker",void 0,n.p+"static/js/worker.104e4a0f.worker.js")}},function(e,t,n){"use strict";function r(){return new Worker(n.p+"static/js/worker.104e4a0f.worker.js")}n.r(t),n.d(t,"default",(function(){return r}))},function(e,t,n){"use strict";n.r(t),t.default="./zcv.wasm"},function(e,t,n){"use strict";var r=n(20),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequestMotion=t.permissionRequestCamera=t.permissionRequestAll=t.permissionGrantedAll=t.permissionDeniedAny=t.permissionDeniedMotion=t.permissionDeniedCamera=t.permissionGrantedMotion=t.permissionGrantedCamera=void 0;var i=new(n(77).UAParser),o=!1,s=!1,u=!1,c=!1;function l(){return a(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.permissions||!navigator.permissions.query){e.next=11;break}return e.prev=1,e.next=4,navigator.permissions.query({name:"camera"});case 4:t=e.sent,u="denied"===t.state,o="granted"===t.state,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})))}function f(){return u||c}function d(){return o&&s}function h(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return e.next=4,p();case 4:case"end":return e.stop()}}),e)})))}function p(){return a(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:t=e.sent,t.getTracks().forEach((function(e){return e.stop()})),o=!0,u=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o=!1,u=!0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))}function m(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.DeviceOrientationEvent||!window.DeviceOrientationEvent.requestPermission){e.next=8;break}return e.next=3,window.DeviceOrientationEvent.requestPermission();case 3:if("granted"===e.sent){e.next=8;break}return s=!1,c=!0,e.abrupt("return",!1);case 8:s=!0,c=!1;case 10:case"end":return e.stop()}}),e)})))}window.DeviceOrientationEvent&&window.DeviceOrientationEvent.requestPermission||(s=!0),l(),t.permissionGrantedCamera=function(){return o},t.permissionGrantedMotion=function(){return s},t.permissionDeniedCamera=function(){return u},t.permissionDeniedMotion=function(){return c},t.permissionDeniedAny=f,t.permissionGrantedAll=d,t.permissionRequestAll=h,t.permissionRequestCamera=p,t.permissionRequestMotion=m,t.permissionRequestUI=function(){return a(this,void 0,void 0,r.mark((function e(){var t,n,i=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:if(!d()){e.next=4;break}return e.abrupt("return",!0);case 4:return(t=document.createElement("div")).classList.add("zappar-permission-request"),t.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Almost there...</div>\n        <div class="zappar-text">In order to provide this augmented reality experience, we need access to your device\'s camera and motion sensors.</div>\n        <button id="zappar-permission-request-button">Grant Access</button>\n    </div>\n',document.body.append(t),n=t.querySelector("#zappar-permission-request-button"),e.next=11,new Promise((function(e){null===n||void 0===n||n.addEventListener("click",(function(){return a(i,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h();case 2:t.remove();case 3:return n.next=6,new Promise((function(e){return requestAnimationFrame((function(){return e()}))}));case 6:if(!f()){n.next=9;break}return e(!1),n.abrupt("return");case 9:if(!d()){n.next=12;break}return e(!0),n.abrupt("return");case 12:n.next=3;break;case 14:case"end":return n.stop()}}),n)})))}))}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))},t.permissionDeniedUI=function(){if("Chrome"===i.getBrowser().name)!function(){var e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience.<br/><br/>To grant access, please tap the ! button in the address bar of your browser, then "Site settings", and finally "Clear and reset". You can then reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);var t=e.querySelector("#zappar-permission-reload-button");null===t||void 0===t||t.addEventListener("click",(function(){return window.location.reload()}))}();else!function(){var e=document.createElement("div");e.classList.add("zappar-permission-request"),e.innerHTML='\n    <style>\n        .zappar-permission-request {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0px;\n            left: 0px;\n            z-index: 1000;\n            background-color: rgba(0, 0, 0, 0.9);\n            font-family: sans-serif;\n            color: white;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .zappar-inner {\n            max-width: 400px;\n            text-align: center;\n        }\n        .zappar-title {\n            font-size: 20px;\n        }\n        .zappar-text {\n            font-size: 14px;\n            padding: 15px;\n        }\n        .zappar-inner > button {\n            background: none;\n            outline: none;\n            border: 2px solid white;\n            border-radius: 10px;\n            color: white;\n            padding: 10px 40px;\n            text-transform: uppercase;\n        }\n    </style>\n    <div class="zappar-inner">\n        <div class="zappar-title">Permission is Needed</div>\n        <div class="zappar-text">Permission to access your device\'s camera and motion sensors is necessary for this experience. Please reload the page to try again.</div>\n        <button id="zappar-permission-reload-button">Reload</button>\n    </div>\n',document.body.append(e);var t=e.querySelector("#zappar-permission-reload-button");null===t||void 0===t||t.addEventListener("click",(function(){return window.location.reload()}))}()}},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=t.getFaceMesh=t.destroyFaceMesh=t.createFaceMesh=void 0;var i=n(35),o=n(45),s=1,u=new Map;t.createFaceMesh=function(){var e=s++;return u.set(e,new c),o.zcout("face_mesh_t initialized"),e},t.destroyFaceMesh=function(e){u.delete(e)},t.getFaceMesh=function(e){return u.get(e)};var c=function(){function e(){r(this,e),this.render_mean_=new Float32Array,this.render_identity_=new Float32Array(50),this.render_expression_=new Float32Array(29),this.render_uvs_=new Float32Array,this.render_indices_=new Uint16Array,this.vertices_=new Float32Array,this.normals_=new Float32Array,this.normalsCalculated_=!1,this.modelVersion_=-1,this.mirrored_=!1}return a(e,[{key:"loadFromMemory",value:function(e,t,n,r,a){var i=0,o=new Uint16Array(e),s=new Int32Array(e),u=new Float32Array(e),c=function(){var e=s[i++]*s[i++],t=u.subarray(i,i+e);return i+=e,t},l=function(){var e=s[i++],t=o.subarray(2*i,2*i+e);return i+=e/2,t};this.render_mean_=c(),this.render_identity_=c(),this.render_expression_=c(),this.render_uvs_=c();var f=l(),d=i<s.length?l():new Uint16Array,h=i<s.length?l():new Uint16Array,p=i<s.length?l():new Uint16Array,m=i<s.length?l():new Uint16Array;if(t||n||r||a){var v=f.length;t&&(v+=d.length),n&&(v+=h.length),r&&(v+=p.length),a&&(v+=m.length),this.render_indices_=new Uint16Array(v),this.render_indices_.set(f,0);var g=f.length;t&&(this.render_indices_.set(d,g),g+=d.length),n&&(this.render_indices_.set(h,g),g+=h.length),r&&(this.render_indices_.set(p,g),g+=p.length),a&&(this.render_indices_.set(m,g),g+=m.length)}else this.render_indices_=f;this.vertices_=new Float32Array(this.render_mean_),this.normals_=new Float32Array(this.vertices_.length),this.modelVersion_++}},{key:"getVertices",value:function(){return this.vertices_}},{key:"getUVs",value:function(){return this.render_uvs_}},{key:"getIndices",value:function(){if(this.mirrored_){if(!this.render_indices_reversed){this.render_indices_reversed=new Uint16Array(this.render_indices_.length);for(var e=0;e<this.render_indices_.length;e+=3)this.render_indices_reversed[e]=this.render_indices_[e+2],this.render_indices_reversed[e+1]=this.render_indices_[e+1],this.render_indices_reversed[e+2]=this.render_indices_[e]}return this.render_indices_reversed}return this.render_indices_}},{key:"getNormals",value:function(){return this.normalsCalculated_||this.calculateNormals(),this.normals_}},{key:"getModelVersion",value:function(){return this.modelVersion_}},{key:"getLandmarkDataForVertex",value:function(e){for(var t=[this.render_mean_[3*e],this.render_mean_[3*e+1],this.render_mean_[3*e+2]],n=[],r=0;r<50;r++)n.push(this.render_identity_[3*e*50+r]),n.push(this.render_identity_[50*(3*e+1)+r]),n.push(this.render_identity_[50*(3*e+2)+r]);for(var a=[],i=0;i<29;i++)a.push(this.render_expression_[3*e*29+i]),a.push(this.render_expression_[29*(3*e+1)+i]),a.push(this.render_expression_[29*(3*e+2)+i]);return{mean:t,identity:n,expression:a}}},{key:"update",value:function(e,t,n){if(0!==this.render_mean_.length&&0!==this.render_identity_.length&&0!==this.render_expression_.length){this.mirrored_=n,this.vertices_.set(this.render_mean_);for(var r=0;r<e.length;r++)for(var a=0;a<this.vertices_.length;a++)this.vertices_[a]+=e[r]*this.render_identity_[a*e.length+r];for(var i=0;i<t.length;i++)for(var o=0;o<this.vertices_.length;o++)this.vertices_[o]+=t[i]*this.render_expression_[o*t.length+i];if(n)for(var s=0;s<this.vertices_.length;s+=3)this.vertices_[s]*=-1;this.normalsCalculated_=!1}}},{key:"calculateNormals",value:function(){var e=this.getIndices(),t=this.vertices_,n=new Float32Array(e.length);if(t){for(var r=e.length,a=this.normals_,o=new Float32Array([0,0,0]),s=new Float32Array([0,0,0]),u=new Float32Array([0,0,0]),c=0;c<r;c+=3){var l=3*e[c],f=3*e[c+1],d=3*e[c+2];o[0]=t[f]-t[l],o[1]=t[f+1]-t[l+1],o[2]=t[f+2]-t[l+2],s[0]=t[d]-t[l],s[1]=t[d+1]-t[l+1],s[2]=t[d+2]-t[l+2],i.vec3.cross(u,o,s);var h=i.vec3.length(u);n[c]=u[0]/h,n[c+1]=u[1]/h,n[c+2]=u[2]/h}a.fill(0);for(var p=0;p<r;p+=3){var m=3*e[p],v=3*e[p+1],g=3*e[p+2];a[m]+=n[p],a[m+1]+=n[p+1],a[m+2]+=n[p+2],a[v]+=n[p],a[v+1]+=n[p+1],a[v+2]+=n[p+2],a[g]+=n[p],a[g+1]+=n[p+1],a[g+2]+=n[p+2]}for(var y=a.length/3,b=0;b<y;b++){var _=3*b;o[0]=a[_],o[1]=a[_+1],o[2]=a[_+2],i.vec3.normalize(s,o),a[_]=s[0],a[_+1]=s[1],a[_+2]=s[2]}this.normalsCalculated_=!0}}}]),e}();t.FaceMesh=c},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.cameraFrameTextureMatrix=t.CameraDraw=void 0;var i=n(53),o=n(35),s=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._vbo=void 0,this._shader&&this._gl.deleteProgram(this._shader.prog),this._shader=void 0}},{key:"_generate",value:function(e,t){if(this._vbo)return this._vbo;if(this._vbo||(this._vbo=e.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");var n=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,-1,0,1,0,1,-1,0,1,0,-1,1,0,0,1,1,1,0,1,1]);return e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._vbo}},{key:"drawCameraFrame",value:function(e,t,n,r){if(n.texture){var a=this._gl;a.disable(a.DEPTH_TEST),a.disable(a.SCISSOR_TEST),a.disable(a.CULL_FACE),a.disable(a.BLEND);var i=this._getCameraShader(a),o=this._generate(a,n);a.activeTexture(a.TEXTURE0),a.useProgram(i.prog),a.uniformMatrix4fv(i.unif_skinTexTransform,!1,l(n.dataWidth,n.dataHeight,e,t,n.uvTransform,r)),a.uniform1i(i.unif_skinSampler,0),a.bindTexture(a.TEXTURE_2D,n.texture),a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(i.attr_position,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(i.attr_position),a.vertexAttribPointer(i.attr_texCoord,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray(i.attr_texCoord),a.drawArrays(a.TRIANGLES,0,6),a.disableVertexAttribArray(i.attr_position),a.disableVertexAttribArray(i.attr_texCoord),a.bindTexture(a.TEXTURE_2D,null),a.bindBuffer(a.ARRAY_BUFFER,null),a.useProgram(null)}}},{key:"_getCameraShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,u),r=i.compileShader(e,e.FRAGMENT_SHADER,c);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"skinTexTransform");if(!a)throw new Error("Unable to get uniform location skinTexTransform");var o=e.getUniformLocation(t,"skinSampler");if(!o)throw new Error("Unable to get uniform location skinSampler");return this._shader={prog:t,unif_skinTexTransform:a,unif_skinSampler:o,attr_position:e.getAttribLocation(t,"position"),attr_texCoord:e.getAttribLocation(t,"texCoord")},this._shader}}]),e}();t.CameraDraw=s;var u="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nattribute vec4 position;\nattribute vec4 texCoord;\nvarying vec4 skinTexVarying;\nuniform mat4 skinTexTransform;\n\nvoid main()\n{\n    gl_Position = position;\n    skinTexVarying = skinTexTransform * texCoord;\n}",c="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    gl_FragColor = texture2DProj(skinSampler, skinTexVarying);\n}";function l(e,t,n,r,a,i){var s=o.mat4.create(),u=o.mat4.create();o.mat4.fromTranslation(u,[-.5,-.5,0]),o.mat4.multiply(s,u,s),i&&(o.mat4.fromScaling(u,[-1,1,1]),o.mat4.multiply(s,u,s)),o.mat4.fromRotation(u,-1*function(){if(window.screen.orientation)switch(window.screen.orientation.type){case"portrait-primary":return 270;case"landscape-secondary":return 180;case"portrait-secondary":return 90;default:return 0}else if(void 0!==window.orientation)switch(window.orientation){case 0:return 270;case 90:return 0;case 180:return 90;case-90:return 180}return 0}()*Math.PI/180,[0,0,1]),o.mat4.multiply(s,u,s);var c=o.vec3.create();c[0]=n,c[1]=r,c[2]=0,o.vec3.transformMat4(c,c,u);var l=Math.abs(c[0]),f=Math.abs(c[1]);o.mat4.fromScaling(u,[1,-1,1]),o.mat4.multiply(s,u,s);var d=l/f,h=e/t;return d>h?o.mat4.fromScaling(u,[1,h/d,1]):o.mat4.fromScaling(u,[d/h,1,1]),o.mat4.multiply(s,u,s),o.mat4.fromTranslation(u,[.5,.5,0]),o.mat4.multiply(s,u,s),o.mat4.multiply(s,a,s),s}t.cameraFrameTextureMatrix=l},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDraw=void 0;var i=n(53),o=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._normalbo&&this._gl.deleteBuffer(this._normalbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._normalbo=void 0,this._ibo=void 0,this._shader=void 0}},{key:"_generateIBO",value:function(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}},{key:"_generateVBO",value:function(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}},{key:"_generateNormalBO",value:function(e,t){if(this._normalbo||(this._normalbo=t.createBuffer()),!this._normalbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._normalbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._normalbo}},{key:"drawFace",value:function(e,t){var n=this._gl,r=this._getShader(n),a=this._generateVBO(t.getVertices(),n),i=this._generateNormalBO(t.getNormals(),n),o=this._generateIBO(t.getIndices(),n);n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.useProgram(r.prog),n.uniformMatrix4fv(r.unif_matrix,!1,e),n.bindBuffer(n.ARRAY_BUFFER,a),n.vertexAttribPointer(r.attr_position,3,n.FLOAT,!1,12,0),n.enableVertexAttribArray(r.attr_position),n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(r.attr_normal,3,n.FLOAT,!1,12,0),n.enableVertexAttribArray(r.attr_normal),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o),n.drawElements(n.TRIANGLES,t.getIndices().length,n.UNSIGNED_SHORT,0),n.disableVertexAttribArray(r.attr_position),n.disableVertexAttribArray(r.attr_normal),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}},{key:"_getShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,s),r=i.compileShader(e,e.FRAGMENT_SHADER,u);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"matrix");if(!a)throw new Error("Unable to get uniform location mattrix");return this._shader={prog:t,unif_matrix:a,attr_position:e.getAttribLocation(t,"position"),attr_normal:e.getAttribLocation(t,"normal")},this._shader}}]),e}();t.FaceDraw=o;var s="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nattribute vec4 position;\nattribute vec3 normal;\nvarying highp vec3 vnormal;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vnormal = normal;\n}",u="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying vec4 skinTexVarying;\nvarying highp vec3 vnormal;\nuniform lowp sampler2D skinSampler;\n\nvoid main()\n{\n    vec3 normal2 = 0.5 * vnormal + 0.5;\n    gl_FragColor = vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDrawProject=void 0;var i=n(53),o=function(){function e(t){r(this,e),this._gl=t}return a(e,[{key:"dispose",value:function(){this._vbo&&this._gl.deleteBuffer(this._vbo),this._uvbo&&this._gl.deleteBuffer(this._uvbo),this._ibo&&this._gl.deleteBuffer(this._ibo),this._shader&&this._gl.deleteProgram(this._shader.prog),this._vbo=void 0,this._uvbo=void 0,this._ibo=void 0,this._shader=void 0}},{key:"_generateIBO",value:function(e,t){if(this._ibo&&this._lastIndices===e)return this._ibo;if(this._lastIndices=e,this._ibo||(this._ibo=t.createBuffer()),!this._ibo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),this._ibo}},{key:"_generateVBO",value:function(e,t){if(this._vbo||(this._vbo=t.createBuffer()),!this._vbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._vbo}},{key:"_generateUVBO",value:function(e,t){if(this._uvbo||(this._uvbo=t.createBuffer()),!this._uvbo)throw new Error("Unable to create buffer object");return t.bindBuffer(t.ARRAY_BUFFER,this._uvbo),t.bufferData(t.ARRAY_BUFFER,e,t.STREAM_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._uvbo}},{key:"drawFace",value:function(e,t,n,r,a,i){var o=this._gl,s=this._getShader(o),u=this._generateVBO(t,o),c=this._generateUVBO(r,o),l=this._generateIBO(a,o);o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.useProgram(s.prog),o.uniformMatrix4fv(s.unif_matrix,!1,e),o.uniformMatrix4fv(s.unif_uvmatrix,!1,n),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(s.unif_sampler,0),o.bindBuffer(o.ARRAY_BUFFER,u),o.vertexAttribPointer(s.attr_position,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_position),o.bindBuffer(o.ARRAY_BUFFER,c),o.vertexAttribPointer(s.attr_uv,3,o.FLOAT,!1,12,0),o.enableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,l),o.drawElements(o.TRIANGLES,6912,o.UNSIGNED_SHORT,0),o.disableVertexAttribArray(s.attr_position),o.disableVertexAttribArray(s.attr_uv),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null)}},{key:"_getShader",value:function(e){if(this._shader)return this._shader;var t=e.createProgram();if(!t)throw new Error("Unable to create program");var n=i.compileShader(e,e.VERTEX_SHADER,s),r=i.compileShader(e,e.FRAGMENT_SHADER,u);e.attachShader(t,n),e.attachShader(t,r),i.linkProgram(e,t);var a=e.getUniformLocation(t,"matrix");if(!a)throw new Error("Unable to get uniform location matrix");var o=e.getUniformLocation(t,"uvmatrix");if(!o)throw new Error("Unable to get uniform location matrix");var c=e.getUniformLocation(t,"uSampler");if(!c)throw new Error("Unable to get uniform location sampler");return this._shader={prog:t,unif_matrix:a,unif_sampler:c,unif_uvmatrix:o,attr_position:e.getAttribLocation(t,"position"),attr_uv:e.getAttribLocation(t,"uv"),attr_texturecoord:e.getAttribLocation(t,"aTextureCoord")},this._shader}}]),e}();t.FaceDrawProject=o;var s="\n#ifndef GL_ES\n#define highp\n#define mediump\n#define lowp\n#endif\n\nuniform mat4 matrix;\nuniform mat4 uvmatrix;\nattribute vec4 position;\nattribute vec3 normal;\nattribute vec3 uv;\n\n// varying highp vec3 vnormal;\n\nvarying highp vec2 vTextureCoord;\nvarying highp float vAlpha;\n\nvoid main()\n{\n    gl_Position = matrix * position;\n    vec4 ret = uvmatrix * vec4(uv.x, uv.y, uv.z, 1.0);\n    ret.x /= ret.w * 2.0;\n    ret.y /= ret.w * 2.0;\n    ret.x += 0.5;\n    ret.y += 0.0;\n    vAlpha = 1.0;\n    vTextureCoord = ret.xy;\n}",u="\n#define highp mediump\n#ifdef GL_ES\n    // define default precision for float, vec, mat.\n    precision highp float;\n#else\n#define highp\n#define mediump\n#define lowp\n#endif\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vnormal;\nvarying highp float vAlpha;\nuniform lowp sampler2D uSampler;\n\nvoid main()\n{\n    // vec3 normal2 = 0.5 * vnormal + 0.5;\n    vec4 p = texture2D(uSampler, vTextureCoord);\n    p.a = vAlpha;\n    gl_FragColor = p; // vec4(normal2.x , normal2.y, normal2.z, 1.0);\n}"},function(e,t,n){"use strict";var r=n(20),a=n(16),i=n(17),o=n(42),s=n(36),u=n(27),c=n(28),l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;var f=n(79),d=n(80),h=n(69),p=n(68),m=n(45),v=1,g=new Map,y=document.createElement("video");y.setAttribute("playsinline",""),y.setAttribute("webkit-playsinline",""),d.profile.videoElementInDOM&&(y.style.width="0px",y.style.height="0px",document.body.appendChild(y));var b=function(e){u(n,e);var t=c(n);function n(e,r,i){var o;return a(this,n),(o=t.call(this,y,r))._impl=e,o._deviceId=i,o._currentStream=null,o._activeDeviceId=null,o._hasStartedOrientation=!1,o._deviceMotionListener=function(e){var t=h.Pipeline.get(o._pipeline);if(t){var n=void 0!==e.timeStamp&&null!==e.timeStamp?e.timeStamp:performance.now();null!==e.accelerationIncludingGravity&&null!==e.accelerationIncludingGravity.x&&null!==e.accelerationIncludingGravity.y&&null!==e.accelerationIncludingGravity.z&&t.motionAccelerometerSubmit(n,e.accelerationIncludingGravity.x*d.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.y*d.profile.deviceMotionMutliplier,e.accelerationIncludingGravity.z*d.profile.deviceMotionMutliplier),null===e.rotationRate||null===e.rotationRate.alpha||null===e.rotationRate.beta||null===e.rotationRate.gamma||o._hasStartedOrientation?o._hasStartedOrientation||o._startDeviceOrientation():(e.timeStamp,t.motionRotationRateSubmit(n,e.rotationRate.alpha*Math.PI/-180,e.rotationRate.beta*Math.PI/-180,e.rotationRate.gamma*Math.PI/-180))}},o}return i(n,[{key:"destroy",value:function(){g.delete(this._impl),o(s(n.prototype),"destroy",this).call(this)}},{key:"_stop",value:function(){this._currentStream&&(this._currentStream.getTracks().forEach((function(e){return e.stop()})),this._currentStream=null)}},{key:"pause",value:function(){o(s(n.prototype),"pause",this).call(this),this._stopDeviceMotion(),this._syncCamera()}},{key:"start",value:function(){o(s(n.prototype),"start",this).call(this),this._startDeviceMotion(),this._syncCamera()}},{key:"_getConstraints",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t,a,i,o,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deviceId!==n.DEFAULT_DEVICE_ID&&this._deviceId!==n.USER_DEFAULT_DEVICE_ID?t=this._deviceId:a=this._deviceId===n.DEFAULT_DEVICE_ID?"environment":"user",i={audio:!1,video:{facingMode:a,width:d.profile.videoWidth,height:d.profile.videoHeight,frameRate:d.profile.requestHighFrameRate?60:void 0,deviceId:t}},!t){e.next=4;break}return e.abrupt("return",i);case 4:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=6;break}return e.abrupt("return",i);case 6:return e.next=8,navigator.mediaDevices.enumerateDevices();case 8:if(o=e.sent,s=!1,o=o.filter((function(e){if("videoinput"!==e.kind)return!1;if(e.getCapabilities){s=!0;var t=e.getCapabilities();if(t&&t.facingMode&&t.facingMode.indexOf("user"===a?"user":"environment")<0)return!1}return!0})),s&&0!==o.length){e.next=13;break}return e.abrupt("return",i);case 13:return"object"===typeof i.video&&(m.zcout("choosing device ID",o[o.length-1].deviceId),i.video.deviceId=o[o.length-1].deviceId),e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"getFrame",value:function(e){return this._cameraToScreenRotation=p.cameraRotationForScreenOrientation(!1),o(s(n.prototype),"getFrame",this).call(this,e)}},{key:"_getUserMedia",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getConstraints();case 2:if(t=e.sent,!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=7;break}return e.next=6,navigator.mediaDevices.getUserMedia(t);case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,new Promise((function(e,n){navigator.getUserMedia(t,e,n)}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"_syncCamera",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._currentStream||!this._isPaused){e.next=3;break}return this._stop(),e.abrupt("return");case 3:if(this._currentStream&&this._activeDeviceId!==this._deviceId&&this._stop(),this._isPaused){e.next=22;break}return this._activeDeviceId=this._deviceId,e.next=8,this._getUserMedia();case 8:if(this._currentStream=e.sent,!this._isPaused){e.next=13;break}return e.next=12,this._syncCamera();case 12:return e.abrupt("return");case 13:if(this._isUserFacing=!1,this._currentStream&&(t=this._currentStream.getVideoTracks()).length>0&&(this._isUserFacing="user"===t[0].getSettings().facingMode),this._video instanceof HTMLVideoElement){e.next=17;break}return e.abrupt("return");case 17:this._video.src="",this._video.loop=!1,this._video.muted=!0,this._video.srcObject=this._currentStream,this._video.play();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"_startDeviceOrientation",value:function(){var e=this;this._hasStartedOrientation||(this._hasStartedOrientation=!0,window.addEventListener("deviceorientation",(function(t){var n=h.Pipeline.get(e._pipeline);if(n){var r=void 0!==t.timeStamp&&null!==t.timeStamp?t.timeStamp:performance.now();null!==t.alpha&&null!==t.beta&&null!==t.gamma&&n.motionAttitudeSubmit(r,t.alpha,t.beta,t.gamma)}})))}},{key:"_startDeviceMotion",value:function(){window.addEventListener("devicemotion",this._deviceMotionListener,!1)}},{key:"_stopDeviceMotion",value:function(){window.removeEventListener("devicemotion",this._deviceMotionListener)}}],[{key:"create",value:function(e,t){var r=v++;return g.set(r,new n(r,e,t)),m.zcout("camera_source_t initialized"),r}},{key:"get",value:function(e){return g.get(e)}}]),n}(f.HTMLElementSource);t.CameraSource=b,b.USER_DEFAULT_DEVICE_ID="Simulated User Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b",b.DEFAULT_DEVICE_ID="Simulated Default Device ID: a908df7f-5661-4d20-b227-a1c15d2fdb4b"},function(e,t,n){"use strict";var r=n(17),a=n(16);Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var i=r((function e(){a(this,e)}));t.Source=i},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.getFaceLandmark=t.destroyFaceLandmark=t.createFaceLandmark=void 0;var i=n(35),o=n(129),s=n(45),u=1,c=new Map;t.createFaceLandmark=function(e){var t=u++;return c.set(t,new l(e)),s.zcout("face_landmark_t initialized"),t},t.destroyFaceLandmark=function(e){c.delete(e)},t.getFaceLandmark=function(e){return c.get(e)};var l=function(){function e(t){r(this,e),this._name=t,this.anchor_pose=i.mat4.create()}return a(e,[{key:"_getVertex",value:function(e,t,n){for(var r=n.mean.slice(),a=0;a<50;a++)r[0]+=e[a]*n.identity[3*a+0],r[1]+=e[a]*n.identity[3*a+1],r[2]+=e[a]*n.identity[3*a+2];for(var i=0;i<29;i++)r[0]+=t[i]*n.expression[3*i+0],r[1]+=t[i]*n.expression[3*i+1],r[2]+=t[i]*n.expression[3*i+2];return r}},{key:"update",value:function(e,t,n){var r,a=o.landmarkData[this._name.toString()];if(a){if(Array.isArray(a)){r=this._getVertex(e,t,a[0]);var s=this._getVertex(e,t,a[1]);r[0]=.5*(r[0]+s[0]),r[1]=.5*(r[1]+s[1]),r[2]=.5*(r[2]+s[2])}else r=this._getVertex(e,t,a);n&&(r[0]*=-1),i.mat4.fromTranslation(this.anchor_pose,r)}}}]),e}();t.FaceLandmark=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.landmarkData=void 0,t.landmarkData={0:[{mean:[.235,.2344,.7305],identity:[.008,.0087,.0024,-.0026,6e-4,-.0022,5e-4,.0033,.0026,.0017,-.0055,-8e-4,.0011,.0059,0,2e-4,.001,-.001,-.0044,-.0011,-1e-4,.0024,.0019,-9e-4,4e-4,-.0015,0,.0038,.0013,3e-4,.002,-.0021,.0018,.0023,.0011,.0012,-.0011,-.0017,9e-4,-.0012,-8e-4,7e-4,-.0017,.0029,-.0029,8e-4,-.0027,8e-4,-.0017,4e-4,9e-4,-.001,-3e-4,8e-4,-.0016,-3e-4,-7e-4,.0016,-9e-4,.0021,-5e-4,.0011,-.0024,-1e-4,6e-4,1e-4,-.0026,-4e-4,-3e-4,-9e-4,5e-4,3e-4,-8e-4,-.001,-4e-4,-8e-4,.0022,-.0014,-1e-4,-.0023,0,-.0018,7e-4,-.0036,.0017,.0017,-.0018,-2e-4,-4e-4,-9e-4,-8e-4,3e-4,.0012,9e-4,-4e-4,-.0016,5e-4,-.0013,.0011,.0023,.0029,.0024,.0017,-.0027,-4e-4,-.001,-.0018,-.0015,-.001,.001,-.0013,-1e-4,-2e-4,7e-4,3e-4,3e-4,-.0016,9e-4,-.0021,4e-4,.0014,.002,-7e-4,-4e-4,2e-4,-4e-4,-6e-4,-9e-4,.0015,4e-4,-4e-4,5e-4,-.0015,9e-4,3e-4,3e-4,-2e-4,-8e-4,-9e-4,.0023,4e-4,1e-4,-4e-4,-1e-4,7e-4,2e-4,.001,1e-4,-.0029,-5e-4],expression:[0,3e-4,.0052,-7e-4,-.0051,-.0103,0,.0019,.0027,-.0054,.0135,.035,-5e-4,-6e-4,.0025,-.0045,-.0557,-.003,-.0191,-.1199,.0548,-.0036,-.0682,-.0167,2e-4,-.0085,-.0085,.0044,.0041,-.0568,.0044,.179,.0065,-.0017,-.1006,.0036,-.0267,-.3279,.0301,-.0011,-.0173,-.001,.0046,.2808,.0207,.0162,.238,-.0225,.0017,.1041,.0203,5e-4,.0161,.0031,-.0436,.6504,.0873,-.0099,.1039,.0048,-.0254,.2534,-.0042,.003,-.0106,-.0153,-.0118,.0252,9e-4,-.0071,.0099,.007,-.0724,.0461,-.0235,.0833,.004,.0141,-.0219,.0132,-.0042,-.0179,.0045,-.0215,.3638,.0054,-.0445]},{mean:[.2358,.1466,.7183],identity:[.0077,.0093,1e-4,-.0022,0,-.0041,5e-4,.0022,.0028,.0018,-.0038,-.0013,.001,.0044,-2e-4,0,.0017,-.0016,-.0043,-2e-4,-1e-4,.0023,9e-4,5e-4,-7e-4,-4e-4,-.0017,.003,7e-4,6e-4,.0011,-.0018,5e-4,.0018,-8e-4,4e-4,-.0023,-6e-4,-3e-4,-.0015,-.0014,-1e-4,-.0018,.0027,-.0026,3e-4,-.0031,.0011,-.0026,-.0011,.0012,-.0013,-2e-4,7e-4,-.0021,.0021,4e-4,.0012,-.001,.002,-3e-4,2e-4,-.0026,-3e-4,.001,1e-4,-.0018,-.001,9e-4,-.0011,.001,4e-4,-8e-4,-7e-4,-.001,-3e-4,7e-4,-5e-4,-6e-4,-.0019,-5e-4,-.002,7e-4,-.0027,.0014,.0013,6e-4,-5e-4,-3e-4,-3e-4,-.001,0,.0019,1e-4,6e-4,-.0012,4e-4,-9e-4,4e-4,.0025,3e-4,.0024,.0017,-9e-4,-.0015,-.0015,-.001,-.0023,-.001,-5e-4,-4e-4,8e-4,9e-4,7e-4,2e-4,7e-4,-9e-4,9e-4,-.0013,1e-4,9e-4,2e-4,6e-4,-6e-4,-8e-4,-4e-4,-7e-4,8e-4,.0019,3e-4,.0015,2e-4,-.0015,-3e-4,0,6e-4,3e-4,6e-4,-6e-4,2e-4,5e-4,-4e-4,.0012,-4e-4,2e-4,-8e-4,6e-4,-4e-4,2e-4,-.0021],expression:[-.0034,.0054,.0069,.004,6e-4,-.0104,-3e-4,.0036,.0025,.0065,.0296,.0208,-9e-4,.0154,.0029,-.0167,.0124,.004,-.0102,.0351,.028,-.019,.0146,-.0035,-.0023,-.0069,-.0051,-.01,.0262,-.028,.0112,.082,.023,-.0019,-.066,-.0104,-.0408,.0164,.0075,-.0074,.0367,.0041,.0517,-.0207,.0045,.0291,-.0672,-.0129,.0345,-.1558,-.0106,.0037,-.0437,-.0021,.0854,-.1121,.0187,.0041,.0072,.0011,.0193,-.0143,-.0119,.005,-.02,-.0122,-.008,.0527,.0036,-.006,.0222,.007,-.0429,.046,-.0046,.0226,-.0059,.0202,-.0173,.0087,0,-.0067,-.0095,-.0153,.1506,-.0017,.0021]}],1:[{mean:[-.2271,.2323,.7319],identity:[-.0084,.0097,.0018,.0041,2e-4,-.002,-.0012,.0036,.0019,-9e-4,-.0063,-.001,-3e-4,.0053,6e-4,1e-4,5e-4,-.0015,.0044,-.0025,-.0015,-.002,.0016,-6e-4,2e-4,-.0013,0,-.0022,2e-4,2e-4,-.0025,-.0014,.0015,8e-4,2e-4,.0012,6e-4,-6e-4,.0017,0,3e-4,-1e-4,.0024,.0025,-.0029,-.0015,-.0015,1e-4,.0031,-.0016,7e-4,.0019,6e-4,.002,9e-4,.001,-.0014,-.002,-.0015,.0029,1e-4,5e-4,-.0023,8e-4,-.0011,.0019,.0017,-3e-4,-.0011,-3e-4,.0011,-8e-4,.0019,-.0022,1e-4,.0015,.0017,-8e-4,-.0011,-.0022,3e-4,.0022,6e-4,-.003,-2e-4,0,-.0017,-2e-4,0,1e-4,4e-4,.0012,.0019,-.0014,4e-4,-.0017,-.0012,-.0011,.0021,-.0029,.0026,.0018,-.0023,-.0029,1e-4,.0014,-.0019,-4e-4,-4e-4,.0023,-.0016,0,-9e-4,.0014,-.0015,.0015,-.0016,-.0011,-.0022,1e-4,-.0018,.0027,-.0013,4e-4,-1e-4,-5e-4,.0011,-2e-4,.0015,5e-4,-9e-4,-1e-4,.0029,6e-4,0,-3e-4,7e-4,-8e-4,-5e-4,.0025,3e-4,2e-4,-8e-4,-1e-4,3e-4,0,.0014,2e-4,-.0024,1e-4],expression:[-.0025,-9e-4,.006,.004,-.0027,-.0113,-8e-4,.001,.0031,-.0016,.0144,.0382,-3e-4,-5e-4,.0035,-.0044,-.0511,-.0014,-7e-4,-.1007,.0582,-6e-4,-.0606,-.0165,5e-4,-.0087,-.0093,.0036,.0057,-.0576,-.0039,.1488,.0127,.0016,-.0666,-9e-4,-.0153,.3162,-.0445,-.0021,.0023,.0043,-.0033,.2382,.0063,-.0217,.167,-.039,.0097,-.1144,-.0189,-.0145,.6831,.0632,-.0012,-.1959,-.0133,4e-4,.1108,-3e-4,.0062,.2593,-.0161,-.0018,-.0051,-.012,.0162,.016,-.0022,-.0052,-.0201,.0101,.0115,.0365,-.024,-.0059,.0188,-.0336,.0352,.0224,-.0229,.0146,.0086,-.0273,-.0032,.0103,-.0112]},{mean:[-.2288,.1541,.7202],identity:[-.0082,.0101,2e-4,.0036,-7e-4,-.0037,-8e-4,.0024,.0022,-.0013,-.0045,-.0013,-6e-4,.0045,-4e-4,4e-4,.0012,-.0014,.0042,-.001,-7e-4,-.0019,3e-4,-2e-4,.0012,-4e-4,-.0012,-.0018,-4e-4,-1e-4,-.0014,-.0012,1e-4,1e-4,-.0017,.001,.0015,-1e-4,6e-4,1e-4,0,-6e-4,.0028,.0021,-.0025,-.002,-.0015,7e-4,.0028,-.0023,9e-4,.0013,1e-4,.0016,.0012,.0032,-6e-4,-.0013,-.0011,.0021,3e-4,-5e-4,-.0024,4e-4,-4e-4,.0014,.0015,-8e-4,-3e-4,3e-4,.0017,-6e-4,.002,-.0018,-3e-4,9e-4,1e-4,2e-4,-6e-4,-.0015,-4e-4,.0022,7e-4,-.0023,0,-2e-4,-2e-4,-3e-4,-1e-4,6e-4,-2e-4,6e-4,.0022,-3e-4,.0013,-.0014,-5e-4,-3e-4,.0013,-.0027,6e-4,.0025,-.0023,-8e-4,-.0013,.0017,-9e-4,-.0019,1e-4,8e-4,-7e-4,-4e-4,0,.001,-.001,.0019,-8e-4,-.0015,-6e-4,-2e-4,-.0011,8e-4,1e-4,9e-4,-8e-4,-4e-4,6e-4,7e-4,.0021,-4e-4,7e-4,-5e-4,.0021,-7e-4,-4e-4,-9e-4,8e-4,3e-4,1e-4,3e-4,1e-4,9e-4,.001,-5e-4,5e-4,-.001,.001,4e-4,-5e-4,-.0012],expression:[8e-4,.0037,.0078,-4e-4,5e-4,-.012,-2e-4,-.0046,.0033,-.0089,.0295,.0221,-.0024,-.0084,.0013,.0057,.0125,.0049,-.0036,.0373,.0285,.0115,.0135,-.0035,.0048,.0108,-.0033,.0106,.0281,-.0301,-.0082,.0803,.0244,-7e-4,-.0725,-.0105,-.0247,-.0036,-.0143,-.0045,-.029,2e-4,-.0303,.0093,-.0021,-.0196,-.0754,-.0211,.0326,.1246,.006,-.0804,-.1499,.0109,.0182,-.0029,-.0014,-.0035,.0072,-8e-4,-.0152,-.0108,-.0166,-.0073,-.0144,-.0095,.0101,.047,-.0018,-.004,-.0189,.0027,.0104,.0298,-.0042,-.0096,.0191,-.0217,.0228,.0226,-.0105,.0047,-.0048,-.0172,.0061,-.0043,-.0016]}],2:{mean:[.5396,.2028,.2496],identity:[.0204,.0146,-.0182,-.0052,.0158,-.0038,-.0025,-.0108,-.006,.0085,-.0044,.0029,.0042,.001,.0095,.0015,-.0034,-.0064,-.0057,7e-4,.0026,7e-4,.0037,-6e-4,.0037,.0026,.0024,5e-4,-.0019,-.0013,.003,-.0028,.0018,-9e-4,.002,-.0047,.004,-.003,.0031,-.0027,-.0026,-.0017,.0016,.0014,-4e-4,.0021,-.002,0,.0017,7e-4,-4e-4,-7e-4,-.0018,-9e-4,2e-4,-.0012,1e-4,-5e-4,-.0011,4e-4,2e-4,.0011,1e-4,8e-4,.0017,-.0013,.0025,.0017,.001,2e-4,3e-4,5e-4,-4e-4,-1e-4,-5e-4,7e-4,-.0022,-.0029,6e-4,-8e-4,-6e-4,6e-4,-5e-4,5e-4,.0013,3e-4,-5e-4,-.003,7e-4,2e-4,.0016,-4e-4,0,0,4e-4,1e-4,.0014,.0012,1e-4,4e-4,-1e-4,8e-4,9e-4,4e-4,-4e-4,9e-4,-2e-4,.001,9e-4,4e-4,1e-4,7e-4,7e-4,.001,-.0017,-8e-4,2e-4,.0017,-3e-4,-1e-4,4e-4,5e-4,7e-4,5e-4,-1e-4,-6e-4,-1e-4,1e-4,-3e-4,-7e-4,-2e-4,-5e-4,0,-3e-4,3e-4,8e-4,-2e-4,-3e-4,5e-4,1e-4,-7e-4,-.001,-2e-4,3e-4,4e-4,-1e-4,7e-4,0,4e-4,4e-4],expression:[1e-4,-4e-4,1e-4,0,5e-4,2e-4,0,0,3e-4,-2e-4,3e-4,5e-4,-1e-4,2e-4,8e-4,1e-4,-2e-4,-5e-4,-3e-4,6e-4,5e-4,0,1e-4,2e-4,1e-4,-1e-4,-6e-4,-2e-4,5e-4,0,-4e-4,4e-4,.0016,4e-4,-4e-4,-.0015,0,1e-4,1e-4,-3e-4,3e-4,.0019,-2e-4,7e-4,4e-4,4e-4,-8e-4,-.0015,.0013,-.0016,-.0069,4e-4,-6e-4,-.0019,0,-1e-4,5e-4,-3e-4,2e-4,.0014,-3e-4,6e-4,.0011,4e-4,-3e-4,-.0032,-6e-4,8e-4,.0025,-3e-4,3e-4,.0015,-1e-4,1e-4,3e-4,-1e-4,0,0,-3e-4,4e-4,.0019,1e-4,0,-8e-4,-1e-4,1e-4,5e-4]},3:{mean:[-.5464,.2141,.26],identity:[-.0207,.0172,-.0176,.0068,.0148,-.0051,.0042,-.0101,-.0058,-.0087,-.0059,.0045,-.0056,.0017,.0097,-.0048,-.004,-.0044,.0019,2e-4,.0041,-.0052,.0041,2e-4,-.0027,6e-4,.002,-.0027,-.0033,-6e-4,-.004,9e-4,-.0012,-1e-4,-.0026,.0021,-.003,-.0025,.0052,.0025,.0022,-1e-4,-8e-4,.0013,.001,4e-4,.0018,.0014,6e-4,-5e-4,-.0015,-.0039,.0014,-1e-4,8e-4,-2e-4,6e-4,-5e-4,-.0038,-.0012,-.0018,-3e-4,.001,9e-4,.0012,.0024,-.0024,-7e-4,-.0016,-.0016,3e-4,-.001,-.0014,-.0014,.001,-3e-4,-7e-4,-.0012,3e-4,6e-4,3e-4,-5e-4,3e-4,.0012,6e-4,-8e-4,4e-4,4e-4,8e-4,-2e-4,-.0014,3e-4,0,.0023,-3e-4,-.0012,-.0013,.0011,-2e-4,-.0014,-1e-4,.0014,0,3e-4,3e-4,-8e-4,-5e-4,-7e-4,-7e-4,-2e-4,3e-4,5e-4,2e-4,-1e-4,.0011,-.0014,1e-4,-.0015,-1e-4,-3e-4,0,-.001,-1e-4,-8e-4,8e-4,-8e-4,-2e-4,-.0011,-3e-4,-4e-4,1e-4,-2e-4,3e-4,-7e-4,0,3e-4,1e-4,-8e-4,5e-4,1e-4,4e-4,.0014,-6e-4,-.001,-3e-4,-2e-4,1e-4,-1e-4,-1e-4,7e-4],expression:[-3e-4,-1e-4,6e-4,4e-4,0,-7e-4,0,-3e-4,-2e-4,-4e-4,.0012,8e-4,1e-4,-5e-4,-7e-4,-4e-4,0,1e-4,-4e-4,.0017,7e-4,0,1e-4,3e-4,0,4e-4,4e-4,5e-4,1e-4,-.001,-7e-4,.0022,.0026,5e-4,-.0024,-.0023,0,1e-4,3e-4,0,-.0013,-.0015,6e-4,.0014,8e-4,-2e-4,-.0025,-.0023,-3e-4,.0049,.006,-2e-4,-7e-4,-2e-4,0,-.0019,-.0018,-2e-4,.0017,.0017,3e-4,.0015,7e-4,1e-4,-.0023,-.0036,2e-4,.0023,.0017,0,-5e-4,-3e-4,-3e-4,4e-4,2e-4,-1e-4,-3e-4,-5e-4,1e-4,.0018,.0025,1e-4,-6e-4,-.0011,0,1e-4,1e-4]},4:{mean:[.0018,.1864,.853],identity:[-.0011,.0134,.0085,9e-4,-.0025,-7e-4,-3e-4,.0033,4e-4,-5e-4,-.0047,-.002,7e-4,.0026,-.0069,-1e-4,.0036,.0072,5e-4,-8e-4,-.0047,4e-4,-8e-4,-.001,0,2e-4,-.0036,-2e-4,-.001,-.0048,-1e-4,.0018,.0044,-7e-4,-2e-4,.0043,3e-4,.002,-.0031,0,-7e-4,.0013,0,.0037,.0033,-.0016,-.0012,.002,-1e-4,-.0027,.0051,5e-4,8e-4,7e-4,-.0017,.0054,.0023,-3e-4,.0032,1e-4,0,7e-4,-5e-4,-.0011,2e-4,8e-4,0,-.0033,-8e-4,-7e-4,7e-4,.0033,5e-4,-3e-4,.0029,-1e-4,-.0024,-.0011,-.002,-.0015,-.0019,2e-4,7e-4,.0031,6e-4,.0012,0,0,-.0021,0,-9e-4,-.0011,-.0011,-2e-4,.0015,.001,.0013,8e-4,.001,-3e-4,9e-4,.0027,-2e-4,-.0011,-.0011,6e-4,7e-4,2e-4,1e-4,-5e-4,-.0022,.0011,-.0014,9e-4,3e-4,2e-4,0,-6e-4,-4e-4,-.0011,-7e-4,.001,-.0012,6e-4,-.0012,-.0015,3e-4,-9e-4,-.0013,-.0013,7e-4,.001,-.0011,-.0013,.0015,4e-4,1e-4,4e-4,-1e-4,-.0016,-.0016,9e-4,-7e-4,-.0024,5e-4,-1e-4,-.0017,-2e-4,3e-4,-9e-4],expression:[-.0017,.0019,.0097,.003,-.0103,-.0093,9e-4,6e-4,.0023,-.0017,-.0204,.0376,.0033,-.0034,.0033,-.0026,-.0322,.0396,-.0032,-.0947,.0942,-7e-4,-.0175,.0266,-.001,-6e-4,.0016,.0025,.0157,-.0142,-.0022,.037,.015,.0021,-.0102,-.0107,.0036,.0055,-.0051,.0021,3e-4,-3e-4,4e-4,-.0177,.0074,-6e-4,-.0357,.0149,-.0066,9e-4,.0013,-.0031,.0016,.0095,.002,.0052,.0035,-3e-4,.0053,-.0082,.002,.0022,-.0071,-.0011,5e-4,.0055,.0011,3e-4,-.0126,-4e-4,3e-4,-.0023,-.0015,.0059,.0063,-.0042,-.0023,.0055,.0019,.0017,-.0075,6e-4,-8e-4,.0018,.0012,.0012,-5e-4]},5:{mean:[-.002,-.0469,1.0039],identity:[-.0017,.0018,.0156,6e-4,-.0038,5e-4,4e-4,.0013,.002,-4e-4,-.0015,-.0051,5e-4,-7e-4,-.0055,-1e-4,-9e-4,.008,-2e-4,.0036,-.0053,4e-4,-.0026,-.0016,7e-4,9e-4,-.009,-3e-4,7e-4,-.0084,.0015,.0021,.0032,-.0015,.0018,.0046,-3e-4,-4e-4,-1e-4,8e-4,-.0044,-7e-4,-8e-4,7e-4,.0048,-.0024,-3e-4,.0024,2e-4,-.0051,.0058,-6e-4,.0028,.0018,-.0021,.0035,.0057,.0011,.0065,0,-2e-4,.0011,.003,-.0027,8e-4,7e-4,3e-4,-.0039,-.002,-2e-4,-.0015,.0034,.0012,-.0025,.0024,-2e-4,4e-4,-.0042,-.0024,-.001,-.0023,.0016,-7e-4,.0039,1e-4,-5e-4,.0018,3e-4,-2e-4,-9e-4,-.0015,3e-4,-7e-4,-1e-4,-2e-4,.0023,.0032,.002,-.0013,.0013,-.0038,.0045,1e-4,-.0031,1e-4,.0019,-1e-4,.0016,.0013,0,-.002,.0023,2e-4,.0011,.0018,-.0024,6e-4,-.0017,.002,-8e-4,-.0021,7e-4,.0011,8e-4,4e-4,-.001,.0012,2e-4,-6e-4,-.0027,-5e-4,.001,-9e-4,1e-4,-1e-4,8e-4,-.0011,.0022,-.001,-5e-4,-.0011,.0016,-.0015,8e-4,-3e-4,9e-4,.0013,-7e-4,-7e-4,-2e-4],expression:[-.0018,-.0168,.0088,.0389,.1026,.0414,.2201,-.0262,-.0016,-.0017,.0612,-.0298,-.0323,.0093,.0013,-.005,.2207,.1315,-4e-4,.0858,-.0303,-.0133,.015,-.008,.1454,.0114,.0177,-.0077,.1022,.0356,-.0023,.1088,.0232,.003,-.0706,.0347,-1e-4,.004,-.0011,.0397,-.0096,-.0033,.0029,-.01,-.0083,-6e-4,-.0135,.0016,-.0087,-.0019,.0022,-.004,-.0087,.0105,8e-4,-.005,.0069,.0028,.0409,-.0391,.003,.0103,.0051,.0026,.0776,-.0083,-.0062,-.0567,.0268,.0175,.0017,.0156,-.0043,.0299,-.0395,-.0015,.0051,-.0148,.0125,.0035,.0603,.0109,-.0645,-.0257,.002,6e-4,-8e-4]},6:{mean:[-6e-4,-.1542,.8789],identity:[-7e-4,-.0032,.01,0,-.0027,.0031,6e-4,5e-4,-6e-4,-3e-4,.0013,-.0049,-2e-4,-.002,-.0046,8e-4,-.0011,.0054,2e-4,.0043,-.0027,3e-4,-.0022,-.0019,8e-4,.0032,-.0069,0,4e-4,-.0071,.0016,.0027,.0039,-.0017,9e-4,.0031,-1e-4,-5e-4,-4e-4,7e-4,-.0026,-.0012,-5e-4,6e-4,2e-4,-.0014,-.0013,.0019,-2e-4,-.0053,.0031,-6e-4,.0016,.0023,-.0013,.0021,.0029,8e-4,.0052,0,4e-4,0,.0037,-.0026,3e-4,.002,-2e-4,-.0024,4e-4,-4e-4,-.0012,8e-4,7e-4,-.0023,5e-4,0,.0014,-.0022,-.0016,0,-.0012,8e-4,-7e-4,.0014,-6e-4,-.0012,-3e-4,2e-4,.0012,-3e-4,-.002,-1e-4,1e-4,-2e-4,-.0016,9e-4,.002,.0019,0,6e-4,-.0022,.0016,1e-4,-.0017,-.0013,.001,9e-4,-1e-4,.0011,3e-4,-7e-4,.0014,8e-4,.0013,.0011,-.002,0,-.0015,.0014,.001,-.0015,7e-4,3e-4,.001,-1e-4,.0012,7e-4,6e-4,-4e-4,-.0013,-.0012,-9e-4,-.0011,2e-4,-5e-4,5e-4,4e-4,2e-4,1e-4,0,5e-4,5e-4,-.0014,.0015,-9e-4,5e-4,.0014,-8e-4,-8e-4,.0012],expression:[8e-4,.0481,.1653,.0784,.1008,-.3992,.5088,-.02,.0542,.001,.3723,-.0151,-.0986,.0283,-.0033,-.0121,.2634,.1202,.0036,-.0529,-.0245,-.0297,-.1085,.0495,.3264,.0083,4e-4,-.0314,.1459,-.1142,-.003,1e-4,.1154,-.0035,-.0285,-.0184,-1e-4,.0012,.0035,.079,-.0103,.0043,.011,-.004,-.0774,-.0047,-.023,.0284,-.0048,-.001,.0149,-.0039,.0046,.0528,-6e-4,.0063,.0376,.0096,.0558,-.0295,0,-.0311,-.0634,.0062,.0176,-.0154,-.0109,-.1149,.0192,.0326,.0121,.0237,.0034,.0262,-.0778,.0014,-.0045,-.0203,.0077,.0588,.0575,.008,-.0557,-.0095,.0032,.0054,-.0042]},7:{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},8:{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]},9:[{mean:[.0038,-.2927,.833],identity:[6e-4,-.0109,.0073,-6e-4,-.0044,.0017,-1e-4,-.0022,-6e-4,-3e-4,.0065,-.0014,-6e-4,-.0051,-.0046,3e-4,-.0029,.003,2e-4,.0038,-6e-4,0,-.0012,6e-4,-4e-4,.0053,-.0075,-2e-4,-7e-4,-.0063,.0014,.0026,.0019,-.0022,.0018,.0028,-1e-4,-.0012,.0011,9e-4,.0019,-.0019,-1e-4,.0012,-.0022,-3e-4,-.0012,4e-4,-8e-4,3e-4,-3e-4,0,.0017,.0021,-4e-4,.0012,.0022,-3e-4,.0026,-3e-4,4e-4,-.0026,.0032,-.0019,3e-4,.0015,1e-4,-.0015,.0013,-1e-4,1e-4,-.0029,0,-2e-4,-.0028,-7e-4,.0019,-3e-4,-2e-4,.0012,9e-4,4e-4,-.001,-.002,-.0016,.0011,-1e-4,3e-4,.0021,2e-4,-.0014,-9e-4,-1e-4,0,-2e-4,-.001,.0015,.0018,1e-4,7e-4,8e-4,.0017,.001,-9e-4,1e-4,4e-4,.0023,-1e-4,.0012,1e-4,-8e-4,2e-4,.0018,6e-4,3e-4,1e-4,.0012,-3e-4,.002,-6e-4,0,-1e-4,-.0022,4e-4,5e-4,.0011,2e-4,-.0013,-.0023,6e-4,6e-4,-5e-4,-5e-4,9e-4,2e-4,2e-4,.0011,-3e-4,.0011,.0015,.0011,3e-4,2e-4,8e-4,-4e-4,-8e-4,3e-4,0,.0012,-1e-4],expression:[.026,.1107,.3257,.1917,.3206,-1.1348,1.0791,-.035,.1549,-.0103,.6953,1e-4,-.3262,.068,.0219,-.0044,.3643,.2178,.0168,-.2478,-.1321,-.0414,-.3782,-.0617,.5088,-.0031,-.0311,-.0497,.0948,-.385,.0148,-.2224,-.1415,-.0074,.0863,-.203,3e-4,-.0081,.0057,.1164,-.0039,.0015,-.0024,.0505,.1532,.0039,-.0148,-.0753,.0163,.0058,-.0339,.0036,.0252,-.0569,-.0041,.0163,-.0361,.0035,-.018,.1266,0,-.0163,-.0046,.0133,-.1656,.2134,.0191,.0057,.0734,.0681,.0039,-.0144,.029,-.074,-.046,.0122,.0072,-.0162,-.0349,-.1234,.0212,-.0355,.0535,.1218,.0043,-.024,.0016]},{mean:[-.0018,-.3037,.8491],identity:[2e-4,-.0112,.0077,-4e-4,-.0044,.0024,1e-4,-.0021,-4e-4,-4e-4,.0066,-.002,-4e-4,-.0052,-.0044,3e-4,-.0032,.0039,4e-4,.0042,-3e-4,2e-4,-.0012,-2e-4,-2e-4,.0052,-.0083,-1e-4,-8e-4,-.0056,.0017,.0024,.0019,-.0023,.002,.0027,-2e-4,-.0013,.002,9e-4,.0017,-.0028,-2e-4,.0012,-.0026,0,-.0016,2e-4,-5e-4,3e-4,-.001,-1e-4,.0016,.0016,-3e-4,.0012,.0012,-3e-4,.0027,-3e-4,3e-4,-.0026,.0037,-.0017,1e-4,.0016,1e-4,-.0015,.0024,1e-4,2e-4,-.0039,0,-3e-4,-.0033,-6e-4,.0017,-4e-4,-4e-4,.0012,.0018,2e-4,-.0012,-.002,-.0017,.0013,-.001,3e-4,.0021,4e-4,-.0012,-6e-4,-2e-4,0,-4e-4,-9e-4,.0016,.0017,4e-4,7e-4,7e-4,.001,9e-4,-8e-4,5e-4,5e-4,.0023,.001,.0013,2e-4,-4e-4,2e-4,.0017,8e-4,3e-4,-1e-4,9e-4,-4e-4,.0019,-5e-4,3e-4,0,-.0025,3e-4,3e-4,.0011,1e-4,-.0015,-.001,7e-4,7e-4,-7e-4,-7e-4,8e-4,0,1e-4,.0013,-4e-4,.0012,.0014,.0017,4e-4,2e-4,3e-4,-3e-4,-9e-4,1e-4,0,.001,-4e-4],expression:[-.0092,2.8809,1.416,.2018,1.1982,-.9351,1.4492,-.1902,.1749,.0305,-.167,-.1572,-.7354,-.0492,.0115,.0608,.2971,.1179,.0046,-.0997,-.0041,-.0104,.3379,-.1854,.009,.0366,-.0583,.0269,-.0029,-.4175,-8e-4,.1794,.0752,-.0135,.1158,.1234,5e-4,.003,-.0032,.1034,-.0504,-.0055,-.0076,-.0772,.224,.0047,.0229,-.1044,.0162,-.0161,-.0241,-.0083,-.1388,-.0434,-.0125,-.0997,-.0327,-.0111,.1576,-.3911,.0199,.2522,.142,.0059,-.0721,-.0045,.031,-.1136,-.1685,.0641,.0142,.0312,.0426,-.1366,.1011,.0101,-.0157,.0018,-.0103,-.0344,.0907,.0016,.1168,-.0806,.0104,-.0057,.0111]}],10:{mean:[-.007,-.6338,.7695],identity:[1e-4,-.0296,.0089,-6e-4,-.0073,-.0065,-1e-4,-.0029,-.0031,-2e-4,.0128,.0065,0,-.0116,-.014,-1e-4,-.0037,-.0052,-5e-4,.0028,.003,-4e-4,.0041,.0015,6e-4,.0088,-.0076,-.0011,-.0015,-.0073,7e-4,-.0011,.0019,-.0011,-5e-4,.0031,-1e-4,-.0018,9e-4,.0018,.0038,.0068,-4e-4,-1e-4,.0061,.0024,.0024,-.0066,-6e-4,.0051,.0014,.002,.005,-.0035,1e-4,-.0034,-.004,-7e-4,.001,-8e-4,1e-4,-5e-4,-.0021,2e-4,.0045,-.0043,-.0012,-.0024,-.0014,6e-4,.0034,.0027,-8e-4,-.0053,.0014,1e-4,.0013,-.0018,6e-4,-.0015,.0029,-2e-4,-.0035,1e-4,-.002,.0012,.0048,.0011,1e-4,-2e-4,-3e-4,-.0012,.0033,6e-4,.002,-.0033,4e-4,.0028,2e-4,8e-4,-1e-4,-.0018,8e-4,.0017,1e-4,9e-4,8e-4,3e-4,.0019,-.001,.001,-7e-4,-.0013,0,1e-4,.0032,-1e-4,1e-4,.0011,-4e-4,5e-4,-7e-4,.0018,-3e-4,2e-4,7e-4,8e-4,-.0014,7e-4,.0015,-6e-4,-1e-4,-4e-4,.0019,-9e-4,-6e-4,-6e-4,-.0012,2e-4,-.0012,-8e-4,4e-4,6e-4,-.0011,3e-4,9e-4,-4e-4,6e-4,-7e-4,-4e-4],expression:[-.0603,2.0527,1.9014,.1025,.6143,.3804,.7881,-.1023,-.0764,.0454,-.2487,-.5073,-.6704,-.031,-.0181,.0466,.0651,-.0726,-.0033,-.0022,.2944,.0101,.1669,-.5225,-.4685,.0236,.0079,.011,.2173,.4529,.0121,-.2104,-.0673,.0225,-.4023,.0317,-9e-4,.0076,-.0032,.0333,.0523,.0129,-.001,-.0319,-.0139,.0015,-.0044,.0247,-5e-4,.0161,.0061,.0074,.0776,-.0176,.007,.055,-.017,.0052,-.1819,.0294,-.0161,-.0337,.0226,-.008,-.0297,.1967,-.0095,.0383,.2039,.0434,.0271,-.0064,-.0037,-.0294,-.024,.0024,-.0137,-.0209,-.0031,.0628,.1003,-.0126,-.056,-.0097,-.0012,-.0041,.0162]},11:{mean:[.2505,.3833,.7793],identity:[.0098,.012,.0077,-6e-4,-3e-4,0,1e-4,.0082,-7e-4,.0019,-.0036,-.0012,2e-4,.0119,-.0039,.001,1e-4,.0031,-.0036,-.0059,-7e-4,.0026,.0028,-.0011,9e-4,-.0032,8e-4,.0029,.0043,3e-4,.0025,-9e-4,.0047,.0016,.0022,.0018,-.001,.0025,-.003,-.001,.0033,.0034,4e-4,-.0052,.0024,-2e-4,.001,-.0014,-6e-4,.0038,-.0015,-6e-4,-.001,-.0011,-4e-4,-.001,4e-4,-7e-4,.0036,-8e-4,-2e-4,-.0019,5e-4,3e-4,-6e-4,-.0024,-.0017,-.0014,6e-4,-4e-4,-.0031,-.0013,-6e-4,.0042,2e-4,-2e-4,-.002,-3e-4,8e-4,.0018,-5e-4,-6e-4,-2e-4,-6e-4,.0025,.0019,.001,8e-4,-.0015,-.0012,-1e-4,-6e-4,-4e-4,.0023,-.001,6e-4,-2e-4,-.001,0,-9e-4,-.002,-.0011,1e-4,0,-1e-4,5e-4,6e-4,9e-4,-6e-4,5e-4,8e-4,-1e-4,-2e-4,-.0017,-6e-4,-4e-4,4e-4,-6e-4,.0012,4e-4,3e-4,-7e-4,3e-4,-2e-4,6e-4,1e-4,5e-4,-.0019,-6e-4,4e-4,7e-4,-1e-4,1e-4,5e-4,.001,-6e-4,-.002,-7e-4,-5e-4,5e-4,3e-4,7e-4,.0014,0,5e-4,-5e-4,-2e-4,3e-4,-6e-4,-1e-4],expression:[-9e-4,-3e-4,.0032,-.003,-.0034,-.0031,.0014,0,4e-4,-.0139,-.0764,.0275,-.002,-.0089,.0031,-.0503,-.0771,.038,-.1323,-.3523,.1368,-.0474,-.0564,.0296,-.0045,.007,-.0013,.0153,.1259,-.0464,.0866,.2175,-.0786,-.0413,-.1248,.0448,-.1777,-.4607,.1782,-5e-4,-.005,.0016,.0629,.1506,-.0624,.0545,.2576,-.0864,-.0231,-.0552,.0244,-.0136,-.0359,.0169,-.1158,-.2996,.1214,-.0235,-.0354,.0165,-.0745,-.1079,.0475,-.0116,-.0039,.0012,.0013,-.0108,-8e-4,.0044,-.0027,-1e-4,-.0694,.0363,.0071,.1462,-.136,.0047,.009,-.0177,.0038,-.0271,.0118,.0011,-.0399,-.0111,.0123]},12:{mean:[-.2981,.3828,.7563],identity:[-.0116,.014,.0054,.0018,5e-4,0,-4e-4,.0068,-.0013,-.0019,-.0048,-5e-4,5e-4,.0108,-.0036,-.0029,-.0018,.0029,.0043,-.0077,6e-4,-.0017,.002,-.0011,-.0014,-.0035,.0015,-.0024,.0011,4e-4,-.0048,2e-4,.0029,-1e-4,-1e-4,.003,.0019,.0035,-.0016,-4e-4,.0039,.0019,1e-4,-.0064,.004,3e-4,.002,-.0021,.0017,.0011,-.001,.0026,.0025,-5e-4,2e-4,-3e-4,-5e-4,-7e-4,9e-4,-4e-4,-.001,-.0022,.001,9e-4,-.0014,7e-4,.0011,-.001,-5e-4,-8e-4,-.0017,-.0021,9e-4,.0036,5e-4,4e-4,-.0031,6e-4,-.0015,.0027,2e-4,1e-4,-.0011,2e-4,-.0011,-.0018,4e-4,-.0013,-2e-4,7e-4,9e-4,-3e-4,.001,-.0021,8e-4,6e-4,-9e-4,4e-4,-7e-4,8e-4,-.002,-.0013,0,7e-4,-.0012,-1e-4,.0014,.0014,-1e-4,.0013,6e-4,6e-4,-.0014,-.0015,-9e-4,1e-4,1e-4,9e-4,7e-4,0,1e-4,-.001,-4e-4,0,-5e-4,1e-4,-3e-4,4e-4,-5e-4,-1e-4,-.0011,2e-4,0,1e-4,8e-4,8e-4,0,-7e-4,-8e-4,0,2e-4,-1e-4,.001,3e-4,4e-4,-2e-4,0,5e-4,.0018,-1e-4],expression:[0,-4e-4,.0028,.0036,-8e-4,-.0026,-.0015,-8e-4,3e-4,.0075,-.0608,.025,.0019,-.0076,.0033,.0379,-.0437,.0335,.0964,-.2452,.1233,.0368,-.0251,.0253,.0033,.0097,-.0021,-.0095,.1171,-.0475,-.064,.1548,-.0718,.0228,-.0831,.0343,-.1924,.6206,-.2771,.0021,-.0143,.0056,-.0705,.2522,-.1116,-.0692,.4229,-.1592,-.0093,.05,-.0185,.0948,-.3196,.1437,-.0184,.0194,-.0131,.0205,-.0353,.0201,.0676,-.135,.0672,.0137,-.0311,.0118,3e-4,-.0077,-2e-4,-.0151,4e-4,-.0058,.029,-.0139,.0163,.1324,.1819,-.0039,.0406,.0501,.0017,.0331,.0161,.0062,-.0235,-.0446,.0047]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={incompatible:function(){return!("function"===typeof Promise&&"object"===typeof WebAssembly&&(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.getUserMedia))},incompatible_ui:function(){var e=document.createElement("div");e.append(function(){var e=document.createElement("div"),t="a recent web browser";navigator.userAgent.match(/Android/i)?(t="Chrome for Android",window.location.href="googlechrome://navigate?url="+encodeURI(window.location.href),setTimeout((function(){window.location.href="samsunginternet://open?url="+encodeURI(window.location.href)}),2e3)):navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(t="Safari",e.classList.add("zee-launcher-browser-safari")),e.classList.add("zee-launcher-unsupported"),e.innerHTML="\n            <style>.zee-launcher-unsupported {\n               display: flex;\n               flex-direction: column;\n               height: 100%;\n               justify-content: center;\n               position: absolute;\n               width: 100%;\n               height: 100%;\n               top: 0;\n               left: 0;\n               align-items: center;\n               }\n               .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 210 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cg transform='translate(83 146.5)'%3E%3Cpath d='m55.146 88.785l-32.039-49.472c19.962-24.947 49.904-38.684 80.517-38.81 17.739-0.12642 35.855 4.4246 52.336 13.99 18.2 10.619 32.039 25.874 40.846 43.404l-86.095-4.5511c-24.365-1.4327-47.556 12.347-55.565 35.439zm13.797 16.224c0 19.468 15.684 35.229 35.059 35.229 19.374 0 35.059-15.76 35.059-35.229 0-19.468-15.684-35.229-35.059-35.229-19.374 0-35.059 15.718-35.059 35.229zm132.06-37.588l-58.585 3.034c15.894 18.668 16.145 45.595 2.7678 66.243l-47.01 72.648c19.5 1.0535 39.588-3.2447 57.788-13.864 45.039-26.126 63.282-80.908 45.039-128.06zm-144.93 57.647l-39.126-77.326c-10.694 16.434-16.942 36.156-16.942 57.267 0 52.253 38.078 95.53 87.856 103.2l26.713-52.59c-24.155 4.5511-47.472-8.765-58.501-30.551z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n               width: 211px;\n               height: 211px;\n               margin-bottom: 25%;\n               margin-top: -60px;\n               background-repeat: no-repeat;\n               }\n               .zee-launcher-browser-safari .zee-launcher-browser-logo {\n               background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 211 211' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(-82 -146)' fill-rule='nonzero' stroke='%23ffffff' stroke-width='2'%3E%3Cpath d='m180 251.86c0-4.0385 2.9377-7.855 7.2552-7.855 3.9614 0 7.7448 2.8402 7.7448 7.145 0 4.0385-2.8487 7.855-7.1662 7.855-4.0059 0-7.8338-2.9734-7.8338-7.145zm112-0.35503c0 57.728-46.772 104.5-104.5 104.5s-104.5-46.772-104.5-104.5 46.772-104.5 104.5-104.5 104.5 46.772 104.5 104.5zm-12-1c0-51.649-41.851-93.5-93.5-93.5s-93.5 41.851-93.5 93.5 41.851 93.5 93.5 93.5 93.5-41.851 93.5-93.5zm-30.624 40.983c0 1.5095 5.4495 4.2768 6.8328 5.1154-11.486 17.401-29.26 29.938-49.423 34.928l-1.8444-7.757c-0.12576-1.0482-0.79646-1.174-1.7606-1.174-0.79646 0-1.2576 1.174-1.1737 1.7611l1.8444 7.8828c-5.5753 1.174-11.234 1.7611-16.935 1.7611-15.217 0-30.182-4.2768-43.177-12.202 0.71263-1.174 5.1141-7.5474 5.1141-8.4698 0-0.79666-0.71263-1.5095-1.5091-1.5095-1.6348 0-5.1141 6.9603-6.1621 8.344-17.522-11.615-30.182-29.602-35.044-50.148l8.0066-1.761c0.92222-0.25158 1.1737-0.92246 1.1737-1.7611 0-0.79667-1.1737-1.2579-1.8444-1.174l-7.8389 1.803c-1.048-5.3251-1.6348-10.692-1.6348-16.143 0-15.556 4.4015-30.86 12.66-43.984 1.1737 0.71281 6.749 4.5284 7.6712 4.5284 0.79646 0 1.5091-0.58702 1.5091-1.3837 0-1.6353-6.1621-4.7381-7.5455-5.7024 11.821-17.275 29.805-29.728 50.219-34.34l1.7606 7.757c0.25152 0.92246 0.92222 1.174 1.7606 1.174 0.83838 0 1.2576-1.174 1.1737-1.8449l-1.7606-7.6732c5.1141-0.92246 10.312-1.5095 15.552-1.5095 15.552 0 30.727 4.4026 43.973 12.663-0.79646 1.174-4.5273 6.6249-4.5273 7.5474 0 0.79667 0.58687 1.5095 1.3833 1.5095 1.6348 0 4.7369-6.0379 5.5753-7.4216 17.187 11.615 29.469 29.351 34.248 49.561l-6.4975 1.3837c-1.048 0.25158-1.1737 0.92246-1.1737 1.8449 0 0.79667 1.1737 1.2579 1.7606 1.174l6.6232-1.5095c1.048 5.3251 1.6348 10.776 1.6348 16.227 0 15.221-4.1919 30.189-12.073 43.062-1.1737-0.58702-6.0364-4.0672-6.9586-4.0672-0.8803 0-1.5929 0.71281-1.5929 1.5095zm-14.876-98.483c-5.2178 4.88-53.863 49.48-55.228 51.8l-38.772 64.2c5.0974-4.76 53.863-49.6 55.108-51.72l38.892-64.28z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n               }\n               .zee-launcher-unsupported-message {\n               text-align: center;\n               width: 250px;\n               font-family: sans-serif;\n               color: #ffffff;\n               }\n               .zee-launcher-unsupported-message-copy {\n               border: 1px solid #ffffff;\n               border-radius: 5px;\n               margin-top: 10px;\n               }\n               #zee-launcher-unsupported-message-input {\n               border: none;\n               padding: 10px;\n               border-radius: 0px;\n               border-right: 1px solid #344B60;\n               height: 40px;\n               color: #ffffff;\n               background-color: black;\n               box-sizing: border-box;\n               width: calc(100% - 65px);\n               margin-left: 5px;\n               }\n               #zee-launcher-unsupported-message-button {\n               background: none;\n               border: none;\n               outline: none;\n               text-transform: uppercase;\n               color: #ffffff;\n               height: 40px;\n               display: inline-block;\n               width: 59px;\n               }\n               .zee-launcher-unsupported-message-before-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-before-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-after-copy {\n               display: none;\n               }\n               .zee-launcher-unsupported-message-copied .zee-launcher-unsupported-message-after-copy {\n               height: 100px;\n               display: flex;\n               flex-direction: column;\n               justify-content: center;\n               margin-top: 20px;\n               }\n            </style>\n            <div class=\"zee-launcher-browser-logo\"></div>\n            <div class=\"zee-launcher-unsupported-message\">Open with ".concat(t,' to access this content.</div>\n            <div class="zee-launcher-unsupported-message-before-copy">\n               <div class="zee-launcher-unsupported-message ">Tap below to copy the address for easy pasting into ').concat(t,'.</div>\n               <div class="zee-launcher-unsupported-message-copy"><input id="zee-launcher-unsupported-message-input" type="text/"><button id="zee-launcher-unsupported-message-button">Copy</button></div>\n            </div>\n            <div class="zee-launcher-unsupported-message zee-launcher-unsupported-message-after-copy">COPIED! Now paste into ').concat(t,"'s address bar to experience the content.</div>\n    ");var n=e.querySelector("#zee-launcher-unsupported-message-input")||document.createElement("input");n.value=window.location.href;var r=function(){if(navigator.userAgent.match(/iPhone|iPod|iPad/i)){var t=document.createRange();t.selectNodeContents(n);var r=window.getSelection();if(!r)return;r.removeAllRanges(),r.addRange(t),n.setSelectionRange(0,999999999)}else n.select();document.execCommand("copy"),n.blur(),e.classList.toggle("zee-launcher-unsupported-message-copied",!0)};return(e.querySelector("#zee-launcher-unsupported-message-button")||document.createElement("button")).addEventListener("click",r),n.addEventListener("click",r),e}()),Object.assign(e.style,{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:1001,backgroundColor:"rgba(0, 0, 0, 0.9)",fontFamily:"sans-serif",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),e.classList.add("zee_launcher_compatibility"),document.body.append(e)}}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f7b62a3a53b5c9b3222ba8dc53cb8b11.zbin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"482727c0e7dd40d73f5aae47f238ad61.zbin"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.12"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.3.14"},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldTracker=void 0;var i=n(52),o=n(31),s=function(){function e(t){var n=this;r(this,e),this._pipeline=t,this.anchor={poseCameraRelative:function(e){return n._anchorPoseCameraRelative(e)},pose:function(e,t){return n._anchorPose(e,t)}},this._z=o.z(),this._impl=this._z.instant_world_tracker_create(this._pipeline._getImpl())}return a(e,[{key:"destroy",value:function(){this._z.instant_world_tracker_destroy(this._impl)}},{key:"_anchorPoseCameraRelative",value:function(e){return this._z.instant_world_tracker_anchor_pose_camera_relative(this._impl,!0===e)}},{key:"_anchorPose",value:function(e,t){return this._z.instant_world_tracker_anchor_pose(this._impl,e,!0===t)}},{key:"enabled",get:function(){return this._z.instant_world_tracker_enabled(this._impl)},set:function(e){this._z.instant_world_tracker_enabled_set(this._impl,e)}},{key:"setAnchorPoseFromCameraOffset",value:function(e,t,n,r){this._z.instant_world_tracker_anchor_pose_set_from_camera_offset(this._impl,e,t,n,r||i.instant_world_tracker_transform_orientation_t.MINUS_Z_AWAY_FROM_USER)}}]),e}();t.InstantWorldTracker=s},function(e,t,n){"use strict";var r=n(51),a=n(16),i=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeFinder=void 0;var o=n(44),s=n(52),u=n(31),c=function(){function e(t){var n=this;a(this,e),this._pipeline=t,this.onDetection=new o.Event1,this._lastDetected=[],this._found=[],this._formats=[],this._frameUpdate=function(){n._found=[];for(var e=n._z.barcode_finder_found_number(n._impl),t=0;t<e;t++)n._found.push({text:n._z.barcode_finder_found_text(n._impl,t),format:n._z.barcode_finder_found_format(n._impl,t)});if(0!==n._found.length){var a,i=r(n._found);try{e:for(i.s();!(a=i.n()).done;){var o,s=a.value,u=r(n._lastDetected);try{for(u.s();!(o=u.n()).done;){if(o.value.text===s.text)continue e}}catch(c){u.e(c)}finally{u.f()}n.onDetection.emit(s)}}catch(c){i.e(c)}finally{i.f()}n._lastDetected=n._found}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=u.z(),this._impl=this._z.barcode_finder_create(this._pipeline._getImpl()),this._formats.push.apply(this._formats,[s.barcode_format_t.AZTEC,s.barcode_format_t.CODABAR,s.barcode_format_t.CODE_39,s.barcode_format_t.CODE_93,s.barcode_format_t.CODE_128,s.barcode_format_t.DATA_MATRIX,s.barcode_format_t.EAN_8,s.barcode_format_t.EAN_13,s.barcode_format_t.ITF,s.barcode_format_t.MAXICODE,s.barcode_format_t.PDF_417,s.barcode_format_t.QR_CODE,s.barcode_format_t.RSS_14,s.barcode_format_t.RSS_EXPANDED,s.barcode_format_t.UPC_A,s.barcode_format_t.UPC_E,s.barcode_format_t.UPC_EAN_EXTENSION])}return i(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this._found=[],this._lastDetected=[],this._z.barcode_finder_destroy(this._impl)}},{key:"found",get:function(){return this._found}},{key:"enabled",get:function(){return this._z.barcode_finder_enabled(this._impl)},set:function(e){this._z.barcode_finder_enabled_set(this._impl,e)}},{key:"formats",get:function(){return this._formats},set:function(e){this._formats=e.slice();var t,n=0,a=r(this._formats);try{for(a.s();!(t=a.n()).done;){n|=t.value}}catch(i){a.e(i)}finally{a.f()}this._z.barcode_finder_formats_set(this._impl,n)}}]),e}();t.BarcodeFinder=c},function(e,t,n){"use strict";var r=n(20),a=n(51),i=n(16),o=n(17),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTracker=void 0;var u=n(44),c=n(31),l=function(){function e(t){var n=this;i(this,e),this._pipeline=t,this.onVisible=new u.Event1,this.onNotVisible=new u.Event1,this.onNewAnchor=new u.Event1,this.visible=new Set,this.anchors=new Map,this._visibleLastFrame=new Set,this._frameUpdate=function(){var e=new Set,t=n.visible;n.visible=n._visibleLastFrame,n._visibleLastFrame=t,n.visible.clear();for(var r=n._z.face_tracker_anchor_count(n._impl),i=function(t){var r=n._z.face_tracker_anchor_id(n._impl,t),a=n.anchors.get(r);a||(a={onVisible:new u.Event,onNotVisible:new u.Event,indx:0,id:r,poseCameraRelative:function(e){return n._z.face_tracker_anchor_pose_camera_relative(n._impl,a.indx,!0===e)},pose:function(e,t){return n._z.face_tracker_anchor_pose(n._impl,a.indx,e,!0===t)},identity:new Float32Array(50),expression:new Float32Array(29),visible:!0},!0,n.anchors.set(r,a),e.add(a)),a.indx=t,a.visible=!0,a.identity=n._z.face_tracker_anchor_identity_coefficients(n._impl,t),a.expression=n._z.face_tracker_anchor_expression_coefficients(n._impl,t),n.visible.add(a)},o=0;o<r;o++)i(o);var s,c=a(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;n.onNewAnchor.emit(l)}}catch(g){c.e(g)}finally{c.f()}var f,d=a(n.visible);try{for(d.s();!(f=d.n()).done;){var h=f.value;n._visibleLastFrame.has(h)?n._visibleLastFrame.delete(h):(n.onVisible.emit(h),h.onVisible.emit())}}catch(g){d.e(g)}finally{d.f()}var p,m=a(n._visibleLastFrame);try{for(m.s();!(p=m.n()).done;){var v=p.value;n.onNotVisible.emit(v),v.onNotVisible.emit()}}catch(g){m.e(g)}finally{m.f()}},this._pipeline._onFrameUpdateInternal.bind(this._frameUpdate),this._z=c.z(),this._impl=this._z.face_tracker_create(this._pipeline._getImpl())}return o(e,[{key:"destroy",value:function(){this._pipeline._onFrameUpdateInternal.unbind(this._frameUpdate),this.anchors.clear(),this.visible.clear(),this._z.face_tracker_destroy(this._impl)}},{key:"loadModel",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=6;break}return t.next=3,fetch(e);case 3:return t.next=5,t.sent.arrayBuffer();case 5:e=t.sent;case 6:this._z.face_tracker_model_load_from_memory(this._impl,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"loadDefaultModel",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._z.face_tracker_model_load_default(this._impl);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"enabled",get:function(){return this._z.face_tracker_enabled(this._impl)},set:function(e){this._z.face_tracker_enabled_set(this._impl,e)}},{key:"maxFaces",get:function(){return this._z.face_tracker_max_faces(this._impl)},set:function(e){this._z.face_tracker_max_faces_set(this._impl,e)}}]),e}();t.FaceTracker=l},function(e,t,n){"use strict";var r=n(20),a=n(16),i=n(17),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceMesh=void 0;var s=n(31),u=function(){function e(){a(this,e),this._z=s.z(),this._impl=this._z.face_mesh_create()}return i(e,[{key:"destroy",value:function(){this._z.face_mesh_destroy(this._impl)}},{key:"load",value:function(e,t,n,a,i){return o(this,void 0,void 0,r.mark((function o(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=5;break}return this.loadDefault(),r.abrupt("return");case 5:if("string"!==typeof e){r.next=11;break}return r.next=8,fetch(e);case 8:return r.next=10,r.sent.arrayBuffer();case 10:e=r.sent;case 11:this._z.face_mesh_load_from_memory(this._impl,e,t||!1,n||!1,a||!1,i||!1);case 12:case"end":return r.stop()}}),o,this)})))}},{key:"loadDefault",value:function(){return o(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._z.face_mesh_load_default(this._impl);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"loadDefaultFace",value:function(e,t,n){return o(this,void 0,void 0,r.mark((function a(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._z.face_mesh_load_default_face(this._impl,e||!1,t||!1,n||!1);case 2:case"end":return r.stop()}}),a,this)})))}},{key:"loadDefaultFullHeadSimplified",value:function(e,t,n,a){return o(this,void 0,void 0,r.mark((function i(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._z.face_mesh_load_default_full_head_simplified(this._impl,e||!1,t||!1,n||!1,a||!1);case 2:case"end":return r.stop()}}),i,this)})))}},{key:"updateFromFaceAnchor",value:function(e,t){this._z.face_mesh_update(this._impl,e.identity,e.expression,t||!1)}},{key:"updateFromIdentityExpression",value:function(e,t,n){this._z.face_mesh_update(this._impl,e,t,n||!1)}},{key:"vertices",get:function(){return this._z.face_mesh_vertices(this._impl)}},{key:"indices",get:function(){return this._z.face_mesh_indices(this._impl)}},{key:"uvs",get:function(){return this._z.face_mesh_uvs(this._impl)}},{key:"normals",get:function(){return this._z.face_mesh_normals(this._impl)}},{key:"_getImpl",value:function(){return this._impl}}]),e}();t.FaceMesh=u},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSource=void 0;var i=n(31),o=function(){function e(t,n){r(this,e),this._z=i.z(),this._impl=this._z.camera_source_create(t._getImpl(),n)}return a(e,[{key:"destroy",value:function(){this._z.camera_source_destroy(this._impl)}},{key:"start",value:function(){this._z.camera_source_start(this._impl)}},{key:"pause",value:function(){this._z.camera_source_pause(this._impl)}}]),e}();t.CameraSource=o},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLElementSource=void 0;var i=n(31),o=function(){function e(t,n){r(this,e),this._z=i.z(),this._impl=this._z.html_element_source_create(t._getImpl(),n)}return a(e,[{key:"destroy",value:function(){this._z.html_element_source_destroy(this._impl)}},{key:"start",value:function(){this._z.html_element_source_start(this._impl)}},{key:"pause",value:function(){this._z.html_element_source_pause(this._impl)}}]),e}();t.HTMLElementSource=o},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.Pipeline=void 0;var i=n(31),o=n(44),s=function(){function e(){r(this,e),this.onFrameUpdate=new o.Event,this._onFrameUpdateInternal=new o.Event,this._lastFrameNumber=-1,this._z=i.z(),this._impl=this._z.pipeline_create()}return a(e,[{key:"destroy",value:function(){this._z.pipeline_destroy(this._impl)}},{key:"frameUpdate",value:function(){this._z.pipeline_frame_update(this._impl);var e=this._z.pipeline_frame_number(this._impl);e!==this._lastFrameNumber&&(this._lastFrameNumber=e,this._onFrameUpdateInternal.emit(),this.onFrameUpdate.emit())}},{key:"_getImpl",value:function(){return this._impl}},{key:"glContextSet",value:function(e){this._z.pipeline_gl_context_set(this._impl,e)}},{key:"glContextLost",value:function(){this._z.pipeline_gl_context_lost(this._impl)}},{key:"cameraFrameTextureGL",value:function(){return this._z.pipeline_camera_frame_texture_gl(this._impl)}},{key:"cameraFrameTextureMatrix",value:function(e,t,n){return this._z.pipeline_camera_frame_texture_matrix(this._impl,e,t,!0===n)}},{key:"cameraFrameDrawGL",value:function(e,t,n){this._z.pipeline_camera_frame_draw_gl(this._impl,e,t,n)}},{key:"cameraFrameUploadGL",value:function(){this._z.pipeline_camera_frame_upload_gl(this._impl)}},{key:"processGL",value:function(){this._z.pipeline_process_gl(this._impl)}},{key:"cameraModel",value:function(){return this._z.pipeline_camera_model(this._impl)}},{key:"cameraPoseDefault",value:function(){return this._z.pipeline_camera_pose_default(this._impl)}},{key:"cameraPoseWithAttitude",value:function(e){return this._z.pipeline_camera_pose_with_attitude(this._impl,e||!1)}},{key:"cameraPoseWithOrigin",value:function(e){return this._z.pipeline_camera_pose_with_origin(this._impl,e)}},{key:"cameraFrameUserFacing",value:function(){return this._z.pipeline_camera_frame_user_facing(this._impl)}},{key:"drawFace",value:function(e,t,n,r){this._z.pipeline_draw_face(this._impl,e,t,n,r._getImpl())}},{key:"frameNumber",value:function(){return this._z.pipeline_frame_number(this._impl)}}]),e}();t.Pipeline=s},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmark=t.FaceLandmarkName=void 0;var i=n(31),o=n(35),s=n(52);Object.defineProperty(t,"FaceLandmarkName",{enumerable:!0,get:function(){return s.face_landmark_name_t}});var u=function(){function e(t){r(this,e),this._name=t,this.pose=o.mat4.create(),this._z=i.z(),this._impl=this._z.face_landmark_create(this._name)}return a(e,[{key:"destroy",value:function(){this._z.face_landmark_destroy(this._impl)}},{key:"updateFromFaceAnchor",value:function(e,t){this._z.face_landmark_update(this._impl,e.identity,e.expression,t||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}},{key:"updateFromIdentityExpression",value:function(e,t,n){this._z.face_landmark_update(this._impl,e,t,n||!1),this.pose=this._z.face_landmark_anchor_pose(this._impl)}},{key:"_getImpl",value:function(){return this._impl}}]),e}();t.FaceLandmark=u},function(e,t,n){"use strict";var r=n(20),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.permissionDeniedUI=t.permissionRequestUI=t.permissionRequest=t.permissionDenied=t.permissionGranted=t.Permission=void 0;var i,o=n(31);!function(e){e[e.CAMERA=0]="CAMERA",e[e.MOTION=1]="MOTION"}(i=t.Permission||(t.Permission={})),t.permissionGranted=function(e){switch(e){case i.CAMERA:return o.z().permission_granted_camera();case i.MOTION:return o.z().permission_granted_motion();default:return o.z().permission_granted_all()}},t.permissionDenied=function(e){switch(e){case i.CAMERA:return o.z().permission_denied_camera();case i.MOTION:return o.z().permission_denied_motion();default:return o.z().permission_denied_any()}},t.permissionRequest=function(e){var t=this;switch(e){case i.CAMERA:o.z().permission_request_camera();break;case i.MOTION:o.z().permission_request_motion();break;default:o.z().permission_request_all()}return new Promise((function(n){return a(t,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,new Promise((function(e){return requestAnimationFrame((function(){return e()}))}));case 3:t.t0=e,t.next=t.t0===i.CAMERA?6:t.t0===i.MOTION?13:20;break;case 6:if(!o.z().permission_granted_camera()){t.next=9;break}return n(!0),t.abrupt("return");case 9:if(!o.z().permission_denied_camera()){t.next=12;break}return n(!1),t.abrupt("return");case 12:case 19:case 26:return t.abrupt("break",27);case 13:if(!o.z().permission_granted_motion()){t.next=16;break}return n(!0),t.abrupt("return");case 16:if(!o.z().permission_denied_motion()){t.next=19;break}return n(!1),t.abrupt("return");case 20:if(!o.z().permission_granted_camera()||!o.z().permission_granted_motion()){t.next=23;break}return n(!0),t.abrupt("return");case 23:if(!o.z().permission_denied_camera()&&!o.z().permission_denied_motion()){t.next=26;break}return n(!1),t.abrupt("return");case 27:t.next=0;break;case 29:case"end":return t.stop()}}),t)})))}))},t.permissionRequestUI=function(){return a(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.z().permission_request_ui_promise();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},t.permissionDeniedUI=function(){return o.z().permission_denied_ui()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.logLevel=t.LogLevel=void 0;var r=n(31),a=n(52);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return a.log_level_t}}),t.logLevel=function(){return r.z().log_level()},t.setLogLevel=function(e){r.z().log_level_set(e)}},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(42),o=n(36),s=n(27),u=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageAnchorGroup=void 0;var c=n(29),l=n(50),f=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.imageTracker=a,o.anchorId=i,o.isReady=!1,o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.imageTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.imageTracker.anchors.get(this.anchorId):this.currentAnchor=this.imageTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.ImageAnchorGroup=f},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageTrackerLoader=void 0;var s=n(29),u=n(61),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new u.ImageTracker;return i.loadTarget(e).then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(e)})).catch((function(t){null===r||void 0===r||r(t),a.manager.itemError(e),a.manager.itemEnd(e)})),i}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.ImageTrackerLoader=c},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(42),o=n(36),s=n(27),u=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.InstantWorldAnchorGroup=void 0;var c=n(29),l=n(50),f=function(e){s(n,e);var t=u(n);function n(e,a){var i;return r(this,n),(i=t.call(this)).camera=e,i.instantTracker=a,i.matrixAutoUpdate=!1,i}return a(n,[{key:"setAnchorPoseFromCameraOffset",value:function(e,t,n,r){this.instantTracker.setAnchorPoseFromCameraOffset(e,t,n,r)}},{key:"updateMatrixWorld",value:function(e){this.matrix.fromArray(this.instantTracker.anchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.InstantWorldAnchorGroup=f},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(42),o=n(36),s=n(27),u=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceAnchorGroup=void 0;var c=n(29),l=n(50),f=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.faceTracker=a,o.anchorId=i,o.isReady=!1,o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.anchorId?this.currentAnchor=this.faceTracker.anchors.get(this.anchorId):this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.matrix.fromArray(this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===l.CameraMirrorMode.Poses)),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(c.THREE.Group);t.FaceAnchorGroup=f},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(42),o=n(36),s=n(27),u=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmarkGroup=void 0;var c=n(43),l=n(35),f=n(29),d=n(50),h=function(e){s(n,e);var t=u(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this)).camera=e,o.faceTracker=a,o.pose=l.mat4.create(),o.landmark=new c.FaceLandmark(i),o.matrixAutoUpdate=!1,o}return a(n,[{key:"updateMatrixWorld",value:function(e){this.currentAnchor&&this.faceTracker.visible.has(this.currentAnchor)||(this.currentAnchor=this.faceTracker.visible.values().next().value),this.currentAnchor&&(this.landmark.updateFromFaceAnchor(this.currentAnchor,this.camera.currentMirrorMode===d.CameraMirrorMode.Poses),l.mat4.multiply(this.pose,this.currentAnchor.pose(this.camera.rawPose,this.camera.currentMirrorMode===d.CameraMirrorMode.Poses),this.landmark.pose),this.matrix.fromArray(this.pose),this.matrix.decompose(this.position,this.quaternion,this.scale)),i(o(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.landmark.destroy()}}]),n}(f.THREE.Group);t.FaceLandmarkGroup=h},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.FaceTrackerLoader=void 0;var s=n(29),u=n(61),c=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n,r){var a=this,i=new u.FaceTracker,o=e?i.loadModel(e):i.loadDefaultModel(),s="string"===typeof e?e:"__zappar_threejs_face_tracker_default";return o.then((function(){null===t||void 0===t||t(i),a.manager.itemEnd(s)})).catch((function(e){null===r||void 0===r||r(e),a.manager.itemError(s),a.manager.itemEnd(s)})),i}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.FaceTrackerLoader=c},function(e,t,n){"use strict";var r=n(16),a=n(17),i=n(27),o=n(28);Object.defineProperty(t,"__esModule",{value:!0}),t.HeadMaskMeshLoader=void 0;var s=n(29),u=n(84),c="__zappar_threejs_head_mask_mesh",l=function(e){i(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"load",value:function(e,t,n){var r=this;return this.manager.itemStart(c),new u.HeadMaskMesh((function(){null===e||void 0===e||e(),r.manager.itemEnd(c)}),(function(){null===n||void 0===n||n(),r.manager.itemError(c),r.manager.itemEnd(c)}))}},{key:"parse",value:function(){}}]),n}(s.THREE.Loader);t.HeadMaskMeshLoader=l},function(e,t,n){"use strict";var r=n(59),a=n(27),i=n(28),o=n(16),s=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=t.DefaultLoaderUI=void 0;var u=n(29),c=n(85),l=function(){function e(t){var n=this;o(this,e),this.lastLoadPercentage=0,this.divs={inner:document.createElement("div"),title:document.createElement("div"),progress:document.createElement("div"),progressValue:document.createElement("div")},this.css={container:{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"10000",backgroundColor:"rgba(0,0,0,0.8)",fontFamily:"sans-serif",color:"rgba(255,255,255,1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"opacity 500ms"},inner:{maxWidth:"400px",textAlign:"center"},title:{fontSize:"20px"},progress:{background:"rgba(255,255,255, 0.1)",justifyContent:"flex-start",borderRadius:"100px",alignItems:"center",position:"relative",padding:"0 5px",display:"flex",height:"15px",width:"250px",margin:"15px"},progressValue:{boxShadow:"0 10px 40px -10px #fff",borderTopLeftRadius:"100px",borderBottomLeftRadius:"100px",background:"rgba(255,255,255,1)",height:"10px",width:"0",transition:"width 500ms"}},this.updateLoader=function(e){if(!(e<n.lastLoadPercentage)){n.lastLoadPercentage=e;var t=document.getElementById("zappar-loader-progressValue");t.style.width="".concat(e,"%"),t.style.borderTopRightRadius="".concat(e,"px"),t.style.borderBottomRightRadius="".concat(e,"px"),t.addEventListener("transitionend",(function(){100===e&&(n.containerDiv.style.opacity="0",n.containerDiv.addEventListener("transitionend",(function(e){"opacity"===e.propertyName&&n.dispose()})))}))}},this.dispose=function(){n.containerDiv.remove()},this.customStyle=t,this.containerDiv=document.createElement("div")}return s(e,[{key:"initialize",value:function(){for(var e in this.divs)this.divs[e].id="zappar-loader-".concat(e);this.refreshStyle(),this.divs.inner.appendChild(this.divs.title),this.divs.inner.appendChild(this.divs.progress),this.divs.progress.appendChild(this.divs.progressValue),this.containerDiv.appendChild(this.divs.inner),this.divs.title.innerHTML="Loading..",document.body.append(this.containerDiv)}},{key:"refreshStyle",value:function(){var e,t,n,r,a;Object.assign(this.css.container,null===(e=this.customStyle)||void 0===e?void 0:e.container),Object.assign(this.css.inner,null===(t=this.customStyle)||void 0===t?void 0:t.inner),Object.assign(this.css.title,null===(n=this.customStyle)||void 0===n?void 0:n.title),Object.assign(this.css.progress,null===(r=this.customStyle)||void 0===r?void 0:r.progress),Object.assign(this.css.progressValue,null===(a=this.customStyle)||void 0===a?void 0:a.progressValue),Object.assign(this.containerDiv.style,this.css.container),Object.assign(this.divs.inner.style,this.css.inner),Object.assign(this.divs.title.style,this.css.title),Object.assign(this.divs.progress.style,this.css.progress),Object.assign(this.divs.progressValue.style,this.css.progressValue)}}]),e}(),f=function(e){a(n,e);var t=i(n);function n(e){var r;return o(this,n),r=t.call(this,null===e||void 0===e?void 0:e.style),u.THREE.DefaultLoadingManager.onStart=function(){r.initialize()},u.THREE.DefaultLoadingManager.onLoad=function(){var t;null===(t=null===e||void 0===e?void 0:e.onLoad)||void 0===t||t.call(e)},u.THREE.DefaultLoadingManager.onProgress=function(e,t,n){r.updateLoader(t/n*100)},r}return s(n)}(l);t.DefaultLoaderUI=f;var d=function(e){a(n,e);var t=i(n);function n(e){var a;return o(this,n),(a=t.call(this,(function(){var t;return null===(t=null===e||void 0===e?void 0:e.onLoad)||void 0===t?void 0:t.call(e)}),(function(t,n,r){var i;a.ui.customStyle=null===e||void 0===e?void 0:e.style,a.ui.refreshStyle(),null===(i=null===e||void 0===e?void 0:e.onProgress)||void 0===i||i.call(e,t,n,r),a.ui.updateLoader(n/r*100)}),null===e||void 0===e?void 0:e.onError)).ui=new l,a.onStartCallback=void 0,a.onStart=function(){a.ui.initialize(),a.onStartCallback&&a.onStartCallback()},a._onStart=function(e){a.onStartCallback=e},a.dispose=function(){a.ui.dispose()},new c.LibraryLoader(r(a)).load(),a}return s(n)}(u.THREE.LoadingManager);t.LoadingManager=d},function(e,t,n){"use strict";var r=n(16),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.CameraEnvironmentMap=void 0;var i=n(29),o=function(){function e(){r(this,e),this.cubeMapScene=new i.THREE.Scene,this.renderTarget=new i.THREE.WebGLCubeRenderTarget(256,{format:i.THREE.RGBFormat,generateMipmaps:!0,minFilter:i.THREE.LinearMipmapLinearFilter}),this.cubeCamera=new i.THREE.CubeCamera(.1,1e3,this.renderTarget),this.sphereMaterial=new i.THREE.MeshBasicMaterial({side:i.THREE.DoubleSide}),this.sphereGroup=new i.THREE.Group,this.environmentMap=this.renderTarget.texture,this.cubeMapScene.add(this.cubeCamera);var t=new i.THREE.Mesh(new i.THREE.SphereBufferGeometry(10,16,12),this.sphereMaterial);t.rotation.set(0,-.5*Math.PI,0),this.sphereGroup.add(t),this.cubeMapScene.add(this.sphereGroup)}return a(e,[{key:"dispose",value:function(){this.renderTarget.dispose(),this.sphereMaterial.dispose()}},{key:"update",value:function(e,t){this.sphereMaterial.map=t.backgroundTexture,this.sphereGroup.quaternion.copy(t.quaternion),this.cubeCamera.update(e,this.cubeMapScene)}}]),e}();t.CameraEnvironmentMap=o},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(32)),c=o(n(1)),l=s(n(18)),f=n(8),d=u.FaceBufferGeometry;(0,f.extend)({FaceBufferGeometry:d});var h=(0,c.forwardRef)((function(e,t){var n=e.fillMouth,a=void 0!==n&&n,i=e.fillEyeLeft,o=void 0!==i&&i,s=e.fillEyeRight,d=void 0!==s&&s,h=e.fillNeck,p=void 0!==h&&h,m=e.fullHead,v=void 0!==m&&m,g=e.children,y=e.trackerGroup,b=c.default.useRef(),_=(0,c.useState)(),w=r(_,2),x=w[0],A=w[1];return(0,c.useEffect)((function(){A(v?(new u.FaceMeshLoader).loadFullHeadSimplified({fillMouth:a,fillEyeLeft:o,fillEyeRight:d,fillNeck:p}):(new u.FaceMeshLoader).loadFace({fillMouth:a,fillEyeLeft:o,fillEyeRight:d}))}),[a,o,d,p]),(0,f.useFrame)((function(){b.current&&y&&y.current&&b.current.updateFromFaceAnchorGroup(y.current)})),x?c.default.createElement("faceBufferGeometry",Object.assign({args:[x],ref:(0,l.default)([b,t])},e),g):null}));t.default=h},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){(function(e){e.exports=function(t){var r={},a=n(58),i=n(1),o=n(46);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,l=60106,f=60107,d=60108,h=60114,p=60109,m=60110,v=60112,g=60113,y=60120,b=60115,_=60116,w=60121,x=60129,A=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;c=E("react.element"),l=E("react.portal"),f=E("react.fragment"),d=E("react.strict_mode"),h=E("react.profiler"),p=E("react.provider"),m=E("react.context"),v=E("react.forward_ref"),g=E("react.suspense"),y=E("react.suspense_list"),b=E("react.memo"),_=E("react.lazy"),w=E("react.block"),E("react.scope"),x=E("react.debug_trace_mode"),A=E("react.offscreen"),M=E("react.legacy_hidden")}var C="function"===typeof Symbol&&Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}function O(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case f:return"Fragment";case l:return"Portal";case h:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return O(e.type);case w:return O(e._render);case _:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(T(e)!==e)throw Error(s(188))}function B(e){var t=e.alternate;if(!t){if(null===(t=T(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return k(a),e;if(i===r)return k(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function P(e){if(!(e=B(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function L(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var D,j=t.getPublicInstance,F=t.getRootHostContext,R=t.getChildHostContext,I=t.prepareForCommit,z=t.resetAfterCommit,U=t.createInstance,N=t.appendInitialChild,G=t.finalizeInitialChildren,H=t.prepareUpdate,V=t.shouldSetTextContent,W=t.createTextInstance,X=t.scheduleTimeout,q=t.cancelTimeout,Q=t.noTimeout,Y=t.isPrimaryRenderer,J=t.supportsMutation,K=t.supportsPersistence,Z=t.supportsHydration,$=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ae=t.preparePortalMount,ie=t.supportsTestSelectors,oe=t.findFiberRoot,se=t.getBoundingRect,ue=t.getTextContent,ce=t.isHiddenSubtree,le=t.matchAccessibilityRole,fe=t.setFocusIfFocusable,de=t.setupIntersectionObserver,he=t.appendChild,pe=t.appendChildToContainer,me=t.commitTextUpdate,ve=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,be=t.insertInContainerBefore,_e=t.removeChild,we=t.removeChildFromContainer,xe=t.resetTextContent,Ae=t.hideInstance,Me=t.hideTextInstance,Ee=t.unhideInstance,Ce=t.unhideTextInstance,Se=t.clearContainer,Oe=t.cloneInstance,Te=t.createContainerChildSet,ke=t.appendChildToContainerChildSet,Be=t.finalizeContainerChildren,Pe=t.replaceContainerChildren,Le=t.cloneHiddenInstance,De=t.cloneHiddenTextInstance,je=t.canHydrateInstance,Fe=t.canHydrateTextInstance,Re=t.isSuspenseInstancePending,Ie=t.isSuspenseInstanceFallback,ze=t.getNextHydratableSibling,Ue=t.getFirstHydratableChild,Ne=t.hydrateInstance,Ge=t.hydrateTextInstance,He=t.getNextHydratableInstanceAfterSuspenseInstance,Ve=t.commitHydratedContainer,We=t.commitHydratedSuspenseInstance;function Xe(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var qe=!1;function Qe(e,t){if(!e||qe)return"";qe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{qe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xe(e):""}var Ye=[],Je=-1;function Ke(e){return{current:e}}function Ze(e){0>Je||(e.current=Ye[Je],Ye[Je]=null,Je--)}function $e(e,t){Je++,Ye[Je]=e.current,e.current=t}var et={},tt=Ke(et),nt=Ke(!1),rt=et;function at(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function it(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ot(){Ze(nt),Ze(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));$e(tt,t),$e(nt,n)}function ut(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,O(t)||"Unknown",i));return a({},n,r)}function ct(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,$e(tt,e),$e(nt,nt.current),!0}function lt(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ut(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,Ze(nt),Ze(tt),$e(tt,e)):Ze(nt),$e(nt,n)}var ft=null,dt=null;(0,o.unstable_now)();var ht=0,pt=8;function mt(e){if(0!==(1&e))return pt=15,1;if(0!==(2&e))return pt=14,2;if(0!==(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!==(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!==(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!==(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!==(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!==(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function vt(e,t){var n=e.pendingLanes;if(0===n)return pt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,a=pt=15;else if(0!==(i=134217727&n)){var u=i&~o;0!==u?(r=mt(u),a=pt):0!==(s&=i)&&(r=mt(s),a=pt)}else 0!==(i=n&~o)?(r=mt(i),a=pt):0!==s&&(r=mt(s),a=pt);if(0===r)return 0;if(r=n&((0>(r=31-xt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(mt(t),a<=pt)return t;pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-xt(t)),r|=e[n],t&=~a;return r}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=bt(24&~t))?yt(10,t):e;case 10:return 0===(e=bt(192&~t))?yt(8,t):e;case 8:return 0===(e=bt(3584&~t))&&(0===(e=bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function bt(e){return e&-e}function _t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-xt(t)]=n}var xt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(At(e)/Mt|0)|0},At=Math.log,Mt=Math.LN2;var Et=o.unstable_runWithPriority,Ct=o.unstable_scheduleCallback,St=o.unstable_cancelCallback,Ot=o.unstable_shouldYield,Tt=o.unstable_requestPaint,kt=o.unstable_now,Bt=o.unstable_getCurrentPriorityLevel,Pt=o.unstable_ImmediatePriority,Lt=o.unstable_UserBlockingPriority,Dt=o.unstable_NormalPriority,jt=o.unstable_LowPriority,Ft=o.unstable_IdlePriority,Rt={},It=void 0!==Tt?Tt:function(){},zt=null,Ut=null,Nt=!1,Gt=kt(),Ht=1e4>Gt?kt:function(){return kt()-Gt};function Vt(){switch(Bt()){case Pt:return 99;case Lt:return 98;case Dt:return 97;case jt:return 96;case Ft:return 95;default:throw Error(s(332))}}function Wt(e){switch(e){case 99:return Pt;case 98:return Lt;case 97:return Dt;case 96:return jt;case 95:return Ft;default:throw Error(s(332))}}function Xt(e,t){return e=Wt(e),Et(e,t)}function qt(e,t,n){return e=Wt(e),Ct(e,t,n)}function Qt(){if(null!==Ut){var e=Ut;Ut=null,St(e)}Yt()}function Yt(){if(!Nt&&null!==zt){Nt=!0;var e=0;try{var t=zt;Xt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zt=null}catch(n){throw null!==zt&&(zt=zt.slice(e+1)),Ct(Pt,Qt),n}finally{Nt=!1}}}var Jt=u.ReactCurrentBatchConfig;var Kt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Zt=Object.prototype.hasOwnProperty;function $t(e,t){if(Kt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Kt(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 2:case 15:return e=Qe(e.type,!1);case 11:return e=Qe(e.type.render,!1);case 22:return e=Qe(e.type._render,!1);case 1:return e=Qe(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=Ke(null),rn=null,an=null,on=null;function sn(){on=an=rn=null}function un(e,t){e=e.type._context,Y?($e(nn,e._currentValue),e._currentValue=t):($e(nn,e._currentValue2),e._currentValue2=t)}function cn(e){var t=nn.current;Ze(nn),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function ln(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function fn(e,t){rn=e,on=an=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Gr=!0),e.firstContext=null)}function dn(e,t){if(on!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(on=e,t=1073741823),t={context:e,observedBits:t,next:null},null===an){if(null===rn)throw Error(s(308));an=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else an=an.next=t;return Y?e._currentValue:e._currentValue2}var hn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;hn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(d=i.baseState,s=0,f=l=c=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(h,d,u):p)||void 0===u)break e;d=a({},d,u);break e;case 2:hn=!0}}null!==o.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,fi|=s,e.lanes=s,e.memoizedState=d}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var wn=(new i.Component).refs;function xn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var An={isMounted:function(e){return!!(e=e._reactInternals)&&T(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fi(),a=Ri(e),i=vn(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),Ii(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fi(),a=Ri(e),i=vn(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gn(e,i),Ii(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fi(),r=Ri(e),a=vn(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),gn(e,a),Ii(e,r,n)}};function Mn(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!$t(n,r)||!$t(a,i))}function En(e,t,n){var r=!1,a=et,i=t.contextType;return"object"===typeof i&&null!==i?i=dn(i):(a=it(t)?rt:tt.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?at(e,a):et),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=An,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&An.enqueueReplaceState(t,t.state,null)}function Sn(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=wn,pn(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=dn(i):(i=it(t)?rt:tt.current,a.context=at(e,i)),bn(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(xn(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&An.enqueueReplaceState(a,a.state,null),bn(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var On=Array.isArray;function Tn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function kn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Bn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mo(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Oo(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Tn(e,t,n),r.return=e,r):((r=Eo(n.type,n.key,n.props,null,e.mode,r)).ref=Tn(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=To(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=Co(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Oo(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return(n=Eo(t.type,t.key,t.props,null,e.mode,n)).ref=Tn(e,null,t),n.return=e,n;case l:return(t=To(t,e.mode,n)).return=e,t}if(On(t)||S(t))return(t=Co(t,e.mode,n,null)).return=e,t;kn(e,t)}return null}function v(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===a?n.type===f?p(e,t,n.props.children,r,a):d(e,t,n,r):null;case l:return n.key===a?h(e,t,n,r):null}if(On(n)||S(n))return null!==a?null:p(e,t,n,r,null);kn(e,n)}return null}function g(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return e=e.get(null===r.key?n:r.key)||null,r.type===f?p(t,e,r.props.children,a,r.key):d(t,e,r,a);case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(On(r)||S(r))return p(t,e=e.get(n)||null,r,a,null);kn(t,r)}return null}function y(a,o,s,u){for(var c=null,l=null,f=o,d=o=0,h=null;null!==f&&d<s.length;d++){f.index>d?(h=f,f=null):h=f.sibling;var p=v(a,f,s[d],u);if(null===p){null===f&&(f=h);break}e&&f&&null===p.alternate&&t(a,f),o=i(p,o,d),null===l?c=p:l.sibling=p,l=p,f=h}if(d===s.length)return n(a,f),c;if(null===f){for(;d<s.length;d++)null!==(f=m(a,s[d],u))&&(o=i(f,o,d),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);d<s.length;d++)null!==(h=g(f,a,d,s[d],u))&&(e&&null!==h.alternate&&f.delete(null===h.key?d:h.key),o=i(h,o,d),null===l?c=h:l.sibling=h,l=h);return e&&f.forEach((function(e){return t(a,e)})),c}function b(a,o,u,c){var l=S(u);if("function"!==typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var f=l=null,d=o,h=o=0,p=null,y=u.next();null!==d&&!y.done;h++,y=u.next()){d.index>h?(p=d,d=null):p=d.sibling;var b=v(a,d,y.value,c);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(a,d),o=i(b,o,h),null===f?l=b:f.sibling=b,f=b,d=p}if(y.done)return n(a,d),l;if(null===d){for(;!y.done;h++,y=u.next())null!==(y=m(a,y.value,c))&&(o=i(y,o,h),null===f?l=y:f.sibling=y,f=y);return l}for(d=r(a,d);!y.done;h++,y=u.next())null!==(y=g(d,a,h,y.value,c))&&(e&&null!==y.alternate&&d.delete(null===y.key?h:y.key),o=i(y,o,h),null===f?l=y:f.sibling=y,f=y);return e&&d.forEach((function(e){return t(a,e)})),l}return function(e,r,i,u){var d="object"===typeof i&&null!==i&&i.type===f&&null===i.key;d&&(i=i.props.children);var h="object"===typeof i&&null!==i;if(h)switch(i.$$typeof){case c:e:{for(h=i.key,d=r;null!==d;){if(d.key===h){if(7===d.tag){if(i.type===f){n(e,d.sibling),(r=a(d,i.props.children)).return=e,e=r;break e}}else if(d.elementType===i.type){n(e,d.sibling),(r=a(d,i.props)).ref=Tn(e,d,i),r.return=e,e=r;break e}n(e,d);break}t(e,d),d=d.sibling}i.type===f?((r=Co(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Eo(i.type,i.key,i.props,null,e.mode,u)).ref=Tn(e,r,i),u.return=e,e=u)}return o(e);case l:e:{for(d=i.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=To(i,e.mode,u)).return=e,e=r}return o(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Oo(i,e.mode,u)).return=e,e=r),o(e);if(On(i))return y(e,r,i,u);if(S(i))return b(e,r,i,u);if(h&&kn(e,i),"undefined"===typeof i&&!d)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,O(e.type)||"Component"))}return n(e,r)}}var Pn=Bn(!0),Ln=Bn(!1),Dn={},jn=Ke(Dn),Fn=Ke(Dn),Rn=Ke(Dn);function In(e){if(e===Dn)throw Error(s(174));return e}function zn(e,t){$e(Rn,t),$e(Fn,e),$e(jn,Dn),e=F(t),Ze(jn),$e(jn,e)}function Un(){Ze(jn),Ze(Fn),Ze(Rn)}function Nn(e){var t=In(Rn.current),n=In(jn.current);n!==(t=R(n,e.type,t))&&($e(Fn,e),$e(jn,t))}function Gn(e){Fn.current===e&&(Ze(jn),Ze(Fn))}var Hn=Ke(0);function Vn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Re(n)||Ie(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wn=null,Xn=null,qn=!1;function Qn(e,t){var n=xo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yn(e,t){switch(e.tag){case 5:return null!==(t=je(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Fe(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Jn(e){if(qn){var t=Xn;if(t){var n=t;if(!Yn(e,t)){if(!(t=ze(n))||!Yn(e,t))return e.flags=-1025&e.flags|2,qn=!1,void(Wn=e);Qn(Wn,n)}Wn=e,Xn=Ue(t)}else e.flags=-1025&e.flags|2,qn=!1,Wn=e}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Wn=e}function Zn(e){if(!Z||e!==Wn)return!1;if(!qn)return Kn(e),qn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!V(t,e.memoizedProps))for(t=Xn;t;)Qn(e,t),t=ze(t);if(Kn(e),13===e.tag){if(!Z)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Xn=He(e)}else Xn=Wn?ze(e.stateNode):null;return!0}function $n(){Z&&(Xn=Wn=null,qn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=u.ReactCurrentDispatcher,rr=u.ReactCurrentBatchConfig,ar=0,ir=null,or=null,sr=null,ur=!1,cr=!1;function lr(){throw Error(s(321))}function fr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function dr(e,t,n,r,a,i){if(ar=i,ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Ir:zr,e=n(r,a),cr){i=0;do{if(cr=!1,!(25>i))throw Error(s(301));i+=1,sr=or=null,t.updateQueue=null,nr.current=Ur,e=n(r,a)}while(cr)}if(nr.current=Rr,t=null!==or&&null!==or.next,ar=0,sr=or=ir=null,ur=!1,t)throw Error(s(300));return e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?ir.memoizedState=sr=e:sr=sr.next=e,sr}function pr(){if(null===or){var e=ir.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===sr?ir.memoizedState:sr.next;if(null!==t)sr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===sr?ir.memoizedState=sr=e:sr=sr.next=e}return sr}function mr(e,t){return"function"===typeof t?t(e):t}function vr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=or,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=o=i=null,c=a;do{var l=c.lane;if((ar&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(o=u=f,i=r):u=u.next=f,ir.lanes|=l,fi|=l}c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=o,Kt(r,t.memoizedState)||(Gr=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Kt(i,t.memoizedState)||(Gr=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yr(e,t,n){var r=t._getVersion;r=r(t._source);var a=Y?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(ar&e)===e)&&(Y?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function br(e,t,n,r){var a=ri;if(null===a)throw Error(s(349));var i=t._getVersion,o=i(t._source),u=nr.current,c=u.useState((function(){return yr(a,t,n)})),l=c[1],f=c[0];c=sr;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,m=d.source;d=d.subscribe;var v=ir;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!Kt(o,e)){e=n(t._source),Kt(f,e)||(l(e),e=Ri(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,s=e;0<s;){var u=31-xt(s),c=1<<u;r[u]|=e,s&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Ri(v);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),Kt(p,n)&&Kt(m,t)&&Kt(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:f}).dispatch=l=Fr.bind(null,ir,e),c.queue=e,c.baseQueue=null,f=yr(a,t,n),c.memoizedState=c.baseState=f),f}function _r(e,t,n){return br(pr(),e,t,n)}function wr(e){var t=hr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e}).dispatch=Fr.bind(null,ir,e),[t.memoizedState,e]}function xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ir.updateQueue)?(t={lastEffect:null},ir.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ar(e){return e={current:e},hr().memoizedState=e}function Mr(){return pr().memoizedState}function Er(e,t,n,r){var a=hr();ir.flags|=e,a.memoizedState=xr(1|t,n,void 0,void 0===r?null:r)}function Cr(e,t,n,r){var a=pr();r=void 0===r?null:r;var i=void 0;if(null!==or){var o=or.memoizedState;if(i=o.destroy,null!==r&&fr(r,o.deps))return void xr(t,n,i,r)}ir.flags|=e,a.memoizedState=xr(1|t,n,i,r)}function Sr(e,t){return Er(516,4,e,t)}function Or(e,t){return Cr(516,4,e,t)}function Tr(e,t){return Cr(4,2,e,t)}function kr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Br(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Cr(4,2,kr.bind(null,t,e),n)}function Pr(){}function Lr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jr(e,t){var n=Vt();Xt(98>n?98:n,(function(){e(!0)})),Xt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function Fr(e,t,n){var r=Fi(),a=Ri(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===ir||null!==o&&o===ir)cr=ur=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,Kt(u,s))return}catch(c){}Ii(e,a,r)}}var Rr={readContext:dn,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useOpaqueIdentifier:lr,unstable_isNewReconciler:!1},Ir={readContext:dn,useCallback:function(e,t){return hr().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Sr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Er(4,2,kr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Er(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Fr.bind(null,ir,e),[r.memoizedState,e]},useRef:Ar,useState:wr,useDebugValue:Pr,useDeferredValue:function(e){var t=wr(e),n=t[0],r=t[1];return Sr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=wr(!1),t=e[0];return Ar(e=jr.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=hr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},br(r,e,t,n)},useOpaqueIdentifier:function(){if(qn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=wr(t)[1];return 0===(2&ir.mode)&&(ir.flags|=516,xr(5,(function(){n(te())}),void 0,null)),t}return wr(t=te()),t},unstable_isNewReconciler:!1},zr={readContext:dn,useCallback:Lr,useContext:dn,useEffect:Or,useImperativeHandle:Br,useLayoutEffect:Tr,useMemo:Dr,useReducer:vr,useRef:Mr,useState:function(){return vr(mr)},useDebugValue:Pr,useDeferredValue:function(e){var t=vr(mr),n=t[0],r=t[1];return Or((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=vr(mr)[0];return[Mr().current,e]},useMutableSource:_r,useOpaqueIdentifier:function(){return vr(mr)[0]},unstable_isNewReconciler:!1},Ur={readContext:dn,useCallback:Lr,useContext:dn,useEffect:Or,useImperativeHandle:Br,useLayoutEffect:Tr,useMemo:Dr,useReducer:gr,useRef:Mr,useState:function(){return gr(mr)},useDebugValue:Pr,useDeferredValue:function(e){var t=gr(mr),n=t[0],r=t[1];return Or((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=gr(mr)[0];return[Mr().current,e]},useMutableSource:_r,useOpaqueIdentifier:function(){return gr(mr)[0]},unstable_isNewReconciler:!1},Nr=u.ReactCurrentOwner,Gr=!1;function Hr(e,t,n,r){t.child=null===e?Ln(t,null,n,r):Pn(t,e.child,n,r)}function Vr(e,t,n,r,a){n=n.render;var i=t.ref;return fn(t,a),r=dr(e,t,n,r,i,a),null===e||Gr?(t.flags|=1,Hr(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,fa(e,t,a))}function Wr(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Ao(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Eo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Xr(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:$t)(a,r)&&e.ref===t.ref)?fa(e,t,i):(t.flags|=1,(e=Mo(o,r)).ref=t.ref,e.return=t,t.child=e)}function Xr(e,t,n,r,a,i){if(null!==e&&$t(e.memoizedProps,r)&&e.ref===t.ref){if(Gr=!1,0===(i&a))return t.lanes=e.lanes,fa(e,t,i);0!==(16384&e.flags)&&(Gr=!0)}return Yr(e,t,n,r,i)}function qr(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Xi(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Xi(t,e),null;t.memoizedState={baseLanes:0},Xi(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Xi(t,r);return Hr(e,t,a,n),t.child}function Qr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Yr(e,t,n,r,a){var i=it(n)?rt:tt.current;return i=at(t,i),fn(t,a),n=dr(e,t,n,r,i,a),null===e||Gr?(t.flags|=1,Hr(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,fa(e,t,a))}function Jr(e,t,n,r,a){if(it(n)){var i=!0;ct(t)}else i=!1;if(fn(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),En(t,n,r),Sn(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=dn(c):c=at(t,c=it(n)?rt:tt.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Cn(t,o,r,c),hn=!1;var d=t.memoizedState;o.state=d,bn(t,r,o,a),u=t.memoizedState,s!==r||d!==u||nt.current||hn?("function"===typeof l&&(xn(t,n,l,r),u=t.memoizedState),(s=hn||Mn(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:tn(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=dn(u):u=at(t,u=it(n)?rt:tt.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Cn(t,o,r,u),hn=!1,d=t.memoizedState,o.state=d,bn(t,r,o,a);var p=t.memoizedState;s!==f||d!==p||nt.current||hn?("function"===typeof h&&(xn(t,n,h,r),p=t.memoizedState),(c=hn||Mn(t,n,c,r,d,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Kr(e,t,n,r,i,a)}function Kr(e,t,n,r,a,i){Qr(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&lt(t,n,!1),fa(e,t,i);r=t.stateNode,Nr.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Pn(t,e.child,null,i),t.child=Pn(t,null,s,i)):Hr(e,t,s,i),t.memoizedState=r.state,a&&lt(t,n,!0),t.child}function Zr(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),zn(e,t.containerInfo)}var $r,ea,ta,na,ra={dehydrated:null,retryLane:0};function aa(e,t,n){var r,a=t.pendingProps,i=Hn.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),$e(Hn,1&i),null===e?(void 0!==a.fallback&&Jn(t),e=a.children,i=a.fallback,o?(e=ia(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ra,e):"number"===typeof a.unstable_expectedLoadTime?(e=ia(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ra,t.lanes=33554432,e):((n=So({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=sa(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=ra,a):(n=oa(e,t,a.children,n),t.memoizedState=null,n))}function ia(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=So(t,a,0,null),n=Co(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function oa(e,t,n,r){var a=e.child;return e=a.sibling,n=Mo(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function sa(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Mo(o,s),null!==e?r=Mo(e,r):(r=Co(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ua(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ln(e.return,t)}function ca(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function la(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Hr(e,t,r.children,n),0!==(2&(r=Hn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ua(e,n);else if(19===e.tag)ua(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Hn,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Vn(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ca(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Vn(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ca(t,!0,n,null,i,t.lastEffect);break;case"together":ca(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function fa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fi|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function da(e){e.flags|=4}if(J)$r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)N(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ea=function(){},ta=function(e,t,n,r,a){if((e=e.memoizedProps)!==r){var i=t.stateNode,o=In(jn.current);n=H(i,n,e,r,a,o),(t.updateQueue=n)&&da(t)}},na=function(e,t,n,r){n!==r&&da(t)};else if(K){$r=function(e,t,n,r){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;n&&r&&(i=Le(i,a.type,a.memoizedProps,a)),N(e,i)}else if(6===a.tag)i=a.stateNode,n&&r&&(i=De(i,a.memoizedProps,a)),N(e,i);else if(4!==a.tag){if(13===a.tag&&0!==(4&a.flags)&&(i=null!==a.memoizedState)){var o=a.child;if(null!==o&&(null!==o.child&&(o.child.return=o,$r(e,o,!0,i)),null!==(i=o.sibling))){i.return=a,a=i;continue}}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var ha=function e(t,n,r,a){for(var i=n.child;null!==i;){if(5===i.tag){var o=i.stateNode;r&&a&&(o=Le(o,i.type,i.memoizedProps,i)),ke(t,o)}else if(6===i.tag)o=i.stateNode,r&&a&&(o=De(o,i.memoizedProps,i)),ke(t,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(o=null!==i.memoizedState)){var s=i.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,o)),null!==(o=s.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===n)break;for(;null===i.sibling;){if(null===i.return||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ea=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Te(n);ha(r,e,!1,!1),t.pendingChildren=r,da(e),Be(n,r)}},ta=function(e,t,n,r,a){var i=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===r)t.stateNode=i;else{var s=t.stateNode,u=In(jn.current),c=null;o!==r&&(c=H(s,n,o,r,a,u)),e&&null===c?t.stateNode=i:(i=Oe(i,c,n,o,r,t,e,s),G(i,n,r,a,u)&&da(t),t.stateNode=i,e?da(t):$r(i,t,!1,!1))}},na=function(e,t,n,r){n!==r?(e=In(Rn.current),n=In(jn.current),t.stateNode=W(r,e,n,t),da(t)):t.stateNode=e.stateNode}}else ea=function(){},ta=function(){},na=function(){};function pa(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ma(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return it(t.type)&&ot(),null;case 3:return Un(),Ze(nt),Ze(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?da(t):r.hydrate||(t.flags|=256)),ea(t),null;case 5:Gn(t);var a=In(Rn.current);if(n=t.type,null!==e&&null!=t.stateNode)ta(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=In(jn.current),Zn(t)){if(!Z)throw Error(s(175));e=Ne(t.stateNode,t.type,t.memoizedProps,a,e,t),t.updateQueue=e,null!==e&&da(t)}else{var i=U(n,r,a,e,t);$r(i,t,!1,!1),t.stateNode=i,G(i,n,r,a,e)&&da(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=In(Rn.current),a=In(jn.current),Zn(t)){if(!Z)throw Error(s(176));Ge(t.stateNode,t.memoizedProps,t)&&da(t)}else t.stateNode=W(r,e,a,t)}return null;case 13:return Ze(Hn),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,a=!1,null===e?void 0!==t.memoizedProps.fallback&&Zn(t):a=null!==e.memoizedState,r&&!a&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Hn.current)?0===ui&&(ui=3):(0!==ui&&3!==ui||(ui=4),null===ri||0===(134217727&fi)&&0===(134217727&di)||Gi(ri,ii))),K&&r&&(t.flags|=4),J&&(r||a)&&(t.flags|=4),null);case 4:return Un(),ea(t),null===e&&ae(t.stateNode.containerInfo),null;case 10:return cn(t),null;case 19:if(Ze(Hn),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(i=r.rendering))if(a)pa(r,!1);else{if(0!==ui||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(i=Vn(e))){for(t.flags|=64,pa(r,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(a=r).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(i=a.alternate)?(a.childLanes=0,a.lanes=n,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,n=i.dependencies,a.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return $e(Hn,1&Hn.current|2),t.child}e=e.sibling}null!==r.tail&&Ht()>vi&&(t.flags|=64,a=!0,pa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Vn(i))){if(t.flags|=64,a=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!qn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-r.renderingStartTime>vi&&1073741824!==n&&(t.flags|=64,a=!0,pa(r,!1),t.lanes=33554432);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ht(),e.sibling=null,t=Hn.current,$e(Hn,a?1&t|2:1&t),e):null;case 23:case 24:return qi(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function va(e){switch(e.tag){case 1:it(e.type)&&ot();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Un(),Ze(nt),Ze(tt),tr(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Gn(e),null;case 13:return Ze(Hn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ze(Hn),null;case 4:return Un(),null;case 10:return cn(e),null;case 23:case 24:return qi(),null;default:return null}}function ga(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ya(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ba="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_i||(_i=!0,wi=r),ya(0,t)},n}function wa(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ya(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===xi?xi=new Set([this]):xi.add(this),ya(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var xa="function"===typeof WeakSet?WeakSet:Set;function Aa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){lo(e,n)}else t.current=null}function Ma(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(J&&256&t.flags&&Se(t.stateNode.containerInfo))}throw Error(s(163))}function Ea(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ca(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(so(n,e),oo(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&_n(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=j(n.child.stateNode);break;case 1:e=n.child.stateNode}_n(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ve(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(Z&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&We(n)))))}throw Error(s(163))}function Sa(e,t){if(J)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Ae(r):Ee(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?Me(r):Ce(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Oa(e,t){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ft,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))so(t,n);else{r=t;try{a()}catch(i){lo(r,i)}}n=n.next}while(n!==e)}break;case 1:if(Aa(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){lo(t,i)}break;case 5:Aa(t);break;case 4:J?ja(e,t):K&&K&&(t=t.stateNode.containerInfo,e=Te(t),Pe(t,e))}}function Ta(e,t){for(var n=t;;)if(Oa(e,n),null===n.child||J&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function ka(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ba(e){return 5===e.tag||3===e.tag||4===e.tag}function Pa(e){if(J){e:{for(var t=e.return;null!==t;){if(Ba(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(xe(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ba(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?La(e,n,t):Da(e,n,t)}}function La(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?be(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(La(e,t,n),e=e.sibling;null!==e;)La(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?ye(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Da(e,t,n),e=e.sibling;null!==e;)Da(e,t,n),e=e.sibling}function ja(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(s(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag)Ta(e,a),r?we(n,a.stateNode):_e(n,a.stateNode);else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(Oa(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Fa(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ea(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&ge(n,i,a,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void me(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Z&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ve(t.containerInfo))));case 13:return Ra(t),void Ia(t);case 19:return void Ia(t);case 23:case 24:return void Sa(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ea(3,t);case 12:case 23:case 24:return;case 13:return Ra(t),void Ia(t);case 19:return void Ia(t);case 3:Z&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ve(n.containerInfo)))}e:if(K){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Pe(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Ra(e){null!==e.memoizedState&&(mi=Ht(),J&&Sa(e.child,!0))}function Ia(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xa),t.forEach((function(t){var r=ho.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function za(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ua=0,Na=1,Ga=2,Ha=3,Va=4;if("function"===typeof Symbol&&Symbol.for){var Wa=Symbol.for;Ua=Wa("selector.component"),Na=Wa("selector.has_pseudo_class"),Ga=Wa("selector.role"),Ha=Wa("selector.test_id"),Va=Wa("selector.text")}function Xa(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=oe(e)))throw Error(s(362));return e.stateNode.current}function qa(e,t){switch(t.$$typeof){case Ua:if(e.type===t.value)return!0;break;case Na:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],a=e[n++],i=t[a];if(5!==r.tag||!ce(r)){for(;null!=i&&qa(r,i);)i=t[++a];if(a===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}t=!1}return t;case Ga:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Va:if((5===e.tag||6===e.tag)&&(null!==(e=ue(e))&&0<=e.indexOf(t.value)))return!0;break;case Ha:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function Qa(e){switch(e.$$typeof){case Ua:return"<"+(O(e.value)||"Unknown")+">";case Na:return":has("+(Qa(e)||"")+")";case Ga:return'[role="'+e.value+'"]';case Va:return'"'+e.value+'"';case Ha:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Ya(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var a=e[r++],i=e[r++],o=t[i];if(5!==a.tag||!ce(a)){for(;null!=o&&qa(a,o);)o=t[++i];if(i===t.length)n.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return n}function Ja(e,t){if(!ie)throw Error(s(363));e=Ya(e=Xa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ce(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ka=null;var Za=Math.ceil,$a=u.ReactCurrentDispatcher,ei=u.ReactCurrentOwner,ti=u.IsSomeRendererActing,ni=0,ri=null,ai=null,ii=0,oi=0,si=Ke(0),ui=0,ci=null,li=0,fi=0,di=0,hi=0,pi=null,mi=0,vi=1/0;function gi(){vi=Ht()+500}var yi,bi=null,_i=!1,wi=null,xi=null,Ai=!1,Mi=null,Ei=90,Ci=[],Si=[],Oi=null,Ti=0,ki=null,Bi=-1,Pi=0,Li=0,Di=null,ji=!1;function Fi(){return 0!==(48&ni)?Ht():-1!==Bi?Bi:Bi=Ht()}function Ri(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vt()?1:2;if(0===Pi&&(Pi=li),0!==Jt.transition){0!==Li&&(Li=null!==pi?pi.pendingLanes:0),e=Pi;var t=4186112&~Li;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vt(),0!==(4&ni)&&98===e?e=yt(12,Pi):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Pi),e}function Ii(e,t,n){if(50<Ti)throw Ti=0,ki=null,Error(s(185));if(null===(e=zi(e,t)))return null;wt(e,t,n),e===ri&&(di|=t,4===ui&&Gi(e,ii));var r=Vt();1===t?0!==(8&ni)&&0===(48&ni)?Hi(e):(Ui(e,n),0===ni&&(gi(),Qt())):(0===(4&ni)||98!==r&&99!==r||(null===Oi?Oi=new Set([e]):Oi.add(e)),Ui(e,n)),pi=e}function zi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ui(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-xt(o),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,mt(c);var f=pt;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);o&=~c}if(r=vt(e,e===ri?ii:0),t=pt,0===r)null!==n&&(n!==Rt&&St(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Rt&&St(n)}15===t?(n=Hi.bind(null,e),null===zt?(zt=[n],Ut=Ct(Pt,Yt)):zt.push(n),n=Rt):14===t?n=qt(99,Hi.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=qt(n,Ni.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Ni(e){if(Bi=-1,Li=Pi=0,0!==(48&ni))throw Error(s(327));var t=e.callbackNode;if(io()&&e.callbackNode!==t)return null;var n=vt(e,e===ri?ii:0);if(0===n)return null;var r=n,a=ni;ni|=16;var i=Ji();for(ri===e&&ii===r||(gi(),Qi(e,r));;)try{$i();break}catch(u){Yi(e,u)}if(sn(),$a.current=i,ni=a,null!==ai?r=0:(ri=null,ii=0,r=ui),0!==(li&di))Qi(e,0);else if(0!==r){if(2===r&&(ni|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(n=gt(e))&&(r=Ki(e,n))),1===r)throw t=ci,Qi(e,0),Gi(e,n),Ui(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:no(e);break;case 3:if(Gi(e,n),(62914560&n)===n&&10<(r=mi+500-Ht())){if(0!==vt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Fi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=X(no.bind(null,e),r);break}no(e);break;case 4:if(Gi(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var o=31-xt(n);i=1<<o,(o=r[o])>a&&(a=o),n&=~i}if(n=a,10<(n=(120>(n=Ht()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Za(n/1960))-n)){e.timeoutHandle=X(no.bind(null,e),n);break}no(e);break;default:throw Error(s(329))}}return Ui(e,Ht()),e.callbackNode===t?Ni.bind(null,e):null}function Gi(e,t){for(t&=~hi,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Hi(e){if(0!==(48&ni))throw Error(s(327));if(io(),e===ri&&0!==(e.expiredLanes&ii)){var t=ii,n=Ki(e,t);0!==(li&di)&&(n=Ki(e,t=vt(e,t)))}else n=Ki(e,t=vt(e,0));if(0!==e.tag&&2===n&&(ni|=64,e.hydrate&&(e.hydrate=!1,Se(e.containerInfo)),0!==(t=gt(e))&&(n=Ki(e,t))),1===n)throw n=ci,Qi(e,0),Gi(e,t),Ui(e,Ht()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e),Ui(e,Ht()),null}function Vi(e,t){var n=ni;ni|=1;try{return e(t)}finally{0===(ni=n)&&(gi(),Qt())}}function Wi(e,t){var n=ni;if(0!==(48&n))return e(t);ni|=1;try{if(e)return Xt(99,e.bind(null,t))}finally{ni=n,Qt()}}function Xi(e,t){$e(si,oi),oi|=t,li|=t}function qi(){oi=si.current,Ze(si)}function Qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Q&&(e.timeoutHandle=Q,q(n)),null!==ai)for(n=ai.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ot();break;case 3:Un(),Ze(nt),Ze(tt),tr();break;case 5:Gn(r);break;case 4:Un();break;case 13:case 19:Ze(Hn);break;case 10:cn(r);break;case 23:case 24:qi()}n=n.return}ri=e,ai=Mo(e.current,null),ii=oi=li=t,ui=0,ci=null,hi=di=fi=0}function Yi(e,t){for(;;){var n=ai;try{if(sn(),nr.current=Rr,ur){for(var r=ir.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ur=!1}if(ar=0,sr=or=ir=null,cr=!1,ei.current=null,null===n||null===n.return){ui=1,ci=t,ai=null;break}e:{var i=e,o=n.return,s=n,u=t;if(t=ii,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Hn.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var g=new Set;g.add(c),d.updateQueue=g}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=vn(-1,1);y.tag=2,gn(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new ba,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=fo.bind(null,i,c,s);c.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((O(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ui&&(ui=2),u=ga(u,s),d=o;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,yn(d,_a(0,i,t));break e;case 1:i=u;var w=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===xi||!xi.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,yn(d,wa(d,i,t));break e}}d=d.return}while(null!==d)}to(n)}catch(A){t=A,ai===n&&null!==n&&(ai=n=n.return);continue}break}}function Ji(){var e=$a.current;return $a.current=Rr,null===e?Rr:e}function Ki(e,t){var n=ni;ni|=16;var r=Ji();for(ri===e&&ii===t||Qi(e,t);;)try{Zi();break}catch(a){Yi(e,a)}if(sn(),ni=n,$a.current=r,null!==ai)throw Error(s(261));return ri=null,ii=0,ui}function Zi(){for(;null!==ai;)eo(ai)}function $i(){for(;null!==ai&&!Ot();)eo(ai)}function eo(e){var t=yi(e.alternate,e,oi);e.memoizedProps=e.pendingProps,null===t?to(e):ai=t,ei.current=null}function to(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ma(n,t,oi)))return void(ai=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&oi)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=va(t)))return n.flags&=2047,void(ai=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ai=t);ai=t=e}while(null!==t);0===ui&&(ui=5)}function no(e){var t=Vt();return Xt(99,ro.bind(null,e,t)),null}function ro(e,t){do{io()}while(null!==Mi);if(0!==(48&ni))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var o=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-xt(i),l=1<<c;a[c]=0,o[c]=-1,u[c]=-1,i&=~l}if(null!==Oi&&0===(24&r)&&Oi.has(e)&&Oi.delete(e),e===ri&&(ai=ri=null,ii=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){a=ni,ni|=32,ei.current=null,Di=I(e.containerInfo),ji=!1,bi=r;do{try{ao()}catch(y){if(null===bi)throw Error(s(330));lo(bi,y),bi=bi.nextEffect}}while(null!==bi);Di=null,bi=r;do{try{for(o=e;null!==bi;){var f=bi.flags;if(16&f&&J&&xe(bi.stateNode),128&f){var d=bi.alternate;if(null!==d){var h=d.ref;null!==h&&("function"===typeof h?h(null):h.current=null)}}switch(1038&f){case 2:Pa(bi),bi.flags&=-3;break;case 6:Pa(bi),bi.flags&=-3,Fa(bi.alternate,bi);break;case 1024:bi.flags&=-1025;break;case 1028:bi.flags&=-1025,Fa(bi.alternate,bi);break;case 4:Fa(bi.alternate,bi);break;case 8:u=o,i=bi,J?ja(u,i):Ta(u,i);var p=i.alternate;ka(i),null!==p&&ka(p)}bi=bi.nextEffect}}catch(y){if(null===bi)throw Error(s(330));lo(bi,y),bi=bi.nextEffect}}while(null!==bi);ji&&re(),z(e.containerInfo),e.current=n,bi=r;do{try{for(f=e;null!==bi;){var m=bi.flags;if(36&m&&Ca(f,bi.alternate,bi),128&m){d=void 0;var v=bi.ref;if(null!==v){var g=bi.stateNode;if(5===bi.tag)d=j(g);else d=g;"function"===typeof v?v(d):v.current=d}}bi=bi.nextEffect}}catch(y){if(null===bi)throw Error(s(330));lo(bi,y),bi=bi.nextEffect}}while(null!==bi);bi=null,It(),ni=a}else e.current=n;if(Ai)Ai=!1,Mi=e,Ei=t;else for(bi=r;null!==bi;)t=bi.nextEffect,bi.nextEffect=null,8&bi.flags&&((m=bi).sibling=null,m.stateNode=null),bi=t;if(0===(r=e.pendingLanes)&&(xi=null),1===r?e===ki?Ti++:(Ti=0,ki=e):Ti=0,n=n.stateNode,dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ft,n,void 0,64===(64&n.current.flags))}catch(y){}if(Ui(e,Ht()),_i)throw _i=!1,e=wi,wi=null,e;return 0!==(8&ni)||Qt(),null}function ao(){for(;null!==bi;){var e=bi.alternate;ji||null===Di||(0!==(8&bi.flags)?L(bi,Di)&&(ji=!0,ne()):13===bi.tag&&za(e,bi)&&L(bi,Di)&&(ji=!0,ne()));var t=bi.flags;0!==(256&t)&&Ma(e,bi),0===(512&t)||Ai||(Ai=!0,qt(97,(function(){return io(),null}))),bi=bi.nextEffect}}function io(){if(90!==Ei){var e=97<Ei?97:Ei;return Ei=90,Xt(e,uo)}return!1}function oo(e,t){Ci.push(t,e),Ai||(Ai=!0,qt(97,(function(){return io(),null})))}function so(e,t){Si.push(t,e),Ai||(Ai=!0,qt(97,(function(){return io(),null})))}function uo(){if(null===Mi)return!1;var e=Mi;if(Mi=null,0!==(48&ni))throw Error(s(331));var t=ni;ni|=32;var n=Si;Si=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],o=a.destroy;if(a.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===i)throw Error(s(330));lo(i,c)}}for(n=Ci,Ci=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===i)throw Error(s(330));lo(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ni=t,Qt(),!0}function co(e,t,n){gn(e,t=_a(0,t=ga(n,t),1)),t=Fi(),null!==(e=zi(e,1))&&(wt(e,1,t),Ui(e,t))}function lo(e,t){if(3===e.tag)co(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){co(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===xi||!xi.has(r))){var a=wa(n,e=ga(t,e),1);if(gn(n,a),a=Fi(),null!==(n=zi(n,1)))wt(n,1,a),Ui(n,a);else if("function"===typeof r.componentDidCatch&&(null===xi||!xi.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function fo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Fi(),e.pingedLanes|=e.suspendedLanes&n,ri===e&&(ii&n)===n&&(4===ui||3===ui&&(62914560&ii)===ii&&500>Ht()-mi?Qi(e,0):hi|=n),Ui(e,t)}function ho(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vt()?1:2:(0===Pi&&(Pi=li),0===(t=bt(62914560&~Pi))&&(t=4194304))),n=Fi(),null!==(e=zi(e,t))&&(wt(e,t,n),Ui(e,n))}yi=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Gr=!0;else{if(0===(n&r)){switch(Gr=!1,t.tag){case 3:Zr(t),$n();break;case 5:Nn(t);break;case 1:it(t.type)&&ct(t);break;case 4:zn(t,t.stateNode.containerInfo);break;case 10:un(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?aa(e,t,n):($e(Hn,1&Hn.current),null!==(t=fa(e,t,n))?t.sibling:null);$e(Hn,1&Hn.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return la(e,t,n);t.flags|=64}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Hn,Hn.current),r)break;return null;case 23:case 24:return t.lanes=0,qr(e,t,n)}return fa(e,t,n)}Gr=0!==(16384&e.flags)}else Gr=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=at(t,tt.current),fn(t,n),a=dr(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)){var i=!0;ct(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,pn(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&xn(t,r,o,e),a.updater=An,t.stateNode=a,a._reactInternals=t,Sn(t,r,e,n),t=Kr(null,t,r,!0,i,n)}else t.tag=0,Hr(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Ao(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===b)return 14}return 2}(a),e=tn(a,e),i){case 0:t=Yr(null,t,a,e,n);break e;case 1:t=Jr(null,t,a,e,n);break e;case 11:t=Vr(null,t,a,e,n);break e;case 14:t=Wr(null,t,a,tn(a.type,e),r,n);break e}throw Error(s(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Yr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 1:return r=t.type,a=t.pendingProps,Jr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 3:if(Zr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,mn(e,t),bn(t,r,null,n),(r=t.memoizedState.element)===a)$n(),t=fa(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Z?(Xn=Ue(t.stateNode.containerInfo),Wn=t,i=qn=!0):i=!1),i){if(Z&&null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)i=e[a],o=e[a+1],Y?i._workInProgressVersionPrimary=o:i._workInProgressVersionSecondary=o,er.push(i);for(n=Ln(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Hr(e,t,r,n),$n();t=t.child}return t;case 5:return Nn(t),null===e&&Jn(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,V(r,a)?o=null:null!==i&&V(r,i)&&(t.flags|=16),Qr(e,t),Hr(e,t,o,n),t.child;case 6:return null===e&&Jn(t),null;case 13:return aa(e,t,n);case 4:return zn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Pn(t,null,r,n):Hr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Vr(e,t,r,a=t.elementType===r?a:tn(r,a),n);case 7:return Hr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,un(t,i=a.value),null!==o){var u=o.value;if(0===(i=Kt(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(o.children===a.children&&!nt.current){t=fa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){o=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=vn(-1,n&-n)).tag=2,gn(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ln(u.return,n),c.lanes|=n;break}l=l.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}}Hr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,fn(t,n),r=r(a=dn(a,i.unstable_observedBits)),t.flags|=1,Hr(e,t,r,n),t.child;case 14:return i=tn(a=t.type,t.pendingProps),Wr(e,t,a,i=tn(a.type,i),r,n);case 15:return Xr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:tn(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,it(r)?(e=!0,ct(t)):e=!1,fn(t,n),En(t,r,a),Sn(t,r,a,n),Kr(null,t,r,!0,e,n);case 19:return la(e,t,n);case 23:case 24:return qr(e,t,n)}throw Error(s(156,t.tag))};var po={current:!1},mo=o.unstable_flushAllWithoutAsserting,vo="function"===typeof mo;function go(){if(void 0!==mo)return mo();for(var e=!1;io();)e=!0;return e}function yo(t){try{go(),function(t){if(null===Ka)try{var n=("require"+Math.random()).slice(0,7);Ka=(e&&e[n]).call(e,"timers").setImmediate}catch(r){Ka=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Ka(t)}((function(){go()?yo(t):t()}))}catch(n){t(n)}}var bo=0,_o=!1;function wo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(e,t,n,r){return new wo(e,t,n,r)}function Ao(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mo(e,t){var n=e.alternate;return null===n?((n=xo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Ao(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case f:return Co(n.children,a,i,t);case x:o=8,a|=16;break;case d:o=8,a|=1;break;case h:return(e=xo(12,n,t,8|a)).elementType=h,e.type=h,e.lanes=i,e;case g:return(e=xo(13,n,t,a)).type=g,e.elementType=g,e.lanes=i,e;case y:return(e=xo(19,n,t,a)).elementType=y,e.lanes=i,e;case A:return So(n,a,i,t);case M:return(e=xo(24,n,t,a)).elementType=M,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:o=10;break e;case m:o=9;break e;case v:o=11;break e;case b:o=14;break e;case _:o=16,r=null;break e;case w:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=xo(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Co(e,t,n,r){return(e=xo(7,e,r,t)).lanes=n,e}function So(e,t,n,r){return(e=xo(23,e,r,t)).elementType=A,e.lanes=n,e}function Oo(e,t,n){return(e=xo(6,e,null,t)).lanes=n,e}function To(e,t,n){return(t=xo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ko(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),Z&&(this.mutableSourceEagerHydrationData=null)}function Bo(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=P(t))?null:e.stateNode}function Po(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lo(e,t){Po(e,t),(e=e.alternate)&&Po(e,t)}function Do(e){return null===(e=P(e))?null:e.stateNode}function jo(){return null}return r.IsThisRendererActing=po,r.act=function(e){function t(){bo--,ti.current=n,po.current=r}!1===_o&&(_o=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),bo++;var n=ti.current,r=po.current;ti.current=!0,po.current=!0;try{var a=Vi(e)}catch(i){throw t(),i}if(null!==a&&"object"===typeof a&&"function"===typeof a.then)return{then:function(e,r){a.then((function(){1<bo||!0===vo&&!0===n?(t(),e()):yo((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==bo||!1!==vo&&!1!==n||go(),t()}catch(i){throw t(),i}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Ii(e,67108864,Fi()),Lo(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Fi(),n=Ri(e);Ii(e,n,t),Lo(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=mt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Ui(t,Ht()),0===(48&ni)&&(gi(),Qt())}break;case 13:var r=Fi();Wi((function(){return Ii(e,1,r)})),Lo(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Ii(e,4,Fi()),Lo(e,4))},r.batchedEventUpdates=function(e,t){var n=ni;ni|=2;try{return e(t)}finally{0===(ni=n)&&(gi(),Qt())}},r.batchedUpdates=Vi,r.createComponentSelector=function(e){return{$$typeof:Ua,value:e}},r.createContainer=function(e,t,n){return e=new ko(e,t,n),t=xo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:Na,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Ga,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Ha,value:e}},r.createTextSelector=function(e){return{$$typeof:Va,value:e}},r.deferredUpdates=function(e){return Xt(97,e)},r.discreteUpdates=function(e,t,n,r,a){var i=ni;ni|=4;try{return Xt(98,e.bind(null,t,n,r,a))}finally{0===(ni=i)&&(gi(),Qt())}},r.findAllNodes=Ja,r.findBoundingRects=function(e,t){if(!ie)throw Error(s(363));t=Ja(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,a=r+n.width,i=n.y,o=i+n.height,u=t-1;0<=u;u--)if(t!==u){var c=e[u],l=c.x,f=l+c.width,d=c.y,h=d+c.height;if(r>=l&&i>=d&&a<=f&&o<=h){e.splice(t,1);break}if(!(r!==l||n.width!==c.width||h<i||d>o)){d>i&&(c.height+=d-i,c.y=i),h<o&&(c.height=o-d),e.splice(t,1);break}if(!(i!==d||n.height!==c.height||f<r||l>a)){l>r&&(c.width+=l-r,c.x=r),f<a&&(c.width=a-l),e.splice(t,1);break}}return e},r.findHostInstance=Bo,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=B(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Bo(e)},r.flushControlled=function(e){var t=ni;ni|=1;try{Xt(99,e)}finally{0===(ni=t)&&(gi(),Qt())}},r.flushDiscreteUpdates=function(){0===(49&ni)&&(function(){if(null!==Oi){var e=Oi;Oi=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ui(e,Ht())}))}Qt()}(),io())},r.flushPassiveEffects=io,r.flushSync=Wi,r.focusWithin=function(e,t){if(!ie)throw Error(s(363));for(t=Ya(e=Xa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ce(n)){if(5===n.tag&&fe(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ht},r.getFindAllNodesFailureDescription=function(e,t){if(!ie)throw Error(s(363));var n=0,r=[];e=[Xa(e),0];for(var a=0;a<e.length;){var i=e[a++],o=e[a++],u=t[o];if((5!==i.tag||!ce(i))&&(qa(i,u)&&(r.push(Qa(u)),++o>n&&(n=o)),o<t.length))for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Qa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?j(e.child.stateNode):e.child.stateNode:null},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Do,findFiberByHostInstance:e.findFiberByHostInstance||jo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ft=t.inject(e),dt=t}catch(n){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!ie)throw Error(s(363));e=Ja(e,t);var a=de(e,n,r).disconnect;return{disconnect:function(){a()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=ni;ni&=-2,ni|=8;try{return e(t)}finally{0===(ni=n)&&(gi(),Qt())}},r.updateContainer=function(e,t,n,r){var a=t.current,i=Fi(),o=Ri(a);e:if(n){t:{if(T(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(it(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(it(c)){n=ut(n,c,u);break e}}n=u}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=vn(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(a,t),Ii(a,o,i),o},r}}).call(this,n(159)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(32)),u=i(n(1)),c=n(8),l=o(n(18)),f=o(n(54)),d=s.FaceLandmarkGroup;(0,c.extend)({FaceLandmarkGroup:d});var h=(0,u.forwardRef)((function(e,t){var n,r=e.children,a=e.trackerGroup,i=e.camera,o=e.target,c=(0,u.useRef)(),d={camera:f.default.camera((function(e){return e})),faceTracker:f.default.faceTracker((function(e){return e}))},h=(null===(n=null===a||void 0===a?void 0:a.current)||void 0===n?void 0:n.faceTracker)?a.current.faceTracker:d.faceTracker.object,p=(null===i||void 0===i?void 0:i.current)?i.current:d.camera.object;return h&&p?u.default.createElement("faceLandmarkGroup",Object.assign({args:[p,h,s.FaceLandmarkName[o.toUpperCase().replace("-","_")]],ref:(0,l.default)([c,t])},e),r):null}));t.default=h},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(32)),c=o(n(1)),l=n(8),f=s(n(18)),d=s(n(54)),h=u.FaceAnchorGroup;(0,l.extend)({FaceAnchorGroup:h});var p=(0,c.forwardRef)((function(e,t){var n=e.camera,a=e.children,i=e.useFaceTracker,o=e.onNotVisible,s=e.onVisible,l=e.onNewAnchor,h=e.pipeline,p=e.model,m=(0,c.useState)(),v=r(m,2),g=v[0],y=v[1],b=c.default.useRef(),_={camera:d.default.camera((function(e){return e})),faceTracker:d.default.faceTracker((function(e){return e}))};(0,c.useEffect)((function(){var e=new u.FaceTracker(h);p?e.loadModel(p):e.loadDefaultModel(),y(e),_.faceTracker.set(e)}),[p,h]);var w=(null===n||void 0===n?void 0:n.current)?n.current:_.camera.object;return(0,c.useEffect)((function(){return g&&(i&&i(g),o&&g.onNotVisible.bind(o),s&&g.onVisible.bind(s),l&&g.onVisible.bind(l)),function(){g&&(o&&g.onNotVisible.unbind(o),s&&g.onVisible.unbind(s),l&&g.onVisible.unbind(l))}}),[i,s,o,b,g]),g&&w?c.default.createElement("faceAnchorGroup",Object.assign({ref:(0,f.default)([b,t]),args:[w,g]},e),a):null}));t.default=p},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(32)),c=o(n(1)),l=s(n(18)),f=n(8),d=(0,c.forwardRef)((function(e,t){var n=e.children,a=e.trackerGroup,i=c.default.useRef(),o=(0,c.useState)((new u.HeadMaskMeshLoader).load()),s=r(o,1)[0];return(0,f.useFrame)((function(){i.current&&a&&a.current&&i.current.updateFromFaceAnchorGroup(a.current)})),s?c.default.createElement("primitive",Object.assign({object:s,ref:(0,l.default)([i,t])},e),n):null}));t.default=d},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(32)),c=o(n(1)),l=n(8),f=s(n(18)),d=s(n(54)),h=u.ImageAnchorGroup;(0,l.extend)({ImageAnchorGroup:h});var p=(0,c.forwardRef)((function(e,t){var n=e.useImageTracker,a=e.onNotVisible,i=e.onNewAnchor,o=e.onVisible,s=e.targetImage,l=e.camera,h=e.children,p=e.pipeline,m=(0,c.useRef)(),v=d.default.camera((function(e){return e})),g=(null===l||void 0===l?void 0:l.current)?l.current:v.object,y=(0,c.useState)(),b=r(y,2),_=b[0],w=b[1];return(0,c.useEffect)((function(){w(new u.ImageTracker(s,p))}),[s,p]),(0,c.useEffect)((function(){return _&&(n&&n(_),a&&_.onNotVisible.bind(a),i&&_.onNewAnchor.bind(i),o&&_.onVisible.bind(o)),function(){a&&(null===_||void 0===_||_.onNotVisible.unbind(a)),i&&(null===_||void 0===_||_.onNewAnchor.unbind(i)),o&&(null===_||void 0===_||_.onVisible.unbind(o))}}),[n,o,i,a,_]),g&&_?c.default.createElement("imageAnchorGroup",Object.assign({ref:(0,f.default)([m,t]),args:[g,_]},e),h):null}));t.default=p},function(e,t,n){"use strict";var r=n(20),a=n(165),i=n(166),o=n(37),s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(n(32)),d=c(n(1)),h=n(8),p=l(n(18)),m=l(n(54)),v=l(n(170)),g=f.InstantWorldAnchorGroup;(0,h.extend)({InstantWorldAnchorGroup:g});var y=(0,d.forwardRef)((function(e,t){var n=e.camera,s=e.placementMode,u=e.children,c=e.placementCameraOffset,l=e.pipeline,g=e.placementUI,y=(0,d.useRef)(),b=(0,d.useState)(s),_=o(b,2),w=_[0],x=_[1];(0,d.useEffect)((function(){x(s)}),[s,g]);var A=(0,d.useState)(),M=o(A,2),E=M[0],C=M[1];(0,d.useEffect)((function(){C(new f.InstantWorldTracker(l))}),[l]);var S=m.default.camera((function(e){return e})),O=(null===n||void 0===n?void 0:n.current)?n.current:S.object,T=c||{x:0,y:0,z:-5};if((0,h.useFrame)((function(){w&&E&&(Array.isArray(T)?E.setAnchorPoseFromCameraOffset.apply(E,i(T)):"number"===typeof T?E.setAnchorPoseFromCameraOffset(0,0,T):T.x&&E.setAnchorPoseFromCameraOffset(T.x,T.y,T.z))})),!O||!E)return null;var k=g?d.default.createElement(v.default,{placementType:g,onInteract:function(){var e=a(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):void 0;return d.default.createElement(d.default.Fragment,null,k,d.default.createElement("instantWorldAnchorGroup",Object.assign({ref:(0,p.default)([y,t]),args:[O,E]},e),u))}));t.default=y},function(e,t){function n(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,u,"next",e)}function u(e){n(o,a,i,s,u,"throw",e)}s(void 0)}))}}},function(e,t,n){var r=n(167),a=n(168),i=n(67),o=n(169);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},function(e,t,n){var r=n(74);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),u=n(179),c={position:"absolute",bottom:"5%",width:"200px",left:"calc(50% - 100px)",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",textAlign:"center",fontFamily:"sans-serif",padding:"10px",userSelect:"none",borderRadius:"5px"};t.default=function(e){var t=e.onInteract,n=e.placementType,a=(0,s.useState)(!0),i=r(a,2),o=i[0],l=i[1],f=(0,s.useState)(!1),d=r(f,2),h=d[0],p=d[1];return(0,s.useLayoutEffect)((function(){t(o)}),[o]),(0,s.useEffect)((function(){p(!0)}),[]),h&&("placement-only"!==n||o)?s.default.createElement(u.Html,{fullscreen:!0,style:{left:"0px",top:"0px"}},s.default.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.1)"}},s.default.createElement("div",{id:"ZapparPlacementUIHelper",role:"button",style:c,tabIndex:0,onKeyPress:function(){l((function(e){return!e}))},onClick:function(){l((function(e){return!e}))}},"Tap here to",o?" place ":" pick up ","the object"))):null}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(173);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(37),a=n(17),i=n(16),o=n(27),s=n(28),u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(32)),h=l(n(1)),p=f(n(18)),m=n(8),v=f(n(54)),g=function(e){o(n,e);var t=s(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).updateProjectionMatrix=function(){},e}return a(n)}(d.Camera);(0,m.extend)({ZapparCameraAdditional:g});var y=(0,h.forwardRef)((function(e,t){var n=e.userFacing,a=void 0!==n&&n,i=e.rearCameraMirrorMode,o=e.userCameraMirrorMode,s=e.poseMode,u=e.poseAnchorOrigin,c=e.pipeline,l=e.sources,f=e.makeDefault,g=void 0===f||f,y=e.renderPriority,b=void 0===y?1:y,_=e.permissionRequest,w=void 0===_||_,x=e.onFirstFrame,A=e.environmentMap,M=e.useEnvironmentMap,E=(0,m.useThree)((function(e){return e})),C=E.gl,S=E.scene,O=E.set,T=(0,h.useState)(!1),k=r(T,2),B=k[0],P=k[1],L=h.default.useRef(),D=(0,h.useState)(),j=r(D,2),F=j[0],R=j[1],I=(0,h.useState)(!1),z=r(I,2),U=z[0],N=z[1],G={camera:v.default.camera((function(e){return e}))};return(0,h.useEffect)((function(){(c||d).glContextSet(C.getContext())}),[c,C]),(0,h.useLayoutEffect)((function(){g&&O((function(){return{camera:L.current}}))}),[g]),(0,h.useEffect)((function(){if(A||M){var e=new d.CameraEnvironmentMap;A&&(S.environment=e.environmentMap),null===M||void 0===M||M(e.environmentMap),R(e)}}),[A]),(0,h.useEffect)((function(){L.current&&(G.camera.set(L.current),S.background=L.current.backgroundTexture,U||!w?L.current.start(a):d.permissionRequestUI().then((function(e){N(e),e?L.current.start(a):d.permissionDeniedUI()})))}),[a,w]),(0,h.useEffect)((function(){if(L.current){switch(i){case"poses":L.current.rearCameraMirrorMode=d.CameraMirrorMode.Poses;break;case"css":L.current.rearCameraMirrorMode=d.CameraMirrorMode.CSS;break;default:L.current.rearCameraMirrorMode=d.CameraMirrorMode.None}switch(o){case"none":L.current.userCameraMirrorMode=d.CameraMirrorMode.None;break;case"css":L.current.userCameraMirrorMode=d.CameraMirrorMode.CSS;break;default:L.current.userCameraMirrorMode=d.CameraMirrorMode.Poses}switch(s){case"anchor-origin":L.current.poseMode=d.CameraPoseMode.AnchorOrigin,L.current.poseAnchorOrigin=u;break;case"attitude":L.current.poseMode=d.CameraPoseMode.Attitude;break;default:L.current.poseMode=d.CameraPoseMode.Default}}}),[i,o,s,u]),(0,m.useFrame)((function(e){var t=e.gl,n=e.scene;L.current&&(x&&!B&&L.current.pipeline.frameNumber()>0&&(P(!0),x()),L.current.updateFrame(t),null===F||void 0===F||F.update(t,L.current),t.render(n,L.current))}),b),h.default.createElement("zapparCameraAdditional",Object.assign({args:[{pipeline:c,userCameraSource:null===l||void 0===l?void 0:l.userCamera,rearCameraSource:null===l||void 0===l?void 0:l.rearCamera}],ref:(0,p.default)([L,t])},e))}));t.default=y},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),i=n(8),o=n(180);t.default=function(e){var t=e.children;return a.default.createElement(i.Canvas,Object.assign({resize:{polyfill:o.ResizeObserver}},e,{linear:!0,dpr:window.devicePixelRatio,id:"zapparCanvas"}),t)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=i(n(32));t.default=function(e){var t=e.style,n=e.onLoad;return(0,o.useEffect)((function(){var e=new s.DefaultLoaderUI({style:t,onLoad:n});return function(){return e.dispose()}}),[e]),null}},function(e,t,n){"use strict";var r=n(37),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(32)),u=n(1);t.default=function(e){var t=e.fallback,n=(0,u.useState)(!0),a=r(n,2),i=a[0],o=a[1];return(0,u.useEffect)((function(){o(!s.browserIncompatible()),i||t||s.browserIncompatibleUI()}),[]),t&&!i?t:null}},function(e,t,n){"use strict";n(58);var r=n(1),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";n.r(t),n.d(t,"Html",(function(){return x})),n.d(t,"CycleRaycast",(function(){return M})),n.d(t,"useCursor",(function(){return E})),n.d(t,"Loader",(function(){return k})),n.d(t,"Scroll",(function(){return U})),n.d(t,"ScrollControls",(function(){return R})),n.d(t,"useScroll",(function(){return F})),n.d(t,"PresentationControls",(function(){return H})),n.d(t,"Billboard",(function(){return W})),n.d(t,"QuadraticBezierLine",(function(){return le})),n.d(t,"CubicBezierLine",(function(){return he})),n.d(t,"Line",(function(){return se})),n.d(t,"PositionalAudio",(function(){return me})),n.d(t,"Text",(function(){return Ze})),n.d(t,"Effects",(function(){return lt})),n.d(t,"isWebGL2Available",(function(){return ct})),n.d(t,"GradientTexture",(function(){return dt})),n.d(t,"Image",(function(){return bt})),n.d(t,"OrthographicCamera",(function(){return wt})),n.d(t,"PerspectiveCamera",(function(){return At})),n.d(t,"CubeCamera",(function(){return Et})),n.d(t,"DeviceOrientationControls",(function(){return Ot})),n.d(t,"FlyControls",(function(){return Pt})),n.d(t,"MapControls",(function(){return Rt})),n.d(t,"OrbitControls",(function(){return zt})),n.d(t,"TrackballControls",(function(){return Gt})),n.d(t,"ArcballControls",(function(){return Zt})),n.d(t,"TransformControls",(function(){return cn})),n.d(t,"PointerLockControls",(function(){return hn})),n.d(t,"FirstPersonControls",(function(){return mn})),n.d(t,"GizmoHelper",(function(){return Cn})),n.d(t,"useGizmoContext",(function(){return yn})),n.d(t,"GizmoViewcube",(function(){return Un})),n.d(t,"GizmoViewport",(function(){return Wn})),n.d(t,"useCubeTexture",(function(){return Xn})),n.d(t,"useFBX",(function(){return Xr})),n.d(t,"useGLTF",(function(){return Ka})),n.d(t,"useProgress",(function(){return O})),n.d(t,"IsObject",(function(){return mt})),n.d(t,"useTexture",(function(){return vt})),n.d(t,"Stats",(function(){return ti})),n.d(t,"DepthBuffer",(function(){return ai})),n.d(t,"useDepthBuffer",(function(){return ii})),n.d(t,"useAspect",(function(){return oi})),n.d(t,"useCamera",(function(){return vn})),n.d(t,"useDetectGPU",(function(){return _i})),n.d(t,"useHelper",(function(){return wi})),n.d(t,"useBVH",(function(){return Jo})),n.d(t,"useContextBridge",(function(){return Ko})),n.d(t,"useAnimations",(function(){return Zo})),n.d(t,"useFBO",(function(){return ri})),n.d(t,"useIntersect",(function(){return $o})),n.d(t,"useSimplification",(function(){return ps})),n.d(t,"useTessellation",(function(){return vs})),n.d(t,"useEdgeSplit",(function(){return ys})),n.d(t,"CurveModifier",(function(){return Es})),n.d(t,"MeshDistortMaterial",(function(){return Os})),n.d(t,"MeshWobbleMaterial",(function(){return Bs})),n.d(t,"MeshReflectorMaterial",(function(){return Fs})),n.d(t,"PointMaterial",(function(){return Is})),n.d(t,"PointMaterialImpl",(function(){return Rs})),n.d(t,"shaderMaterial",(function(){return pt})),n.d(t,"softShadows",(function(){return Us})),n.d(t,"Box",(function(){return Hs})),n.d(t,"Circle",(function(){return Vs})),n.d(t,"Cone",(function(){return Ws})),n.d(t,"Cylinder",(function(){return Xs})),n.d(t,"Dodecahedron",(function(){return ru})),n.d(t,"Extrude",(function(){return au})),n.d(t,"Icosahedron",(function(){return tu})),n.d(t,"Lathe",(function(){return iu})),n.d(t,"Octahedron",(function(){return nu})),n.d(t,"Parametric",(function(){return ou})),n.d(t,"Plane",(function(){return Qs})),n.d(t,"Polyhedron",(function(){return eu})),n.d(t,"Ring",(function(){return $s})),n.d(t,"Sphere",(function(){return qs})),n.d(t,"Tetrahedron",(function(){return Zs})),n.d(t,"Torus",(function(){return Js})),n.d(t,"TorusKnot",(function(){return Ks})),n.d(t,"Tube",(function(){return Ys})),n.d(t,"RoundedBox",(function(){return cu})),n.d(t,"ScreenQuad",(function(){return du})),n.d(t,"Center",(function(){return pu})),n.d(t,"Bounds",(function(){return gu})),n.d(t,"useBounds",(function(){return yu})),n.d(t,"CameraShake",(function(){return _u})),n.d(t,"Float",(function(){return xu})),n.d(t,"Stage",(function(){return Pu})),n.d(t,"Backdrop",(function(){return ju})),n.d(t,"Shadow",(function(){return Ru})),n.d(t,"ContactShadows",(function(){return Tu})),n.d(t,"Reflector",(function(){return zu})),n.d(t,"SpotLight",(function(){return Hu})),n.d(t,"Environment",(function(){return Eu})),n.d(t,"Sky",(function(){return qu})),n.d(t,"calcPosFromAngles",(function(){return Xu})),n.d(t,"Stars",(function(){return Ju})),n.d(t,"Cloud",(function(){return Zu})),n.d(t,"useMatcapTexture",(function(){return rc})),n.d(t,"useNormalTexture",(function(){return sc})),n.d(t,"Point",(function(){return bc})),n.d(t,"Points",(function(){return wc})),n.d(t,"PointsBuffer",(function(){return _c})),n.d(t,"Instance",(function(){return zc})),n.d(t,"Instances",(function(){return Uc})),n.d(t,"Merged",(function(){return Nc})),n.d(t,"Segment",(function(){return qc})),n.d(t,"Segments",(function(){return Wc})),n.d(t,"Detailed",(function(){return Yc})),n.d(t,"Preload",(function(){return Jc})),n.d(t,"BakeShadows",(function(){return Kc})),n.d(t,"meshBounds",(function(){return nl})),n.d(t,"AdaptiveDpr",(function(){return rl})),n.d(t,"AdaptiveEvents",(function(){return al}));var r={};n.r(r),n.d(r,"computeMorphedAttributes",(function(){return ss})),n.d(r,"estimateBytesUsed",(function(){return as})),n.d(r,"interleaveAttributes",(function(){return rs})),n.d(r,"mergeBufferAttributes",(function(){return ns})),n.d(r,"mergeBufferGeometries",(function(){return ts})),n.d(r,"mergeVertices",(function(){return is})),n.d(r,"toTrianglesDrawMode",(function(){return os}));var a=n(13),i=n(9),o=n(12);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u=n(1),c=n(39),l=n(0),f=n(8),d=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","pointerEvents"],h=new l.Vector3,p=new l.Vector3,m=new l.Vector3;function v(e,t,n){var r=h.setFromMatrixPosition(e.matrixWorld);r.project(t);var a=n.width/2,i=n.height/2;return[r.x*a+a,-r.y*i+i]}var g=function(e){return Math.abs(e)<1e-10?0:e};function y(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(",a=0;16!==a;a++)r+=g(t[a]*e.elements[a])+(15!==a?",":")");return n+r}var b,_=(b=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return y(e,b)}),w=function(e,t){return y(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n},x=u.forwardRef((function(e,t){var n,r=e.children,y=e.eps,b=void 0===y?.001:y,x=e.style,A=e.className,M=e.prepend,E=e.center,C=e.fullscreen,S=e.portal,O=e.distanceFactor,T=e.sprite,k=void 0!==T&&T,B=e.transform,P=void 0!==B&&B,L=e.occlude,D=e.onOcclude,j=e.zIndexRange,F=void 0===j?[16777271,0]:j,R=e.calculatePosition,I=void 0===R?v:R,z=e.as,U=void 0===z?"div":z,N=e.pointerEvents,G=void 0===N?"auto":N,H=Object(o.a)(e,d),V=Object(f.useThree)((function(e){return e.gl})),W=Object(f.useThree)((function(e){return e.camera})),X=Object(f.useThree)((function(e){return e.scene})),q=Object(f.useThree)((function(e){return e.size})),Q=Object(f.useThree)((function(e){return e.raycaster})),Y=u.useState((function(){return document.createElement(U)})),J=Object(i.a)(Y,1)[0],K=u.useRef(null),Z=u.useRef(0),$=u.useRef([0,0]),ee=u.useRef(null),te=u.useRef(null),ne=null!==(n=null==S?void 0:S.current)&&void 0!==n?n:V.domElement.parentNode;u.useEffect((function(){if(K.current){if(X.updateMatrixWorld(),P)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var e=I(K.current,W,q);J.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return ne&&(M?ne.prepend(J):ne.appendChild(J)),function(){ne&&ne.removeChild(J),c.unmountComponentAtNode(J)}}}),[ne,P]);var re=u.useMemo((function(){return P?{position:"absolute",top:0,left:0,width:q.width,height:q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Object(a.a)(Object(a.a)({position:"absolute",transform:E?"translate3d(-50%,-50%,0)":"none"},C&&{top:-q.height/2,left:-q.width/2,width:q.width,height:q.height}),x)}),[x,E,C,q,P]),ae=u.useMemo((function(){return{position:"absolute",pointerEvents:G}}),[G]);u.useLayoutEffect((function(){P?c.render(u.createElement("div",{ref:ee,style:re},u.createElement("div",{ref:te,style:ae},u.createElement("div",{ref:t,className:A,style:x,children:r}))),J):c.render(u.createElement("div",{ref:t,style:re,className:A,children:r}),J)}));var ie=u.useRef(!0);return Object(f.useFrame)((function(){if(K.current){W.updateMatrixWorld(),K.current.updateWorldMatrix(!0,!1);var e=P?$.current:I(K.current,W,q);if(P||Math.abs(Z.current-W.zoom)>b||Math.abs($.current[0]-e[0])>b||Math.abs($.current[1]-e[1])>b){var t=function(e,t){var n=h.setFromMatrixPosition(e.matrixWorld),r=p.setFromMatrixPosition(t.matrixWorld),a=n.sub(r),i=t.getWorldDirection(m);return a.angleTo(i)>Math.PI/2}(K.current,W),n=!1;"boolean"===typeof L?!0===L&&(n=[X]):Array.isArray(L)&&(n=L.map((function(e){return e.current})));var r=ie.current;if(n){var a=function(e,t,n,r){var a=h.setFromMatrixPosition(e.matrixWorld),i=a.clone();i.project(t),n.setFromCamera(i,t);var o=n.intersectObjects(r,!0);if(o.length){var s=o[0].distance;return a.distanceTo(n.ray.origin)<s}return!0}(K.current,W,Q,n);ie.current=a&&!t}else ie.current=!t;if(r!==ie.current&&(D?D(!ie.current):J.style.display=ie.current?"block":"none"),J.style.zIndex="".concat(function(e,t,n){if(t instanceof l.PerspectiveCamera||t instanceof l.OrthographicCamera){var r=h.setFromMatrixPosition(e.matrixWorld),a=p.setFromMatrixPosition(t.matrixWorld),i=r.distanceTo(a),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*i+s)}}(K.current,W,F)),P){var i=q.width/2,o=q.height/2,s=W.projectionMatrix.elements[5]*o,u=W.isOrthographicCamera,c=W.top,f=W.left,d=W.bottom,v=W.right,y=_(W.matrixWorldInverse),x=u?"scale(".concat(s,")translate(").concat(g(-(v+f)/2),"px,").concat(g((c+d)/2),"px)"):"translateZ(".concat(s,"px)"),A=K.current.matrixWorld;k&&((A=W.matrixWorldInverse.clone().transpose().copyPosition(A).scale(K.current.scale)).elements[3]=A.elements[7]=A.elements[11]=0,A.elements[15]=1),J.style.width=q.width+"px",J.style.height=q.height+"px",J.style.perspective=u?"":"".concat(s,"px"),ee.current&&te.current&&(ee.current.style.transform="".concat(x).concat(y,"translate(").concat(i,"px,").concat(o,"px)"),te.current.style.transform=w(A,1/((O||10)/400)))}else{var M=void 0===O?1:function(e,t){if(t instanceof l.OrthographicCamera)return t.zoom;if(t instanceof l.PerspectiveCamera){var n=h.setFromMatrixPosition(e.matrixWorld),r=p.setFromMatrixPosition(t.matrixWorld),a=t.fov*Math.PI/180,i=n.distanceTo(r);return 1/(2*Math.tan(a/2)*i)}return 1}(K.current,W)*O;J.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(M,")")}$.current=e,Z.current=W.zoom}}})),u.createElement("group",s({},H,{ref:K}))})),A=n(14);function M(e){var t=e.onChanged,n=e.portal,r=e.preventDefault,a=void 0===r||r,i=e.scroll,o=void 0===i||i,s=e.keyCode,c=void 0===s?9:s,l=u.useRef(0),d=Object(f.useThree)((function(e){return e.raycaster})),h=Object(f.useThree)((function(e){return e.get})),p=Object(f.useThree)((function(e){return e.gl}));return u.useEffect((function(){var e,r=[],i=void 0,s=d.filter,u=null!==(e=null==n?void 0:n.current)&&void 0!==e?e:p.domElement.parentNode,f=function(){return u&&t&&t(r,Math.round(l.current)%r.length)};d.filter=function(e,t){var n=Object(A.a)(e);n.length===r.length&&r.every((function(e){return n.map((function(e){return e.object.uuid})).includes(e.object.uuid)}))||(l.current=0,r=n,f()),s&&(n=s(n,t));for(var a=0;a<Math.round(l.current)%n.length;a++){var i=n.shift();n=[].concat(Object(A.a)(n),[i])}return n};var m=function(e){var t,n;l.current=e(l.current),null==(t=h().events.handlers)||t.onPointerCancel(void 0),null==(n=h().events.handlers)||n.onPointerMove(i),f()},v=function(e){(e.keyCode||e.which===c)&&(a&&e.preventDefault(),r.length>1&&m((function(e){return e+1})))},g=function(e){a&&e.preventDefault();var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),r.length>1&&m((function(e){return Math.abs(e-t)}))},y=function(e){return i=e};return document.addEventListener("pointermove",y,{passive:!0}),o&&document.addEventListener("wheel",g),void 0!==c&&document.addEventListener("keydown",v),function(){d.filter=s,void 0!==c&&document.removeEventListener("keydown",v),o&&document.removeEventListener("wheel",g),document.removeEventListener("pointermove",y)}}),[p,h,d,a,o,c]),null}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";u.useEffect((function(){if(e)return document.body.style.cursor=t,function(){document.body.style.cursor=n}}),[e])}var C=n(55),S=0,O=n.n(C)()((function(e){return l.DefaultLoadingManager.onStart=function(t,n,r){e({active:!0,item:t,loaded:n,total:r,progress:(n-S)/(r-S)*100})},l.DefaultLoadingManager.onLoad=function(){e({active:!1})},l.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat(Object(A.a)(e.errors),[t])}}))},l.DefaultLoadingManager.onProgress=function(t,n,r){n===r&&(S=r),e({active:!0,item:t,loaded:n,total:r,progress:(n-S)/(r-S)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}})),T=function(e){return"Loading ".concat(e.toFixed(2),"%")};function k(e){var t=e.containerStyles,n=e.innerStyles,r=e.barStyles,o=e.dataStyles,s=e.dataInterpolation,c=void 0===s?T:s,l=e.initialState,f=void 0===l?function(e){return e}:l,d=O(),h=d.active,p=d.progress,m=u.useRef(0),v=u.useRef(0),g=u.useRef(null),y=u.useState(f(h)),b=Object(i.a)(y,2),_=b[0],w=b[1];u.useEffect((function(){var e;return h!==_&&(e=setTimeout((function(){return w(h)}),300)),function(){return clearTimeout(e)}}),[_,h]);var x=u.useCallback((function(){g.current&&(m.current+=(p-m.current)/2,(m.current>.95*p||100===p)&&(m.current=p),g.current.innerText=c(m.current),m.current<p&&(v.current=requestAnimationFrame(x)))}),[c,p]);return u.useEffect((function(){return x(),function(){return cancelAnimationFrame(v.current)}}),[x]),_?u.createElement("div",{style:Object(a.a)(Object(a.a)({},B.container),{},{opacity:h?1:0},t)},u.createElement("div",null,u.createElement("div",{style:Object(a.a)(Object(a.a)({},B.inner),n)},u.createElement("div",{style:Object(a.a)(Object(a.a)({},B.bar),{},{transform:"scaleX(".concat(p/100,")")},r)}),u.createElement("span",{ref:g,style:Object(a.a)(Object(a.a)({},B.data),o)})))):null}var B={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},P=n(18),L=["children","style"],D=["html"],j=u.createContext(null);function F(){return u.useContext(j)}function R(e){var t=e.eps,n=void 0===t?1e-5:t,r=e.enabled,a=void 0===r||r,o=e.infinite,s=e.horizontal,c=e.pages,d=void 0===c?1:c,h=e.distance,p=void 0===h?1:h,m=e.damping,v=void 0===m?4:m,g=e.style,y=void 0===g?{}:g,b=e.children,_=Object(f.useThree)(),w=_.gl,x=_.size,A=_.invalidate,M=_.events,E=_.raycaster,C=u.useState((function(){return document.createElement("div")})),S=Object(i.a)(C,1)[0],O=u.useState((function(){return document.createElement("div")})),T=Object(i.a)(O,1)[0],k=u.useState((function(){return document.createElement("div")})),B=Object(i.a)(k,1)[0],P=w.domElement.parentNode,L=u.useRef(0),D=u.useMemo((function(){var e={el:S,eps:n,fill:T,fixed:B,horizontal:s,damping:v,offset:0,delta:0,scroll:L,pages:d,range:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e-n,a=r+t+2*n;return this.offset<r?0:this.offset>a?1:(this.offset-r)/(a-r)},curve:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.sin(this.range(e,t,n)*Math.PI)},visible:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e-n,a=r+t+2*n;return this.offset>=r&&this.offset<=a}};return e}),[n,v,s,d]);u.useEffect((function(){for(var e in S.style.position="absolute",S.style.width="100%",S.style.height="100%",S.style[s?"overflowX":"overflowY"]="auto",S.style[s?"overflowY":"overflowX"]="hidden",S.style.top="0px",S.style.left="0px",y)S.style[e]=y[e];B.style.position="sticky",B.style.top="0px",B.style.left="0px",B.style.width="100%",B.style.height="100%",B.style.overflow="hidden",S.appendChild(B),T.style.height=s?"100%":"".concat(d*p*100,"%"),T.style.width=s?"".concat(d*p*100,"%"):"100%",T.style.pointerEvents="none",S.appendChild(T),P.appendChild(S),S[s?"scrollLeft":"scrollTop"]=1;var t="boolean"!==typeof M.connected?M.connected:w.domElement;requestAnimationFrame((function(){return null==M.connect?void 0:M.connect(S)}));var n=E.computeOffsets;return E.computeOffsets=function(e){var t=e.clientX,n=e.clientY;return{offsetX:t-P.offsetLeft,offsetY:n-P.offsetTop}},function(){P.removeChild(S),E.computeOffsets=n,null==M.connect||M.connect(t)}}),[d,p,s,S,T,B,P]),u.useEffect((function(){var e=x[s?"width":"height"],t=S[s?"scrollWidth":"scrollHeight"],n=t-e,r=0,i=!0,u=!0,c=function(){if(a&&!u&&(A(),r=S[s?"scrollLeft":"scrollTop"],L.current=r/n,o)){if(!i)if(r>=n){var e=1-D.offset;S[s?"scrollLeft":"scrollTop"]=1,L.current=D.offset=-e,i=!0}else if(r<=0){var c=1+D.offset;S[s?"scrollLeft":"scrollTop"]=t,L.current=D.offset=c,i=!0}i&&setTimeout((function(){return i=!1}),40)}};S.addEventListener("scroll",c,{passive:!0}),requestAnimationFrame((function(){return u=!1}));var l=function(e){return S.scrollLeft+=e.deltaY/2};return s&&S.addEventListener("wheel",l,{passive:!0}),function(){S.removeEventListener("scroll",c),s&&S.removeEventListener("wheel",l)}}),[S,x,o,D,A,s]);var F=0;return Object(f.useFrame)((function(e,t){D.offset=l.MathUtils.damp(F=D.offset,L.current,v,t),D.delta=l.MathUtils.damp(D.delta,Math.abs(F-D.offset),v,t),D.delta>n&&A()})),u.createElement(j.Provider,{value:D},b)}var I=u.forwardRef((function(e,t){var n=e.children,r=u.useRef(null),a=F(),i=Object(f.useThree)((function(e){return e.viewport})),o=i.width,s=i.height;return Object(f.useFrame)((function(){r.current.position.x=a.horizontal?-o*(a.pages-1)*a.offset:0,r.current.position.y=a.horizontal?0:s*(a.pages-1)*a.offset})),u.createElement("group",{ref:Object(P.default)([t,r])},n)})),z=u.forwardRef((function(e,t){var n=e.children,r=e.style,i=Object(o.a)(e,L),l=F(),d=u.useRef(null),h=Object(f.useThree)((function(e){return e.size})),p=h.width,m=h.height,v=u.useContext(f.context);return Object(f.useFrame)((function(){l.delta>l.eps&&(d.current.style.transform="translate3d(".concat(l.horizontal?-p*(l.pages-1)*l.offset:0,"px,").concat(l.horizontal?0:m*(l.pages-1)*-l.offset,"px,0)"))})),c.render(u.createElement("div",s({ref:Object(P.default)([t,d]),style:Object(a.a)(Object(a.a)({},r),{},{position:"absolute",top:0,left:0,willChange:"transform"})},i),u.createElement(j.Provider,{value:l},u.createElement(f.context.Provider,{value:v},n))),l.fixed),null})),U=u.forwardRef((function(e,t){var n=e.html,r=Object(o.a)(e,D),a=n?z:I;return u.createElement(a,s({ref:t},r))})),N=n(71),G=n(94);function H(e){var t=e.snap,n=e.global,r=e.children,o=e.speed,c=void 0===o?1:o,d=e.rotation,h=void 0===d?[0,0,0]:d,p=e.zoom,m=void 0===p?1:p,v=e.polar,g=void 0===v?[0,Math.PI/2]:v,y=e.azimuth,b=void 0===y?[-1/0,1/0]:y,_=e.config,w=void 0===_?{mass:1,tension:170,friction:26}:_,x=Object(f.useThree)(),M=x.size,E=x.gl,C=u.useMemo((function(){return[h[0]+g[0],h[0]+g[1]]}),[h[0],g[0],g[1]]),S=u.useMemo((function(){return[h[1]+b[0],h[1]+b[1]]}),[h[1],b[0],b[1]]),O=u.useMemo((function(){return[l.MathUtils.clamp.apply(l.MathUtils,[h[0]].concat(Object(A.a)(C))),l.MathUtils.clamp.apply(l.MathUtils,[h[1]].concat(Object(A.a)(S))),h[2]]}),[h[0],h[1],h[2],C,S]),T=Object(N.useSpring)((function(){return{scale:1,rotation:O,config:w}})),k=Object(i.a)(T,2),B=k[0],P=k[1];u.useEffect((function(){P.start({scale:1,rotation:O,config:w})}),[O]),u.useEffect((function(){n&&(document.body.style.cursor="grab")}),[n]);var L=Object(G.useGesture)({onHover:function(e){var t=e.last;n||(document.body.style.cursor=t?"auto":"grab")},onDrag:function(e){var n=e.down,r=Object(i.a)(e.delta,2),o=r[0],s=r[1],u=e.memo;u=void 0===u?B.rotation.animation.to||O:u;var f=Object(i.a)(u,2),d=f[0],h=f[1];document.body.style.cursor=n?"grabbing":"grab",o=l.MathUtils.clamp.apply(l.MathUtils,[h+o/M.width*Math.PI*c].concat(Object(A.a)(S))),s=l.MathUtils.clamp.apply(l.MathUtils,[d+s/M.height*Math.PI*c].concat(Object(A.a)(C)));var p=t&&!n&&"boolean"!==typeof t?t:w;return P.start({scale:n&&s>C[1]/2?m:1,rotation:t&&!n?O:[s,o,0],config:function(e){return"scale"===e?Object(a.a)(Object(a.a)({},p),{},{friction:3*p.friction}):p}}),[s,o]}},{target:n?E.domElement:void 0});return u.createElement(N.a.group,s({},null==L?void 0:L(),B),r)}var V=["follow","lockX","lockY","lockZ"],W=u.forwardRef((function(e,t){var n=e.follow,r=void 0===n||n,a=e.lockX,i=void 0!==a&&a,c=e.lockY,l=void 0!==c&&c,d=e.lockZ,h=void 0!==d&&d,p=Object(o.a)(e,V),m=u.useRef();return Object(f.useFrame)((function(e){var t=e.camera;if(r&&m.current){var n=m.current.rotation.clone();m.current.quaternion.copy(t.quaternion),i&&(m.current.rotation.x=n.x),l&&(m.current.rotation.y=n.y),h&&(m.current.rotation.z=n.z)}})),u.createElement("group",s({ref:Object(P.default)([m,t])},p))})),X=n(4),q=n(3),Q=n(2),Y=n(6),J=n(7);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(q.a)(this,n),e=t.call(this),K(Object(Q.a)(e),"isLineSegmentsGeometry",!0),K(Object(Q.a)(e),"type","LineSegmentsGeometry"),K(Object(Q.a)(e),"boundingBox",null),K(Object(Q.a)(e),"boundingSphere",null),K(Object(Q.a)(e),"box",new l.Box3),K(Object(Q.a)(e),"vector",new l.Vector3);return e.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),e.setAttribute("position",new l.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),e.setAttribute("uv",new l.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2)),e}return Object(X.a)(n,[{key:"applyMatrix4",value:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"setPositions",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setPosition requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new l.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new l.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new l.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}},{key:"setColors",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setColors requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new l.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new l.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new l.InterleavedBufferAttribute(n,3,3)),this}},{key:"fromWireframeGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromEdgesGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromMesh",value:function(e){return this.fromWireframeGeometry(new l.WireframeGeometry(e.geometry)),this}},{key:"fromLineSegments",value:function(e){var t=e.geometry;return t.isBufferGeometry&&this.setPositions(Array.from(t.attributes.position.array)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new l.Box3);var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),this.box.setFromBufferAttribute(t),this.boundingBox.union(this.box))}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new l.Sphere),null===this.boundingBox&&this.computeBoundingBox();var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){var n=this.boundingSphere.center;this.boundingBox&&this.boundingBox.getCenter(n);for(var r=0,a=0,i=e.count;a<i;a++)this.vector.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(this.vector)),this.vector.fromBufferAttribute(t,a),r=Math.max(r,n.distanceToSquared(this.vector));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}},{key:"toJSON",value:function(){}}]),n}(l.InstancedBufferGeometry),$={linewidth:{value:1},resolution:{value:new l.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1},opacity:{value:1}};l.ShaderLib.line={uniforms:l.UniformsUtils.merge([l.UniformsLib.common,l.UniformsLib.fog,$]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\tfloat a = vUv.x;\n\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\tfloat len2 = a * a + b * b;\n\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t}\n\n\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var ee=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(q.a)(this,n),e=t.call(this,{uniforms:l.UniformsUtils.clone(l.ShaderLib.line.uniforms),vertexShader:l.ShaderLib.line.vertexShader,fragmentShader:l.ShaderLib.line.fragmentShader,clipping:!0}),K(Object(Q.a)(e),"isLineMaterial",!0),K(Object(Q.a)(e),"dashed",!1),K(Object(Q.a)(e),"color",new l.Color(0)),K(Object(Q.a)(e),"lineWidth",0),K(Object(Q.a)(e),"dashScale",0),K(Object(Q.a)(e),"dashOffset",0),K(Object(Q.a)(e),"dashSize",0),K(Object(Q.a)(e),"opacity",0),K(Object(Q.a)(e),"resolution",new l.Vector2),K(Object(Q.a)(e),"alphaToCoverage",!1),Object.defineProperties(Object(Q.a)(e),{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){var t=new l.Color(e);this.uniforms.diffuse.value=t.getHex()}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(e){Boolean(e)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),e?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set:function(e){Boolean(e)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),e?this.defines.USE_DASH="":delete this.defines.USE_DASH}}}),e.setValues(r),e}return Object(X.a)(n)}(l.ShaderMaterial),te=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Z,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ee({color:16777215*Math.random()});return Object(q.a)(this,n),e=t.call(this,r,a),K(Object(Q.a)(e),"type","LineSegments2"),K(Object(Q.a)(e),"isLineSegments2",!0),K(Object(Q.a)(e),"distStart",new l.Vector3),K(Object(Q.a)(e),"distEnd",new l.Vector3),K(Object(Q.a)(e),"computeLineDistances",(function(){for(var t=e.geometry,n=t.attributes.instanceStart,r=t.attributes.instanceEnd,a=new Float32Array(2*n.data.count),i=0,o=0,s=n.data.count;i<s;i++,o+=2)e.distStart.fromBufferAttribute(n,i),e.distEnd.fromBufferAttribute(r,i),a[o]=0===o?0:a[o-1],a[o+1]=a[o]+e.distStart.distanceTo(e.distEnd);var u=new l.InstancedInterleavedBuffer(a,2,1);return t.setAttribute("instanceDistanceStart",new l.InterleavedBufferAttribute(u,1,0)),t.setAttribute("instanceDistanceEnd",new l.InterleavedBufferAttribute(u,1,1)),Object(Q.a)(e)})),K(Object(Q.a)(e),"rayStart",new l.Vector4),K(Object(Q.a)(e),"rayEnd",new l.Vector4),K(Object(Q.a)(e),"ssOrigin",new l.Vector4),K(Object(Q.a)(e),"ssOrigin3",new l.Vector3),K(Object(Q.a)(e),"mvMatrix",new l.Matrix4),K(Object(Q.a)(e),"line",new l.Line3),K(Object(Q.a)(e),"closestPoint",new l.Vector3),K(Object(Q.a)(e),"raycast",(function(t,n){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var r=t.ray,a=t.camera,i=a.projectionMatrix,o=e.geometry,s=e.material,u=s.resolution,c=s.linewidth+0,f=o.attributes.instanceStart,d=o.attributes.instanceEnd,h=-a.near;r.at(1,e.ssOrigin),e.ssOrigin.w=1,e.ssOrigin.applyMatrix4(a.matrixWorldInverse),e.ssOrigin.applyMatrix4(i),e.ssOrigin.multiplyScalar(1/e.ssOrigin.w),e.ssOrigin.x*=u.x/2,e.ssOrigin.y*=u.y/2,e.ssOrigin.z=0,e.ssOrigin3.set(e.ssOrigin.x,e.ssOrigin.y,e.ssOrigin.z);var p=e.matrixWorld;e.mvMatrix.multiplyMatrices(a.matrixWorldInverse,p);for(var m=0,v=f.count;m<v;m++){if(e.rayStart.fromBufferAttribute(f,m),e.rayEnd.fromBufferAttribute(d,m),e.rayStart.w=1,e.rayEnd.w=1,e.rayStart.applyMatrix4(e.mvMatrix),e.rayEnd.applyMatrix4(e.mvMatrix),!(e.rayStart.z>h&&e.rayEnd.z>h)){if(e.rayStart.z>h){var g=e.rayStart.z-e.rayEnd.z,y=(e.rayStart.z-h)/g;e.rayStart.lerp(e.rayEnd,y)}else if(e.rayEnd.z>h){var b=e.rayEnd.z-e.rayStart.z,_=(e.rayEnd.z-h)/b;e.rayEnd.lerp(e.rayStart,_)}e.rayStart.applyMatrix4(i),e.rayEnd.applyMatrix4(i),e.rayStart.multiplyScalar(1/e.rayStart.w),e.rayEnd.multiplyScalar(1/e.rayEnd.w),e.rayStart.x*=u.x/2,e.rayStart.y*=u.y/2,e.rayEnd.x*=u.x/2,e.rayEnd.y*=u.y/2,e.line.start.set(e.rayStart.x,e.rayStart.y,e.rayStart.z),e.line.start.z=0,e.line.end.set(e.rayEnd.x,e.rayEnd.y,e.rayEnd.z),e.line.end.z=0;var w=e.line.closestPointToPointParameter(e.ssOrigin3,!0);e.line.at(w,e.closestPoint);var x=l.MathUtils.lerp(e.rayStart.z,e.rayEnd.z,w),A=x>=-1&&x<=1,M=e.ssOrigin3.distanceTo(e.closestPoint)<.5*c;if(A&&M){e.line.start.fromBufferAttribute(f,m),e.line.end.fromBufferAttribute(d,m),e.line.start.applyMatrix4(p),e.line.end.applyMatrix4(p);var E=new l.Vector3,C=new l.Vector3;r.distanceSqToSegment(e.line.start,e.line.end,C,E),n.push({distance:r.origin.distanceTo(C),point:C,face:null,faceIndex:m,object:Object(Q.a)(e),uv:void 0,pointOnLine:E})}}}})),e}return Object(X.a)(n)}(l.Mesh),ne=n(11),re=n(10),ae=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r;return Object(q.a)(this,n),r=t.call(this),K(Object(Q.a)(r),"type","LineGeometry"),K(Object(Q.a)(r),"isLineGeometry",!0),K(Object(Q.a)(r),"setColors",(function(t){for(var a=t.length-3,i=new Float32Array(2*a),o=0;o<a;o+=3)i[2*o]=t[o],i[2*o+1]=t[o+1],i[2*o+2]=t[o+2],i[2*o+3]=t[o+3],i[2*o+4]=t[o+4],i[2*o+5]=t[o+5];return Object(ne.a)((e=Object(Q.a)(r),Object(re.a)(n.prototype)),"setColors",e).call(e,i),Object(Q.a)(r)})),K(Object(Q.a)(r),"fromLine",(function(e){var t=e.geometry;return t.isBufferGeometry&&r.setPositions(Array.from(t.attributes.position.array)),Object(Q.a)(r)})),K(Object(Q.a)(r),"copy",(function(){return Object(Q.a)(r)})),r}return Object(X.a)(n,[{key:"setPositions",value:function(e){for(var t=e.length-3,r=new Float32Array(2*t),a=0;a<t;a+=3)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];return Object(ne.a)(Object(re.a)(n.prototype),"setPositions",this).call(this,r),this}}]),n}(Z),ie=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ae,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ee({color:16777215*Math.random()});return Object(q.a)(this,n),e=t.call(this,r,a),K(Object(Q.a)(e),"type","Line2"),K(Object(Q.a)(e),"isLine2",!0),e}return Object(X.a)(n)}(te),oe=["points","color","vertexColors","lineWidth","dashed"],se=u.forwardRef((function(e,t){var n=e.points,r=e.color,a=void 0===r?"black":r,c=e.vertexColors,f=e.lineWidth,d=e.dashed,h=Object(o.a)(e,oe),p=u.useState((function(){return new ie})),m=Object(i.a)(p,1)[0],v=u.useState((function(){return new ee})),g=Object(i.a)(v,1)[0],y=u.useState((function(){return new l.Vector2(512,512)})),b=Object(i.a)(y,1)[0],_=u.useMemo((function(){var e=new ae,t=n.map((function(e){return e instanceof l.Vector3?e.toArray():e}));if(e.setPositions(t.flat()),c){var r=c.map((function(e){return e instanceof l.Color?e.toArray():e}));e.setColors(r.flat())}return e}),[n,c]);return u.useLayoutEffect((function(){m.computeLineDistances()}),[n,m]),u.useLayoutEffect((function(){d?g.defines.USE_DASH="":delete g.defines.USE_DASH,g.needsUpdate=!0}),[d,g]),u.useEffect((function(){return function(){return _.dispose()}}),[_]),u.createElement("primitive",s({object:m,ref:t},h),u.createElement("primitive",{object:_,attach:"geometry"}),u.createElement("primitive",s({object:g,attach:"material",color:a,vertexColors:Boolean(c),resolution:b,linewidth:f,dashed:d},h)))})),ue=["start","end","mid","segments"],ce=new l.Vector3,le=u.forwardRef((function(e,t){var n=e.start,r=void 0===n?[0,0,0]:n,a=e.end,c=void 0===a?[0,0,0]:a,f=e.mid,d=e.segments,h=void 0===d?20:d,p=Object(o.a)(e,ue),m=u.useRef(null),v=u.useState((function(){return new l.QuadraticBezierCurve3(void 0,void 0,void 0)})),g=Object(i.a)(v,1)[0],y=u.useCallback((function(e,t,n){var r,a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return e instanceof l.Vector3?g.v0.copy(e):(r=g.v0).set.apply(r,Object(A.a)(e)),t instanceof l.Vector3?g.v2.copy(t):(a=g.v2).set.apply(a,Object(A.a)(t)),n instanceof l.Vector3?g.v1.copy(n):g.v1.copy(g.v0.clone().add(g.v2.clone().sub(g.v0)).add(ce.set(0,g.v0.y-g.v2.y,0))),g.getPoints(i)}),[]);u.useLayoutEffect((function(){m.current.setPoints=function(e,t,n){var r=y(e,t,n);m.current.geometry&&m.current.geometry.setPositions(r.map((function(e){return e.toArray()})).flat())}}),[]);var b=u.useMemo((function(){return y(r,c,f,h)}),[r,c,f,h]);return u.createElement(se,s({ref:Object(P.default)([m,t]),points:b},p))})),fe=n(30),de=["start","end","midA","midB","segments"],he=u.forwardRef((function(e,t){var n=e.start,r=e.end,a=e.midA,i=e.midB,c=e.segments,f=void 0===c?20:c,d=Object(o.a)(e,de),h=u.useMemo((function(){var e=n instanceof l.Vector3?n:Object(fe.a)(l.Vector3,Object(A.a)(n)),t=r instanceof l.Vector3?r:Object(fe.a)(l.Vector3,Object(A.a)(r)),o=a instanceof l.Vector3?a:Object(fe.a)(l.Vector3,Object(A.a)(a)),s=i instanceof l.Vector3?i:Object(fe.a)(l.Vector3,Object(A.a)(i));return new l.CubicBezierCurve3(e,o,s,t).getPoints(f)}),[n,r,a,i,f]);return u.createElement(se,s({ref:t,points:h},d))})),pe=["url","distance","loop","autoplay"],me=u.forwardRef((function(e,t){var n=e.url,r=e.distance,a=void 0===r?1:r,c=e.loop,d=void 0===c||c,h=e.autoplay,p=Object(o.a)(e,pe),m=u.useRef(),v=Object(f.useThree)((function(e){return e.camera})),g=u.useState((function(){return new l.AudioListener})),y=Object(i.a)(g,1)[0],b=Object(f.useLoader)(l.AudioLoader,n);return u.useEffect((function(){var e=m.current;e&&(e.setBuffer(b),e.setRefDistance(a),e.setLoop(d),h&&!e.isPlaying&&e.play())}),[b,v,a,d]),u.useEffect((function(){var e=m.current;return v.add(y),function(){v.remove(y),e&&(e.isPlaying&&e.stop(),e.source&&e.source._connected&&e.disconnect())}}),[]),u.createElement("positionalAudio",s({ref:Object(P.default)([m,t]),args:[y]},p))})),ve=n(40);var ge=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,i=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,u=n.S|n.WS|n.B|a|n.PDI|s,c=null;function l(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,c.set(r+=i,n[e]);for(var s=0;s<o;s++)c.set(++r,n[e])}))}};for(var r in t)e(r)}}(),c.get(e.codePointAt(0))||n.L}var f,d,h,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function v(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var u=o.split(">"),c=u[0],l=u[1];c=String.fromCodePoint(r+=parseInt(c,36)),l=String.fromCodePoint(r+=parseInt(l,36)),a.set(c,l),t&&i.set(l,c)}})),{map:a,reverseMap:i}}function g(){if(!f){var e=v(p,!0),t=e.map,n=e.reverseMap;f=t,d=n,h=v(m,!1).map}}function y(e){return g(),f.get(e)||null}function b(e){return g(),d.get(e)||null}function _(e){return g(),h.get(e)||null}var w=n.L,x=n.R,A=n.EN,M=n.ES,E=n.ET,C=n.AN,S=n.CS,O=n.B,T=n.S,k=n.ON,B=n.BN,P=n.NSM,L=n.AL,D=n.LRO,j=n.RLO,F=n.LRE,R=n.RLE,I=n.PDF,z=n.LRI,U=n.RLI,N=n.FSI,G=n.PDI;var H;function V(e){return function(){if(!H){var e=v("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),H=t}}(),H.get(e)||null}function W(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var c=t.levels.slice(o,s+1),f=s;f>=o&&l(e[f])&u;f--)c[f]=a.level;for(var d=a.level,h=1/0,p=0;p<c.length;p++){var m=c[p];m>d&&(d=m),m<h&&(h=1|m)}for(var v=d;v>=h;v--)for(var g=0;g<c.length;g++)if(c[g]>=v){for(var y=g;g+1<c.length&&c[g+1]>=v;)g++;g>y&&i.push([y+n,g+n])}}})),i}function X(e,t,n,r){for(var a=W(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=b,e.getBidiCharType=l,e.getBidiCharTypeName=function(e){return r[l(e)]},e.getCanonicalBracket=_,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=l(e[r]);var c=new Map;function f(e,t){var r=n[e];n[e]=t,c.set(r,c.get(r)-1),r&o&&c.set(o,c.get(o)-1),c.set(t,(c.get(t)||0)+1),t&o&&c.set(o,(c.get(o)||0)+1)}for(var d=new Uint8Array(e.length),h=new Map,p=[],m=null,v=0;v<e.length;v++)m||p.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Nt(v,!1)}),n[v]&O&&(m.end=v,m=null);for(var g=R|F|j|D|a|G|I|O,H=function(e){return e+(1&e?1:2)},V=function(e){return e+(1&e?2:1)},W=0;W<p.length;W++){var X=[{_level:(m=p[W]).level,_override:0,_isolate:0}],q=void 0,Q=0,Y=0,J=0;c.clear();for(var K=m.start;K<=m.end;K++){var Z=n[K];if(q=X[X.length-1],c.set(Z,(c.get(Z)||0)+1),Z&o&&c.set(o,(c.get(o)||0)+1),Z&g)if(Z&(R|F)){d[K]=q._level;var $=(Z===R?V:H)(q._level);$<=125&&!Q&&!Y?X.push({_level:$,_override:0,_isolate:0}):Q||Y++}else if(Z&(j|D)){d[K]=q._level;var ee=(Z===j?V:H)(q._level);ee<=125&&!Q&&!Y?X.push({_level:ee,_override:Z&j?x:w,_isolate:0}):Q||Y++}else if(Z&a){Z&N&&(Z=1===Nt(K+1,!0)?U:z),d[K]=q._level,q._override&&f(K,q._override);var te=(Z===U?V:H)(q._level);te<=125&&0===Q&&0===Y?(J++,X.push({_level:te,_override:0,_isolate:1,_isolInitIndex:K})):Q++}else if(Z&G){if(Q>0)Q--;else if(J>0){for(Y=0;!X[X.length-1]._isolate;)X.pop();var ne=X[X.length-1]._isolInitIndex;null!=ne&&(h.set(ne,K),h.set(K,ne)),X.pop(),J--}q=X[X.length-1],d[K]=q._level,q._override&&f(K,q._override)}else Z&I?(0===Q&&(Y>0?Y--:!q._isolate&&X.length>1&&(X.pop(),q=X[X.length-1])),d[K]=q._level):Z&O&&(d[K]=m.level);else d[K]=q._level,q._override&&Z!==B&&f(K,q._override)}for(var re=[],ae=null,ie=m.start;ie<=m.end;ie++){var oe=n[ie];if(!(oe&s)){var se=d[ie],ue=oe&a,ce=oe===G;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=ue):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ce,_endsWithIsolInit:ue})}}for(var le=[],fe=0;fe<re.length;fe++){var de=re[fe];if(!de._startsWithPDI||de._startsWithPDI&&!h.has(de._start)){for(var he=[ae=de],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=h.get(ae._end));)for(var me=fe+1;me<re.length;me++)if(re[me]._start===pe){he.push(ae=re[me]);break}for(var ve=[],ge=0;ge<he.length;ge++)for(var ye=he[ge],be=ye._start;be<=ye._end;be++)ve.push(be);for(var _e=d[ve[0]],we=m.level,xe=ve[0]-1;xe>=0;xe--)if(!(n[xe]&s)){we=d[xe];break}var Ae=ve[ve.length-1],Me=d[Ae],Ee=m.level;if(!(n[Ae]&a))for(var Ce=Ae+1;Ce<=m.end;Ce++)if(!(n[Ce]&s)){Ee=d[Ce];break}le.push({_seqIndices:ve,_sosType:Math.max(we,_e)%2?x:w,_eosType:Math.max(Ee,Me)%2?x:w})}}for(var Se=0;Se<le.length;Se++){var Oe=le[Se],Te=Oe._seqIndices,ke=Oe._sosType,Be=Oe._eosType;if(c.get(P))for(var Pe=0;Pe<Te.length;Pe++){var Le=Te[Pe];if(n[Le]&P){for(var De=ke,je=Pe-1;je>=0;je--)if(!(n[Te[je]]&s)){De=n[Te[je]];break}f(Le,De&(a|G)?k:De)}}if(c.get(A))for(var Fe=0;Fe<Te.length;Fe++){var Re=Te[Fe];if(n[Re]&A)for(var Ie=Fe-1;Ie>=-1;Ie--){var ze=-1===Ie?ke:n[Te[Ie]];if(ze&i){ze===L&&f(Re,C);break}}}if(c.get(L))for(var Ue=0;Ue<Te.length;Ue++){var Ne=Te[Ue];n[Ne]&L&&f(Ne,x)}if(c.get(M)||c.get(S))for(var Ge=1;Ge<Te.length-1;Ge++){var He=Te[Ge];if(n[He]&(M|S)){for(var Ve=0,We=0,Xe=Ge-1;Xe>=0&&(Ve=n[Te[Xe]])&s;Xe--);for(var qe=Ge+1;qe<Te.length&&(We=n[Te[qe]])&s;qe++);Ve===We&&(n[He]===M?Ve===A:Ve&(A|C))&&f(He,Ve)}}if(c.get(A))for(var Qe=0;Qe<Te.length;Qe++){var Ye=Te[Qe];if(n[Ye]&A){for(var Je=Qe-1;Je>=0&&n[Te[Je]]&(E|s);Je--)f(Te[Je],A);for(var Ke=Qe+1;Ke<Te.length&&n[Te[Ke]]&(E|s);Ke++)f(Te[Ke],A)}}if(c.get(E)||c.get(M)||c.get(S))for(var Ze=0;Ze<Te.length;Ze++){var $e=Te[Ze];if(n[$e]&(E|M|S)){f($e,k);for(var et=Ze-1;et>=0&&n[Te[et]]&s;et--)f(Te[et],k);for(var tt=Ze+1;tt<Te.length&&n[Te[tt]]&s;tt++)f(Te[tt],k)}}if(c.get(A))for(var nt=0,rt=ke;nt<Te.length;nt++){var at=Te[nt],it=n[at];it&A?rt===w&&f(at,w):it&i&&(rt=it)}if(c.get(o)){for(var ot=x|A|C,st=ot|w,ut=[],ct=[],lt=0;lt<Te.length;lt++)if(n[Te[lt]]&o){var ft=e[Te[lt]],dt=void 0;if(null!==y(ft)){if(!(ct.length<63))break;ct.push({char:ft,seqIndex:lt})}else if(null!==(dt=b(ft)))for(var ht=ct.length-1;ht>=0;ht--){var pt=ct[ht].char;if(pt===dt||pt===b(_(ft))||y(_(pt))===ft){ut.push([ct[ht].seqIndex,lt]),ct.length=ht;break}}}ut.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<ut.length;mt++){for(var vt=ut[mt],gt=vt[0],yt=vt[1],bt=!1,_t=0,wt=gt+1;wt<yt;wt++){var xt=Te[wt];if(n[xt]&st){bt=!0;var At=n[xt]&ot?x:w;if(At===Ht(xt)){_t=At;break}}}if(bt&&!_t){_t=ke;for(var Mt=gt-1;Mt>=0;Mt--){var Et=Te[Mt];if(n[Et]&st){var Ct=n[Et]&ot?x:w;_t=Ct!==Ht(Et)?Ct:Ht(Et);break}}}if(_t){if(n[Te[gt]]=n[Te[yt]]=_t,_t!==Ht(Te[gt]))for(var St=gt+1;St<Te.length;St++)if(!(n[Te[St]]&s)){l(e[Te[St]])&P&&(n[Te[St]]=_t);break}if(_t!==Ht(Te[yt]))for(var Ot=yt+1;Ot<Te.length;Ot++)if(!(n[Te[Ot]]&s)){l(e[Te[Ot]])&P&&(n[Te[Ot]]=_t);break}}}for(var Tt=0;Tt<Te.length;Tt++)if(n[Te[Tt]]&o){for(var kt=Tt,Bt=Tt,Pt=ke,Lt=Tt-1;Lt>=0;Lt--){if(!(n[Te[Lt]]&s)){Pt=n[Te[Lt]]&ot?x:w;break}kt=Lt}for(var Dt=Be,jt=Tt+1;jt<Te.length;jt++){if(!(n[Te[jt]]&(o|s))){Dt=n[Te[jt]]&ot?x:w;break}Bt=jt}for(var Ft=kt;Ft<=Bt;Ft++)n[Te[Ft]]=Pt===Dt?Pt:Ht(Te[Ft]);Tt=Bt}}}for(var Rt=m.start;Rt<=m.end;Rt++){var It=d[Rt],zt=n[Rt];if(1&It?zt&(w|A|C)&&d[Rt]++:zt&x?d[Rt]++:zt&(C|A)&&(d[Rt]+=2),zt&s&&(d[Rt]=0===Rt?m.level:d[Rt-1]),Rt===m.end||l(e[Rt])&(T|O))for(var Ut=Rt;Ut>=0&&l(e[Ut])&u;Ut--)d[Ut]=m.level}}return{levels:d,paragraphs:p};function Nt(t,r){for(var i=t;i<e.length;i++){var o=n[i];if(o&(x|L))return 1;if(o&(O|w)||r&&o===G)return 0;if(o&a){var s=Gt(i);i=-1===s?e.length:s}}return 0}function Gt(t){for(var r=1,i=t+1;i<e.length;i++){var o=n[i];if(o&O)break;if(o&G){if(0===--r)return i}else o&a&&r++}return-1}function Ht(e){return 1&d[e]?x:w}},e.getMirroredCharacter=V,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=V(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=W,e.getReorderedIndices=X,e.getReorderedString=function(e,t,n,r){var a=X(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?V(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},ye=/\bvoid\s+main\s*\(\s*\)\s*{/g;function be(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=l.ShaderChunk[t];return n?be(n):e}))}for(var _e=[],we=0;we<256;we++)_e[we]=(we<16?"0":"")+we.toString(16);var xe=Object.assign||function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])}return e},Ae=Date.now(),Me=new WeakMap,Ee=new Map,Ce=1e10;function Se(e,t){var n=function(e){var t=JSON.stringify(e,Te),n=Be.get(t);null==n&&Be.set(t,n=++ke);return n}(t),r=Me.get(e);if(r||Me.set(e,r=Object.create(null)),r[n])return new r[n];var a="_onBeforeCompile".concat(n),i=function(r){e.onBeforeCompile.call(this,r);var i=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,o=Ee[i];if(!o){var s=function(e,t,n){var r=e.vertexShader,a=e.fragmentShader,i=t.vertexDefs,o=t.vertexMainIntro,s=t.vertexMainOutro,u=t.vertexTransform,c=t.fragmentDefs,l=t.fragmentMainIntro,f=t.fragmentMainOutro,d=t.fragmentColorTransform,h=t.customRewriter,p=t.timeUniform;i=i||"",o=o||"",s=s||"",c=c||"",l=l||"",f=f||"",(u||h)&&(r=be(r));(d||h)&&(a=be(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(h){var m=h({vertexShader:r,fragmentShader:a});r=m.vertexShader,a=m.fragmentShader}if(d){var v=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return v.push(e),""})),f="".concat(d,"\n").concat(v.join("\n"),"\n").concat(f)}if(p){var g="\nuniform float ".concat(p,";\n");i=g+i,c=g+c}u&&(r="vec3 troika_position_".concat(n,";\nvec3 troika_normal_").concat(n,";\nvec2 troika_uv_").concat(n,";\n").concat(r,"\n"),i="".concat(i,"\nvoid troikaVertexTransform").concat(n,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(u,"\n}\n"),o="\ntroika_position_".concat(n," = vec3(position);\ntroika_normal_").concat(n," = vec3(normal);\ntroika_uv_").concat(n," = vec2(uv);\ntroikaVertexTransform").concat(n,"(troika_position_").concat(n,", troika_normal_").concat(n,", troika_uv_").concat(n,");\n").concat(o,"\n"),r=r.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,a){return/\battribute\s+vec[23]\s+$/.test(a.substr(0,r))?t:"troika_".concat(t,"_").concat(n)})));return r=Oe(r,n,i,o,s),a=Oe(a,n,c,l,f),{vertexShader:r,fragmentShader:a}}(r,t,n);o=Ee[i]=s}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,xe(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-Ae}}),this[a]&&this[a](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){var a=Object.create(r,u);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:Ce++}),a.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(_e[255&e]+_e[e>>8&255]+_e[e>>16&255]+_e[e>>24&255]+"-"+_e[255&t]+_e[t>>8&255]+"-"+_e[t>>16&15|64]+_e[t>>24&255]+"-"+_e[63&n|128]+_e[n>>8&255]+"-"+_e[n>>16&255]+_e[n>>24&255]+_e[255&r]+_e[r>>8&255]+_e[r>>16&255]+_e[r>>24&255]).toUpperCase()}(),a.uniforms=xe({},r.uniforms,t.uniforms),a.defines=xe({},r.defines,t.defines),a.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",a.extensions=xe({},r.extensions,t.extensions),a._listeners=void 0,a},u={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n}},onBeforeCompile:{get:function(){return i},set:function(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(xe(this.extensions,t.extensions),xe(this.defines,t.defines),xe(this.uniforms,l.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){var n=this._depthMaterial;return n||((n=this._depthMaterial=Se(e.isDerivedMaterial?e.getDepthMaterial():new l.MeshDepthMaterial({depthPacking:l.RGBADepthPacking}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){var n=this._distanceMaterial;return n||((n=this._distanceMaterial=Se(e.isDerivedMaterial?e.getDistanceMaterial():new l.MeshDistanceMaterial,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function Oe(e,t,n,r,a){return(r||a||n)&&(e=e.replace(ye,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(a,"\n}")),e}function Te(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var ke=0,Be=new Map;var Pe=null,Le=new l.MeshStandardMaterial({color:16777215,side:l.DoubleSide});l.Mesh;function De(e){var t=16;function n(e,t,n,r,a,i,o){var s=1-o;return{x:s*s*e+2*s*o*n+o*o*a,y:s*s*t+2*s*o*r+o*o*i}}function r(e,t,n,r,a,i,o,s,u){var c=1-u;return{x:c*c*c*e+3*c*c*u*n+3*c*u*u*a+u*u*u*o,y:c*c*c*t+3*c*c*u*r+3*c*u*u*i+u*u*u*s}}function a(){return(self.performance||Date).now()}return function(i,o,s,u,c){for(var l,f,d,h,p,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,v=a(),g=new Uint8Array(i*o),y=u[2]-u[0],b=u[3]-u[1],_=e(u),w=/([MLQCZ])([^MLQCZ]*)/g;l=w.exec(s);){var x=l[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(l[1]){case"M":h=f=x[0],p=d=x[1];break;case"L":x[0]===h&&x[1]===p||_.addLineSegment(h,p,h=x[0],p=x[1]);break;case"Q":for(var A={x:h,y:p},M=1;M<t;M++){var E=n(h,p,x[0],x[1],x[2],x[3],M/15);_.addLineSegment(A.x,A.y,E.x,E.y),A=E}h=x[2],p=x[3];break;case"C":for(var C={x:h,y:p},S=1;S<t;S++){var O=r(h,p,x[0],x[1],x[2],x[3],x[4],x[5],S/15);_.addLineSegment(C.x,C.y,O.x,O.y),C=O}h=x[4],p=x[5];break;case"Z":h===f&&p===d||_.addLineSegment(h,p,f,d)}}for(var T=0;T<i;T++)for(var k=0;k<o;k++){var B=_.findNearestSignedDistance(u[0]+y*(T+.5)/i,u[1]+b*(k+.5)/o,c),P=Math.pow(1-Math.abs(B)/c,m)/2;B<0&&(P=1-P),P=Math.max(0,Math.min(255,Math.round(255*P))),g[k*i+T]=P}return{textureData:g,timing:a()-v}}}function je(e){var t=!1,n=[];function r(){t&&(n.sort((function(e,t){return e.maxX-t.maxX})),t=!1)}function a(e,t,n,r,a,i){var o=a-n,s=i-r,u=o*o+s*s,c=u?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/u)):0,l=e-(n+c*o),f=t-(r+c*s);return l*l+f*f}return{addLineSegment:function(e,r,a,i){var o={x0:e,y0:r,x1:a,y1:i,minX:Math.min(e,a),minY:Math.min(r,i),maxX:Math.max(e,a),maxY:Math.max(r,i)};n.push(o),t=!0},findNearestSignedDistance:function(e,t){r();for(var i=1/0,o=1/0,s=n.length;s--;){var u=n[s];if(u.maxX+o<=e)break;if(e+o>u.minX&&t-o<u.maxY&&t+o>u.minY){var c=a(e,t,u.x0,u.y0,u.x1,u.y1);c<i&&(i=c,o=Math.sqrt(i))}}return function(e,t){r();for(var a=!1,i=n.length;i--;){var o=n[i];if(o.maxX<=e)break;if(o.minY<t&&o.maxY>t)o.y0>t!==o.y1>t&&e<(o.x1-o.x0)*(t-o.y0)/(o.y1-o.y0)+o.x0&&(a=!a)}return a}(e,t)&&(o=-o),o}}}var Fe=Object(ve.c)({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var u=n.readUint(r,a);a+=4,o.push(t._readFont(r,u))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:a},u={},c=0;c<i;c++){var l=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var f=r.readUint(e,n);n+=4;var d=r.readUint(e,n);n+=4,u[l]={offset:f,length:d}}for(c=0;c<o.length;c++){var h=o[c];u[h]&&(s[h.trim()]=t[h.trim()].parse(e,u[h].offset,u[h].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var u=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var c=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,u==n)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},u=n;o.readFixed(e,n),n+=4;var c=o.readUshort(e,n);n+=2;var l=o.readUshort(e,n);n+=2;var f=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,u+c),s.featureList=t._lctf.readFeatureList(e,u+l),s.lookupList=t._lctf.readLookupList(e,u+f,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=a.readUshort(e,n);n+=2;var l=t._lctf.readLookupTable(e,i+c,r);o.push(l)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var u=o.ltype,c=0;c<s;c++){var l=a.readUshort(e,n);n+=2;var f=r(e,u,i+l,o);o.tabs.push(f)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++)a.push(o+u),a.push(o+u),a.push(r.readUshort(e,n)),n+=2}if(2==i){var c=r.readUshort(e,n);for(n+=2,u=0;u<c;u++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2;var l=t._lctf.readFeatureTable(e,a+c);l.tag=u.trim(),i.push(l)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var u=0;u<s;u++)i.tab.push(r.readUshort(e,n+2*u));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readScriptTable(e,a+c)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,i.default=t._lctf.readLangSysTable(e,a+o);var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,i[c.trim()]=t._lctf.readLangSysTable(e,a+l)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var u=[];n=t.CFF.readIndex(e,n,u);var c=[];for(s=0;s<u.length-1;s++)c.push(t.CFF.readDict(e,n+u[s],n+u[s+1]));n+=u[u.length-1];var l=c[0],f=[];n=t.CFF.readIndex(e,n,f);var d=[];for(s=0;s<f.length-1;s++)d.push(a.readASCII(e,n+f[s],f[s+1]-f[s]));if(n+=f[f.length-1],t.CFF.readSubrs(e,n,l),l.CharStrings){n=l.CharStrings,f=[],n=t.CFF.readIndex(e,n,f);var h=[];for(s=0;s<f.length-1;s++)h.push(a.readBytes(e,n+f[s],f[s+1]-f[s]));l.CharStrings=h}if(l.ROS){n=l.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),l.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,d),l.FDArray.push(m)}n+=p[p.length-1],n=l.FDSelect,l.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=a.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)l.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return l.Encoding&&(l.Encoding=t.CFF.readEncoding(e,l.Encoding,l.CharStrings.length)),l.charset&&(l.charset=t.CFF.readCharset(e,l.charset,l.CharStrings.length)),t.CFF._readFDict(e,l,d),l},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var u=0;u<i.length-1;u++)r.Subrs.push(a.readBytes(e,n+i[u],i[u+1]-i[u]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var u=a.readUshort(e,n);n+=2,i.push(u)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){u=a.readUshort(e,n),n+=2;var c=0;for(1==o?(c=e[n],n++):(c=a.readUshort(e,n),n+=2),s=0;s<=c;s++)i.push(u),u++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,u=null,c=null;i<=20&&(u=i,s=1),12==i&&(u=100*i+o,s=2),21<=i&&i<=27&&(u=i,s=1),28==i&&(c=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(u=i,s=1),32<=i&&i<=246&&(c=i-139,s=1),247<=i&&i<=250&&(c=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(c=256*-(i-251)-o-108,s=2),255==i&&(c=a.readInt(e,n+1)/65535,s=5),r.val=null!=c?c:"o"+u,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],u=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,l=null,f=null;s<=20&&(l=s,c=1),12==s&&(l=100*s+u,c=2),19!=s&&20!=s||(l=s,c=2),21<=s&&s<=27&&(l=s,c=1),28==s&&(f=i.readShort(e,n+1),c=3),29<=s&&s<=31&&(l=s,c=1),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s&&(f=i.readInt(e,n+1)/65535,c=5),o.push(null!=f?f:"o"+l),n+=c}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],u=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,l=null,f=null;if(28==s&&(f=a.readShort(e,n+1),c=3),29==s&&(f=a.readInt(e,n+1),c=5),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s)throw f=a.readInt(e,n+1)/65535,c=5,"unknown number";if(30==s){var d=[];for(c=1;;){var h=e[n+c];c++;var p=h>>4,m=15&h;if(15!=p&&d.push(p),15!=m&&d.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)v+=g[d[y]];f=parseFloat(v)}s<=21&&(l=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],c=1,12==s&&(l=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],c=2)),null!=l?(i[l]=1==o.length?o[0]:o,o=[]):o.push(f),n+=c}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var u=0;u<o;u++){var c=a.readUshort(e,n);n+=2;var l=a.readUshort(e,n);n+=2;var f=a.readUint(e,n);n+=4;var d="p"+c+"e"+l,h=s.indexOf(f);if(-1==h){var p;h=i.tables.length,s.push(f);var m=a.readUshort(e,f);0==m?p=t.cmap.parse0(e,f):4==m?p=t.cmap.parse4(e,f):6==m?p=t.cmap.parse6(e,f):12==m?p=t.cmap.parse12(e,f):console.debug("unknown format: "+m,c,l,f),i.tables.push(p)}if(null!=i[d])throw"multiple tables for one platform+encoding";i[d]=h}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var u=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,u),n+=2*u,n+=2,i.startCount=r.readUshorts(e,n,u),n+=2*u,i.idDelta=[];for(var c=0;c<u;c++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,u),n+=2*u,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,u=r.readUint(e,s+0),c=r.readUint(e,s+4),l=r.readUint(e,s+8);a.groups.push([u,c,l])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var u=r.readUshort(a,i);if(i+=2,a.length-i<u)return null;o.instructions=r.readBytes(a,i,u),i+=u;var c=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<c;s++){var l=a[i];if(i++,o.flags.push(l),0!=(8&l)){var f=a[i];i++;for(var d=0;d<f;d++)o.flags.push(l),s++}}for(o.xs=[],s=0;s<c;s++){var h=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);h?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<c;s++)h=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),h?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var m=0,v=0;for(s=0;s<c;s++)m+=o.xs[s],v+=o.ys[s],o.xs[s]=m,o.ys[s]=v}else{var g;o.parts=[];do{g=r.readUshort(a,i),i+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(a,i),i+=2,1&g){var b=r.readShort(a,i);i+=2;var _=r.readShort(a,i);i+=2}else b=r.readInt8(a,i),i++,_=r.readInt8(a,i),i++;2&g?(y.m.tx=b,y.m.ty=_):(y.p1=b,y.p2=_),8&g?(y.m.a=y.m.d=r.readF2dot14(a,i),i+=2):64&g?(y.m.a=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2):128&g&&(y.m.a=r.readF2dot14(a,i),i+=2,y.m.b=r.readF2dot14(a,i),i+=2,y.m.c=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2)}while(32&g);if(256&g){var w=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<w;s++)o.instr.push(a[i]),i++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var u=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,u+o)}if(1==n&&1==s.fmt){var c=i.readUshort(e,r);r+=2;var l=t._lctf.numOfOnes(c);0!=c&&(s.pos=t.GPOS.readValueRecord(e,r,c))}else if(2==n&&s.fmt>=1&&s.fmt<=2){c=i.readUshort(e,r),r+=2;var f=i.readUshort(e,r);r+=2,l=t._lctf.numOfOnes(c);var d=t._lctf.numOfOnes(f);if(1==s.fmt){s.pairsets=[];var h=i.readUshort(e,r);r+=2;for(var p=0;p<h;p++){var m=o+i.readUshort(e,r);r+=2;var v=i.readUshort(e,m);m+=2;for(var g=[],y=0;y<v;y++){var b=i.readUshort(e,m);m+=2,0!=c&&(E=t.GPOS.readValueRecord(e,m,c),m+=2*l),0!=f&&(C=t.GPOS.readValueRecord(e,m,f),m+=2*d),g.push({gid2:b,val1:E,val2:C})}s.pairsets.push(g)}}if(2==s.fmt){var _=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var A=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+_),s.classDef2=t._lctf.readClassDef(e,o+w),s.matrix=[],p=0;p<x;p++){var M=[];for(y=0;y<A;y++){var E=null,C=null;0!=c&&(E=t.GPOS.readValueRecord(e,r,c),r+=2*l),0!=f&&(C=t.GPOS.readValueRecord(e,r,f),r+=2*d),M.push({val1:E,val2:C})}s.matrix.push(M)}}}else{if(9==n&&1==s.fmt){var S=i.readUshort(e,r);r+=2;var O=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=S;else if(a.ltype!=S)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+O)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var u=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+u)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var c=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,c),r+=2*s.newg.length}}else if(4==n){s.vals=[],c=i.readUshort(e,r),r+=2;for(var l=0;l<c;l++){var f=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+f))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var d=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+d),s.scset=[];var h=i.readUshort(e,r);for(r+=2,l=0;l<h;l++){var p=i.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(l=0;l<3;l++){c=i.readUshort(e,r),r+=2;for(var m=[],v=0;v<c;v++)m.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*v)));r+=2*c,0==l&&(s.backCvg=m),1==l&&(s.inptCvg=m),2==l&&(s.ahedCvg=m)}c=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,c)}}else{if(7==n&&1==s.fmt){var g=i.readUshort(e,r);r+=2;var y=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=g;else if(a.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var u=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+u))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+u))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+u))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,u=0,c=0;c<a.maxp.numGlyphs;c++)c<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,u=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(u);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var u={glyph1:[],rval:[]},c=0;c<s;c++){n+=2,r=i.readUshort(e,n),n+=2;var l=i.readUshort(e,n);n+=2;var f=l>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;n=t.kern.readFormat0(e,n,u)}return u},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},u=0;u<o;u++){i.readUint(e,n),n+=4;var c=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var l=c>>>8;if(0!=(l&=15))throw"unknown kern table format: "+l;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var l=a.readShort(e,n);n+=2,u!=i&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(c),f.vals.push(l),i=u}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,u=a.maxp.numGlyphs+1;if(0==s)for(var c=0;c<u;c++)o.push(i.readUshort(e,n+(c<<1))<<1);if(1==s)for(c=0;c<u;c++)o.push(i.readUint(e,n+(c<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,l=0;l<o;l++){var f=a.readUshort(e,n);n+=2;var d=a.readUshort(e,n);n+=2;var h=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var v=a.readUshort(e,n);n+=2;var g,y=u[p],b=c+12*o+v;if(0==f)g=a.readUnicode(e,b,m/2);else if(3==f&&0==d)g=a.readUnicode(e,b,m/2);else if(0==d)g=a.readASCII(e,b,m);else if(1==d)g=a.readUnicode(e,b,m/2);else if(3==d)g=a.readUnicode(e,b,m/2);else{if(1!=f)throw"unknown encoding "+d+", platformID: "+f;g=a.readASCII(e,b,m),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var _="p"+f+","+h.toString(16);null==i[_]&&(i[_]={}),i[_][void 0!==y?y:p]=g,i[_]._lang=h}for(var w in i)if(null!=i[w].postScriptName&&1033==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&0==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName&&3084==i[w]._lang)return i[w];for(var w in i)if(null!=i[w].postScriptName)return i[w];for(var w in i){s=w;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var u=0;o.FDSelect[u+2]<=n;)u+=2;s=o.FDArray[o.FDSelect[u+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,u=o==i?a:o+1,c=1&e.flags[o],l=1&e.flags[s],f=1&e.flags[u],d=e.xs[o],h=e.ys[o];if(o==a)if(c){if(!l){t.U.P.moveTo(n,d,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else l?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+h)/2);c?l&&t.U.P.lineTo(n,d,h):f?t.U.P.qcurveTo(n,d,h,e.xs[u],e.ys[u]):t.U.P.qcurveTo(n,d,h,(d+e.xs[u])/2,(h+e.ys[u])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,u=0;u<i.crds.length;u+=2){var c=i.crds[u],l=i.crds[u+1];r.crds.push(c*s.a+l*s.b+s.tx),r.crds.push(c*s.c+l*s.d+s.ty)}for(u=0;u<i.cmds.length;u++)r.cmds.push(i.cmds[u])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var a=0;if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,s=i.featureList,u=[],c=0;c<s.length;c++){var l=s[c];if("kern"==l.tag)for(var f=0;f<l.tab.length;f++)if(!u[l.tab[f]]){u[l.tab[f]]=!0;for(var d=o[l.tab[f]],h=0;h<d.tabs.length;h++)if(null!=d.tabs[h]){var p,m=d.tabs[h];if(!m.coverage||-1!=(p=t._lctf.coverageIndex(m.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var v;if(1==m.fmt){var g=m.pairsets[p];for(c=0;c<g.length;c++)g[c].gid2==r&&(v=g[c])}else if(2==m.fmt){var y=t.U._getGlyphClass(n,m.classDef1),b=t.U._getGlyphClass(r,m.classDef2);v=m.matrix[y][b]}v&&v.val1&&v.val1[2]&&(a+=v.val1[2]),v&&v.val2&&v.val2[0]&&(a+=v.val2[0])}}}}if(e.kern){var _=e.kern.glyph1.indexOf(n);if(-1!=_){var w=e.kern.rval[_].glyph2.indexOf(r);-1!=w&&(a+=e.kern.rval[_].vals[w])}}return a},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,u=r.tabs[o];if(!u.coverage||-1!=(s=t._lctf.coverageIndex(u.coverage,e[n])))if(1==r.ltype)e[n],1==u.fmt?e[n]=e[n]+u.delta:e[n]=u.newg[s];else if(4==r.ltype)for(var c=u.vals[s],l=0;l<c.length;l++){var f=c[l],d=f.chain.length;if(!(d>i)){for(var h=!0,p=0,m=0;m<d;m++){for(;-1==e[n+p+(1+m)];)p++;f.chain[m]!=e[n+p+(1+m)]&&(h=!1)}if(h){for(e[n]=f.nglyph,m=0;m<d+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==u.fmt)for(var v=t._lctf.getInterval(u.cDef,e[n]),g=u.cDef[v+2],y=u.scset[g],b=0;b<y.length;b++){var _=y[b],w=_.input;if(!(w.length>i)){for(h=!0,m=0;m<w.length;m++){var x=t._lctf.getInterval(u.cDef,e[n+1+m]);if(-1==v&&u.cDef[x+2]!=w[m]){h=!1;break}}if(h){var A=_.substLookupRecords;for(l=0;l<A.length;l+=2)A[l],A[l+1]}}}else if(6==r.ltype&&3==u.fmt){if(!t.U._glsCovered(e,u.backCvg,n-u.backCvg.length))continue;if(!t.U._glsCovered(e,u.inptCvg,n))continue;if(!t.U._glsCovered(e,u.ahedCvg,n+u.inptCvg.length))continue;var M=u.lookupRec;for(b=0;b<M.length;b+=2){v=M[b];var E=a[M[b+1]];t.U._applySubs(e,n+v,E,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var u=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,c=t.U.glyphToPath(e,s),l=0;l<c.crds.length;l+=2)a.crds.push(c.crds[l]+i),a.crds.push(c.crds[l+1]);for(r&&a.cmds.push(r),l=0;l<c.cmds.length;l++)a.cmds.push(c.cmds[l]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,u))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open,f=0,d=n.x,h=n.y,p=0,m=0,v=0,g=0,y=0,b=0,_=0,w=0,x=0,A=0,M={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,M);var E=M.val;if(f+=M.size,"o1"==E||"o18"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o3"==E||"o23"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o4"==E)o.length>1&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),l&&t.U.P.closePath(i),h+=o.pop(),t.U.P.moveTo(i,d,h),l=!0;else if("o5"==E)for(;o.length>0;)d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h);else if("o6"==E||"o7"==E)for(var C=o.length,S="o6"==E,O=0;O<C;O++){var T=o.shift();S?d+=T:h+=T,S=!S,t.U.P.lineTo(i,d,h)}else if("o8"==E||"o24"==E){C=o.length;for(var k=0;k+6<=C;)p=d+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),h=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,h),k+=6;"o24"==E&&(d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(m=h,v=(p=d+o.shift())+o.shift(),A=g=m+o.shift(),b=g,w=h,d=(_=(y=(x=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,x,A),t.U.P.curveTo(i,y,b,_,w,d,h)),"o1235"==E&&(p=d+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),x=v+o.shift(),A=g+o.shift(),y=x+o.shift(),b=A+o.shift(),_=y+o.shift(),w=b+o.shift(),d=_+o.shift(),h=w+o.shift(),o.shift(),t.U.P.curveTo(i,p,m,v,g,x,A),t.U.P.curveTo(i,y,b,_,w,d,h)),"o1236"==E&&(p=d+o.shift(),m=h+o.shift(),v=p+o.shift(),A=g=m+o.shift(),b=g,_=(y=(x=v+o.shift())+o.shift())+o.shift(),w=b+o.shift(),d=_+o.shift(),t.U.P.curveTo(i,p,m,v,g,x,A),t.U.P.curveTo(i,y,b,_,w,d,h)),"o1237"==E&&(p=d+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),x=v+o.shift(),A=g+o.shift(),y=x+o.shift(),b=A+o.shift(),_=y+o.shift(),w=b+o.shift(),Math.abs(_-d)>Math.abs(w-h)?d=_+o.shift():h=w+o.shift(),t.U.P.curveTo(i,p,m,v,g,x,A),t.U.P.curveTo(i,y,b,_,w,d,h));else if("o14"==E){if(o.length>0&&!u&&(c=o.shift()+r.nominalWidthX,u=!0),4==o.length){var B=o.shift(),P=o.shift(),L=o.shift(),D=o.shift(),j=t.CFF.glyphBySE(r,L),F=t.CFF.glyphBySE(r,D);t.U._drawCFF(r.CharStrings[j],n,r,a,i),n.x=B,n.y=P,t.U._drawCFF(r.CharStrings[F],n,r,a,i)}l&&(t.U.P.closePath(i),l=!1)}else if("o19"==E||"o20"==E)o.length%2!=0&&!u&&(c=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,u=!0,f+=s+7>>3;else if("o21"==E)o.length>2&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),h+=o.pop(),d+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),l=!0;else if("o22"==E)o.length>1&&!u&&(c=o.shift()+a.nominalWidthX,u=!0),d+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),l=!0;else if("o25"==E){for(;o.length>6;)d+=o.shift(),h+=o.shift(),t.U.P.lineTo(i,d,h);p=d+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),h=g+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,h)}else if("o26"==E)for(o.length%2&&(d+=o.shift());o.length>0;)p=d,m=h+o.shift(),d=v=p+o.shift(),h=(g=m+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,v,g,d,h);else if("o27"==E)for(o.length%2&&(h+=o.shift());o.length>0;)m=h,v=(p=d+o.shift())+o.shift(),g=m+o.shift(),d=v+o.shift(),h=g,t.U.P.curveTo(i,p,m,v,g,d,h);else if("o10"==E||"o29"==E){var R="o10"==E?a:r;if(0==o.length)console.debug("error: empty stack");else{var I=o.pop(),z=R.Subrs[I+R.Bias];n.x=d,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l,t.U._drawCFF(z,n,r,a,i),d=n.x,h=n.y,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open}}else if("o30"==E||"o31"==E){var U=o.length,N=(k=0,"o31"==E);for(k+=U-(C=-3&U);k<C;)N?(m=h,v=(p=d+o.shift())+o.shift(),h=(g=m+o.shift())+o.shift(),C-k==5?(d=v+o.shift(),k++):d=v,N=!1):(p=d,m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),d=v+o.shift(),C-k==5?(h=g+o.shift(),k++):h=g,N=!0),t.U.P.curveTo(i,p,m,v,g,d,h),k+=4}else{if("o"==(E+"").charAt(0))throw console.debug("Unknown operation: "+E,e),E;o.push(E)}}}n.x=d,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},u=s(a,2),c=u[0],l=u[1];c[28]=258,l[258]=28;for(var f=s(i,0)[0],d=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,u=new n(t);for(i=0;i<t;++i)u[i]=u[i-1]+o[i-1]<<1;if(r){s=new n(1<<t);var c=15-t;for(i=0;i<a;++i)if(e[i])for(var l=i<<4|e[i],f=t-e[i],h=u[e[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)s[d[h]>>>c]=l}else for(s=new n(a),i=0;i<a;++i)e[i]&&(s[i]=d[u[e[i]-1]++]>>>15-e[i]);return s},v=new t(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var g=new t(32);for(h=0;h<32;++h)g[h]=5;var y=m(v,9,1),b=m(g,5,1),_=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},w=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},x=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function e(t,n,r){var a=new Error(n||A[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,e),!r)throw a;return a},E=function(e,s,u){var l=e.length;if(!l||u&&!u.l&&l<5)return s||new t(0);var d=!s||u,h=!u||u.i;u||(u={}),s||(s=new t(3*l));var p,v=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=u.f||0,A=u.p||0,E=u.b||0,C=u.l,S=u.d,O=u.m,T=u.n,k=8*l;do{if(!C){u.f=g=w(e,A,1);var B=w(e,A+1,3);if(A+=3,!B){var P=e[(H=((p=A)/8|0)+(7&p&&1)+4)-4]|e[H-3]<<8,L=H+P;if(L>l){h&&M(0);break}d&&v(E+P),s.set(e.subarray(H,L),E),u.b=E+=P,u.p=A=8*L;continue}if(1==B)C=y,S=b,O=9,T=5;else if(2==B){var D=w(e,A,31)+257,j=w(e,A+10,15)+4,F=D+w(e,A+5,31)+1;A+=14;for(var R=new t(F),I=new t(19),z=0;z<j;++z)I[o[z]]=w(e,A+3*z,7);A+=3*j;var U=_(I),N=(1<<U)-1,G=m(I,U,1);for(z=0;z<F;){var H,V=G[w(e,A,N)];if(A+=15&V,(H=V>>>4)<16)R[z++]=H;else{var W=0,X=0;for(16==H?(X=3+w(e,A,3),A+=2,W=R[z-1]):17==H?(X=3+w(e,A,7),A+=3):18==H&&(X=11+w(e,A,127),A+=7);X--;)R[z++]=W}}var q=R.subarray(0,D),Q=R.subarray(D);O=_(q),T=_(Q),C=m(q,O,1),S=m(Q,T,1)}else M(1);if(A>k){h&&M(0);break}}d&&v(E+131072);for(var Y=(1<<O)-1,J=(1<<T)-1,K=A;;K=A){var Z=(W=C[x(e,A)&Y])>>>4;if((A+=15&W)>k){h&&M(0);break}if(W||M(2),Z<256)s[E++]=Z;else{if(256==Z){K=A,C=null;break}var $=Z-254;if(Z>264){var ee=a[z=Z-257];$=w(e,A,(1<<ee)-1)+c[z],A+=ee}var te=S[x(e,A)&J],ne=te>>>4;if(te||M(3),A+=15&te,Q=f[ne],ne>3&&(ee=i[ne],Q+=x(e,A)&(1<<ee)-1,A+=ee),A>k){h&&M(0);break}d&&v(E+131072);for(var re=E+$;E<re;E+=4)s[E]=s[E-Q],s[E+1]=s[E+1-Q],s[E+2]=s[E+2-Q],s[E+3]=s[E+3-Q];E=re}}u.l=C,u.p=K,u.b=E,C&&(g=1,u.m=O,u.d=S,u.n=T)}while(!g);return E==s.length?s:function(e,a,i){(null==a||a<0)&&(a=0),(null==i||i>e.length)&&(i=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(i-a);return o.set(e.subarray(a,i)),o}(s,0,E)},C=new t(0),S="undefined"!=typeof TextDecoder&&new TextDecoder;try{S.decode(C,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function a(){var e=t.getUint32(n);return n+=4,e}function i(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:r(),reserved:r(),totalSfntSize:a(),majorVersion:r(),minorVersion:r(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},u=0;Math.pow(2,u)<=s.numTables;)u++;u--;for(var c=16*Math.pow(2,u),l=16*s.numTables-c,f=12,d=[],h=0;h<s.numTables;h++)d.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),f+=16;var p,m=new Uint8Array(12+16*d.length+d.reduce((function(e,t){return e+t.origLength+4}),0)),v=m.buffer,g=new DataView(v),y=0;return o(s.flavor),i(s.numTables),i(c),i(u),i(l),d.forEach((function(e){o(e.tag),o(e.origChecksum),o(f),o(e.origLength),e.outOffset=f,(f+=e.origLength)%4!=0&&(f+=4-f%4)})),d.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var a=new Uint8Array(t.origLength);n=new Uint8Array(r,2),E(n,a)}else a=new Uint8Array(r);m.set(a,t.outOffset);var i=0;(f=t.outOffset+t.origLength)%4!=0&&(i=4-f%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=f+i})),v.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){var n,r={M:2,L:2,Q:4,C:6,Z:0},a={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=[null,"isol","init","fina","medi"];function s(e){for(var t,r=new Uint8Array(e.length),o=32,s=1,u=-1,c=0;c<e.length;c++){var l=e.codePointAt(c),f=0|(t=l,n||function(){var e={R:2,L:1,D:4,C:16,U:32,T:8};n=new Map;var t=function(t){var r=0;a[t].split(",").forEach((function(a){var o=a.split("+"),s=Object(i.a)(o,2),u=s[0],c=s[1];u=parseInt(u,36),c=c?parseInt(c,36):0,n.set(r+=u,e[t]);for(var l=c;l--;)n.set(++r,e[t])}))};for(var r in a)t(r)}(),n.get(t)||32),d=1;8&f||(21&o?22&f?(d=3,1!==s&&3!==s||r[u]++):33&f&&(2!==s&&4!==s||r[u]--):34&o&&(2!==s&&4!==s||r[u]--),s=r[c]=d,o=f,u=c,l>65535&&c++)}return r}function u(t){var n=Object.create(null),a={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(i,u,c,l){var f=0,d=1/a.unitsPerEm*u,h=function(t,n){for(var r=[],a=0;a<n.length;a++){var i=n.codePointAt(a);i>65535&&a++,r.push(e.U.codeToGlyph(t,i))}var u=t.GSUB;if(u){var c,l=u.lookupList,f=u.featureList,d=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,h=[];f.forEach((function(t){if(d.test(t.tag))for(var a=0;a<t.tab.length;a++)if(!h[t.tab[a]]){h[t.tab[a]]=!0;var i=l[t.tab[a]],u=/^(isol|init|fina|medi)$/.test(t.tag);u&&!c&&(c=s(n));for(var f=0;f<r.length;f++)c&&u&&o[c[f]]!==t.tag||e.U._applySubs(r,f,i,l)}}))}return r}(t,i),p=0,m=-1;return h.forEach((function(a,o){if(-1!==a){var s=n[a];if(!s){for(var h,v,g,y,b=e.U.glyphToPath(t,a),_=b.cmds,w=b.crds,x="",A=0,M=0,E=_.length;M<E;M++){var C=r[_[M]];x+=_[M];for(var S=1;S<=C;S++)x+=(S>1?",":"")+w[A++]}if(w.length){h=v=1/0,g=y=-1/0;for(var O=0,T=w.length;O<T;O+=2){var k=w[O],B=w[O+1];k<h&&(h=k),B<v&&(v=B),k>g&&(g=k),B>y&&(y=B)}}else h=g=v=y=0;s=n[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:h,yMin:v,xMax:g,yMax:y,path:x,pathCommandCount:_.length}}-1!==m&&(f+=e.U.getPairAdjustment(t,m,a)*d),l.call(null,s,f,p),s.advanceWidth&&(f+=s.advanceWidth*d),c&&(f+=c*u),m=a}p+=i.codePointAt(p)>65535?2:1})),f}};return a}return function(n){var r=new Uint8Array(n,0,4),a=e._bin.readASCII(r,0,4);if("wOFF"===a)n=t(n);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return u(e.parse(n)[0])}}],init:function(e,t,n){return n(e(),t())}}),Re={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Ie=new l.Color;function ze(){return(self.performance||Date).now()}var Ue,Ne=Object.create(null);function Ge(e,t){!0,e=He({},e);var n=ze();if(e.font=function(e){Ue||(Ue="undefined"===typeof document?{}:document.createElement("a"));return Ue.href=e,Ue.href}(e.font||Re.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Re.sdfGlyphSize,null!=e.colorRanges){var r={};for(var a in e.colorRanges)if(e.colorRanges.hasOwnProperty(a)){var o=e.colorRanges[a];"number"!==typeof o&&(o=Ie.set(o).getHex()),r[a]=o}e.colorRanges=r}Object.freeze(e);var s=Re.textureWidth,u=Re.sdfExponent,c=e.sdfGlyphSize,f="".concat(e.font,"@").concat(c),d=Ne[f];d||((d=Ne[f]={count:0,glyphs:new Map,sdfTexture:new l.DataTexture(new Uint8Array(c*s*4),s,c,l.RGBAFormat,void 0,void 0,void 0,void 0,l.LinearFilter,l.LinearFilter)}).sdfTexture.font=e.font),Xe(e).then((function(r){var a=r.glyphIds,o=r.glyphPositions,s=r.fontSize,l=r.unitsPerEm,f=r.timings,h=[],p=new Float32Array(4*a.length),m=s/l,v=0,g=0,y=ze();a.forEach((function(e,t){var n=d.glyphs.get(e);if(!n){var i=r.glyphData[e],s=i.path,u=i.pathBounds,l=Math.max(u[2]-u[0],u[3]-u[1])/c*(Re.sdfMargin*c+.5),f=d.count++,y=[u[0]-l,u[1]-l,u[2]+l,u[3]+l];d.glyphs.set(e,n={path:s,atlasIndex:f,sdfViewBox:y}),h.push(n)}var b=n.sdfViewBox,_=o[g++],w=o[g++];p[v++]=_+b[0]*m,p[v++]=w+b[1]*m,p[v++]=_+b[2]*m,p[v++]=w+b[3]*m,a[t]=n.atlasIndex})),f.quads=(f.quads||0)+(ze()-y);var b=ze();f.sdf={},ve.a.all(h.map((function(e){var t=e.path,n=e.atlasIndex,r=e.sdfViewBox,a=Math.max(r[2]-r[0],r[3]-r[1]);return We(c,c,t,r,a,Re.sdfExponent).then((function(e){var t=e.textureData,r=e.timing;return f.sdf[n]=r,{atlasIndex:n,textureData:t,timing:r}}))}))).then((function(o){o.length&&(o.forEach((function(e){for(var t=e.atlasIndex,n=e.textureData,r=(e.timing,d.sdfTexture.image);r.data.length<(t+1)*c*c;){var a=new Uint8Array(2*r.data.length);a.set(r.data),r.data=a,r.height*=2}for(var i=Math.floor(t/4),o=r.width/c,s=Math.floor(i/o)*r.width*c*4+i%o*c*4+t%4,u=0;u<c;u++)for(var l=u*c,f=s+u*r.width*4,h=0;h<c;h++)r.data[f+4*h]=n[l+h]})),d.sdfTexture.needsUpdate=!0),f.sdfTotal=ze()-b,f.total=ze()-n,t(Object.freeze({parameters:e,sdfTexture:d.sdfTexture,sdfGlyphSize:c,sdfExponent:u,glyphBounds:p,glyphAtlasIndices:a,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");var e=Object(i.a)(r.blockBounds,4),t=e[0],n=e[1];return[e[2]-t,e[3]-n]}}))}))}))}function He(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var Ve=Object(ve.c)({name:"Typesetter",dependencies:[Re,Fe,function(e,t,n){var r=n.defaultFontURL,a=Object.create(null),o=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function c(t,n){t||(t=r);var i=a[t];i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},function(t,n){!function a(){var i=function(e){console.error("Failure loading font ".concat(t).concat(t===r?"":"; trying fallback"),e),t!==r&&(t=r,a())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)i(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(r){i(r)}},o.onerror=i,o.send()}catch(s){i(s)}}()}(t,(function(e){var n=a[t].pending;a[t]=e,n.forEach((function(t){return t(e)}))})))}function l(e,n){var a=e.text,l=void 0===a?"":a,m=e.font,v=void 0===m?r:m,g=(e.sdfGlyphSize,e.fontSize),y=void 0===g?1:g,b=e.letterSpacing,_=void 0===b?0:b,w=e.lineHeight,x=void 0===w?"normal":w,A=e.maxWidth,M=void 0===A?o:A,E=e.direction,C=e.textAlign,S=void 0===C?"left":C,O=e.textIndent,T=void 0===O?0:O,k=e.whiteSpace,B=void 0===k?"normal":k,P=e.overflowWrap,L=void 0===P?"normal":P,D=e.anchorX,j=void 0===D?0:D,F=e.anchorY,R=void 0===F?0:F,I=e.includeCaretPositions,z=void 0!==I&&I,U=e.chunkedBoundsSize,N=void 0===U?8192:U,G=e.colorRanges,H=void 0===G?null:G,V=arguments.length>2&&void 0!==arguments[2]&&arguments[2],W=h(),X={fontLoad:0,typesetting:0};l.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),l=l.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),y=+y,_=+_,M=+M,x=x||"normal",T=+T,c(v,(function(e){var r=isFinite(M),a=null,c=null,m=null,v=null,g=null,b=null,w=null,A=0,C=0,O="nowrap"!==B,k=e.ascender,P=e.descender,D=e.unitsPerEm;X.fontLoad=h()-W;var F=h(),I=y/D;"normal"===x&&(x=(k-P)/D);var U=((x*=y)-(k-P)*I)/2,G=-(k*I+U),q=Math.min(x,(k-P)*I),Q=(k+P)/2*I-q/2,Y=T,J=new p,K=[J];e.forEachGlyph(l,y,_,(function(e,t,n){var a,i=l.charAt(n),o=e.advanceWidth*I,c=J.count;if("isEmpty"in e||(e.isWhitespace=!!i&&/\s/.test(i),e.canBreakAfter=!!i&&u.test(i),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||s.test(i)),e.isWhitespace||e.isEmpty||C++,O&&r&&!e.isWhitespace&&t+o+Y>M&&c){if(J.glyphAt(c-1).glyphObj.canBreakAfter)a=new p,Y=-t;else for(var f=c;f--;){if(0===f&&"break-word"===L){a=new p,Y=-t;break}if(J.glyphAt(f).glyphObj.canBreakAfter){var d=(a=J.splitAt(f+1)).glyphAt(0).x;Y-=d;for(var h=a.count;h--;)a.glyphAt(h).x-=d;break}}a&&(J.isSoftWrapped=!0,J=a,K.push(J),A=M)}var m=J.glyphAt(J.count);m.glyphObj=e,m.x=t+Y,m.width=o,m.charIndex=n,"\n"===i&&(J=new p,K.push(J),Y=-(t+o+_*y)+T)})),K.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,a=n.x,i=n.width;if(!r.isWhitespace)return e.width=a+i,void(e.width>A&&(A=e.width))}}));var Z=0,$=0;if(j&&("number"===typeof j?Z=-j:"string"===typeof j&&(Z=-A*("left"===j?0:"center"===j?.5:"right"===j?1:f(j)))),R)if("number"===typeof R)$=-R;else if("string"===typeof R){var ee=K.length*x;$="top"===R?0:"top-baseline"===R?-G:"middle"===R?ee/2:"bottom"===R?ee:"bottom-baseline"===R?ee-U+P*I:f(R)*ee}if(!V){var te=t.getEmbeddingLevels(l,E);a=new Uint16Array(C),c=new Float32Array(2*C),m={},b=[o,o,-1/0,-1/0],w=[];var ne=G;z&&(g=new Float32Array(3*l.length)),H&&(v=new Uint8Array(3*C));var re,ae,ie=0,oe=-1,se=-1;if(K.forEach((function(n,r){var s=n.count,u=n.width;if(s>0){for(var f=0,h=s;h--&&n.glyphAt(h).glyphObj.isWhitespace;)f++;var p=0,y=0;if("center"===S)p=(A-u)/2;else if("right"===S)p=A-u;else if("justify"===S&&n.isSoftWrapped){for(var _=0,M=s-f;M--;)n.glyphAt(M).glyphObj.isWhitespace&&_++;y=(A-u)/_}if(y||p)for(var E=0,C=0;C<s;C++){var O=n.glyphAt(C),T=O.glyphObj;O.x+=p+E,0!==y&&T.isWhitespace&&C<s-f&&(E+=y,O.width+=y)}for(var k,B=t.getReorderSegments(l,te,n.glyphAt(0).charIndex,n.glyphAt(n.count-1).charIndex),P=0;P<B.length;P++)for(var L=Object(i.a)(B[P],2),D=L[0],j=L[1],F=1/0,R=-1/0,U=0;U<s;U++)if(n.glyphAt(U).charIndex>=D){for(var G=U,V=U;V<s;V++){var W=n.glyphAt(V);if(W.charIndex>j)break;V<s-f&&(F=Math.min(F,W.x),R=Math.max(R,W.x+W.width))}for(var X=G;X<V;X++){var q=n.glyphAt(X);q.x=R-(q.x+q.width-F)}break}for(var Y=function(e){return k=e},J=0;J<s;J++){var K=n.glyphAt(J),ee=(k=K.glyphObj).index,ue=1&te.levels[K.charIndex];if(ue){var ce=t.getMirroredCharacter(l[K.charIndex]);ce&&e.forEachGlyph(ce,0,0,Y)}if(z){var le=K.charIndex,fe=K.x+Z,de=K.x+K.width+Z;g[3*le]=ue?de:fe,g[3*le+1]=ue?fe:de,g[3*le+2]=ne+Q+$;var he=le-oe;he>1&&d(g,oe,he),oe=le}if(H)for(var pe=K.charIndex;pe>se;)se++,H.hasOwnProperty(se)&&(ae=H[se]);if(!k.isWhitespace&&!k.isEmpty){var me=ie++;m[ee]||(m[ee]={path:k.path,pathBounds:[k.xMin,k.yMin,k.xMax,k.yMax]});var ve=K.x+Z,ge=ne+$;c[2*me]=ve,c[2*me+1]=ge;var ye=ve+k.xMin*I,be=ge+k.yMin*I,_e=ve+k.xMax*I,we=ge+k.yMax*I;ye<b[0]&&(b[0]=ye),be<b[1]&&(b[1]=be),_e>b[2]&&(b[2]=_e),we>b[3]&&(b[3]=we),me%N===0&&(re={start:me,end:me,rect:[o,o,-1/0,-1/0]},w.push(re)),re.end++;var xe=re.rect;if(ye<xe[0]&&(xe[0]=ye),be<xe[1]&&(xe[1]=be),_e>xe[2]&&(xe[2]=_e),we>xe[3]&&(xe[3]=we),a[me]=ee,H){var Ae=3*me;v[Ae]=ae>>16&255,v[Ae+1]=ae>>8&255,v[Ae+2]=255&ae}}}}ne-=x})),g){var ue=l.length-oe;ue>1&&d(g,oe,ue)}}X.typesetting=h()-F,n({glyphIds:a,glyphPositions:c,glyphData:m,caretPositions:g,caretHeight:q,glyphColors:v,chunkedBounds:w,fontSize:y,unitsPerEm:D,ascender:k*I,descender:P*I,lineHeight:x,topBaseline:G,blockBounds:[Z,$-K.length*x,Z+A,$],visibleBounds:b,timings:X})}))}function f(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function d(e,t,n){for(var r=e[3*t],a=e[3*t+1],i=e[3*t+2],o=(a-r)/n,s=0;s<n;s++){var u=3*(t+s);e[u]=r+o*s,e[u+1]=r+o*(s+1),e[u+2]=i}}function h(){return(self.performance||Date).now()}function p(){this.data=[]}var m=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(e*m.length),t}},p.flyweight=m.reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[this.index*m.length+n]},set:function(e){this.data[this.index*m.length+n]=e}}),e}),{data:null,index:0}),{typeset:l,measure:function(e,t){l(e,(function(e){var n=Object(i.a)(e.blockBounds,4),r=n[0],a=n[1],o=n[2],s=n[3];t({width:o-r,height:s-a})}),{metricsOnly:!0})},loadFont:c}},ge],init:function(e,t,n,r){var a=e.defaultFontURL;return n(t,r(),{defaultFontURL:a})}}),We=function(){var e={},t=0;return function(){var n,r="TroikaTextSDFGenerator_"+t++%4,a=e[r];return a||(a=e[r]={workerModule:Object(ve.c)({name:r,workerId:r,dependencies:[Re,je,De],init:function(e,t,n){return n(t,{sdfExponent:e.sdfExponent,sdfMargin:e.sdfMargin})},getTransferables:function(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),a.requests++,clearTimeout(a.idleTimer),(n=a).workerModule.apply(n,arguments).then((function(e){return 0===--a.requests&&(a.idleTimer=setTimeout((function(){Object(ve.d)(r)}),2e3)),e}))}}(),Xe=Object(ve.c)({name:"Typesetter",dependencies:[Ve,ve.b],init:function(e,t){return function(n){var r=new t;return e.typeset(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),t}});var qe=function(){var e={};new l.Vector3;var t="aTroikaGlyphIndex",n=function(n){Object(Y.a)(o,n);var i=Object(J.a)(o);function o(){var e;return Object(q.a)(this,o),(e=i.call(this)).detail=1,e.curveRadius=0,e.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],e.boundingSphere=new l.Sphere,e.boundingBox=new l.Box3,e}return Object(X.a)(o,[{key:"computeBoundingSphere",value:function(){}},{key:"computeBoundingBox",value:function(){}},{key:"detail",get:function(){return this._detail},set:function(t){var n=this;if(t!==this._detail){this._detail=t,("number"!==typeof t||t<1)&&(t=1);var r=function(t){var n=e[t];return n||(n=e[t]=new l.PlaneBufferGeometry(1,1,t,t).translate(.5,.5,0)),n}(t);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}}},{key:"curveRadius",get:function(){return this._curveRadius},set:function(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}},{key:"updateGlyphs",value:function(e,n,i,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=i,this._chunkedBounds=o,a(this,n.length),this._updateBounds()}},{key:"_updateBounds",value:function(){var e=this._blockBounds;if(e){var t=this.curveRadius,n=this.boundingBox;if(t){var r=Math.PI,a=Math.floor,i=Math.min,o=Math.max,s=Math.sin,u=Math.cos,c=r/2,l=2*r,f=Math.abs(t),d=e[0]/f,h=e[2]/f,p=a((d+c)/l)!==a((h+c)/l)?-f:i(s(d)*f,s(h)*f),m=a((d-c)/l)!==a((h-c)/l)?f:o(s(d)*f,s(h)*f),v=a((d+r)/l)!==a((h+r)/l)?2*f:o(f-u(d)*f,f-u(h)*f);n.min.set(p,e[1],t<0?-v:0),n.max.set(m,e[3],t<0?0:v)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}},{key:"applyClipRect",value:function(e){var n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(var i=r.length;i--;){n=r[i].end;var o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}a(this,n)}}]),o}(l.InstancedBufferGeometry);function r(e,t,n,r){var a=e.getAttribute(t);n?a&&a.array.length===n.length?(a.array.set(n),a.needsUpdate=!0):(e.setAttribute(t,new l.InstancedBufferAttribute(n,r)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(t)}function a(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n}(),Qe="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),Ye="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of encoding in SDFGenerator.js\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");var Je=function(){var e=new l.MeshBasicMaterial({color:16777215,side:l.DoubleSide,transparent:!0}),t=8421504,n=new l.Matrix4,r=new l.Vector3,a=new l.Vector3,o=[],s=new l.Vector3,u="+x+y";function c(e){return Array.isArray(e)?e[0]:e}var f=function(){var t=new l.Mesh(new l.PlaneBufferGeometry(1,1),e);return f=function(){return t},t},d=function(){var t=new l.Mesh(new l.PlaneBufferGeometry(1,1,32,1),e);return d=function(){return t},t},h={type:"syncstart"},p={type:"synccomplete"},m=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],v=m.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),g=function(m){Object(Y.a)(y,m);var g=Object(J.a)(y);function y(){var e;Object(q.a)(this,y);var n=new qe;return(e=g.call(this,n,null)).text="",e.anchorX=0,e.anchorY=0,e.curveRadius=0,e.direction="auto",e.font=null,e.fontSize=.1,e.letterSpacing=0,e.lineHeight="normal",e.maxWidth=1/0,e.overflowWrap="normal",e.textAlign="left",e.textIndent=0,e.whiteSpace="normal",e.material=null,e.color=null,e.colorRanges=null,e.outlineWidth=0,e.outlineColor=0,e.outlineOpacity=1,e.outlineBlur=0,e.outlineOffsetX=0,e.outlineOffsetY=0,e.strokeWidth=0,e.strokeColor=t,e.strokeOpacity=1,e.fillOpacity=1,e.depthOffset=0,e.clipRect=null,e.orientation=u,e.glyphGeometryDetail=1,e.sdfGlyphSize=null,e.debugSDF=!1,e}return Object(X.a)(y,[{key:"sync",value:function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(h),Ge({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(p),e&&e()}))))}},{key:"onBeforeRender",value:function(e,t,n,r,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}},{key:"dispose",value:function(){this.geometry.dispose()}},{key:"textRenderInfo",get:function(){return this._textRenderInfo||null}},{key:"material",get:function(){var t=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){var t=Se(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new l.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new l.Vector4(0,0,0,0)},uTroikaClipRect:{value:new l.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new l.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new l.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new l.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:Qe,fragmentDefs:Ye,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat distance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  distance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(ye,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){var r=t._outlineMtl;return r||((r=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,t.addEventListener("dispose",(function e(){t.removeEventListener("dispose",e),r.dispose()}))),[r,t]}return t},set:function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}},{key:"glyphGeometryDetail",get:function(){return this.geometry.detail},set:function(e){this.geometry.detail=e}},{key:"curveRadius",get:function(){return this.geometry.curveRadius},set:function(e){this.geometry.curveRadius=e}},{key:"customDepthMaterial",get:function(){return c(this.material).getDepthMaterial()}},{key:"customDistanceMaterial",get:function(){return c(this.material).getDistanceMaterial()}},{key:"_prepareForRender",value:function(e){var o=e.isTextOutlineMaterial,c=e.uniforms,f=this.textRenderInfo;if(f){var d=f.sdfTexture,h=f.blockBounds;c.uTroikaSDFTexture.value=d,c.uTroikaSDFTextureSize.value.set(d.image.width,d.image.height),c.uTroikaSDFGlyphSize.value=f.sdfGlyphSize,c.uTroikaSDFExponent.value=f.sdfExponent,c.uTroikaTotalBounds.value.fromArray(h),c.uTroikaUseGlyphColors.value=!o&&!!f.glyphColors;var p,m,v,g=0,y=0,b=0,_=0,w=0;if(o){var x=this.outlineWidth,A=this.outlineOffsetX,M=this.outlineOffsetY,E=this.outlineBlur,C=this.outlineOpacity;g=this._parsePercent(x)||0,y=Math.max(0,this._parsePercent(E)||0),p=C,_=this._parsePercent(A)||0,w=this._parsePercent(M)||0}else(b=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(v=this.strokeColor,c.uTroikaStrokeColor.value.set(null==v?t:v),null==(m=this.strokeOpacity)&&(m=1)),p=this.fillOpacity;c.uTroikaDistanceOffset.value=g,c.uTroikaPositionOffset.value.set(_,w),c.uTroikaBlurRadius.value=y,c.uTroikaStrokeWidth.value=b,c.uTroikaStrokeOpacity.value=m,c.uTroikaFillOpacity.value=null==p?1:p,c.uTroikaCurveRadius.value=this.curveRadius||0;var S=this.clipRect;if(S&&Array.isArray(S)&&4===S.length)c.uTroikaClipRect.value.fromArray(S);else{var O=100*(this.fontSize||.1);c.uTroikaClipRect.value.set(h[0]-O,h[1]-O,h[2]+O,h[3]+O)}this.geometry.applyClipRect(c.uTroikaClipRect.value)}c.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var T=o?this.outlineColor||0:this.color;if(null==T)delete e.color;else{var k=e.hasOwnProperty("color")?e.color:e.color=new l.Color;T===k._input&&"object"!==typeof T||k.set(k._input=T)}var B=this.orientation||u;if(B!==e._orientation){var P=c.uTroikaOrient.value,L=(B=B.replace(/[^-+xyz]/g,""))!==u&&B.match(/^([-+])([xyz])([-+])([xyz])$/);if(L){var D=Object(i.a)(L,5),j=D[1],F=D[2],R=D[3],I=D[4];r.set(0,0,0)[F]="-"===j?1:-1,a.set(0,0,0)[I]="-"===R?-1:1,n.lookAt(s,r.cross(a),a),P.setFromMatrix4(n)}else P.identity();e._orientation=B}}},{key:"_parsePercent",value:function(e){if("string"===typeof e){var t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}},{key:"localPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new l.Vector2;t.copy(e);var n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}},{key:"worldPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new l.Vector2;return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}},{key:"raycast",value:function(e,t){var n=this.textRenderInfo,r=this.curveRadius;if(n){for(var a=n.blockBounds,i=r?d():f(),s=i.geometry,u=s.attributes,c=u.position,l=u.uv,h=0;h<l.count;h++){var p=a[0]+l.getX(h)*(a[2]-a[0]),m=a[1]+l.getY(h)*(a[3]-a[1]),v=0;r&&(v=r-Math.cos(p/r)*r,p=Math.sin(p/r)*r),c.setXYZ(h,p,m,v)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,o.length=0,i.raycast(e,o);for(var g=0;g<o.length;g++)o[g].object=this,t.push(o[g])}}},{key:"copy",value:function(e){var t=this,n=this.geometry;return Object(ne.a)(Object(re.a)(y.prototype),"copy",this).call(this,e),this.geometry=n,v.forEach((function(n){t[n]=e[n]})),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),y}(l.Mesh);m.forEach((function(e){var t="_private_"+e;Object.defineProperty(g.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var y=!1;return Object.defineProperty(g.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,y||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),y=!0),Array.isArray(e)?(this.anchorX="".concat(100*(+e[0]||0),"%"),this.anchorY="".concat(100*(+e[1]||0),"%")):this.anchorX=this.anchorY=0}}),g}();new WeakMap;new WeakMap;var Ke=["anchorX","anchorY","children","onSync"],Ze=u.forwardRef((function(e,t){var n=e.anchorX,r=void 0===n?"center":n,a=e.anchorY,c=void 0===a?"middle":a,l=e.children,d=e.onSync,h=Object(o.a)(e,Ke),p=Object(f.useThree)((function(e){return e.invalidate})),m=u.useState((function(){return new Je})),v=Object(i.a)(m,1)[0],g=u.useMemo((function(){var e=[],t="";return u.Children.forEach(l,(function(n){"string"===typeof n||"number"===typeof n?t+=n:e.push(n)})),[e,t]}),[l]),y=Object(i.a)(g,2),b=y[0],_=y[1];return u.useLayoutEffect((function(){v.sync((function(){p(),d&&d(v)}))})),u.useEffect((function(){return function(){return v.dispose()}}),[v]),u.createElement("primitive",s({object:v,ref:t,text:_,anchorX:r,anchorY:c},h),b)})),$e={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},et=function(){function e(){Object(q.a)(this,e),K(this,"enabled",!0),K(this,"needsSwap",!0),K(this,"clear",!1),K(this,"renderToScreen",!1)}return Object(X.a)(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,a){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}]),e}(),tt=function(){function e(t){Object(q.a)(this,e),K(this,"camera",new l.OrthographicCamera(-1,1,1,-1,0,1)),K(this,"geometry",new l.PlaneGeometry(2,2)),K(this,"mesh",void 0),this.mesh=new l.Mesh(this.geometry,t)}return Object(X.a)(e,[{key:"material",get:function(){return this.mesh.material},set:function(e){this.mesh.material=e}},{key:"dispose",value:function(){this.mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this.mesh,this.camera)}}]),e}(),nt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tDiffuse";return Object(q.a)(this,n),r=t.call(this),K(Object(Q.a)(r),"textureID",void 0),K(Object(Q.a)(r),"uniforms",void 0),K(Object(Q.a)(r),"material",void 0),K(Object(Q.a)(r),"fsQuad",void 0),r.textureID=a,e instanceof l.ShaderMaterial?(r.uniforms=e.uniforms,r.material=e):(r.uniforms=l.UniformsUtils.clone(e.uniforms),r.material=new l.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:r.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),r.fsQuad=new tt(r.material),r}return Object(X.a)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}]),n}(et),rt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"scene",void 0),K(Object(Q.a)(a),"camera",void 0),K(Object(Q.a)(a),"inverse",void 0),a.scene=e,a.camera=r,a.clear=!0,a.needsSwap=!1,a.inverse=!1,a}return Object(X.a)(n,[{key:"render",value:function(e,t,n){var r,a,i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,a=1):(r=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,r,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(et),at=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e;return Object(q.a)(this,n),(e=t.call(this)).needsSwap=!1,e}return Object(X.a)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(et),it=function(){function e(t,n){if(Object(q.a)(this,e),K(this,"renderer",void 0),K(this,"_pixelRatio",void 0),K(this,"_width",void 0),K(this,"_height",void 0),K(this,"renderTarget1",void 0),K(this,"renderTarget2",void 0),K(this,"writeBuffer",void 0),K(this,"readBuffer",void 0),K(this,"renderToScreen",void 0),K(this,"passes",[]),K(this,"copyPass",void 0),K(this,"clock",void 0),this.renderer=t,void 0===n){var r={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBAFormat},a=t.getSize(new l.Vector2);this._pixelRatio=t.getPixelRatio(),this._width=a.width,this._height=a.height,(n=new l.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,r)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,void 0===$e&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===nt&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new nt($e),this.clock=new l.Clock}return Object(X.a)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=this.passes.length,a=0;a<r;a++){var i=this.passes[a];if(!1!==i.enabled){if(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),i.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==rt&&(i instanceof rt?n=!0:i instanceof at&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new l.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var a=0;a<this.passes.length;a++)this.passes[a].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}]),e}(),ot=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r,a,i){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(q.a)(this,n),o=t.call(this),K(Object(Q.a)(o),"scene",void 0),K(Object(Q.a)(o),"camera",void 0),K(Object(Q.a)(o),"overrideMaterial",void 0),K(Object(Q.a)(o),"clearColor",void 0),K(Object(Q.a)(o),"clearAlpha",void 0),K(Object(Q.a)(o),"clearDepth",!1),K(Object(Q.a)(o),"_oldClearColor",new l.Color),o.scene=e,o.camera=r,o.overrideMaterial=a,o.clearColor=i,o.clearAlpha=s,o.clear=!0,o.needsSwap=!1,o}return Object(X.a)(n,[{key:"render",value:function(e,t,n){var r,a=e.autoClear;e.autoClear=!1;var i=null;void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}]),n}(et),st={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 tex = texture2D( tDiffuse, vUv );","\tgl_FragColor = LinearTosRGB( tex );","}"].join("\n")},ut=["children","multisamping","renderIndex","disableGamma","disableRenderPass"];Object(f.extend)({EffectComposer:it,RenderPass:ot,ShaderPass:nt});var ct=function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(t){return!1}},lt=u.forwardRef((function(e,t){var n=e.children,r=e.multisamping,a=void 0===r?8:r,c=e.renderIndex,d=void 0===c?1:c,h=e.disableGamma,p=void 0!==h&&h,m=e.disableRenderPass,v=void 0!==m&&m,g=Object(o.a)(e,ut),y=u.useRef(),b=Object(f.useThree)((function(e){return e.scene})),_=Object(f.useThree)((function(e){return e.camera})),w=Object(f.useThree)((function(e){return e.gl})),x=Object(f.useThree)((function(e){return e.size})),A=u.useState((function(){if(ct()&&a>0){var e=new l.WebGLMultisampleRenderTarget(x.width,x.height,{format:l.RGBAFormat,encoding:l.sRGBEncoding});return e.samples=8,e}})),M=Object(i.a)(A,1)[0];return u.useEffect((function(){var e,t;null==(e=y.current)||e.setSize(x.width,x.height),null==(t=y.current)||t.setPixelRatio(w.getPixelRatio())}),[w,x]),Object(f.useFrame)((function(){var e;return null==(e=y.current)?void 0:e.render()}),d),u.createElement("effectComposer",s({ref:Object(P.default)([t,y]),args:[w,M]},g),!v&&u.createElement("renderPass",{attachArray:"passes",args:[b,_]}),!p&&u.createElement("shaderPass",{attachArray:"passes",args:[st]}),n)})),ft=["stops","colors","size"];function dt(e){var t=e.stops,n=e.colors,r=e.size,a=void 0===r?2048:r,i=Object(o.a)(e,ft),c=u.useMemo((function(){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=16,e.height=a;for(var i=r.createLinearGradient(0,0,0,a),o=t.length;o--;)i.addColorStop(t[o],n[o]);r.fillStyle=i,r.fillRect(0,0,16,a);var s=new l.Texture(e);return s.needsUpdate=!0,s}),[t]);return u.useEffect((function(){return function(){c.dispose()}}),[c]),u.createElement("primitive",s({object:c,attach:"map"},i))}var ht=n(15);function pt(e,t,n,r){return function(o){Object(Y.a)(u,o);var s=Object(J.a)(u);function u(){var o;Object(q.a)(this,u);var c=Object.entries(e);return o=s.call(this,{uniforms:c.reduce((function(e,t){var n=Object(i.a)(t,2),r=n[0],o=n[1],s=l.UniformsUtils.clone(Object(ht.a)({},r,{value:o}));return Object(a.a)(Object(a.a)({},e),s)}),{}),vertexShader:t,fragmentShader:n}),c.forEach((function(e){var t=Object(i.a)(e,1)[0];return Object.defineProperty(Object(Q.a)(o),t,{get:function(){return o.uniforms[t].value},set:function(e){return o.uniforms[t].value=e}})})),r&&r(Object(Q.a)(o)),o}return Object(X.a)(u)}(l.ShaderMaterial)}var mt=function(e){return e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e};function vt(e){var t=Object(f.useThree)((function(e){return e.gl})),n=Object(f.useLoader)(l.TextureLoader,mt(e)?Object.values(e):e);if(Object(u.useEffect)((function(){(Array.isArray(n)?n:[n]).forEach(t.initTexture)}),[t,n]),mt(e)){var r=Object.keys(e),a={};return r.forEach((function(e){return Object.assign(a,Object(ht.a)({},e,n[r.indexOf(e)]))})),a}return n}vt.preload=function(e){return f.useLoader.preload(l.TextureLoader,e)},vt.clear=function(e){return f.useLoader.clear(l.TextureLoader,e)};var gt=["children","color","segments","scale","zoom","grayscale","url"],yt=pt({color:new l.Color("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0},"\n  varying vec2 vUv;\n  void main() {\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n    vUv = uv;\n  }\n","\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\n  varying vec2 vUv;\n  uniform vec2 scale;\n  uniform vec2 imageBounds;\n  uniform vec3 color;\n  uniform sampler2D map;\n  uniform float zoom;\n  uniform float grayscale;\n  const vec3 luma = vec3(.299, 0.587, 0.114);\n  vec4 toGrayscale(vec4 color, float intensity) {\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\n  }\n  vec2 aspect(vec2 size) {\n    return size / min(size.x, size.y);\n  }\n  void main() {\n    vec2 s = aspect(scale);\n    vec2 i = aspect(imageBounds);\n    float rs = s.x / s.y;\n    float ri = i.x / i.y;\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\n    vec2 uv = vUv * s / new + offset;\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, 1.0), grayscale);\n  }\n"),bt=u.forwardRef((function(e,t){var n=e.children,r=e.color,a=e.segments,i=void 0===a?1:a,c=e.scale,l=void 0===c?1:c,d=e.zoom,h=void 0===d?1:d,p=e.grayscale,m=void 0===p?0:p,v=e.url,g=Object(o.a)(e,gt);Object(f.extend)({ImageMaterial:yt});var y=vt(v),b=Array.isArray(l)?[l[0],l[1]]:[l,l],_=[y.image.width,y.image.height];return u.createElement("mesh",s({ref:t,scale:l},g),u.createElement("planeGeometry",{args:[1,1,i,i]}),u.createElement("imageMaterial",{color:r,map:y,zoom:h,grayscale:m,scale:b,imageBounds:_}),n)})),_t=["makeDefault"],wt=u.forwardRef((function(e,t){var n=e.makeDefault,r=Object(o.a)(e,_t),a=Object(f.useThree)((function(e){return e.set})),i=Object(f.useThree)((function(e){return e.camera})),c=Object(f.useThree)((function(e){return e.size})),l=u.useRef();return u.useLayoutEffect((function(){l.current&&!r.manual&&l.current.updateProjectionMatrix()}),[c,r]),u.useLayoutEffect((function(){if(n&&l.current){var e=i;return a((function(){return{camera:l.current}})),function(){return a((function(){return{camera:e}}))}}}),[i,l,n,a]),u.createElement("orthographicCamera",s({left:c.width/-2,right:c.width/2,top:c.height/2,bottom:c.height/-2,ref:Object(P.default)([l,t])},r))})),xt=["makeDefault"],At=u.forwardRef((function(e,t){var n=e.makeDefault,r=Object(o.a)(e,xt),a=Object(f.useThree)((function(e){return e.set})),i=Object(f.useThree)((function(e){return e.camera})),c=Object(f.useThree)((function(e){return e.size})),l=u.useRef();return u.useLayoutEffect((function(){var e=l.current;e&&!r.manual&&(e.aspect=c.width/c.height,e.updateProjectionMatrix())}),[c,r]),u.useLayoutEffect((function(){if(n&&l.current){var e=i;return a((function(){return{camera:l.current}})),function(){return a((function(){return{camera:e}}))}}}),[i,l,n,a]),u.createElement("perspectiveCamera",s({ref:Object(P.default)([l,t])},r))})),Mt=["children","fog","frames","resolution","near","far"];function Et(e){var t=e.children,n=e.fog,r=e.frames,a=void 0===r?1/0:r,s=e.resolution,c=void 0===s?256:s,d=e.near,h=void 0===d?1:d,p=e.far,m=void 0===p?1e3:p,v=Object(o.a)(e,Mt),g=u.useRef(),y=u.useState(),b=Object(i.a)(y,2),_=b[0],w=b[1],x=Object(f.useThree)((function(e){return e.scene})),A=Object(f.useThree)((function(e){return e.gl})),M=u.useMemo((function(){return new l.WebGLCubeRenderTarget(c,{minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:A.outputEncoding})}),[c]),E=0;return Object(f.useFrame)((function(){if(_&&g.current&&(a===1/0||E<a)){g.current.traverse((function(e){return e.visible=!1}));var e=x.fog;x.fog=n||e,_.update(A,x),x.fog=e,g.current.traverse((function(e){return e.visible=!0})),E++}})),u.createElement("group",v,u.createElement("cubeCamera",{ref:w,args:[h,m,M]}),u.createElement("group",{ref:g},t(M.texture)))}var Ct=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(q.a)(this,n),r=t.call(this),K(Object(Q.a)(r),"object",void 0),K(Object(Q.a)(r),"changeEvent",{type:"change"}),K(Object(Q.a)(r),"EPS",1e-6),K(Object(Q.a)(r),"enabled",!0),K(Object(Q.a)(r),"deviceOrientation",{alpha:0,beta:0,gamma:0}),K(Object(Q.a)(r),"screenOrientation",0),K(Object(Q.a)(r),"alphaOffset",0),K(Object(Q.a)(r),"onDeviceOrientationChangeEvent",(function(e){r.deviceOrientation=e})),K(Object(Q.a)(r),"onScreenOrientationChangeEvent",(function(){r.screenOrientation=window.orientation||0})),K(Object(Q.a)(r),"zee",new l.Vector3(0,0,1)),K(Object(Q.a)(r),"euler",new l.Euler),K(Object(Q.a)(r),"q0",new l.Quaternion),K(Object(Q.a)(r),"q1",new l.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5))),K(Object(Q.a)(r),"setObjectQuaternion",(function(e,t,n,a,i){r.euler.set(n,t,-a,"YXZ"),e.setFromEuler(r.euler),e.multiply(r.q1),e.multiply(r.q0.setFromAxisAngle(r.zee,-i))})),K(Object(Q.a)(r),"connect",(function(){r.onScreenOrientationChangeEvent(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",r.onDeviceOrientationChangeEvent))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",r.onDeviceOrientationChangeEvent)),r.enabled=!0})),K(Object(Q.a)(r),"disconnect",(function(){window.removeEventListener("orientationchange",r.onScreenOrientationChangeEvent),window.removeEventListener("deviceorientation",r.onDeviceOrientationChangeEvent),r.enabled=!1})),K(Object(Q.a)(r),"lastQuaternion",new l.Quaternion),K(Object(Q.a)(r),"update",(function(){if(!1!==r.enabled){var e=r.deviceOrientation;if(e){var t=e.alpha?l.MathUtils.degToRad(e.alpha)+r.alphaOffset:0,n=e.beta?l.MathUtils.degToRad(e.beta):0,a=e.gamma?l.MathUtils.degToRad(e.gamma):0,i=r.screenOrientation?l.MathUtils.degToRad(r.screenOrientation):0;r.setObjectQuaternion(r.object.quaternion,t,n,a,i),8*(1-r.lastQuaternion.dot(r.object.quaternion))>r.EPS&&(r.lastQuaternion.copy(r.object.quaternion),r.dispatchEvent(r.changeEvent))}}})),K(Object(Q.a)(r),"dispose",(function(){return r.disconnect()})),r.object=e,r.object.rotation.reorder("YXZ"),r.connect(),r}return Object(X.a)(n)}(l.EventDispatcher),St=["camera","onChange"],Ot=u.forwardRef((function(e,t){var n=e.camera,r=e.onChange,a=Object(o.a)(e,St),c=Object(f.useThree)((function(e){return e.camera})),l=Object(f.useThree)((function(e){return e.invalidate})),d=n||c,h=u.useState((function(){return new Ct(d)})),p=Object(i.a)(h,1)[0];return u.useEffect((function(){var e=function(e){l(),r&&r(e)};return null==p||null==p.addEventListener||p.addEventListener("change",e),function(){return null==p||null==p.removeEventListener?void 0:p.removeEventListener("change",e)}}),[r,p,l]),Object(f.useFrame)((function(){return null==p?void 0:p.update()})),u.useEffect((function(){var e=p;return null==e||e.connect(),function(){return null==e?void 0:e.dispose()}}),[p]),p?u.createElement("primitive",s({ref:t,dispose:void 0,object:p},a)):null}));function Tt(e){e.preventDefault()}var kt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"object",void 0),K(Object(Q.a)(a),"domElement",void 0),K(Object(Q.a)(a),"movementSpeed",1),K(Object(Q.a)(a),"rollSpeed",.005),K(Object(Q.a)(a),"dragToLook",!1),K(Object(Q.a)(a),"autoForward",!1),K(Object(Q.a)(a),"changeEvent",{type:"change"}),K(Object(Q.a)(a),"EPS",1e-6),K(Object(Q.a)(a),"tmpQuaternion",new l.Quaternion),K(Object(Q.a)(a),"mouseStatus",0),K(Object(Q.a)(a),"movementSpeedMultiplier",1),K(Object(Q.a)(a),"moveState",{up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0}),K(Object(Q.a)(a),"moveVector",new l.Vector3(0,0,0)),K(Object(Q.a)(a),"rotationVector",new l.Vector3(0,0,0)),K(Object(Q.a)(a),"keydown",(function(e){if(!e.altKey){switch(e.code){case"ShiftLeft":case"ShiftRight":a.movementSpeedMultiplier=.1;break;case"KeyW":a.moveState.forward=1;break;case"KeyS":a.moveState.back=1;break;case"KeyA":a.moveState.left=1;break;case"KeyD":a.moveState.right=1;break;case"KeyR":a.moveState.up=1;break;case"KeyF":a.moveState.down=1;break;case"ArrowUp":a.moveState.pitchUp=1;break;case"ArrowDown":a.moveState.pitchDown=1;break;case"ArrowLeft":a.moveState.yawLeft=1;break;case"ArrowRight":a.moveState.yawRight=1;break;case"KeyQ":a.moveState.rollLeft=1;break;case"KeyE":a.moveState.rollRight=1}a.updateMovementVector(),a.updateRotationVector()}})),K(Object(Q.a)(a),"keyup",(function(e){switch(e.code){case"ShiftLeft":case"ShiftRight":a.movementSpeedMultiplier=1;break;case"KeyW":a.moveState.forward=0;break;case"KeyS":a.moveState.back=0;break;case"KeyA":a.moveState.left=0;break;case"KeyD":a.moveState.right=0;break;case"KeyR":a.moveState.up=0;break;case"KeyF":a.moveState.down=0;break;case"ArrowUp":a.moveState.pitchUp=0;break;case"ArrowDown":a.moveState.pitchDown=0;break;case"ArrowLeft":a.moveState.yawLeft=0;break;case"ArrowRight":a.moveState.yawRight=0;break;case"KeyQ":a.moveState.rollLeft=0;break;case"KeyE":a.moveState.rollRight=0}a.updateMovementVector(),a.updateRotationVector()})),K(Object(Q.a)(a),"mousedown",(function(e){if(a.dragToLook)a.mouseStatus++;else{switch(e.button){case 0:a.moveState.forward=1;break;case 2:a.moveState.back=1}a.updateMovementVector()}})),K(Object(Q.a)(a),"mousemove",(function(e){if(!a.dragToLook||a.mouseStatus>0){var t=a.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;a.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,a.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,a.updateRotationVector()}})),K(Object(Q.a)(a),"mouseup",(function(e){if(a.dragToLook)a.mouseStatus--,a.moveState.yawLeft=a.moveState.pitchDown=0;else{switch(e.button){case 0:a.moveState.forward=0;break;case 2:a.moveState.back=0}a.updateMovementVector()}a.updateRotationVector()})),K(Object(Q.a)(a),"lastQuaternion",new l.Quaternion),K(Object(Q.a)(a),"lastPosition",new l.Vector3),K(Object(Q.a)(a),"update",(function(e){var t=e*a.movementSpeed,n=e*a.rollSpeed;a.object.translateX(a.moveVector.x*t),a.object.translateY(a.moveVector.y*t),a.object.translateZ(a.moveVector.z*t),a.tmpQuaternion.set(a.rotationVector.x*n,a.rotationVector.y*n,a.rotationVector.z*n,1).normalize(),a.object.quaternion.multiply(a.tmpQuaternion),(a.lastPosition.distanceToSquared(a.object.position)>a.EPS||8*(1-a.lastQuaternion.dot(a.object.quaternion))>a.EPS)&&(a.dispatchEvent(a.changeEvent),a.lastQuaternion.copy(a.object.quaternion),a.lastPosition.copy(a.object.position))})),K(Object(Q.a)(a),"updateMovementVector",(function(){var e=a.moveState.forward||a.autoForward&&!a.moveState.back?1:0;a.moveVector.x=-a.moveState.left+a.moveState.right,a.moveVector.y=-a.moveState.down+a.moveState.up,a.moveVector.z=-e+a.moveState.back})),K(Object(Q.a)(a),"updateRotationVector",(function(){a.rotationVector.x=-a.moveState.pitchDown+a.moveState.pitchUp,a.rotationVector.y=-a.moveState.yawRight+a.moveState.yawLeft,a.rotationVector.z=-a.moveState.rollRight+a.moveState.rollLeft})),K(Object(Q.a)(a),"getContainerDimensions",(function(){return a.domElement==document||a.domElement instanceof Document?{size:[window.innerWidth,window.innerHeight],offset:[0,0]}:{size:[a.domElement.offsetWidth,a.domElement.offsetHeight],offset:[a.domElement.offsetLeft,a.domElement.offsetTop]}})),K(Object(Q.a)(a),"dispose",(function(){a.domElement.removeEventListener("contextmenu",Tt),a.domElement.removeEventListener("mousemove",a.mousemove),a.domElement.removeEventListener("mousedown",a.mousedown),a.domElement.removeEventListener("mouseup",a.mouseup),window.removeEventListener("keydown",a.keydown),window.removeEventListener("keyup",a.keyup)})),void 0===r&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),r=document),a.object=e,a.domElement=r,!r||r instanceof Document||r.setAttribute("tabindex",-1),a.domElement.addEventListener("contextmenu",Tt),a.domElement.addEventListener("mousemove",a.mousemove),a.domElement.addEventListener("mousedown",a.mousedown),a.domElement.addEventListener("mouseup",a.mouseup),window.addEventListener("keydown",a.keydown),window.addEventListener("keyup",a.keyup),a.updateMovementVector(),a.updateRotationVector(),a}return Object(X.a)(n)}(l.EventDispatcher),Bt=["onChange"],Pt=u.forwardRef((function(e,t){var n=e.onChange,r=Object(o.a)(e,Bt),a=Object(f.useThree)((function(e){return e.invalidate})),c=Object(f.useThree)((function(e){return e.camera})),l=Object(f.useThree)((function(e){return e.gl})),d=u.useState((function(){return new kt(c,l.domElement)})),h=Object(i.a)(d,1)[0];return u.useEffect((function(){var e=function(e){a(),n&&n(e)};return null==h||null==h.addEventListener||h.addEventListener("change",e),function(){return null==h||null==h.removeEventListener?void 0:h.removeEventListener("change",e)}}),[n,h,a]),Object(f.useFrame)((function(e,t){return null==h?void 0:h.update(t)})),h?u.createElement("primitive",s({ref:t,dispose:void 0,object:h},r)):null})),Lt=function(e,t){return(e%t+t)%t},Dt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"object",void 0),K(Object(Q.a)(a),"domElement",void 0),K(Object(Q.a)(a),"enabled",!0),K(Object(Q.a)(a),"target",new l.Vector3),K(Object(Q.a)(a),"minDistance",0),K(Object(Q.a)(a),"maxDistance",1/0),K(Object(Q.a)(a),"minZoom",0),K(Object(Q.a)(a),"maxZoom",1/0),K(Object(Q.a)(a),"minPolarAngle",0),K(Object(Q.a)(a),"maxPolarAngle",Math.PI),K(Object(Q.a)(a),"minAzimuthAngle",-1/0),K(Object(Q.a)(a),"maxAzimuthAngle",1/0),K(Object(Q.a)(a),"enableDamping",!1),K(Object(Q.a)(a),"dampingFactor",.05),K(Object(Q.a)(a),"enableZoom",!0),K(Object(Q.a)(a),"zoomSpeed",1),K(Object(Q.a)(a),"enableRotate",!0),K(Object(Q.a)(a),"rotateSpeed",1),K(Object(Q.a)(a),"enablePan",!0),K(Object(Q.a)(a),"panSpeed",1),K(Object(Q.a)(a),"screenSpacePanning",!0),K(Object(Q.a)(a),"keyPanSpeed",7),K(Object(Q.a)(a),"autoRotate",!1),K(Object(Q.a)(a),"autoRotateSpeed",2),K(Object(Q.a)(a),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),K(Object(Q.a)(a),"mouseButtons",{LEFT:l.MOUSE.ROTATE,MIDDLE:l.MOUSE.DOLLY,RIGHT:l.MOUSE.PAN}),K(Object(Q.a)(a),"touches",{ONE:l.TOUCH.ROTATE,TWO:l.TOUCH.DOLLY_PAN}),K(Object(Q.a)(a),"target0",void 0),K(Object(Q.a)(a),"position0",void 0),K(Object(Q.a)(a),"zoom0",void 0),K(Object(Q.a)(a),"_domElementKeyEvents",null),K(Object(Q.a)(a),"getPolarAngle",void 0),K(Object(Q.a)(a),"getAzimuthalAngle",void 0),K(Object(Q.a)(a),"setPolarAngle",void 0),K(Object(Q.a)(a),"setAzimuthalAngle",void 0),K(Object(Q.a)(a),"getDistance",void 0),K(Object(Q.a)(a),"listenToKeyEvents",void 0),K(Object(Q.a)(a),"saveState",void 0),K(Object(Q.a)(a),"reset",void 0),K(Object(Q.a)(a),"update",void 0),K(Object(Q.a)(a),"connect",void 0),K(Object(Q.a)(a),"dispose",void 0),a.object=e,a.domElement=r,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object instanceof l.PerspectiveCamera?a.object.zoom:1,a.getPolarAngle=function(){return h.phi},a.getAzimuthalAngle=function(){return h.theta},a.setPolarAngle=function(e){var t=Lt(e,2*Math.PI),n=h.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.phi=t-n,i.update()},a.setAzimuthalAngle=function(e){var t=Lt(e,2*Math.PI),n=h.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.theta=t-n,i.update()},a.getDistance=function(){return i.object.position.distanceTo(i.target)},a.listenToKeyEvents=function(e){e.addEventListener("keydown",$),a._domElementKeyEvents=e},a.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof l.PerspectiveCamera?i.object.zoom:1},a.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof l.PerspectiveCamera&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(o),i.update(),f=c.NONE},a.update=function(){var t=new l.Vector3,n=(new l.Quaternion).setFromUnitVectors(e.up,new l.Vector3(0,1,0)),r=n.clone().invert(),a=new l.Vector3,s=new l.Quaternion,u=2*Math.PI;return function(){var e=i.object.position;t.copy(e).sub(i.target),t.applyQuaternion(n),h.setFromVector3(t),i.autoRotate&&f===c.NONE&&k(2*Math.PI/60/60*i.autoRotateSpeed),i.enableDamping?(h.theta+=p.theta*i.dampingFactor,h.phi+=p.phi*i.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);var l=i.minAzimuthAngle,y=i.maxAzimuthAngle;return isFinite(l)&&isFinite(y)&&(l<-Math.PI?l+=u:l>Math.PI&&(l-=u),y<-Math.PI?y+=u:y>Math.PI&&(y-=u),h.theta=l<=y?Math.max(l,Math.min(y,h.theta)):h.theta>(l+y)/2?Math.max(l,h.theta):Math.min(y,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=m,h.radius=Math.max(i.minDistance,Math.min(i.maxDistance,h.radius)),!0===i.enableDamping?i.target.addScaledVector(v,i.dampingFactor):i.target.add(v),t.setFromSpherical(h),t.applyQuaternion(r),e.copy(i.target).add(t),i.object.lookAt(i.target),!0===i.enableDamping?(p.theta*=1-i.dampingFactor,p.phi*=1-i.dampingFactor,v.multiplyScalar(1-i.dampingFactor)):(p.set(0,0,0),v.set(0,0,0)),m=1,!!(g||a.distanceToSquared(i.object.position)>d||8*(1-s.dot(i.object.quaternion))>d)&&(i.dispatchEvent(o),a.copy(i.object.position),s.copy(i.object.quaternion),g=!1,!0)}}(),a.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=e,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ee),i.domElement.addEventListener("pointerdown",W),i.domElement.addEventListener("pointercancel",J),i.domElement.addEventListener("wheel",Z)},a.dispose=function(){var e,t,n,r,a,o;null===(e=i.domElement)||void 0===e||e.removeEventListener("contextmenu",ee),null===(t=i.domElement)||void 0===t||t.removeEventListener("pointerdown",W),null===(n=i.domElement)||void 0===n||n.removeEventListener("pointercancel",J),null===(r=i.domElement)||void 0===r||r.removeEventListener("wheel",Z),null===(a=i.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointermove",X),null===(o=i.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",Y),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",$)};var i=Object(Q.a)(a),o={type:"change"},s={type:"start"},u={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=c.NONE,d=1e-6,h=new l.Spherical,p=new l.Spherical,m=1,v=new l.Vector3,g=!1,y=new l.Vector2,b=new l.Vector2,_=new l.Vector2,w=new l.Vector2,x=new l.Vector2,A=new l.Vector2,M=new l.Vector2,E=new l.Vector2,C=new l.Vector2,S=[],O={};function T(){return Math.pow(.95,i.zoomSpeed)}function k(e){p.theta-=e}function B(e){p.phi-=e}var P=function(){var e=new l.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}}(),L=function(){var e=new l.Vector3;return function(t,n){!0===i.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(i.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),D=function(){var e=new l.Vector3;return function(t,n){var r=i.domElement;if(r&&i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera){var a=i.object.position;e.copy(a).sub(i.target);var o=e.length();o*=Math.tan(i.object.fov/2*Math.PI/180),P(2*t*o/r.clientHeight,i.object.matrix),L(2*n*o/r.clientHeight,i.object.matrix)}else r&&i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(P(t*(i.object.right-i.object.left)/i.object.zoom/r.clientWidth,i.object.matrix),L(n*(i.object.top-i.object.bottom)/i.object.zoom/r.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function j(e){i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera?m/=e:i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*e)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(e){i.object instanceof l.PerspectiveCamera&&i.object.isPerspectiveCamera?m*=e:i.object instanceof l.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/e)),i.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function R(e){y.set(e.clientX,e.clientY)}function I(e){w.set(e.clientX,e.clientY)}function z(){if(1==S.length)y.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);y.set(e,t)}}function U(){if(1==S.length)w.set(S[0].pageX,S[0].pageY);else{var e=.5*(S[0].pageX+S[1].pageX),t=.5*(S[0].pageY+S[1].pageY);w.set(e,t)}}function N(){var e=S[0].pageX-S[1].pageX,t=S[0].pageY-S[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function G(e){if(1==S.length)b.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);b.set(n,r)}_.subVectors(b,y).multiplyScalar(i.rotateSpeed);var a=i.domElement;a&&(k(2*Math.PI*_.x/a.clientHeight),B(2*Math.PI*_.y/a.clientHeight)),y.copy(b)}function H(e){if(1==S.length)x.set(e.pageX,e.pageY);else{var t=re(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);x.set(n,r)}A.subVectors(x,w).multiplyScalar(i.panSpeed),D(A.x,A.y),w.copy(x)}function V(e){var t=re(e),n=e.pageX-t.x,r=e.pageY-t.y,a=Math.sqrt(n*n+r*r);E.set(0,a),C.set(0,Math.pow(E.y/M.y,i.zoomSpeed)),j(C.y),M.copy(E)}function W(e){if(!1!==i.enabled){var t,n;if(0===S.length)null===(t=i.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",X),null===(n=i.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",Y);!function(e){S.push(e)}(e),"touch"===e.pointerType?function(e){switch(ne(e),S.length){case 1:switch(i.touches.ONE){case l.TOUCH.ROTATE:if(!1===i.enableRotate)return;z(),f=c.TOUCH_ROTATE;break;case l.TOUCH.PAN:if(!1===i.enablePan)return;U(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(i.touches.TWO){case l.TOUCH.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;i.enableZoom&&N(),i.enablePan&&U(),f=c.TOUCH_DOLLY_PAN;break;case l.TOUCH.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;i.enableZoom&&N(),i.enableRotate&&z(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=i.mouseButtons.LEFT;break;case 1:t=i.mouseButtons.MIDDLE;break;case 2:t=i.mouseButtons.RIGHT;break;default:t=-1}switch(t){case l.MOUSE.DOLLY:if(!1===i.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(e),f=c.DOLLY;break;case l.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enablePan)return;I(e),f=c.PAN}else{if(!1===i.enableRotate)return;R(e),f=c.ROTATE}break;case l.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enableRotate)return;R(e),f=c.ROTATE}else{if(!1===i.enablePan)return;I(e),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(s)}(e)}}function X(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(ne(e),f){case c.TOUCH_ROTATE:if(!1===i.enableRotate)return;G(e),i.update();break;case c.TOUCH_PAN:if(!1===i.enablePan)return;H(e),i.update();break;case c.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;!function(e){i.enableZoom&&V(e),i.enablePan&&H(e)}(e),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;!function(e){i.enableZoom&&V(e),i.enableRotate&&G(e)}(e),i.update();break;default:f=c.NONE}}(e):function(e){if(!1===i.enabled)return;switch(f){case c.ROTATE:if(!1===i.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),_.subVectors(b,y).multiplyScalar(i.rotateSpeed);var t=i.domElement;t&&(k(2*Math.PI*_.x/t.clientHeight),B(2*Math.PI*_.y/t.clientHeight)),y.copy(b),i.update()}(e);break;case c.DOLLY:if(!1===i.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),C.subVectors(E,M),C.y>0?j(T()):C.y<0&&F(T()),M.copy(E),i.update()}(e);break;case c.PAN:if(!1===i.enablePan)return;!function(e){x.set(e.clientX,e.clientY),A.subVectors(x,w).multiplyScalar(i.panSpeed),D(A.x,A.y),w.copy(x),i.update()}(e)}}(e))}function Y(e){var t,n,r;(te(e),0===S.length)&&(null===(t=i.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=i.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",X),null===(r=i.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",Y));i.dispatchEvent(u),f=c.NONE}function J(e){te(e)}function Z(e){!1===i.enabled||!1===i.enableZoom||f!==c.NONE&&f!==c.ROTATE||(e.preventDefault(),i.dispatchEvent(s),function(e){e.deltaY<0?F(T()):e.deltaY>0&&j(T()),i.update()}(e),i.dispatchEvent(u))}function $(e){!1!==i.enabled&&!1!==i.enablePan&&function(e){var t=!1;switch(e.code){case i.keys.UP:D(0,i.keyPanSpeed),t=!0;break;case i.keys.BOTTOM:D(0,-i.keyPanSpeed),t=!0;break;case i.keys.LEFT:D(i.keyPanSpeed,0),t=!0;break;case i.keys.RIGHT:D(-i.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),i.update())}(e)}function ee(e){!1!==i.enabled&&e.preventDefault()}function te(e){delete O[e.pointerId];for(var t=0;t<S.length;t++)if(S[t].pointerId==e.pointerId)return void S.splice(t,1)}function ne(e){var t=O[e.pointerId];void 0===t&&(t=new l.Vector2,O[e.pointerId]=t),t.set(e.pageX,e.pageY)}function re(e){var t=e.pointerId===S[0].pointerId?S[1]:S[0];return O[t.pointerId]}return void 0!==r&&a.connect(r),a.update(),a}return Object(X.a)(n)}(l.EventDispatcher),jt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),(a=t.call(this,e,r)).screenSpacePanning=!1,a.mouseButtons.LEFT=l.MOUSE.PAN,a.mouseButtons.RIGHT=l.MOUSE.ROTATE,a.touches.ONE=l.TOUCH.PAN,a.touches.TWO=l.TOUCH.DOLLY_ROTATE,a}return Object(X.a)(n)}(Dt),Ft=["camera","onChange","onStart","onEnd"],Rt=u.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableDamping:!0},t=arguments.length>1?arguments[1]:void 0,n=e.camera,r=e.onChange,a=e.onStart,i=e.onEnd,c=Object(o.a)(e,Ft),l=Object(f.useThree)((function(e){return e.invalidate})),d=Object(f.useThree)((function(e){return e.camera})),h=Object(f.useThree)((function(e){return e.gl.domElement})),p=n||d,m=u.useMemo((function(){return new jt(p)}),[p]);return u.useEffect((function(){m.connect(h);var e=function(e){l(),r&&r(e)};return m.addEventListener("change",e),a&&m.addEventListener("start",a),i&&m.addEventListener("end",i),function(){m.dispose(),m.removeEventListener("change",e),a&&m.removeEventListener("start",a),i&&m.removeEventListener("end",i)}}),[r,a,i,m,l,h]),Object(f.useFrame)((function(){return m.update()})),u.createElement("primitive",s({ref:t,dispose:void 0,object:m,enableDamping:!0},c))})),It=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],zt=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.regress,i=e.domElement,c=e.enableDamping,l=void 0===c||c,d=e.onChange,h=e.onStart,p=e.onEnd,m=Object(o.a)(e,It),v=Object(f.useThree)((function(e){return e.invalidate})),g=Object(f.useThree)((function(e){return e.camera})),y=Object(f.useThree)((function(e){return e.gl})),b=Object(f.useThree)((function(e){return e.events})),_=Object(f.useThree)((function(e){return e.set})),w=Object(f.useThree)((function(e){return e.get})),x=Object(f.useThree)((function(e){return e.performance})),A=r||g,M=i||("boolean"!==typeof b.connected?b.connected:y.domElement),E=u.useMemo((function(){return new Dt(A)}),[A]);return Object(f.useFrame)((function(){E.enabled&&E.update()})),u.useEffect((function(){var e=function(e){v(),a&&x.regress(),d&&d(e)};return E.connect(M),E.addEventListener("change",e),h&&E.addEventListener("start",h),p&&E.addEventListener("end",p),function(){E.removeEventListener("change",e),h&&E.removeEventListener("start",h),p&&E.removeEventListener("end",p),E.dispose()}}),[M,d,h,p,a,E,v]),u.useEffect((function(){if(n){var e=w().controls;return _({controls:E}),function(){return _({controls:e})}}}),[n,E]),u.createElement("primitive",s({ref:t,object:E,enableDamping:l},m))})),Ut=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"enabled",!0),K(Object(Q.a)(a),"screen",{left:0,top:0,width:0,height:0}),K(Object(Q.a)(a),"rotateSpeed",1),K(Object(Q.a)(a),"zoomSpeed",1.2),K(Object(Q.a)(a),"panSpeed",.3),K(Object(Q.a)(a),"noRotate",!1),K(Object(Q.a)(a),"noZoom",!1),K(Object(Q.a)(a),"noPan",!1),K(Object(Q.a)(a),"staticMoving",!1),K(Object(Q.a)(a),"dynamicDampingFactor",.2),K(Object(Q.a)(a),"minDistance",0),K(Object(Q.a)(a),"maxDistance",1/0),K(Object(Q.a)(a),"keys",["KeyA","KeyS","KeyD"]),K(Object(Q.a)(a),"mouseButtons",{LEFT:l.MOUSE.ROTATE,MIDDLE:l.MOUSE.DOLLY,RIGHT:l.MOUSE.PAN}),K(Object(Q.a)(a),"object",void 0),K(Object(Q.a)(a),"domElement",void 0),K(Object(Q.a)(a),"cursorZoom",!1),K(Object(Q.a)(a),"target",new l.Vector3),K(Object(Q.a)(a),"mousePosition",new l.Vector2),K(Object(Q.a)(a),"STATE",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4}),K(Object(Q.a)(a),"EPS",1e-6),K(Object(Q.a)(a),"lastZoom",1),K(Object(Q.a)(a),"lastPosition",new l.Vector3),K(Object(Q.a)(a),"cursorVector",new l.Vector3),K(Object(Q.a)(a),"targetVector",new l.Vector3),K(Object(Q.a)(a),"_state",a.STATE.NONE),K(Object(Q.a)(a),"_keyState",a.STATE.NONE),K(Object(Q.a)(a),"_eye",new l.Vector3),K(Object(Q.a)(a),"_movePrev",new l.Vector2),K(Object(Q.a)(a),"_moveCurr",new l.Vector2),K(Object(Q.a)(a),"_lastAxis",new l.Vector3),K(Object(Q.a)(a),"_lastAngle",0),K(Object(Q.a)(a),"_zoomStart",new l.Vector2),K(Object(Q.a)(a),"_zoomEnd",new l.Vector2),K(Object(Q.a)(a),"_touchZoomDistanceStart",0),K(Object(Q.a)(a),"_touchZoomDistanceEnd",0),K(Object(Q.a)(a),"_panStart",new l.Vector2),K(Object(Q.a)(a),"_panEnd",new l.Vector2),K(Object(Q.a)(a),"target0",void 0),K(Object(Q.a)(a),"position0",void 0),K(Object(Q.a)(a),"up0",void 0),K(Object(Q.a)(a),"zoom0",void 0),K(Object(Q.a)(a),"changeEvent",{type:"change"}),K(Object(Q.a)(a),"startEvent",{type:"start"}),K(Object(Q.a)(a),"endEvent",{type:"end"}),K(Object(Q.a)(a),"onScreenVector",new l.Vector2),K(Object(Q.a)(a),"getMouseOnScreen",(function(e,t){return a.onScreenVector.set((e-a.screen.left)/a.screen.width,(t-a.screen.top)/a.screen.height),a.onScreenVector})),K(Object(Q.a)(a),"onCircleVector",new l.Vector2),K(Object(Q.a)(a),"getMouseOnCircle",(function(e,t){return a.onCircleVector.set((e-.5*a.screen.width-a.screen.left)/(.5*a.screen.width),(a.screen.height+2*(a.screen.top-t))/a.screen.width),a.onCircleVector})),K(Object(Q.a)(a),"axis",new l.Vector3),K(Object(Q.a)(a),"quaternion",new l.Quaternion),K(Object(Q.a)(a),"eyeDirection",new l.Vector3),K(Object(Q.a)(a),"objectUpDirection",new l.Vector3),K(Object(Q.a)(a),"objectSidewaysDirection",new l.Vector3),K(Object(Q.a)(a),"moveDirection",new l.Vector3),K(Object(Q.a)(a),"angle",0),K(Object(Q.a)(a),"rotateCamera",(function(){a.moveDirection.set(a._moveCurr.x-a._movePrev.x,a._moveCurr.y-a._movePrev.y,0),a.angle=a.moveDirection.length(),a.angle?(a._eye.copy(a.object.position).sub(a.target),a.eyeDirection.copy(a._eye).normalize(),a.objectUpDirection.copy(a.object.up).normalize(),a.objectSidewaysDirection.crossVectors(a.objectUpDirection,a.eyeDirection).normalize(),a.objectUpDirection.setLength(a._moveCurr.y-a._movePrev.y),a.objectSidewaysDirection.setLength(a._moveCurr.x-a._movePrev.x),a.moveDirection.copy(a.objectUpDirection.add(a.objectSidewaysDirection)),a.axis.crossVectors(a.moveDirection,a._eye).normalize(),a.angle*=a.rotateSpeed,a.quaternion.setFromAxisAngle(a.axis,a.angle),a._eye.applyQuaternion(a.quaternion),a.object.up.applyQuaternion(a.quaternion),a._lastAxis.copy(a.axis),a._lastAngle=a.angle):!a.staticMoving&&a._lastAngle&&(a._lastAngle*=Math.sqrt(1-a.dynamicDampingFactor),a._eye.copy(a.object.position).sub(a.target),a.quaternion.setFromAxisAngle(a._lastAxis,a._lastAngle),a._eye.applyQuaternion(a.quaternion),a.object.up.applyQuaternion(a.quaternion)),a._movePrev.copy(a._moveCurr)})),K(Object(Q.a)(a),"zoomCamera",(function(){var e;if(a._state===a.STATE.TOUCH_ZOOM_PAN)e=a._touchZoomDistanceStart/a._touchZoomDistanceEnd,a._touchZoomDistanceStart=a._touchZoomDistanceEnd,a.object.isPerspectiveCamera?a._eye.multiplyScalar(e):a.object.isOrthographicCamera?(a.object.zoom/=e,a.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type");else{if(e=1+(a._zoomEnd.y-a._zoomStart.y)*a.zoomSpeed,Math.abs(e-1)>a.EPS&&e>0&&(a.object.isPerspectiveCamera?(e>1&&a._eye.length()>=a.maxDistance-a.EPS&&(e=1),a._eye.multiplyScalar(e)):a.object.isOrthographicCamera?(e>1&&a.object.zoom<a.maxDistance*a.maxDistance&&(e=1),a.object.zoom/=e):console.warn("THREE.TrackballControls: Unsupported camera type")),a.staticMoving?a._zoomStart.copy(a._zoomEnd):a._zoomStart.y+=(a._zoomEnd.y-a._zoomStart.y)*a.dynamicDampingFactor,a.cursorZoom){a.targetVector.copy(a.target).project(a.object);var t=a.cursorVector.set(a.mousePosition.x,a.mousePosition.y,a.targetVector.z).unproject(a.object);a.target.lerpVectors(t,a.target,e)}a.object.isOrthographicCamera&&a.object.updateProjectionMatrix()}})),K(Object(Q.a)(a),"mouseChange",new l.Vector2),K(Object(Q.a)(a),"objectUp",new l.Vector3),K(Object(Q.a)(a),"pan",new l.Vector3),K(Object(Q.a)(a),"panCamera",(function(){if(a.domElement&&(a.mouseChange.copy(a._panEnd).sub(a._panStart),a.mouseChange.lengthSq()>a.EPS)){if(a.object.isOrthographicCamera){var e=a.object,t=(e.right-e.left)/a.object.zoom,n=(e.top-e.bottom)/a.object.zoom;a.mouseChange.x*=t,a.mouseChange.y*=n}else a.mouseChange.multiplyScalar(a._eye.length()*a.panSpeed);a.pan.copy(a._eye).cross(a.object.up).setLength(a.mouseChange.x),a.pan.add(a.objectUp.copy(a.object.up).setLength(a.mouseChange.y)),a.object.position.add(a.pan),a.target.add(a.pan),a.staticMoving?a._panStart.copy(a._panEnd):a._panStart.add(a.mouseChange.subVectors(a._panEnd,a._panStart).multiplyScalar(a.dynamicDampingFactor))}})),K(Object(Q.a)(a),"checkDistances",(function(){a.noZoom&&a.noPan||(a._eye.lengthSq()>a.maxDistance*a.maxDistance&&(a.object.position.addVectors(a.target,a._eye.setLength(a.maxDistance)),a._zoomStart.copy(a._zoomEnd)),a._eye.lengthSq()<a.minDistance*a.minDistance&&(a.object.position.addVectors(a.target,a._eye.setLength(a.minDistance)),a._zoomStart.copy(a._zoomEnd)))})),K(Object(Q.a)(a),"handleResize",(function(){if(a.domElement){var e=a.domElement.getBoundingClientRect(),t=a.domElement.ownerDocument.documentElement;a.screen.left=e.left+window.pageXOffset-t.clientLeft,a.screen.top=e.top+window.pageYOffset-t.clientTop,a.screen.width=e.width,a.screen.height=e.height}})),K(Object(Q.a)(a),"update",(function(){a._eye.subVectors(a.object.position,a.target),a.noRotate||a.rotateCamera(),a.noZoom||a.zoomCamera(),a.noPan||a.panCamera(),a.object.position.addVectors(a.target,a._eye),a.object.isPerspectiveCamera?(a.checkDistances(),a.object.lookAt(a.target),a.lastPosition.distanceToSquared(a.object.position)>a.EPS&&(a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position))):a.object.isOrthographicCamera?(a.object.lookAt(a.target),(a.lastPosition.distanceToSquared(a.object.position)>a.EPS||a.lastZoom!==a.object.zoom)&&(a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position),a.lastZoom=a.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")})),K(Object(Q.a)(a),"reset",(function(){a._state=a.STATE.NONE,a._keyState=a.STATE.NONE,a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.up.copy(a.up0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a._eye.subVectors(a.object.position,a.target),a.object.lookAt(a.target),a.dispatchEvent(a.changeEvent),a.lastPosition.copy(a.object.position),a.lastZoom=a.object.zoom})),K(Object(Q.a)(a),"keydown",(function(e){!1!==a.enabled&&(window.removeEventListener("keydown",a.keydown),a._keyState===a.STATE.NONE&&(e.code!==a.keys[a.STATE.ROTATE]||a.noRotate?e.code!==a.keys[a.STATE.ZOOM]||a.noZoom?e.code!==a.keys[a.STATE.PAN]||a.noPan||(a._keyState=a.STATE.PAN):a._keyState=a.STATE.ZOOM:a._keyState=a.STATE.ROTATE))})),K(Object(Q.a)(a),"onPointerDown",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseDown(e)}})),K(Object(Q.a)(a),"onPointerMove",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseMove(e)}})),K(Object(Q.a)(a),"onPointerUp",(function(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":a.onMouseUp()}})),K(Object(Q.a)(a),"keyup",(function(){!1!==a.enabled&&(a._keyState=a.STATE.NONE,window.addEventListener("keydown",a.keydown))})),K(Object(Q.a)(a),"onMouseDown",(function(e){if(a.domElement){if(a._state===a.STATE.NONE)switch(e.button){case a.mouseButtons.LEFT:a._state=a.STATE.ROTATE;break;case a.mouseButtons.MIDDLE:a._state=a.STATE.ZOOM;break;case a.mouseButtons.RIGHT:a._state=a.STATE.PAN;break;default:a._state=a.STATE.NONE}var t=a._keyState!==a.STATE.NONE?a._keyState:a._state;t!==a.STATE.ROTATE||a.noRotate?t!==a.STATE.ZOOM||a.noZoom?t!==a.STATE.PAN||a.noPan||(a._panStart.copy(a.getMouseOnScreen(e.pageX,e.pageY)),a._panEnd.copy(a._panStart)):(a._zoomStart.copy(a.getMouseOnScreen(e.pageX,e.pageY)),a._zoomEnd.copy(a._zoomStart)):(a._moveCurr.copy(a.getMouseOnCircle(e.pageX,e.pageY)),a._movePrev.copy(a._moveCurr)),a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp),a.dispatchEvent(a.startEvent)}})),K(Object(Q.a)(a),"onMouseMove",(function(e){if(!1!==a.enabled){var t=a._keyState!==a.STATE.NONE?a._keyState:a._state;t!==a.STATE.ROTATE||a.noRotate?t!==a.STATE.ZOOM||a.noZoom?t!==a.STATE.PAN||a.noPan||a._panEnd.copy(a.getMouseOnScreen(e.pageX,e.pageY)):a._zoomEnd.copy(a.getMouseOnScreen(e.pageX,e.pageY)):(a._movePrev.copy(a._moveCurr),a._moveCurr.copy(a.getMouseOnCircle(e.pageX,e.pageY)))}})),K(Object(Q.a)(a),"onMouseUp",(function(){a.domElement&&!1!==a.enabled&&(a._state=a.STATE.NONE,a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.removeEventListener("pointerup",a.onPointerUp),a.dispatchEvent(a.endEvent))})),K(Object(Q.a)(a),"mousewheel",(function(e){if(!1!==a.enabled&&!0!==a.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:a._zoomStart.y-=.025*e.deltaY;break;case 1:a._zoomStart.y-=.01*e.deltaY;break;default:a._zoomStart.y-=25e-5*e.deltaY}a.mousePosition.x=e.offsetX/a.screen.width*2-1,a.mousePosition.y=-e.offsetY/a.screen.height*2+1,a.dispatchEvent(a.startEvent),a.dispatchEvent(a.endEvent)}})),K(Object(Q.a)(a),"touchstart",(function(e){if(!1!==a.enabled){if(e.preventDefault(),1===e.touches.length)a._state=a.STATE.TOUCH_ROTATE,a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),a._movePrev.copy(a._moveCurr);else{a._state=a.STATE.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;a._touchZoomDistanceEnd=a._touchZoomDistanceStart=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;a._panStart.copy(a.getMouseOnScreen(r,i)),a._panEnd.copy(a._panStart)}a.dispatchEvent(a.startEvent)}})),K(Object(Q.a)(a),"touchmove",(function(e){if(!1!==a.enabled)if(e.preventDefault(),1===e.touches.length)a._movePrev.copy(a._moveCurr),a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY));else{var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;a._touchZoomDistanceEnd=Math.sqrt(t*t+n*n);var r=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;a._panEnd.copy(a.getMouseOnScreen(r,i))}})),K(Object(Q.a)(a),"touchend",(function(e){if(!1!==a.enabled){switch(e.touches.length){case 0:a._state=a.STATE.NONE;break;case 1:a._state=a.STATE.TOUCH_ROTATE,a._moveCurr.copy(a.getMouseOnCircle(e.touches[0].pageX,e.touches[0].pageY)),a._movePrev.copy(a._moveCurr)}a.dispatchEvent(a.endEvent)}})),K(Object(Q.a)(a),"contextmenu",(function(e){!1!==a.enabled&&e.preventDefault()})),K(Object(Q.a)(a),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.addEventListener("contextmenu",a.contextmenu),a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("wheel",a.mousewheel),a.domElement.addEventListener("touchstart",a.touchstart),a.domElement.addEventListener("touchend",a.touchend),a.domElement.addEventListener("touchmove",a.touchmove),a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp),window.addEventListener("keydown",a.keydown),window.addEventListener("keyup",a.keyup),a.handleResize()})),K(Object(Q.a)(a),"dispose",(function(){a.domElement&&(a.domElement.removeEventListener("contextmenu",a.contextmenu),a.domElement.removeEventListener("pointerdown",a.onPointerDown),a.domElement.removeEventListener("wheel",a.mousewheel),a.domElement.removeEventListener("touchstart",a.touchstart),a.domElement.removeEventListener("touchend",a.touchend),a.domElement.removeEventListener("touchmove",a.touchmove),a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.domElement.ownerDocument.removeEventListener("pointerup",a.onPointerUp),window.removeEventListener("keydown",a.keydown),window.removeEventListener("keyup",a.keyup))})),a.object=e,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.up0=a.object.up.clone(),a.zoom0=a.object.zoom,void 0!==r&&a.connect(r),a.update(),a}return Object(X.a)(n)}(l.EventDispatcher),Nt=["makeDefault","camera","domElement","regress","onChange","onStart","onEnd"],Gt=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.domElement,i=e.regress,c=e.onChange,l=e.onStart,d=e.onEnd,h=Object(o.a)(e,Nt),p=Object(f.useThree)(),m=p.invalidate,v=p.camera,g=p.gl,y=p.events,b=p.set,_=p.get,w=p.performance,x=p.viewport,A=r||v,M=a||("boolean"!==typeof y.connected?y.connected:g.domElement),E=u.useMemo((function(){return new Ut(A)}),[A]);return Object(f.useFrame)((function(){E.enabled&&E.update()})),u.useEffect((function(){var e=function(e){m(),i&&w.regress(),c&&c(e)};return E.connect(M),E.addEventListener("change",e),l&&E.addEventListener("start",l),d&&E.addEventListener("end",d),function(){E.removeEventListener("change",e),l&&E.removeEventListener("start",l),d&&E.removeEventListener("end",d),E.dispose()}}),[M,c,l,d,i,E,m]),u.useEffect((function(){E.handleResize()}),[x]),u.useEffect((function(){if(n){var e=_().controls;return b({controls:E}),function(){return b({controls:e})}}}),[n,E]),u.createElement("primitive",s({ref:t,object:E},h))})),Ht={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},Vt={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},Wt={x:0,y:0},Xt={camera:new l.Matrix4,gizmos:new l.Matrix4},qt={type:"change"},Qt={type:"start"},Yt={type:"end"},Jt=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"onWindowResize",(function(){var e=(a._gizmos.scale.x+a._gizmos.scale.y+a._gizmos.scale.z)/3;a._tbRadius=a.calculateTbRadius(a.camera);var t=a._tbRadius/e,n=new l.EllipseCurve(0,0,t,t).getPoints(a._curvePts),r=(new l.BufferGeometry).setFromPoints(n);for(var i in a._gizmos.children)a._gizmos.children[i].geometry=r;a.dispatchEvent(qt)})),K(Object(Q.a)(a),"onContextMenu",(function(e){if(a.enabled)for(var t=0;t<a.mouseActions.length;t++)if(2==a.mouseActions[t].mouse){e.preventDefault();break}})),K(Object(Q.a)(a),"onPointerCancel",(function(){a._touchStart.splice(0,a._touchStart.length),a._touchCurrent.splice(0,a._touchCurrent.length),a._input=Vt.NONE})),K(Object(Q.a)(a),"onPointerDown",(function(e){if(0==e.button&&e.isPrimary?(a._downValid=!0,a._downEvents.push(e),a._downStart=performance.now()):a._downValid=!1,"touch"==e.pointerType&&a._input!=Vt.CURSOR)switch(a._touchStart.push(e),a._touchCurrent.push(e),a._input){case Vt.NONE:a._input=Vt.ONE_FINGER,a.onSinglePanStart(e,"ROTATE"),window.addEventListener("pointermove",a.onPointerMove),window.addEventListener("pointerup",a.onPointerUp);break;case Vt.ONE_FINGER:case Vt.ONE_FINGER_SWITCHED:a._input=Vt.TWO_FINGER,a.onRotateStart(),a.onPinchStart(),a.onDoublePanStart();break;case Vt.TWO_FINGER:a._input=Vt.MULT_FINGER,a.onTriplePanStart(e)}else if("touch"!=e.pointerType&&a._input==Vt.NONE){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT"),a._mouseOp=a.getOpFromAction(e.button,t),null!=a._mouseOp&&(window.addEventListener("pointermove",a.onPointerMove),window.addEventListener("pointerup",a.onPointerUp),a._input=Vt.CURSOR,a._button=e.button,a.onSinglePanStart(e,a._mouseOp))}})),K(Object(Q.a)(a),"onPointerMove",(function(e){if("touch"==e.pointerType&&a._input!=Vt.CURSOR)switch(a._input){case Vt.ONE_FINGER:a.updateTouchEvent(e),a.onSinglePanMove(e,Ht.ROTATE);break;case Vt.ONE_FINGER_SWITCHED:if(a.calculatePointersDistance(a._touchCurrent[0],e)*a._devPxRatio>=a._switchSensibility){a._input=Vt.ONE_FINGER,a.updateTouchEvent(e),a.onSinglePanStart(e,"ROTATE");break}break;case Vt.TWO_FINGER:a.updateTouchEvent(e),a.onRotateMove(),a.onPinchMove(),a.onDoublePanMove();break;case Vt.MULT_FINGER:a.updateTouchEvent(e),a.onTriplePanMove(e)}else if("touch"!=e.pointerType&&a._input==Vt.CURSOR){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT");var n=a.getOpStateFromAction(a._button,t);null!=n&&a.onSinglePanMove(e,n)}a._downValid&&(a.calculatePointersDistance(a._downEvents[a._downEvents.length-1],e)*a._devPxRatio>a._movementThreshold&&(a._downValid=!1))})),K(Object(Q.a)(a),"onPointerUp",(function(e){if("touch"==e.pointerType&&a._input!=Vt.CURSOR){for(var t=a._touchCurrent.length,n=0;n<t;n++)if(a._touchCurrent[n].pointerId==e.pointerId){a._touchCurrent.splice(n,1),a._touchStart.splice(n,1);break}switch(a._input){case Vt.ONE_FINGER:case Vt.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=Vt.NONE,a.onSinglePanEnd();break;case Vt.TWO_FINGER:a.onDoublePanEnd(e),a.onPinchEnd(e),a.onRotateEnd(e),a._input=Vt.ONE_FINGER_SWITCHED;break;case Vt.MULT_FINGER:0==a._touchCurrent.length&&(window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=Vt.NONE,a.onTriplePanEnd())}}else"touch"!=e.pointerType&&a._input==Vt.CURSOR&&(window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),a._input=Vt.NONE,a.onSinglePanEnd(),a._button=-1);if(e.isPrimary)if(a._downValid)if(e.timeStamp-a._downEvents[a._downEvents.length-1].timeStamp<=a._maxDownTime)if(0==a._nclicks)a._nclicks=1,a._clickStart=performance.now();else{var r=e.timeStamp-a._clickStart,i=a.calculatePointersDistance(a._downEvents[1],a._downEvents[0])*a._devPxRatio;r<=a._maxInterval&&i<=a._posThreshold?(a._nclicks=0,a._downEvents.splice(0,a._downEvents.length),a.onDoubleTap(e)):(a._nclicks=1,a._downEvents.shift(),a._clickStart=performance.now())}else a._downValid=!1,a._nclicks=0,a._downEvents.splice(0,a._downEvents.length);else a._nclicks=0,a._downEvents.splice(0,a._downEvents.length)})),K(Object(Q.a)(a),"onWheel",(function(e){if(a.enabled&&a.enableZoom){var t=null;e.ctrlKey||e.metaKey?t="CTRL":e.shiftKey&&(t="SHIFT");var n=a.getOpFromAction("WHEEL",t);if(null!=n){e.preventDefault(),a.dispatchEvent(Qt);var r=e.deltaY/125,i=1;switch(r>0?i=1/a.scaleFactor:r<0&&(i=a.scaleFactor),n){case"ZOOM":var o;if(a.updateTbState(Ht.SCALE,!0),r>0?i=1/Math.pow(a.scaleFactor,r):r<0&&(i=Math.pow(a.scaleFactor,-r)),a.cursorZoom&&a.enablePan)a.camera.isOrthographicCamera?o=a.unprojectOnTbPlane(a.camera,e.clientX,e.clientY,a.domElement).applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._gizmos.position):a.camera.isPerspectiveCamera&&(o=a.unprojectOnTbPlane(a.camera,e.clientX,e.clientY,a.domElement).applyQuaternion(a.camera.quaternion).add(a._gizmos.position)),a.applyTransformMatrix(a.applyScale(i,o));else a.applyTransformMatrix(a.applyScale(i,a._gizmos.position));null!=a._grid&&(a.disposeGrid(),a.drawGrid()),a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(qt),a.dispatchEvent(Yt);break;case"FOV":if(a.camera.isPerspectiveCamera){a.updateTbState(Ht.FOV,!0),0!=e.deltaX&&(i=1,(r=e.deltaX/125)>0?i=1/Math.pow(a.scaleFactor,r):r<0&&(i=Math.pow(a.scaleFactor,-r))),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var s=a._v3_1.distanceTo(a._gizmos.position),u=s/i;u=l.MathUtils.clamp(u,a.minDistance,a.maxDistance);var c=s*Math.tan(l.MathUtils.DEG2RAD*a.camera.fov*.5),f=l.MathUtils.RAD2DEG*(2*Math.atan(c/u));f>a.maxFov?f=a.maxFov:f<a.minFov&&(f=a.minFov),i=s/(c/Math.tan(l.MathUtils.DEG2RAD*(f/2))),a.setFov(f),a.applyTransformMatrix(a.applyScale(i,a._gizmos.position,!1))}null!=a._grid&&(a.disposeGrid(),a.drawGrid()),a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(qt),a.dispatchEvent(Yt)}}}})),K(Object(Q.a)(a),"onKeyDown",(function(e){"c"==e.key?(e.ctrlKey||e.metaKey)&&a.copyState():"v"==e.key&&(e.ctrlKey||e.metaKey)&&a.pasteState()})),K(Object(Q.a)(a),"onSinglePanStart",(function(e,t){if(a.enabled)switch(a.dispatchEvent(Qt),a.setCenter(e.clientX,e.clientY),t){case"PAN":if(!a.enablePan)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(qt)),a.updateTbState(Ht.PAN,!0),a._startCursorPosition.copy(a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement)),a.enableGrid&&(a.drawGrid(),a.dispatchEvent(qt));break;case"ROTATE":if(!a.enableRotate)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1),a.updateTbState(Ht.ROTATE,!0),a._startCursorPosition.copy(a.unprojectOnTbSurface(a.camera,Wt.x,Wt.y,a.domElement,a._tbRadius)),a.activateGizmos(!0),a.enableAnimations&&(a._timePrev=a._timeCurrent=performance.now(),a._angleCurrent=a._anglePrev=0,a._cursorPosPrev.copy(a._startCursorPosition),a._cursorPosCurr.copy(a._cursorPosPrev),a._wCurr=0,a._wPrev=a._wCurr),a.dispatchEvent(qt);break;case"FOV":if(!a.camera.isPerspectiveCamera||!a.enableZoom)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(qt)),a.updateTbState(Ht.FOV,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition);break;case"ZOOM":if(!a.enableZoom)return;-1!=a._animationId&&(cancelAnimationFrame(a._animationId),a._animationId=-1,a._timeStart=-1,a.activateGizmos(!1),a.dispatchEvent(qt)),a.updateTbState(Ht.SCALE,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition)}})),K(Object(Q.a)(a),"onSinglePanMove",(function(e,t){if(a.enabled){var n=t!=a._state;switch(a.setCenter(e.clientX,e.clientY),t){case Ht.PAN:a.enablePan&&(n?(a.dispatchEvent(Yt),a.dispatchEvent(Qt),a.updateTbState(t,!0),a._startCursorPosition.copy(a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement)),a.enableGrid&&a.drawGrid(),a.activateGizmos(!1)):(a._currentCursorPosition.copy(a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement)),a.applyTransformMatrix(a.pan(a._startCursorPosition,a._currentCursorPosition))));break;case Ht.ROTATE:if(a.enableRotate)if(n)a.dispatchEvent(Yt),a.dispatchEvent(Qt),a.updateTbState(t,!0),a._startCursorPosition.copy(a.unprojectOnTbSurface(a.camera,Wt.x,Wt.y,a.domElement,a._tbRadius)),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!0);else{a._currentCursorPosition.copy(a.unprojectOnTbSurface(a.camera,Wt.x,Wt.y,a.domElement,a._tbRadius));var r=a._startCursorPosition.distanceTo(a._currentCursorPosition),i=a._startCursorPosition.angleTo(a._currentCursorPosition),o=Math.max(r/a._tbRadius,i);a.applyTransformMatrix(a.rotate(a.calculateRotationAxis(a._startCursorPosition,a._currentCursorPosition),o)),a.enableAnimations&&(a._timePrev=a._timeCurrent,a._timeCurrent=performance.now(),a._anglePrev=a._angleCurrent,a._angleCurrent=o,a._cursorPosPrev.copy(a._cursorPosCurr),a._cursorPosCurr.copy(a._currentCursorPosition),a._wPrev=a._wCurr,a._wCurr=a.calculateAngularSpeed(a._anglePrev,a._angleCurrent,a._timePrev,a._timeCurrent))}break;case Ht.SCALE:if(a.enableZoom)if(n)a.dispatchEvent(Yt),a.dispatchEvent(Qt),a.updateTbState(t,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1);else{a._currentCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y);var s=a._currentCursorPosition.y-a._startCursorPosition.y,u=1;s<0?u=1/Math.pow(a.scaleFactor,8*-s):s>0&&(u=Math.pow(a.scaleFactor,8*s)),a.applyTransformMatrix(a.applyScale(u,a._gizmos.position))}break;case Ht.FOV:if(a.enableZoom&&a.camera.isPerspectiveCamera)if(n)a.dispatchEvent(Yt),a.dispatchEvent(Qt),a.updateTbState(t,!0),a._startCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1);else{a._currentCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y);var c=a._currentCursorPosition.y-a._startCursorPosition.y,f=1;c<0?f=1/Math.pow(a.scaleFactor,8*-c):c>0&&(f=Math.pow(a.scaleFactor,8*c)),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var d=a._v3_1.distanceTo(a._gizmos.position),h=d/f;h=l.MathUtils.clamp(h,a.minDistance,a.maxDistance);var p=d*Math.tan(l.MathUtils.DEG2RAD*a._fovState*.5),m=l.MathUtils.RAD2DEG*(2*Math.atan(p/h));m=l.MathUtils.clamp(m,a.minFov,a.maxFov);var v=p/Math.tan(l.MathUtils.DEG2RAD*(m/2));f=d/v,a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),a.setFov(m),a.applyTransformMatrix(a.applyScale(f,a._v3_2,!1));var g=a._gizmos.position.clone().sub(a.camera.position).normalize().multiplyScalar(v/d);a._m4_1.makeTranslation(g.x,g.y,g.z)}}a.dispatchEvent(qt)}})),K(Object(Q.a)(a),"onSinglePanEnd",(function(){if(a._state==Ht.ROTATE){if(!a.enableRotate)return;if(a.enableAnimations)if(performance.now()-a._timeCurrent<120){var e=Math.abs((a._wPrev+a._wCurr)/2),t=Object(Q.a)(a);a._animationId=window.requestAnimationFrame((function(n){t.updateTbState(Ht.ANIMATION_ROTATE,!0);var r=t.calculateRotationAxis(t._cursorPosPrev,t._cursorPosCurr);t.onRotationAnim(n,r,Math.min(e,t.wMax))}))}else a.updateTbState(Ht.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(qt);else a.updateTbState(Ht.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(qt)}else a._state!=Ht.PAN&&a._state!=Ht.IDLE||(a.updateTbState(Ht.IDLE,!1),a.enableGrid&&a.disposeGrid(),a.activateGizmos(!1),a.dispatchEvent(qt));a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"onDoubleTap",(function(e){if(a.enabled&&a.enablePan&&null!=a.scene){a.dispatchEvent(Qt),a.setCenter(e.clientX,e.clientY);var t=a.unprojectOnObj(a.getCursorNDC(Wt.x,Wt.y,a.domElement),a.camera);if(null!=t&&a.enableAnimations){var n=Object(Q.a)(a);-1!=a._animationId&&window.cancelAnimationFrame(a._animationId),a._timeStart=-1,a._animationId=window.requestAnimationFrame((function(e){n.updateTbState(Ht.ANIMATION_FOCUS,!0),n.onFocusAnim(e,t,n._cameraMatrixState,n._gizmoMatrixState)}))}else null==t||a.enableAnimations||(a.updateTbState(Ht.FOCUS,!0),a.focus(t,a.scaleFactor),a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(qt))}a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"onDoublePanStart",(function(){a.enabled&&a.enablePan&&(a.dispatchEvent(Qt),a.updateTbState(Ht.PAN,!0),a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2),a._startCursorPosition.copy(a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement,!0)),a._currentCursorPosition.copy(a._startCursorPosition),a.activateGizmos(!1))})),K(Object(Q.a)(a),"onDoublePanMove",(function(){a.enabled&&a.enablePan&&(a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2),a._state!=Ht.PAN&&(a.updateTbState(Ht.PAN,!0),a._startCursorPosition.copy(a._currentCursorPosition)),a._currentCursorPosition.copy(a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement,!0)),a.applyTransformMatrix(a.pan(a._startCursorPosition,a._currentCursorPosition,!0)),a.dispatchEvent(qt))})),K(Object(Q.a)(a),"onDoublePanEnd",(function(){a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"onRotateStart",(function(){a.enabled&&a.enableRotate&&(a.dispatchEvent(Qt),a.updateTbState(Ht.ZROTATE,!0),a._startFingerRotation=a.getAngle(a._touchCurrent[1],a._touchCurrent[0])+a.getAngle(a._touchStart[1],a._touchStart[0]),a._currentFingerRotation=a._startFingerRotation,a.camera.getWorldDirection(a._rotationAxis),a.enablePan||a.enableZoom||a.activateGizmos(!0))})),K(Object(Q.a)(a),"onRotateMove",(function(){if(a.enabled&&a.enableRotate){var e;a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2),a._state!=Ht.ZROTATE&&(a.updateTbState(Ht.ZROTATE,!0),a._startFingerRotation=a._currentFingerRotation),a._currentFingerRotation=a.getAngle(a._touchCurrent[1],a._touchCurrent[0])+a.getAngle(a._touchStart[1],a._touchStart[0]),a.enablePan?(a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),e=a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement).applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._v3_2)):e=(new l.Vector3).setFromMatrixPosition(a._gizmoMatrixState);var t=l.MathUtils.DEG2RAD*(a._startFingerRotation-a._currentFingerRotation);a.applyTransformMatrix(a.zRotate(e,t)),a.dispatchEvent(qt)}})),K(Object(Q.a)(a),"onRotateEnd",(function(){a.updateTbState(Ht.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"onPinchStart",(function(){a.enabled&&a.enableZoom&&(a.dispatchEvent(Qt),a.updateTbState(Ht.SCALE,!0),a._startFingerDistance=a.calculatePointersDistance(a._touchCurrent[0],a._touchCurrent[1]),a._currentFingerDistance=a._startFingerDistance,a.activateGizmos(!1))})),K(Object(Q.a)(a),"onPinchMove",(function(){if(a.enabled&&a.enableZoom){a.setCenter((a._touchCurrent[0].clientX+a._touchCurrent[1].clientX)/2,(a._touchCurrent[0].clientY+a._touchCurrent[1].clientY)/2);a._state!=Ht.SCALE&&(a._startFingerDistance=a._currentFingerDistance,a.updateTbState(Ht.SCALE,!0)),a._currentFingerDistance=Math.max(a.calculatePointersDistance(a._touchCurrent[0],a._touchCurrent[1]),12*a._devPxRatio);var e,t=a._currentFingerDistance/a._startFingerDistance;a.enablePan?a.camera.isOrthographicCamera?e=a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement).applyQuaternion(a.camera.quaternion).multiplyScalar(1/a.camera.zoom).add(a._gizmos.position):a.camera.isPerspectiveCamera&&(e=a.unprojectOnTbPlane(a.camera,Wt.x,Wt.y,a.domElement).applyQuaternion(a.camera.quaternion).add(a._gizmos.position)):e=a._gizmos.position,a.applyTransformMatrix(a.applyScale(t,e)),a.dispatchEvent(qt)}})),K(Object(Q.a)(a),"onPinchEnd",(function(){a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"onTriplePanStart",(function(){if(a.enabled&&a.enableZoom){a.dispatchEvent(Qt),a.updateTbState(Ht.SCALE,!0);for(var e=0,t=0,n=a._touchCurrent.length,r=0;r<n;r++)e+=a._touchCurrent[r].clientX,t+=a._touchCurrent[r].clientY;a.setCenter(e/n,t/n),a._startCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y),a._currentCursorPosition.copy(a._startCursorPosition)}})),K(Object(Q.a)(a),"onTriplePanMove",(function(){if(a.enabled&&a.enableZoom){for(var e=0,t=0,n=a._touchCurrent.length,r=0;r<n;r++)e+=a._touchCurrent[r].clientX,t+=a._touchCurrent[r].clientY;a.setCenter(e/n,t/n);a._currentCursorPosition.setY(.5*a.getCursorNDC(Wt.x,Wt.y,a.domElement).y);var i=a._currentCursorPosition.y-a._startCursorPosition.y,o=1;i<0?o=1/Math.pow(a.scaleFactor,8*-i):i>0&&(o=Math.pow(a.scaleFactor,8*i)),a._v3_1.setFromMatrixPosition(a._cameraMatrixState);var s=a._v3_1.distanceTo(a._gizmos.position),u=s/o;u=l.MathUtils.clamp(u,a.minDistance,a.maxDistance);var c=s*Math.tan(l.MathUtils.DEG2RAD*a._fovState*.5),f=l.MathUtils.RAD2DEG*(2*Math.atan(c/u));f=l.MathUtils.clamp(f,a.minFov,a.maxFov);var d=c/Math.tan(l.MathUtils.DEG2RAD*(f/2));o=s/d,a._v3_2.setFromMatrixPosition(a._gizmoMatrixState),a.setFov(f),a.applyTransformMatrix(a.applyScale(o,a._v3_2,!1));var h=a._gizmos.position.clone().sub(a.camera.position).normalize().multiplyScalar(d/s);a._m4_1.makeTranslation(h.x,h.y,h.z),a.dispatchEvent(qt)}})),K(Object(Q.a)(a),"onTriplePanEnd",(function(){a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(Yt)})),K(Object(Q.a)(a),"setCenter",(function(e,t){Wt.x=e,Wt.y=t})),K(Object(Q.a)(a),"initializeMouseActions",(function(){a.setMouseAction("PAN",0,"CTRL"),a.setMouseAction("PAN",2),a.setMouseAction("ROTATE",0),a.setMouseAction("ZOOM","WHEEL"),a.setMouseAction("ZOOM",1),a.setMouseAction("FOV","WHEEL","SHIFT"),a.setMouseAction("FOV",1,"SHIFT")})),K(Object(Q.a)(a),"compareMouseAction",(function(e,t){return e.operation==t.operation&&(e.mouse==t.mouse&&e.key==t.key)})),K(Object(Q.a)(a),"setMouseAction",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=["PAN","ROTATE","ZOOM","FOV"],o=[0,1,2,"WHEEL"],s=["CTRL","SHIFT",null];if(!i.includes(e)||!o.includes(t)||!s.includes(r))return!1;if("WHEEL"==t&&"ZOOM"!=e&&"FOV"!=e)return!1;switch(e){case"PAN":n=Ht.PAN;break;case"ROTATE":n=Ht.ROTATE;break;case"ZOOM":n=Ht.SCALE;break;case"FOV":n=Ht.FOV}for(var u={operation:e,mouse:t,key:r,state:n},c=0;c<a.mouseActions.length;c++)if(a.mouseActions[c].mouse==u.mouse&&a.mouseActions[c].key==u.key)return a.mouseActions.splice(c,1,u),!0;return a.mouseActions.push(u),!0})),K(Object(Q.a)(a),"unsetMouseAction",(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<a.mouseActions.length;n++)if(a.mouseActions[n].mouse==e&&a.mouseActions[n].key==t)return a.mouseActions.splice(n,1),!0;return!1})),K(Object(Q.a)(a),"getOpFromAction",(function(e,t){for(var n,r=0;r<a.mouseActions.length;r++)if((n=a.mouseActions[r]).mouse==e&&n.key==t)return n.operation;if(null!=t)for(var i=0;i<a.mouseActions.length;i++)if((n=a.mouseActions[i]).mouse==e&&null==n.key)return n.operation;return null})),K(Object(Q.a)(a),"getOpStateFromAction",(function(e,t){for(var n,r=0;r<a.mouseActions.length;r++)if((n=a.mouseActions[r]).mouse==e&&n.key==t)return n.state;if(null!=t)for(var i=0;i<a.mouseActions.length;i++)if((n=a.mouseActions[i]).mouse==e&&null==n.key)return n.state;return null})),K(Object(Q.a)(a),"getAngle",(function(e,t){return 180*Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)/Math.PI})),K(Object(Q.a)(a),"updateTouchEvent",(function(e){for(var t=0;t<a._touchCurrent.length;t++)if(a._touchCurrent[t].pointerId==e.pointerId){a._touchCurrent.splice(t,1,e);break}})),K(Object(Q.a)(a),"calculateAngularSpeed",(function(e,t,n,r){var a=(r-n)/1e3;return 0==a?0:(t-e)/a})),K(Object(Q.a)(a),"calculatePointersDistance",(function(e,t){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))})),K(Object(Q.a)(a),"calculateRotationAxis",(function(e,t){return a._rotationMatrix.extractRotation(a._cameraMatrixState),a._quat.setFromRotationMatrix(a._rotationMatrix),a._rotationAxis.crossVectors(e,t).applyQuaternion(a._quat),a._rotationAxis.normalize().clone()})),K(Object(Q.a)(a),"calculateTbRadius",(function(e){var t=e.position.distanceTo(a._gizmos.position);if("PerspectiveCamera"==e.type){var n=l.MathUtils.DEG2RAD*e.fov*.5,r=Math.atan(e.aspect*Math.tan(n));return Math.tan(Math.min(n,r))*t*.67}if("OrthographicCamera"==e.type)return.67*Math.min(e.top,e.right)})),K(Object(Q.a)(a),"focus",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.clone();r.sub(a._gizmos.position).multiplyScalar(n),a._translationMatrix.makeTranslation(r.x,r.y,r.z);var i=a._gizmoMatrixState.clone();a._gizmoMatrixState.premultiply(a._translationMatrix),a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale);var o=a._cameraMatrixState.clone();a._cameraMatrixState.premultiply(a._translationMatrix),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.enableZoom&&a.applyTransformMatrix(a.applyScale(t,a._gizmos.position)),a._gizmoMatrixState.copy(i),a._cameraMatrixState.copy(o)})),K(Object(Q.a)(a),"drawGrid",(function(){if(null!=a.scene){var e,t,n,r,i=8947848;if(a.camera.isOrthographicCamera){var o=a.camera.right-a.camera.left,s=a.camera.bottom-a.camera.top;r=(n=Math.max(o,s))/20,t=(e=n/a.camera.zoom*3)/r*a.camera.zoom}else if(a.camera.isPerspectiveCamera){var u=a.camera.position.distanceTo(a._gizmos.position),c=l.MathUtils.DEG2RAD*a.camera.fov*.5,f=Math.atan(a.camera.aspect*Math.tan(c));t=(e=3*(n=Math.tan(Math.max(c,f))*u*2))/(r=n/20)}null==a._grid&&(a._grid=new l.GridHelper(e,t,i,i),a._grid.position.copy(a._gizmos.position),a._gridPosition.copy(a._grid.position),a._grid.quaternion.copy(a.camera.quaternion),a._grid.rotateX(.5*Math.PI),a.scene.add(a._grid))}})),K(Object(Q.a)(a),"connect",(function(e){a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",a.onContextMenu),a.domElement.addEventListener("wheel",a.onWheel),a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("pointercancel",a.onPointerCancel),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("resize",a.onWindowResize)})),K(Object(Q.a)(a),"dispose",(function(){-1!=a._animationId&&window.cancelAnimationFrame(a._animationId),a.domElement.removeEventListener("pointerdown",a.onPointerDown),a.domElement.removeEventListener("pointercancel",a.onPointerCancel),a.domElement.removeEventListener("wheel",a.onWheel),a.domElement.removeEventListener("contextmenu",a.onContextMenu),window.removeEventListener("pointermove",a.onPointerMove),window.removeEventListener("pointerup",a.onPointerUp),window.removeEventListener("resize",a.onWindowResize),window.removeEventListener("keydown",a.onKeyDown),a.scene&&a.scene.remove(a._gizmos),a.disposeGrid()})),K(Object(Q.a)(a),"disposeGrid",(function(){null!=a._grid&&null!=a.scene&&(a.scene.remove(a._grid),a._grid=null)})),K(Object(Q.a)(a),"easeOutCubic",(function(e){return 1-Math.pow(1-e,3)})),K(Object(Q.a)(a),"activateGizmos",(function(e){var t=a._gizmos.children[0],n=a._gizmos.children[1],r=a._gizmos.children[2];e?(t.material.setValues({opacity:1}),n.material.setValues({opacity:1}),r.material.setValues({opacity:1})):(t.material.setValues({opacity:.6}),n.material.setValues({opacity:.6}),r.material.setValues({opacity:.6}))})),K(Object(Q.a)(a),"getCursorNDC",(function(e,t,n){var r=n.getBoundingClientRect();return a._v2_1.setX((e-r.left)/r.width*2-1),a._v2_1.setY((r.bottom-t)/r.height*2-1),a._v2_1.clone()})),K(Object(Q.a)(a),"getCursorPosition",(function(e,t,n){return a._v2_1.copy(a.getCursorNDC(e,t,n)),a._v2_1.x*=.5*(a.camera.right-a.camera.left),a._v2_1.y*=.5*(a.camera.top-a.camera.bottom),a._v2_1.clone()})),K(Object(Q.a)(a),"setCamera",(function(e){e.lookAt(a.target),e.updateMatrix(),"PerspectiveCamera"==e.type&&(a._fov0=e.fov,a._fovState=e.fov),a._cameraMatrixState0.copy(e.matrix),a._cameraMatrixState.copy(a._cameraMatrixState0),a._cameraProjectionState.copy(e.projectionMatrix),a._zoom0=e.zoom,a._zoomState=a._zoom0,a._initialNear=e.near,a._nearPos0=e.position.distanceTo(a.target)-e.near,a._nearPos=a._initialNear,a._initialFar=e.far,a._farPos0=e.position.distanceTo(a.target)-e.far,a._farPos=a._initialFar,a._up0.copy(e.up),a._upState.copy(e.up),a.camera=e,a.camera.updateProjectionMatrix(),a._tbRadius=a.calculateTbRadius(e),a.makeGizmos(a.target,a._tbRadius)})),K(Object(Q.a)(a),"makeGizmos",(function(e,t){var n=new l.EllipseCurve(0,0,t,t).getPoints(a._curvePts),r=(new l.BufferGeometry).setFromPoints(n),i=new l.LineBasicMaterial({color:16744576,fog:!1,transparent:!0,opacity:.6}),o=new l.LineBasicMaterial({color:8454016,fog:!1,transparent:!0,opacity:.6}),s=new l.LineBasicMaterial({color:8421631,fog:!1,transparent:!0,opacity:.6}),u=new l.Line(r,i),c=new l.Line(r,o),f=new l.Line(r,s),d=.5*Math.PI;if(u.rotation.x=d,c.rotation.y=d,a._gizmoMatrixState0.identity().setPosition(e),a._gizmoMatrixState.copy(a._gizmoMatrixState0),1!=a.camera.zoom){var h=1/a.camera.zoom;a._scaleMatrix.makeScale(h,h,h),a._translationMatrix.makeTranslation(-e.x,-e.y,-e.z),a._gizmoMatrixState.premultiply(a._translationMatrix).premultiply(a._scaleMatrix),a._translationMatrix.makeTranslation(e.x,e.y,e.z),a._gizmoMatrixState.premultiply(a._translationMatrix)}a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a._gizmos.clear(),a._gizmos.add(u),a._gizmos.add(c),a._gizmos.add(f)})),K(Object(Q.a)(a),"onFocusAnim",(function(e,t,n,r){if(-1==a._timeStart&&(a._timeStart=e),a._state==Ht.ANIMATION_FOCUS){var i=(e-a._timeStart)/a.focusAnimationTime;if(a._gizmoMatrixState.copy(r),i>=1)a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.focus(t,a.scaleFactor),a._timeStart=-1,a.updateTbState(Ht.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(qt);else{var o=a.easeOutCubic(i),s=1-o+a.scaleFactor*o;a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.focus(t,s,o),a.dispatchEvent(qt);var u=Object(Q.a)(a);a._animationId=window.requestAnimationFrame((function(e){u.onFocusAnim(e,t,n,r.clone())}))}}else a._animationId=-1,a._timeStart=-1})),K(Object(Q.a)(a),"onRotationAnim",(function(e,t,n){if(-1==a._timeStart&&(a._anglePrev=0,a._angleCurrent=0,a._timeStart=e),a._state==Ht.ANIMATION_ROTATE){var r=(e-a._timeStart)/1e3;if(n+-a.dampingFactor*r>0){a._angleCurrent=.5*-a.dampingFactor*Math.pow(r,2)+n*r+0,a.applyTransformMatrix(a.rotate(t,a._angleCurrent)),a.dispatchEvent(qt);var i=Object(Q.a)(a);a._animationId=window.requestAnimationFrame((function(e){i.onRotationAnim(e,t,n)}))}else a._animationId=-1,a._timeStart=-1,a.updateTbState(Ht.IDLE,!1),a.activateGizmos(!1),a.dispatchEvent(qt)}else a._animationId=-1,a._timeStart=-1,a._state!=Ht.ROTATE&&(a.activateGizmos(!1),a.dispatchEvent(qt))})),K(Object(Q.a)(a),"pan",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.clone().sub(t);if(a.camera.isOrthographicCamera)r.multiplyScalar(1/a.camera.zoom);else if(a.camera.isPerspectiveCamera&&n){a._v3_1.setFromMatrixPosition(a._cameraMatrixState0),a._v3_2.setFromMatrixPosition(a._gizmoMatrixState0);var i=a._v3_1.distanceTo(a._v3_2)/a.camera.position.distanceTo(a._gizmos.position);r.multiplyScalar(1/i)}return a._v3_1.set(r.x,r.y,0).applyQuaternion(a.camera.quaternion),a._m4_1.makeTranslation(a._v3_1.x,a._v3_1.y,a._v3_1.z),a.setTransformationMatrices(a._m4_1,a._m4_1),Xt})),K(Object(Q.a)(a),"reset",(function(){a.camera.zoom=a._zoom0,a.camera.isPerspectiveCamera&&(a.camera.fov=a._fov0),a.camera.near=a._nearPos,a.camera.far=a._farPos,a._cameraMatrixState.copy(a._cameraMatrixState0),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.camera.up.copy(a._up0),a.camera.updateMatrix(),a.camera.updateProjectionMatrix(),a._gizmoMatrixState.copy(a._gizmoMatrixState0),a._gizmoMatrixState0.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a._gizmos.updateMatrix(),a._tbRadius=a.calculateTbRadius(a.camera),a.makeGizmos(a._gizmos.position,a._tbRadius),a.camera.lookAt(a._gizmos.position),a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(qt)})),K(Object(Q.a)(a),"rotate",(function(e,t){var n=a._gizmos.position;return a._translationMatrix.makeTranslation(-n.x,-n.y,-n.z),a._rotationMatrix.makeRotationAxis(e,-t),a._m4_1.makeTranslation(n.x,n.y,n.z),a._m4_1.multiply(a._rotationMatrix),a._m4_1.multiply(a._translationMatrix),a.setTransformationMatrices(a._m4_1),Xt})),K(Object(Q.a)(a),"copyState",(function(){var e;a.camera.isOrthographicCamera?e=JSON.stringify({arcballState:{cameraFar:a.camera.far,cameraMatrix:a.camera.matrix,cameraNear:a.camera.near,cameraUp:a.camera.up,cameraZoom:a.camera.zoom,gizmoMatrix:a._gizmos.matrix}}):a.camera.isPerspectiveCamera&&(e=JSON.stringify({arcballState:{cameraFar:a.camera.far,cameraFov:a.camera.fov,cameraMatrix:a.camera.matrix,cameraNear:a.camera.near,cameraUp:a.camera.up,cameraZoom:a.camera.zoom,gizmoMatrix:a._gizmos.matrix}})),navigator.clipboard.writeText(e)})),K(Object(Q.a)(a),"pasteState",(function(){var e=Object(Q.a)(a);navigator.clipboard.readText().then((function(t){e.setStateFromJSON(t)}))})),K(Object(Q.a)(a),"saveState",(function(){a._cameraMatrixState0.copy(a.camera.matrix),a._gizmoMatrixState0.copy(a._gizmos.matrix),a._nearPos=a.camera.near,a._farPos=a.camera.far,a._zoom0=a.camera.zoom,a._up0.copy(a.camera.up),a.camera.isPerspectiveCamera&&(a._fov0=a.camera.fov)})),K(Object(Q.a)(a),"applyScale",(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.clone(),i=1/e;if(a.camera.isOrthographicCamera){a.camera.zoom=a._zoomState,a.camera.zoom*=e,a.camera.zoom>a.maxZoom?(a.camera.zoom=a.maxZoom,i=a._zoomState/a.maxZoom):a.camera.zoom<a.minZoom&&(a.camera.zoom=a.minZoom,i=a._zoomState/a.minZoom),a.camera.updateProjectionMatrix(),a._v3_1.setFromMatrixPosition(a._gizmoMatrixState),a._scaleMatrix.makeScale(i,i,i),a._translationMatrix.makeTranslation(-a._v3_1.x,-a._v3_1.y,-a._v3_1.z),a._m4_2.makeTranslation(a._v3_1.x,a._v3_1.y,a._v3_1.z).multiply(a._scaleMatrix),a._m4_2.multiply(a._translationMatrix),r.sub(a._v3_1);var o=r.clone().multiplyScalar(i);return r.sub(o),a._m4_1.makeTranslation(r.x,r.y,r.z),a._m4_2.premultiply(a._m4_1),a.setTransformationMatrices(a._m4_1,a._m4_2),Xt}if(a.camera.isPerspectiveCamera){a._v3_1.setFromMatrixPosition(a._cameraMatrixState),a._v3_2.setFromMatrixPosition(a._gizmoMatrixState);var s=a._v3_1.distanceTo(r),u=s-s*i,c=s-u;c<a.minDistance?u=s-s*(i=a.minDistance/s):c>a.maxDistance&&(u=s-s*(i=a.maxDistance/s));var l=r.clone().sub(a._v3_1).normalize().multiplyScalar(u);if(a._m4_1.makeTranslation(l.x,l.y,l.z),n){var f=a._v3_2;u=(s=f.distanceTo(r))-s*i,l=r.clone().sub(a._v3_2).normalize().multiplyScalar(u),a._translationMatrix.makeTranslation(f.x,f.y,f.z),a._scaleMatrix.makeScale(i,i,i),a._m4_2.makeTranslation(l.x,l.y,l.z).multiply(a._translationMatrix),a._m4_2.multiply(a._scaleMatrix),a._translationMatrix.makeTranslation(-f.x,-f.y,-f.z),a._m4_2.multiply(a._translationMatrix),a.setTransformationMatrices(a._m4_1,a._m4_2)}else a.setTransformationMatrices(a._m4_1);return Xt}})),K(Object(Q.a)(a),"setFov",(function(e){a.camera.isPerspectiveCamera&&(a.camera.fov=l.MathUtils.clamp(e,a.minFov,a.maxFov),a.camera.updateProjectionMatrix())})),K(Object(Q.a)(a),"zRotate",(function(e,t){return a._rotationMatrix.makeRotationAxis(a._rotationAxis,t),a._translationMatrix.makeTranslation(-e.x,-e.y,-e.z),a._m4_1.makeTranslation(e.x,e.y,e.z),a._m4_1.multiply(a._rotationMatrix),a._m4_1.multiply(a._translationMatrix),a._v3_1.setFromMatrixPosition(a._gizmoMatrixState).sub(e),a._v3_2.copy(a._v3_1).applyAxisAngle(a._rotationAxis,t),a._v3_2.sub(a._v3_1),a._m4_2.makeTranslation(a._v3_2.x,a._v3_2.y,a._v3_2.z),a.setTransformationMatrices(a._m4_1,a._m4_2),Xt})),K(Object(Q.a)(a),"unprojectOnObj",(function(e,t){var n=new l.Raycaster;n.near=t.near,n.far=t.far,n.setFromCamera(e,t);for(var r=n.intersectObjects(a.scene.children,!0),i=0;i<r.length;i++)if(r[i].object.uuid!=a._gizmos.uuid&&null!=r[i].face)return r[i].point.clone();return null})),K(Object(Q.a)(a),"unprojectOnTbSurface",(function(e,t,n,r,i){if("OrthographicCamera"==e.type){a._v2_1.copy(a.getCursorPosition(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,0);var o=Math.pow(a._v2_1.x,2),s=Math.pow(a._v2_1.y,2),u=Math.pow(a._tbRadius,2);return o+s<=.5*u?a._v3_1.setZ(Math.sqrt(u-(o+s))):a._v3_1.setZ(.5*u/Math.sqrt(o+s)),a._v3_1}if("PerspectiveCamera"==e.type){a._v2_1.copy(a.getCursorNDC(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,-1),a._v3_1.applyMatrix4(e.projectionMatrixInverse);var c=a._v3_1.clone().normalize(),f=e.position.distanceTo(a._gizmos.position),d=Math.pow(i,2),h=a._v3_1.z,p=Math.sqrt(Math.pow(a._v3_1.x,2)+Math.pow(a._v3_1.y,2));if(0==p)return c.set(a._v3_1.x,a._v3_1.y,i),c;var m=h/p,v=f,g=Math.pow(m,2)+1,y=2*m*v,b=Math.pow(v,2)-d,_=Math.pow(y,2)-4*g*b;if(_>=0)if(a._v2_1.setX((-y-Math.sqrt(_))/(2*g)),a._v2_1.setY(m*a._v2_1.x+v),l.MathUtils.RAD2DEG*a._v2_1.angle()>=45){var w=Math.sqrt(Math.pow(a._v2_1.x,2)+Math.pow(f-a._v2_1.y,2));return c.multiplyScalar(w),c.z+=f,c}g=m,y=v,b=.5*-d,_=Math.pow(y,2)-4*g*b,a._v2_1.setX((-y-Math.sqrt(_))/(2*g)),a._v2_1.setY(m*a._v2_1.x+v);var x=Math.sqrt(Math.pow(a._v2_1.x,2)+Math.pow(f-a._v2_1.y,2));return c.multiplyScalar(x),c.z+=f,c}})),K(Object(Q.a)(a),"unprojectOnTbPlane",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("OrthographicCamera"==e.type)return a._v2_1.copy(a.getCursorPosition(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,0),a._v3_1.clone();if("PerspectiveCamera"==e.type){a._v2_1.copy(a.getCursorNDC(t,n,r)),a._v3_1.set(a._v2_1.x,a._v2_1.y,-1),a._v3_1.applyMatrix4(e.projectionMatrixInverse);var o,s=a._v3_1.clone().normalize(),u=a._v3_1.z,c=Math.sqrt(Math.pow(a._v3_1.x,2)+Math.pow(a._v3_1.y,2));if(o=i?a._v3_1.setFromMatrixPosition(a._cameraMatrixState0).distanceTo(a._v3_2.setFromMatrixPosition(a._gizmoMatrixState0)):e.position.distanceTo(a._gizmos.position),0==c)return s.set(0,0,0),s;var l=u/c,f=o,d=-f/l,h=Math.sqrt(Math.pow(f,2)+Math.pow(d,2));return s.multiplyScalar(h),s.z=0,s}})),K(Object(Q.a)(a),"updateMatrixState",(function(){a._cameraMatrixState.copy(a.camera.matrix),a._gizmoMatrixState.copy(a._gizmos.matrix),a.camera.isOrthographicCamera?(a._cameraProjectionState.copy(a.camera.projectionMatrix),a.camera.updateProjectionMatrix(),a._zoomState=a.camera.zoom):a.camera.isPerspectiveCamera&&(a._fovState=a.camera.fov)})),K(Object(Q.a)(a),"updateTbState",(function(e,t){a._state=e,t&&a.updateMatrixState()})),K(Object(Q.a)(a),"update",(function(){var e=1e-6;if(a.target.equals(a._currentTarget)||(a._gizmos.position.set(a.target.x,a.target.y,a.target.z),a._tbRadius=a.calculateTbRadius(a.camera),a.makeGizmos(a.target,a._tbRadius),a._currentTarget.copy(a.target)),a.camera.isOrthographicCamera){if(a.camera.zoom>a.maxZoom||a.camera.zoom<a.minZoom){var t=l.MathUtils.clamp(a.camera.zoom,a.minZoom,a.maxZoom);a.applyTransformMatrix(a.applyScale(t/a.camera.zoom,a._gizmos.position,!0))}}else if(a.camera.isPerspectiveCamera){var n=a.camera.position.distanceTo(a._gizmos.position);if(n>a.maxDistance+e||n<a.minDistance-e){var r=l.MathUtils.clamp(n,a.minDistance,a.maxDistance);a.applyTransformMatrix(a.applyScale(r/n,a._gizmos.position)),a.updateMatrixState()}(a.camera.fov<a.minFov||a.camera.fov>a.maxFov)&&(a.camera.fov=l.MathUtils.clamp(a.camera.fov,a.minFov,a.maxFov),a.camera.updateProjectionMatrix());var i=a._tbRadius;if(a._tbRadius=a.calculateTbRadius(a.camera),i<a._tbRadius-e||i>a._tbRadius+e){var o=(a._gizmos.scale.x+a._gizmos.scale.y+a._gizmos.scale.z)/3,s=a._tbRadius/o,u=new l.EllipseCurve(0,0,s,s).getPoints(a._curvePts),c=(new l.BufferGeometry).setFromPoints(u);for(var f in a._gizmos.children)a._gizmos.children[f].geometry=c}}a.camera.lookAt(a._gizmos.position)})),K(Object(Q.a)(a),"setStateFromJSON",(function(e){var t=JSON.parse(e);if(void 0!=t.arcballState){a._cameraMatrixState.fromArray(t.arcballState.cameraMatrix.elements),a._cameraMatrixState.decompose(a.camera.position,a.camera.quaternion,a.camera.scale),a.camera.up.copy(t.arcballState.cameraUp),a.camera.near=t.arcballState.cameraNear,a.camera.far=t.arcballState.cameraFar,a.camera.zoom=t.arcballState.cameraZoom,a.camera.isPerspectiveCamera&&(a.camera.fov=t.arcballState.cameraFov),a._gizmoMatrixState.fromArray(t.arcballState.gizmoMatrix.elements),a._gizmoMatrixState.decompose(a._gizmos.position,a._gizmos.quaternion,a._gizmos.scale),a.camera.updateMatrix(),a.camera.updateProjectionMatrix(),a._gizmos.updateMatrix(),a._tbRadius=a.calculateTbRadius(a.camera);var n=(new l.Matrix4).copy(a._gizmoMatrixState0);a.makeGizmos(a._gizmos.position,a._tbRadius),a._gizmoMatrixState0.copy(n),a.camera.lookAt(a._gizmos.position),a.updateTbState(Ht.IDLE,!1),a.dispatchEvent(qt)}})),a.camera=null,a.scene=i,a.mouseActions=[],a._mouseOp=null,a._v2_1=new l.Vector2,a._v3_1=new l.Vector3,a._v3_2=new l.Vector3,a._m4_1=new l.Matrix4,a._m4_2=new l.Matrix4,a._quat=new l.Quaternion,a._translationMatrix=new l.Matrix4,a._rotationMatrix=new l.Matrix4,a._scaleMatrix=new l.Matrix4,a._rotationAxis=new l.Vector3,a._cameraMatrixState=new l.Matrix4,a._cameraProjectionState=new l.Matrix4,a._fovState=1,a._upState=new l.Vector3,a._zoomState=1,a._nearPos=0,a._farPos=0,a._gizmoMatrixState=new l.Matrix4,a._up0=new l.Vector3,a._zoom0=1,a._fov0=0,a._initialNear=0,a._nearPos0=0,a._initialFar=0,a._farPos0=0,a._cameraMatrixState0=new l.Matrix4,a._gizmoMatrixState0=new l.Matrix4,a._button=-1,a._touchStart=[],a._touchCurrent=[],a._input=Vt.NONE,a._switchSensibility=32,a._startFingerDistance=0,a._currentFingerDistance=0,a._startFingerRotation=0,a._currentFingerRotation=0,a._devPxRatio=0,a._downValid=!0,a._nclicks=0,a._downEvents=[],a._downStart=0,a._clickStart=0,a._maxDownTime=250,a._maxInterval=300,a._posThreshold=24,a._movementThreshold=24,a._currentCursorPosition=new l.Vector3,a._startCursorPosition=new l.Vector3,a._grid=null,a._gridPosition=new l.Vector3,a._gizmos=new l.Group,a._curvePts=128,a._timeStart=-1,a._animationId=-1,a.focusAnimationTime=500,a._timePrev=0,a._timeCurrent=0,a._anglePrev=0,a._angleCurrent=0,a._cursorPosPrev=new l.Vector3,a._cursorPosCurr=new l.Vector3,a._wPrev=0,a._wCurr=0,a.adjustNearFar=!1,a.scaleFactor=1.1,a.dampingFactor=25,a.wMax=20,a.enableAnimations=!0,a.enableGrid=!1,a.cursorZoom=!1,a.minFov=5,a.maxFov=90,a.enabled=!0,a.enablePan=!0,a.enableRotate=!0,a.enableZoom=!0,a.enableGizmos=!0,a.minDistance=0,a.maxDistance=1/0,a.minZoom=0,a.maxZoom=1/0,a.target=new l.Vector3(0,0,0),a._currentTarget=new l.Vector3(0,0,0),a._tbRadius=1,a._state=Ht.IDLE,a.setCamera(e),null!=a.scene&&a.scene.add(a._gizmos),void 0!==r&&a.connect(r),a._devPxRatio=window.devicePixelRatio,a.initializeMouseActions(),a}return Object(X.a)(n,[{key:"applyTransformMatrix",value:function(e){if(null!=e.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(e.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),this._state!=Ht.ROTATE&&this._state!=Ht.ZROTATE&&this._state!=Ht.ANIMATION_ROTATE||this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),null!=e.gizmos&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(e.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),this._state==Ht.SCALE||this._state==Ht.FOCUS||this._state==Ht.ANIMATION_FOCUS)if(this._tbRadius=this.calculateTbRadius(this.camera),this.adjustNearFar){var t=this.camera.position.distanceTo(this._gizmos.position),n=new l.Box3;n.setFromObject(this._gizmos);var r=new l.Sphere;n.getBoundingSphere(r);var a=Math.max(this._nearPos0,r.radius+r.center.length()),i=t-this._initialNear,o=Math.min(a,i);this.camera.near=t-o;var s=Math.min(this._farPos0,-r.radius+r.center.length()),u=t-this._initialFar,c=Math.min(s,u);this.camera.far=t-c,this.camera.updateProjectionMatrix()}else{var f=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,f=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,f=!0),f&&this.camera.updateProjectionMatrix()}}},{key:"setGizmosVisible",value:function(e){this._gizmos.visible=e,this.dispatchEvent(qt)}},{key:"setTransformationMatrices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?null!=Xt.camera?Xt.camera.copy(e):Xt.camera=e.clone():Xt.camera=null,null!=t?null!=Xt.gizmos?Xt.gizmos.copy(t):Xt.gizmos=t.clone():Xt.gizmos=null}}]),n}(l.EventDispatcher),Kt=["makeDefault","camera","regress","domElement","onChange","onStart","onEnd"],Zt=u.forwardRef((function(e,t){var n=e.makeDefault,r=e.camera,a=e.regress,i=e.domElement,c=e.onChange,l=e.onStart,d=e.onEnd,h=Object(o.a)(e,Kt),p=Object(f.useThree)((function(e){return e.invalidate})),m=Object(f.useThree)((function(e){return e.camera})),v=Object(f.useThree)((function(e){return e.gl})),g=Object(f.useThree)((function(e){return e.events})),y=Object(f.useThree)((function(e){return e.set})),b=Object(f.useThree)((function(e){return e.get})),_=Object(f.useThree)((function(e){return e.performance})),w=r||m,x=i||("boolean"!==typeof g.connected?g.connected:v.domElement),A=u.useMemo((function(){return new Jt(w)}),[w]);return Object(f.useFrame)((function(){A.enabled&&A.update()})),u.useEffect((function(){var e=function(e){p(),a&&_.regress(),c&&c(e)};return A.connect(x),A.addEventListener("change",e),l&&A.addEventListener("start",l),d&&A.addEventListener("end",d),function(){A.removeEventListener("change",e),l&&A.removeEventListener("start",l),d&&A.removeEventListener("end",d),A.dispose()}}),[x,c,l,d,a,A,p]),u.useEffect((function(){if(n){var e=b().controls;return y({controls:A}),function(){return y({controls:e})}}}),[n,A]),u.createElement("primitive",s({ref:t,object:A},h))})),$t=n(95),en=n.n($t),tn=n(96),nn=n.n(tn),rn=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a,i;Object(q.a)(this,n),i=t.call(this),K(Object(Q.a)(i),"isTransformControls",!0),K(Object(Q.a)(i),"visible",!1),K(Object(Q.a)(i),"domElement",void 0),K(Object(Q.a)(i),"raycaster",new l.Raycaster),K(Object(Q.a)(i),"gizmo",void 0),K(Object(Q.a)(i),"plane",void 0),K(Object(Q.a)(i),"tempVector",new l.Vector3),K(Object(Q.a)(i),"tempVector2",new l.Vector3),K(Object(Q.a)(i),"tempQuaternion",new l.Quaternion),K(Object(Q.a)(i),"unit",{X:new l.Vector3(1,0,0),Y:new l.Vector3(0,1,0),Z:new l.Vector3(0,0,1)}),K(Object(Q.a)(i),"pointStart",new l.Vector3),K(Object(Q.a)(i),"pointEnd",new l.Vector3),K(Object(Q.a)(i),"offset",new l.Vector3),K(Object(Q.a)(i),"rotationAxis",new l.Vector3),K(Object(Q.a)(i),"startNorm",new l.Vector3),K(Object(Q.a)(i),"endNorm",new l.Vector3),K(Object(Q.a)(i),"rotationAngle",0),K(Object(Q.a)(i),"cameraPosition",new l.Vector3),K(Object(Q.a)(i),"cameraQuaternion",new l.Quaternion),K(Object(Q.a)(i),"cameraScale",new l.Vector3),K(Object(Q.a)(i),"parentPosition",new l.Vector3),K(Object(Q.a)(i),"parentQuaternion",new l.Quaternion),K(Object(Q.a)(i),"parentQuaternionInv",new l.Quaternion),K(Object(Q.a)(i),"parentScale",new l.Vector3),K(Object(Q.a)(i),"worldPositionStart",new l.Vector3),K(Object(Q.a)(i),"worldQuaternionStart",new l.Quaternion),K(Object(Q.a)(i),"worldScaleStart",new l.Vector3),K(Object(Q.a)(i),"worldPosition",new l.Vector3),K(Object(Q.a)(i),"worldQuaternion",new l.Quaternion),K(Object(Q.a)(i),"worldQuaternionInv",new l.Quaternion),K(Object(Q.a)(i),"worldScale",new l.Vector3),K(Object(Q.a)(i),"eye",new l.Vector3),K(Object(Q.a)(i),"positionStart",new l.Vector3),K(Object(Q.a)(i),"quaternionStart",new l.Quaternion),K(Object(Q.a)(i),"scaleStart",new l.Vector3),K(Object(Q.a)(i),"camera",void 0),K(Object(Q.a)(i),"object",void 0),K(Object(Q.a)(i),"enabled",!0),K(Object(Q.a)(i),"axis",null),K(Object(Q.a)(i),"mode","translate"),K(Object(Q.a)(i),"translationSnap",null),K(Object(Q.a)(i),"rotationSnap",null),K(Object(Q.a)(i),"scaleSnap",null),K(Object(Q.a)(i),"space","world"),K(Object(Q.a)(i),"size",1),K(Object(Q.a)(i),"dragging",!1),K(Object(Q.a)(i),"showX",!0),K(Object(Q.a)(i),"showY",!0),K(Object(Q.a)(i),"showZ",!0),K(Object(Q.a)(i),"changeEvent",{type:"change"}),K(Object(Q.a)(i),"mouseDownEvent",{type:"mouseDown",mode:i.mode}),K(Object(Q.a)(i),"mouseUpEvent",{type:"mouseUp",mode:i.mode}),K(Object(Q.a)(i),"objectChangeEvent",{type:"objectChange"}),K(Object(Q.a)(i),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),a=0;a<r.length;a++)if(r[a].object.visible||n)return r[a];return!1})),K(Object(Q.a)(i),"attach",(function(e){return i.object=e,i.visible=!0,Object(Q.a)(i)})),K(Object(Q.a)(i),"detach",(function(){return i.object=void 0,i.visible=!1,i.axis=null,Object(Q.a)(i)})),K(Object(Q.a)(i),"updateMatrixWorld",(function(){void 0!==i.object&&(i.object.updateMatrixWorld(),null===i.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):i.object.parent.matrixWorld.decompose(i.parentPosition,i.parentQuaternion,i.parentScale),i.object.matrixWorld.decompose(i.worldPosition,i.worldQuaternion,i.worldScale),i.parentQuaternionInv.copy(i.parentQuaternion).invert(),i.worldQuaternionInv.copy(i.worldQuaternion).invert()),i.camera.updateMatrixWorld(),i.camera.matrixWorld.decompose(i.cameraPosition,i.cameraQuaternion,i.cameraScale),i.eye.copy(i.cameraPosition).sub(i.worldPosition).normalize(),Object(ne.a)((a=Object(Q.a)(i),Object(re.a)(n.prototype)),"updateMatrixWorld",a).call(a)})),K(Object(Q.a)(i),"pointerHover",(function(e){if(void 0!==i.object&&!0!==i.dragging){i.raycaster.setFromCamera(e,i.camera);var t=i.intersectObjectWithRay(i.gizmo.picker[i.mode],i.raycaster);i.axis=t?t.object.name:null}})),K(Object(Q.a)(i),"pointerDown",(function(e){if(void 0!==i.object&&!0!==i.dragging&&0===e.button&&null!==i.axis){i.raycaster.setFromCamera(e,i.camera);var t=i.intersectObjectWithRay(i.plane,i.raycaster,!0);if(t){var n=i.space;if("scale"===i.mode?n="local":"E"!==i.axis&&"XYZE"!==i.axis&&"XYZ"!==i.axis||(n="world"),"local"===n&&"rotate"===i.mode){var r=i.rotationSnap;"X"===i.axis&&r&&(i.object.rotation.x=Math.round(i.object.rotation.x/r)*r),"Y"===i.axis&&r&&(i.object.rotation.y=Math.round(i.object.rotation.y/r)*r),"Z"===i.axis&&r&&(i.object.rotation.z=Math.round(i.object.rotation.z/r)*r)}i.object.updateMatrixWorld(),i.object.parent&&i.object.parent.updateMatrixWorld(),i.positionStart.copy(i.object.position),i.quaternionStart.copy(i.object.quaternion),i.scaleStart.copy(i.object.scale),i.object.matrixWorld.decompose(i.worldPositionStart,i.worldQuaternionStart,i.worldScaleStart),i.pointStart.copy(t.point).sub(i.worldPositionStart)}i.dragging=!0,i.mouseDownEvent.mode=i.mode,i.dispatchEvent(i.mouseDownEvent)}})),K(Object(Q.a)(i),"pointerMove",(function(e){var t=i.axis,n=i.mode,r=i.object,a=i.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==r&&null!==t&&!1!==i.dragging&&-1===e.button){i.raycaster.setFromCamera(e,i.camera);var o=i.intersectObjectWithRay(i.plane,i.raycaster,!0);if(o){if(i.pointEnd.copy(o.point).sub(i.worldPositionStart),"translate"===n)i.offset.copy(i.pointEnd).sub(i.pointStart),"local"===a&&"XYZ"!==t&&i.offset.applyQuaternion(i.worldQuaternionInv),-1===t.indexOf("X")&&(i.offset.x=0),-1===t.indexOf("Y")&&(i.offset.y=0),-1===t.indexOf("Z")&&(i.offset.z=0),"local"===a&&"XYZ"!==t?i.offset.applyQuaternion(i.quaternionStart).divide(i.parentScale):i.offset.applyQuaternion(i.parentQuaternionInv).divide(i.parentScale),r.position.copy(i.offset).add(i.positionStart),i.translationSnap&&("local"===a&&(r.position.applyQuaternion(i.tempQuaternion.copy(i.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/i.translationSnap)*i.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/i.translationSnap)*i.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/i.translationSnap)*i.translationSnap),r.position.applyQuaternion(i.quaternionStart)),"world"===a&&(r.parent&&r.position.add(i.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/i.translationSnap)*i.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/i.translationSnap)*i.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/i.translationSnap)*i.translationSnap),r.parent&&r.position.sub(i.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=i.pointEnd.length()/i.pointStart.length();i.pointEnd.dot(i.pointStart)<0&&(s*=-1),i.tempVector2.set(s,s,s)}else i.tempVector.copy(i.pointStart),i.tempVector2.copy(i.pointEnd),i.tempVector.applyQuaternion(i.worldQuaternionInv),i.tempVector2.applyQuaternion(i.worldQuaternionInv),i.tempVector2.divide(i.tempVector),-1===t.search("X")&&(i.tempVector2.x=1),-1===t.search("Y")&&(i.tempVector2.y=1),-1===t.search("Z")&&(i.tempVector2.z=1);r.scale.copy(i.scaleStart).multiply(i.tempVector2),i.scaleSnap&&i.object&&(-1!==t.search("X")&&(i.object.scale.x=Math.round(r.scale.x/i.scaleSnap)*i.scaleSnap||i.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/i.scaleSnap)*i.scaleSnap||i.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/i.scaleSnap)*i.scaleSnap||i.scaleSnap))}else if("rotate"===n){i.offset.copy(i.pointEnd).sub(i.pointStart);var u=20/i.worldPosition.distanceTo(i.tempVector.setFromMatrixPosition(i.camera.matrixWorld));"E"===t?(i.rotationAxis.copy(i.eye),i.rotationAngle=i.pointEnd.angleTo(i.pointStart),i.startNorm.copy(i.pointStart).normalize(),i.endNorm.copy(i.pointEnd).normalize(),i.rotationAngle*=i.endNorm.cross(i.startNorm).dot(i.eye)<0?1:-1):"XYZE"===t?(i.rotationAxis.copy(i.offset).cross(i.eye).normalize(),i.rotationAngle=i.offset.dot(i.tempVector.copy(i.rotationAxis).cross(i.eye))*u):"X"!==t&&"Y"!==t&&"Z"!==t||(i.rotationAxis.copy(i.unit[t]),i.tempVector.copy(i.unit[t]),"local"===a&&i.tempVector.applyQuaternion(i.worldQuaternion),i.rotationAngle=i.offset.dot(i.tempVector.cross(i.eye).normalize())*u),i.rotationSnap&&(i.rotationAngle=Math.round(i.rotationAngle/i.rotationSnap)*i.rotationSnap),"local"===a&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(i.quaternionStart),r.quaternion.multiply(i.tempQuaternion.setFromAxisAngle(i.rotationAxis,i.rotationAngle)).normalize()):(i.rotationAxis.applyQuaternion(i.parentQuaternionInv),r.quaternion.copy(i.tempQuaternion.setFromAxisAngle(i.rotationAxis,i.rotationAngle)),r.quaternion.multiply(i.quaternionStart).normalize())}i.dispatchEvent(i.changeEvent),i.dispatchEvent(i.objectChangeEvent)}}})),K(Object(Q.a)(i),"pointerUp",(function(e){0===e.button&&(i.dragging&&null!==i.axis&&(i.mouseUpEvent.mode=i.mode,i.dispatchEvent(i.mouseUpEvent)),i.dragging=!1,i.axis=null)})),K(Object(Q.a)(i),"getPointer",(function(e){var t;if(i.domElement&&null!==(t=i.domElement.ownerDocument)&&void 0!==t&&t.pointerLockElement)return{x:0,y:0,button:e.button};var n,r=e.changedTouches?e.changedTouches[0]:e,a=null===(n=i.domElement)||void 0===n?void 0:n.getBoundingClientRect();return{x:(r.clientX-a.left)/a.width*2-1,y:-(r.clientY-a.top)/a.height*2+1,button:e.button}})),K(Object(Q.a)(i),"onPointerHover",(function(e){if(i.enabled)switch(e.pointerType){case"mouse":case"pen":i.pointerHover(i.getPointer(e))}})),K(Object(Q.a)(i),"onPointerDown",(function(e){var t;i.enabled&&(i.domElement.style.touchAction="none",null===(t=i.domElement.ownerDocument)||void 0===t||t.addEventListener("pointermove",i.onPointerMove),i.pointerHover(i.getPointer(e)),i.pointerDown(i.getPointer(e)))})),K(Object(Q.a)(i),"onPointerMove",(function(e){i.enabled&&i.pointerMove(i.getPointer(e))})),K(Object(Q.a)(i),"onPointerUp",(function(e){var t;i.enabled&&(i.domElement.style.touchAction="",null===(t=i.domElement.ownerDocument)||void 0===t||t.removeEventListener("pointermove",i.onPointerMove),i.pointerUp(i.getPointer(e)))})),K(Object(Q.a)(i),"getMode",(function(){return i.mode})),K(Object(Q.a)(i),"setMode",(function(e){i.mode=e})),K(Object(Q.a)(i),"setTranslationSnap",(function(e){i.translationSnap=e})),K(Object(Q.a)(i),"setRotationSnap",(function(e){i.rotationSnap=e})),K(Object(Q.a)(i),"setScaleSnap",(function(e){i.scaleSnap=e})),K(Object(Q.a)(i),"setSize",(function(e){i.size=e})),K(Object(Q.a)(i),"setSpace",(function(e){i.space=e})),K(Object(Q.a)(i),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),K(Object(Q.a)(i),"dispose",(function(){var e,t;i.domElement.removeEventListener("pointerdown",i.onPointerDown),i.domElement.removeEventListener("pointermove",i.onPointerHover),null===(e=i.domElement.ownerDocument)||void 0===e||e.removeEventListener("pointermove",i.onPointerMove),null===(t=i.domElement.ownerDocument)||void 0===t||t.removeEventListener("pointerup",i.onPointerUp),i.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),void 0===r&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),i.domElement=document),i.domElement=r,i.camera=e,i.gizmo=new an,i.add(i.gizmo),i.plane=new on,i.add(i.plane);var o=function(e,t){var n=t;Object.defineProperty(Object(Q.a)(i),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),i[e]=t,i.plane[e]=t,i.gizmo[e]=t};return o("camera",i.camera),o("object",i.object),o("enabled",i.enabled),o("axis",i.axis),o("mode",i.mode),o("translationSnap",i.translationSnap),o("rotationSnap",i.rotationSnap),o("scaleSnap",i.scaleSnap),o("space",i.space),o("size",i.size),o("dragging",i.dragging),o("showX",i.showX),o("showY",i.showY),o("showZ",i.showZ),o("worldPosition",i.worldPosition),o("worldPositionStart",i.worldPositionStart),o("worldQuaternion",i.worldQuaternion),o("worldQuaternionStart",i.worldQuaternionStart),o("cameraPosition",i.cameraPosition),o("cameraQuaternion",i.cameraQuaternion),o("pointStart",i.pointStart),o("pointEnd",i.pointEnd),o("rotationAxis",i.rotationAxis),o("rotationAngle",i.rotationAngle),o("eye",i.eye),r.addEventListener("pointerdown",i.onPointerDown),r.addEventListener("pointermove",i.onPointerHover),i.domElement.ownerDocument.addEventListener("pointerup",i.onPointerUp),i}return Object(X.a)(n)}(l.Object3D),an=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r;Object(q.a)(this,n),r=t.call(this),K(Object(Q.a)(r),"isTransformControlsGizmo",!0),K(Object(Q.a)(r),"type","TransformControlsGizmo"),K(Object(Q.a)(r),"tempVector",new l.Vector3(0,0,0)),K(Object(Q.a)(r),"tempEuler",new l.Euler),K(Object(Q.a)(r),"alignVector",new l.Vector3(0,1,0)),K(Object(Q.a)(r),"zeroVector",new l.Vector3(0,0,0)),K(Object(Q.a)(r),"lookAtMatrix",new l.Matrix4),K(Object(Q.a)(r),"tempQuaternion",new l.Quaternion),K(Object(Q.a)(r),"tempQuaternion2",new l.Quaternion),K(Object(Q.a)(r),"identityQuaternion",new l.Quaternion),K(Object(Q.a)(r),"unitX",new l.Vector3(1,0,0)),K(Object(Q.a)(r),"unitY",new l.Vector3(0,1,0)),K(Object(Q.a)(r),"unitZ",new l.Vector3(0,0,1)),K(Object(Q.a)(r),"gizmo",void 0),K(Object(Q.a)(r),"picker",void 0),K(Object(Q.a)(r),"helper",void 0),K(Object(Q.a)(r),"rotationAxis",new l.Vector3),K(Object(Q.a)(r),"cameraPosition",new l.Vector3),K(Object(Q.a)(r),"worldPositionStart",new l.Vector3),K(Object(Q.a)(r),"worldQuaternionStart",new l.Quaternion),K(Object(Q.a)(r),"worldPosition",new l.Vector3),K(Object(Q.a)(r),"worldQuaternion",new l.Quaternion),K(Object(Q.a)(r),"eye",new l.Vector3),K(Object(Q.a)(r),"camera",null),K(Object(Q.a)(r),"enabled",!0),K(Object(Q.a)(r),"axis",null),K(Object(Q.a)(r),"mode","translate"),K(Object(Q.a)(r),"space","world"),K(Object(Q.a)(r),"size",1),K(Object(Q.a)(r),"dragging",!1),K(Object(Q.a)(r),"showX",!0),K(Object(Q.a)(r),"showY",!0),K(Object(Q.a)(r),"showZ",!0),K(Object(Q.a)(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var a="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var i=[];i=(i=(i=i.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var o=function(e){var t=i[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(a).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(a),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";if(t.quaternion.copy(a),"translate"===r.mode||"scale"===r.mode){var o=.99;"X"!==t.name&&"XYZX"!==t.name||Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Y"!==t.name&&"XYZY"!==t.name||Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Z"!==t.name&&"XYZZ"!==t.name||Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))>o&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(a).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))}else"rotate"===r.mode&&(r.tempQuaternion2.copy(a),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(a).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)));t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new l.Color(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new l.Color(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new l.Color(1,1,1),.5))},s=0;s<i.length;s++)o(s);Object(ne.a)((e=Object(Q.a)(r),Object(re.a)(n.prototype)),"updateMatrixWorld",e).call(e)}));var a=new l.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:l.DoubleSide,fog:!1,toneMapped:!1}),i=new l.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),o=a.clone();o.opacity=.15;var s=a.clone();s.opacity=.33;var u=a.clone();u.color.set(16711680);var c=a.clone();c.color.set(65280);var f=a.clone();f.color.set(255);var d=a.clone();d.opacity=.25;var h=d.clone();h.color.set(16776960);var p=d.clone();p.color.set(65535);var m=d.clone();m.color.set(16711935),a.clone().color.set(16776960);var v=i.clone();v.color.set(16711680);var g=i.clone();g.color.set(65280);var y=i.clone();y.color.set(255);var b=i.clone();b.color.set(65535);var _=i.clone();_.color.set(16711935);var w=i.clone();w.color.set(16776960);var x=i.clone();x.color.set(7895160);var A=w.clone();A.opacity=.25;var M=new l.CylinderGeometry(0,.05,.2,12,1,!1),E=new l.BoxGeometry(.125,.125,.125),C=new l.BufferGeometry;C.setAttribute("position",new l.Float32BufferAttribute([0,0,0,1,0,0],3));var S=function(e,t){for(var n=new l.BufferGeometry,r=[],a=0;a<=64*t;++a)r.push(0,Math.cos(a/32*Math.PI)*e,Math.sin(a/32*Math.PI)*e);return n.setAttribute("position",new l.Float32BufferAttribute(r,3)),n},O={X:[[new l.Mesh(M,u),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new l.Mesh(M,u),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new l.Line(C,v)]],Y:[[new l.Mesh(M,c),[0,1,0],null,null,"fwd"],[new l.Mesh(M,c),[0,1,0],[Math.PI,0,0],null,"bwd"],[new l.Line(C,g),null,[0,0,Math.PI/2]]],Z:[[new l.Mesh(M,f),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new l.Mesh(M,f),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new l.Line(C,y),null,[0,-Math.PI/2,0]]],XYZ:[[new l.Mesh(new l.OctahedronGeometry(.1,0),d.clone()),[0,0,0],[0,0,0]]],XY:[[new l.Mesh(new l.PlaneGeometry(.295,.295),h.clone()),[.15,.15,0]],[new l.Line(C,w),[.18,.3,0],null,[.125,1,1]],[new l.Line(C,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new l.Mesh(new l.PlaneGeometry(.295,.295),p.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new l.Line(C,b),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new l.Line(C,b),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new l.Mesh(new l.PlaneGeometry(.295,.295),m.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new l.Line(C,_),[.18,0,.3],null,[.125,1,1]],[new l.Line(C,_),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},T={X:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[0,.6,0]]],Z:[[new l.Mesh(new l.CylinderGeometry(.2,0,1,4,1,!1),o),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new l.Mesh(new l.OctahedronGeometry(.2,0),o)]],XY:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[.2,.2,0]]],YZ:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new l.Mesh(new l.PlaneGeometry(.4,.4),o),[.2,0,.2],[-Math.PI/2,0,0]]]},k={START:[[new l.Mesh(new l.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],END:[[new l.Mesh(new l.OctahedronGeometry(.01,2),s),null,null,null,"helper"]],DELTA:[[new l.Line(function(){var e=new l.BufferGeometry;return e.setAttribute("position",new l.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),s),null,null,null,"helper"]],X:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new l.Line(C,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new l.Line(C,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},B={X:[[new l.Line(S(1,.5),v)],[new l.Mesh(new l.OctahedronGeometry(.04,0),u),[0,0,.99],null,[1,3,1]]],Y:[[new l.Line(S(1,.5),g),null,[0,0,-Math.PI/2]],[new l.Mesh(new l.OctahedronGeometry(.04,0),c),[0,0,.99],null,[3,1,1]]],Z:[[new l.Line(S(1,.5),y),null,[0,Math.PI/2,0]],[new l.Mesh(new l.OctahedronGeometry(.04,0),f),[.99,0,0],null,[1,3,1]]],E:[[new l.Line(S(1.25,1),A),null,[0,Math.PI/2,0]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new l.Mesh(new l.CylinderGeometry(.03,0,.15,4,1,!1),A),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new l.Line(S(1,1),x),null,[0,Math.PI/2,0]]]},P={AXIS:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},L={X:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new l.Mesh(new l.TorusGeometry(1,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new l.Mesh(new l.TorusGeometry(1.25,.1,2,24),o)]],XYZE:[[new l.Mesh(new l.SphereGeometry(.7,10,8),o)]]},D={X:[[new l.Mesh(E,u),[.8,0,0],[0,0,-Math.PI/2]],[new l.Line(C,v),null,null,[.8,1,1]]],Y:[[new l.Mesh(E,c),[0,.8,0]],[new l.Line(C,g),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new l.Mesh(E,f),[0,0,.8],[Math.PI/2,0,0]],[new l.Line(C,y),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new l.Mesh(E,h),[.85,.85,0],null,[2,2,.2]],[new l.Line(C,w),[.855,.98,0],null,[.125,1,1]],[new l.Line(C,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new l.Mesh(E,p),[0,.85,.85],null,[.2,2,2]],[new l.Line(C,b),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new l.Line(C,b),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new l.Mesh(E,m),[.85,0,.85],null,[2,.2,2]],[new l.Line(C,_),[.855,0,.98],null,[.125,1,1]],[new l.Line(C,_),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[1.1,0,0]]],XYZY:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[0,1.1,0]]],XYZZ:[[new l.Mesh(new l.BoxGeometry(.125,.125,.125),d.clone()),[0,0,1.1]]]},j={X:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,.5,0]]],Z:[[new l.Mesh(new l.CylinderGeometry(.2,0,.8,4,1,!1),o),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new l.Mesh(E,o),[.85,.85,0],null,[3,3,.2]]],YZ:[[new l.Mesh(E,o),[0,.85,.85],null,[.2,3,3]]],XZ:[[new l.Mesh(E,o),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[1.1,0,0]]],XYZY:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[0,1.1,0]]],XYZZ:[[new l.Mesh(new l.BoxGeometry(.2,.2,.2),o),[0,0,1.1]]]},F={X:[[new l.Line(C,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new l.Line(C,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new l.Line(C,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},R=function(e){var t=new l.Object3D;for(var n in e)for(var r=e[n].length;r--;){var a=e[n][r][0].clone(),i=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];a.name=n,a.tag=u,i&&a.position.set(i[0],i[1],i[2]),o&&a.rotation.set(o[0],o[1],o[2]),s&&a.scale.set(s[0],s[1],s[2]),a.updateMatrix();var c=a.geometry.clone();c.applyMatrix4(a.matrix),a.geometry=c,a.renderOrder=1/0,a.position.set(0,0,0),a.rotation.set(0,0,0),a.scale.set(1,1,1),t.add(a)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=R(O)),r.add(r.gizmo.rotate=R(B)),r.add(r.gizmo.scale=R(D)),r.add(r.picker.translate=R(T)),r.add(r.picker.rotate=R(L)),r.add(r.picker.scale=R(j)),r.add(r.helper.translate=R(k)),r.add(r.helper.rotate=R(P)),r.add(r.helper.scale=R(F)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return Object(X.a)(n)}(l.Object3D),on=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r;return Object(q.a)(this,n),r=t.call(this,new l.PlaneGeometry(1e5,1e5,2,2),new l.MeshBasicMaterial({visible:!1,wireframe:!0,side:l.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),K(Object(Q.a)(r),"isTransformControlsPlane",!0),K(Object(Q.a)(r),"type","TransformControlsPlane"),K(Object(Q.a)(r),"unitX",new l.Vector3(1,0,0)),K(Object(Q.a)(r),"unitY",new l.Vector3(0,1,0)),K(Object(Q.a)(r),"unitZ",new l.Vector3(0,0,1)),K(Object(Q.a)(r),"tempVector",new l.Vector3),K(Object(Q.a)(r),"dirVector",new l.Vector3),K(Object(Q.a)(r),"alignVector",new l.Vector3),K(Object(Q.a)(r),"tempMatrix",new l.Matrix4),K(Object(Q.a)(r),"identityQuaternion",new l.Quaternion),K(Object(Q.a)(r),"cameraQuaternion",new l.Quaternion),K(Object(Q.a)(r),"worldPosition",new l.Vector3),K(Object(Q.a)(r),"worldQuaternion",new l.Quaternion),K(Object(Q.a)(r),"eye",new l.Vector3),K(Object(Q.a)(r),"axis",null),K(Object(Q.a)(r),"mode","translate"),K(Object(Q.a)(r),"space","world"),K(Object(Q.a)(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),Object(ne.a)((e=Object(Q.a)(r),Object(re.a)(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return Object(X.a)(n)}(l.Mesh),sn=["children","onChange","onMouseDown","onMouseUp","onObjectChange","object"],un=["camera"],cn=u.forwardRef((function(e,t){var n=e.children,r=e.onChange,a=e.onMouseDown,c=e.onMouseUp,d=e.onObjectChange,h=e.object,p=Object(o.a)(e,sn),m=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],v=p.camera,g=Object(o.a)(p,un),y=nn()(g,m),b=en()(g,m),_=Object(f.useThree)((function(e){return e.controls})),w=Object(f.useThree)((function(e){return e.gl})),x=Object(f.useThree)((function(e){return e.camera})),A=Object(f.useThree)((function(e){return e.invalidate})),M=v||x,E=u.useState((function(){return new rn(M,w.domElement)})),C=Object(i.a)(E,1)[0],S=u.useRef();return u.useLayoutEffect((function(){h?null==C||C.attach(h instanceof l.Object3D?h:h.current):null==C||C.attach(S.current)}),[h,n,C]),u.useEffect((function(){if(_){var e=function(e){return _.enabled=!e.value};return C.addEventListener("dragging-changed",e),function(){return C.removeEventListener("dragging-changed",e)}}}),[C,_]),u.useEffect((function(){var e=function(e){A(),r&&r(e)};return null==C||null==C.addEventListener||C.addEventListener("change",e),a&&(null==C||null==C.addEventListener||C.addEventListener("mouseDown",a)),c&&(null==C||null==C.addEventListener||C.addEventListener("mouseUp",c)),d&&(null==C||null==C.addEventListener||C.addEventListener("objectChange",d)),function(){null==C||null==C.removeEventListener||C.removeEventListener("change",e),a&&(null==C||null==C.removeEventListener||C.removeEventListener("mouseDown",a)),c&&(null==C||null==C.removeEventListener||C.removeEventListener("mouseUp",c)),d&&(null==C||null==C.removeEventListener||C.removeEventListener("objectChange",d))}}),[r,a,c,d,C,A]),C?u.createElement(u.Fragment,null,u.createElement("primitive",s({ref:t,dispose:void 0,object:C},y)),u.createElement("group",s({ref:S},b),n)):null})),ln=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"camera",void 0),K(Object(Q.a)(a),"domElement",void 0),K(Object(Q.a)(a),"isLocked",!1),K(Object(Q.a)(a),"minPolarAngle",0),K(Object(Q.a)(a),"maxPolarAngle",Math.PI),K(Object(Q.a)(a),"changeEvent",{type:"change"}),K(Object(Q.a)(a),"lockEvent",{type:"lock"}),K(Object(Q.a)(a),"unlockEvent",{type:"unlock"}),K(Object(Q.a)(a),"euler",new l.Euler(0,0,0,"YXZ")),K(Object(Q.a)(a),"PI_2",Math.PI/2),K(Object(Q.a)(a),"vec",new l.Vector3),K(Object(Q.a)(a),"onMouseMove",(function(e){if(!1!==a.isLocked){var t=e.movementX||e.mozMovementX||e.webkitMovementX||0,n=e.movementY||e.mozMovementY||e.webkitMovementY||0;a.euler.setFromQuaternion(a.camera.quaternion),a.euler.y-=.002*t,a.euler.x-=.002*n,a.euler.x=Math.max(a.PI_2-a.maxPolarAngle,Math.min(a.PI_2-a.minPolarAngle,a.euler.x)),a.camera.quaternion.setFromEuler(a.euler),a.dispatchEvent(a.changeEvent)}})),K(Object(Q.a)(a),"onPointerlockChange",(function(){a.domElement.ownerDocument.pointerLockElement===a.domElement?(a.dispatchEvent(a.lockEvent),a.isLocked=!0):(a.dispatchEvent(a.unlockEvent),a.isLocked=!1)})),K(Object(Q.a)(a),"onPointerlockError",(function(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")})),K(Object(Q.a)(a),"connect",(function(){a.domElement.ownerDocument.addEventListener("mousemove",a.onMouseMove),a.domElement.ownerDocument.addEventListener("pointerlockchange",a.onPointerlockChange),a.domElement.ownerDocument.addEventListener("pointerlockerror",a.onPointerlockError)})),K(Object(Q.a)(a),"disconnect",(function(){a.domElement.ownerDocument.removeEventListener("mousemove",a.onMouseMove),a.domElement.ownerDocument.removeEventListener("pointerlockchange",a.onPointerlockChange),a.domElement.ownerDocument.removeEventListener("pointerlockerror",a.onPointerlockError)})),K(Object(Q.a)(a),"dispose",(function(){a.disconnect()})),K(Object(Q.a)(a),"getObject",(function(){return a.camera})),K(Object(Q.a)(a),"direction",new l.Vector3(0,0,-1)),K(Object(Q.a)(a),"getDirection",(function(e){return e.copy(a.direction).applyQuaternion(a.camera.quaternion)})),K(Object(Q.a)(a),"moveForward",(function(e){a.vec.setFromMatrixColumn(a.camera.matrix,0),a.vec.crossVectors(a.camera.up,a.vec),a.camera.position.addScaledVector(a.vec,e)})),K(Object(Q.a)(a),"moveRight",(function(e){a.vec.setFromMatrixColumn(a.camera.matrix,0),a.camera.position.addScaledVector(a.vec,e)})),K(Object(Q.a)(a),"lock",(function(){a.domElement.requestPointerLock()})),K(Object(Q.a)(a),"unlock",(function(){a.domElement.ownerDocument.exitPointerLock()})),void 0===r&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),r=document.body),a.domElement=r,a.camera=e,a.connect(),a}return Object(X.a)(n)}(l.EventDispatcher),fn=["selector","onChange","onLock","onUnlock"],dn=["camera"],hn=u.forwardRef((function(e,t){var n=e.selector,r=e.onChange,a=e.onLock,c=e.onUnlock,l=Object(o.a)(e,fn),d=l.camera,h=Object(o.a)(l,dn),p=Object(f.useThree)((function(e){return e.gl})),m=Object(f.useThree)((function(e){return e.camera})),v=Object(f.useThree)((function(e){return e.invalidate})),g=d||m,y=u.useState((function(){return new ln(g,p.domElement)})),b=Object(i.a)(y,1)[0];return u.useEffect((function(){var e=function(e){v(),r&&r(e)};return null==b||null==b.addEventListener||b.addEventListener("change",e),a&&(null==b||null==b.addEventListener||b.addEventListener("lock",a)),c&&(null==b||null==b.addEventListener||b.addEventListener("unlock",c)),function(){null==b||null==b.removeEventListener||b.removeEventListener("change",e),a&&(null==b||null==b.addEventListener||b.addEventListener("lock",a)),c&&(null==b||null==b.addEventListener||b.addEventListener("unlock",c))}}),[r,a,c,b,v]),u.useEffect((function(){var e=function(){return null==b?void 0:b.lock()},t=n?Array.from(document.querySelectorAll(n)):[document];return t.forEach((function(t){return t&&t.addEventListener("click",e)})),function(){t.forEach((function(t){return t?t.removeEventListener("click",e):void 0}))}}),[b,n]),b?u.createElement("primitive",s({ref:t,dispose:void 0,object:b},h)):null})),pn=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r){var a;return Object(q.a)(this,n),a=t.call(this),K(Object(Q.a)(a),"object",void 0),K(Object(Q.a)(a),"domElement",void 0),K(Object(Q.a)(a),"enabled",!0),K(Object(Q.a)(a),"movementSpeed",1),K(Object(Q.a)(a),"lookSpeed",.005),K(Object(Q.a)(a),"lookVertical",!0),K(Object(Q.a)(a),"autoForward",!1),K(Object(Q.a)(a),"activeLook",!0),K(Object(Q.a)(a),"heightSpeed",!1),K(Object(Q.a)(a),"heightCoef",1),K(Object(Q.a)(a),"heightMin",0),K(Object(Q.a)(a),"heightMax",1),K(Object(Q.a)(a),"constrainVertical",!1),K(Object(Q.a)(a),"verticalMin",0),K(Object(Q.a)(a),"verticalMax",Math.PI),K(Object(Q.a)(a),"mouseDragOn",!1),K(Object(Q.a)(a),"autoSpeedFactor",0),K(Object(Q.a)(a),"mouseX",0),K(Object(Q.a)(a),"mouseY",0),K(Object(Q.a)(a),"moveForward",!1),K(Object(Q.a)(a),"moveBackward",!1),K(Object(Q.a)(a),"moveLeft",!1),K(Object(Q.a)(a),"moveRight",!1),K(Object(Q.a)(a),"moveUp",!1),K(Object(Q.a)(a),"moveDown",!1),K(Object(Q.a)(a),"viewHalfX",0),K(Object(Q.a)(a),"viewHalfY",0),K(Object(Q.a)(a),"lat",0),K(Object(Q.a)(a),"lon",0),K(Object(Q.a)(a),"lookDirection",new l.Vector3),K(Object(Q.a)(a),"spherical",new l.Spherical),K(Object(Q.a)(a),"target",new l.Vector3),K(Object(Q.a)(a),"dispose",(function(){a.domElement.removeEventListener("contextmenu",a.contextmenu),a.domElement.removeEventListener("mousedown",a.onMouseDown),a.domElement.removeEventListener("mousemove",a.onMouseMove),a.domElement.removeEventListener("mouseup",a.onMouseUp),window.removeEventListener("keydown",a.onKeyDown),window.removeEventListener("keyup",a.onKeyUp)})),K(Object(Q.a)(a),"handleResize",(function(){a.domElement instanceof Document?(a.viewHalfX=window.innerWidth/2,a.viewHalfY=window.innerHeight/2):(a.viewHalfX=a.domElement.offsetWidth/2,a.viewHalfY=a.domElement.offsetHeight/2)})),K(Object(Q.a)(a),"onMouseDown",(function(e){if(a.domElement instanceof HTMLElement&&a.domElement.focus(),a.activeLook)switch(e.button){case 0:a.moveForward=!0;break;case 2:a.moveBackward=!0}a.mouseDragOn=!0})),K(Object(Q.a)(a),"onMouseUp",(function(e){if(a.activeLook)switch(e.button){case 0:a.moveForward=!1;break;case 2:a.moveBackward=!1}a.mouseDragOn=!1})),K(Object(Q.a)(a),"onMouseMove",(function(e){a.domElement instanceof Document?(a.mouseX=e.pageX-a.viewHalfX,a.mouseY=e.pageY-a.viewHalfY):(a.mouseX=e.pageX-a.domElement.offsetLeft-a.viewHalfX,a.mouseY=e.pageY-a.domElement.offsetTop-a.viewHalfY)})),K(Object(Q.a)(a),"onKeyDown",(function(e){switch(e.code){case"ArrowUp":case"KeyW":a.moveForward=!0;break;case"ArrowLeft":case"KeyA":a.moveLeft=!0;break;case"ArrowDown":case"KeyS":a.moveBackward=!0;break;case"ArrowRight":case"KeyD":a.moveRight=!0;break;case"KeyR":a.moveUp=!0;break;case"KeyF":a.moveDown=!0}})),K(Object(Q.a)(a),"onKeyUp",(function(e){switch(e.code){case"ArrowUp":case"KeyW":a.moveForward=!1;break;case"ArrowLeft":case"KeyA":a.moveLeft=!1;break;case"ArrowDown":case"KeyS":a.moveBackward=!1;break;case"ArrowRight":case"KeyD":a.moveRight=!1;break;case"KeyR":a.moveUp=!1;break;case"KeyF":a.moveDown=!1}})),K(Object(Q.a)(a),"lookAt",(function(e,t,n){return e instanceof l.Vector3?a.target.copy(e):t&&n&&a.target.set(e,t,n),a.object.lookAt(a.target),a.setOrientation(Object(Q.a)(a)),Object(Q.a)(a)})),K(Object(Q.a)(a),"targetPosition",new l.Vector3),K(Object(Q.a)(a),"update",(function(e){if(!1!==a.enabled){if(a.heightSpeed){var t=l.MathUtils.clamp(a.object.position.y,a.heightMin,a.heightMax)-a.heightMin;a.autoSpeedFactor=e*(t*a.heightCoef)}else a.autoSpeedFactor=0;var n=e*a.movementSpeed;(a.moveForward||a.autoForward&&!a.moveBackward)&&a.object.translateZ(-(n+a.autoSpeedFactor)),a.moveBackward&&a.object.translateZ(n),a.moveLeft&&a.object.translateX(-n),a.moveRight&&a.object.translateX(n),a.moveUp&&a.object.translateY(n),a.moveDown&&a.object.translateY(-n);var r=e*a.lookSpeed;a.activeLook||(r=0);var i=1;a.constrainVertical&&(i=Math.PI/(a.verticalMax-a.verticalMin)),a.lon-=a.mouseX*r,a.lookVertical&&(a.lat-=a.mouseY*r*i),a.lat=Math.max(-85,Math.min(85,a.lat));var o=l.MathUtils.degToRad(90-a.lat),s=l.MathUtils.degToRad(a.lon);a.constrainVertical&&(o=l.MathUtils.mapLinear(o,0,Math.PI,a.verticalMin,a.verticalMax));var u=a.object.position;a.targetPosition.setFromSphericalCoords(1,o,s).add(u),a.object.lookAt(a.targetPosition)}})),K(Object(Q.a)(a),"contextmenu",(function(e){return e.preventDefault()})),K(Object(Q.a)(a),"setOrientation",(function(e){var t=e.object.quaternion;a.lookDirection.set(0,0,-1).applyQuaternion(t),a.spherical.setFromVector3(a.lookDirection),a.lat=90-l.MathUtils.radToDeg(a.spherical.phi),a.lon=l.MathUtils.radToDeg(a.spherical.theta)})),void 0===r&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),r=document),a.object=e,a.domElement=r,a.domElement instanceof HTMLElement&&a.domElement.setAttribute("tabindex","-1"),a.handleResize(),a.setOrientation(Object(Q.a)(a)),a.domElement.addEventListener("contextmenu",a.contextmenu),a.domElement.addEventListener("mousemove",a.onMouseMove),a.domElement.addEventListener("mousedown",a.onMouseDown),a.domElement.addEventListener("mouseup",a.onMouseUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("keyup",a.onKeyUp),a}return Object(X.a)(n)}(l.EventDispatcher),mn=u.forwardRef((function(e,t){var n=Object(f.useThree)((function(e){return e.camera})),r=Object(f.useThree)((function(e){return e.gl})),a=u.useState((function(){return new pn(n,r.domElement)})),o=Object(i.a)(a,1)[0];return Object(f.useFrame)((function(e,t){o.update(t)})),o?u.createElement("primitive",s({ref:t,object:o},e)):null}));function vn(e,t){var n=Object(f.useThree)((function(e){return e.mouse})),r=u.useState((function(){var r=new l.Raycaster;return t&&Object(f.applyProps)(r,t,{}),function(t,a){r.setFromCamera(n,e instanceof l.Camera?e:e.current);var i=this.constructor.prototype.raycast.bind(this);i&&i(r,a)}}));return Object(i.a)(r,1)[0]}var gn=u.createContext({}),yn=function(){return u.useContext(gn)},bn=2*Math.PI,_n=new l.Object3D,wn=new l.Matrix4,xn=new l.Quaternion,An=new l.Quaternion,Mn=new l.Vector3,En=new l.Vector3,Cn=function(e){var t=e.alignment,n=void 0===t?"bottom-right":t,r=e.margin,a=void 0===r?[80,80]:r,o=e.renderPriority,s=void 0===o?0:o,c=e.onUpdate,d=e.onTarget,h=e.children,p=Object(f.useThree)((function(e){return e.size})),m=Object(f.useThree)((function(e){return e.camera})),v=Object(f.useThree)((function(e){return e.controls})),g=Object(f.useThree)((function(e){return e.gl})),y=Object(f.useThree)((function(e){return e.scene})),b=Object(f.useThree)((function(e){return e.invalidate})),_=u.useRef(),w=u.useRef(),x=u.useRef(null),A=u.useState((function(){return new l.Scene})),M=Object(i.a)(A,1)[0],E=u.useRef(!1),C=u.useRef(0),S=u.useRef(new l.Vector3(0,0,0));u.useEffect((function(){return y.background&&(_.current=y.background,y.background=null,M.background=_.current),function(){_.current&&(y.background=_.current)}}),[]);Object(f.useFrame)((function(e,t){x.current&&w.current&&(!function(e){if(E.current)if(xn.angleTo(An)<.01)E.current=!1;else{var t=e*bn;xn.rotateTowards(An,t),m.position.set(0,0,1).applyQuaternion(xn).multiplyScalar(C.current).add(S.current),m.up.set(0,1,0).applyQuaternion(xn).normalize(),m.quaternion.copy(xn),c?c():v&&v.update(),b()}}(t),function(){var e;wn.copy(m.matrix).invert(),null==(e=w.current)||e.quaternion.setFromRotationMatrix(wn)}(),g.autoClear=!1,g.clearDepth(),g.render(M,x.current))}),s);var O={tweenCamera:function(e){E.current=!0,(v||d)&&(S.current=(null==v?void 0:v.target)||(null==d?void 0:d())),C.current=m.position.distanceTo(Mn),xn.copy(m.quaternion),En.copy(e).multiplyScalar(C.current).add(Mn),_n.lookAt(En),An.copy(_n.quaternion),b()},raycast:vn(x)},T=Object(i.a)(a,2),k=T[0],B=T[1],P=n.endsWith("-left")?-p.width/2+k:p.width/2-k,L=n.startsWith("top-")?p.height/2-B:-p.height/2+B;return Object(f.createPortal)(u.createElement(gn.Provider,{value:O},u.createElement(wt,{ref:x,makeDefault:!1,position:[0,0,200]}),u.createElement("group",{ref:w,position:[P,L,0]},h)),M)},Sn="#f0f0f0",On="#999",Tn="black",kn="black",Bn=["Right","Left","Top","Bottom","Front","Back"],Pn=function(e){return Object(fe.a)(l.Vector3,Object(A.a)(e)).multiplyScalar(.38)},Ln=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(Pn),Dn=[.25,.25,.25],jn=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(Pn),Fn=jn.map((function(e){return e.toArray().map((function(e){return 0==e?.5:.25}))})),Rn=function(e){var t=e.hover,n=e.index,r=e.font,a=void 0===r?"20px Inter var, Arial, sans-serif":r,i=e.faces,o=void 0===i?Bn:i,s=e.color,c=void 0===s?Sn:s,d=e.hoverColor,h=void 0===d?On:d,p=e.textColor,m=void 0===p?Tn:p,v=e.strokeColor,g=void 0===v?kn:v,y=e.opacity,b=void 0===y?1:y,_=Object(f.useThree)((function(e){return e.gl})),w=u.useMemo((function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d");return t.fillStyle=c,t.fillRect(0,0,e.width,e.height),t.strokeStyle=g,t.strokeRect(0,0,e.width,e.height),t.font=a,t.textAlign="center",t.fillStyle=m,t.fillText(o[n].toUpperCase(),64,76),new l.CanvasTexture(e)}),[n,a,c,m,g]);return u.createElement("meshLambertMaterial",{map:w,"map-anisotropy":_.capabilities.getMaxAnisotropy()||1,attachArray:"material",color:t?h:"white",transparent:!0,opacity:b})},In=function(e){var t=yn(),n=t.tweenCamera,r=t.raycast,a=u.useState(null),o=Object(i.a)(a,2),c=o[0],l=o[1];return u.createElement("mesh",{raycast:r,onPointerOut:function(e){e.stopPropagation(),l(null)},onPointerMove:function(e){e.stopPropagation(),l(Math.floor(e.faceIndex/2))},onClick:e.onClick||function(e){e.stopPropagation(),n(e.face.normal)}},Object(A.a)(Array(6)).map((function(t,n){return u.createElement(Rn,s({key:n,index:n,hover:c===n},e))})),u.createElement("boxGeometry",null))},zn=function(e){var t=e.onClick,n=e.dimensions,r=e.position,a=e.hoverColor,o=void 0===a?On:a,s=yn(),c=s.tweenCamera,l=s.raycast,f=u.useState(!1),d=Object(i.a)(f,2),h=d[0],p=d[1];return u.createElement("mesh",{scale:1.01,position:r,raycast:l,onPointerOver:function(e){e.stopPropagation(),p(!0)},onPointerOut:function(e){e.stopPropagation(),p(!1)},onClick:t||function(e){e.stopPropagation(),c(r)}},u.createElement("meshBasicMaterial",{color:h?o:"white",transparent:!0,opacity:.6,visible:h}),u.createElement("boxGeometry",{args:n}))},Un=function(e){return u.createElement("group",{scale:[60,60,60]},u.createElement(In,e),jn.map((function(t,n){return u.createElement(zn,s({key:n,position:t,dimensions:Fn[n]},e))})),Ln.map((function(t,n){return u.createElement(zn,s({key:n,position:t,dimensions:Dn},e))})),u.createElement("ambientLight",{intensity:.5}),u.createElement("pointLight",{position:[10,10,10],intensity:.5}))},Nn=["onClick","font","disabled","arcStyle","label","labelColor","axisHeadScale"],Gn=["hideNegativeAxes","hideAxisHeads","disabled","font","axisColors","axisHeadScale","axisScale","labels","labelColor","onClick"];function Hn(e){var t=e.scale,n=void 0===t?[.8,.05,.05]:t,r=e.color,a=e.rotation;return u.createElement("group",{rotation:a},u.createElement("mesh",{position:[.4,0,0]},u.createElement("boxGeometry",{args:n}),u.createElement("meshBasicMaterial",{color:r,toneMapped:!1})))}function Vn(e){var t=e.onClick,n=e.font,r=e.disabled,a=e.arcStyle,c=e.label,d=e.labelColor,h=e.axisHeadScale,p=void 0===h?1:h,m=Object(o.a)(e,Nn),v=Object(f.useThree)((function(e){return e.gl})),g=u.useMemo((function(){var e=document.createElement("canvas");e.width=64,e.height=64;var t=e.getContext("2d");return t.beginPath(),t.arc(32,32,16,0,2*Math.PI),t.closePath(),t.fillStyle=a,t.fill(),c&&(t.font=n,t.textAlign="center",t.fillStyle=d,t.fillText(c,32,41)),new l.CanvasTexture(e)}),[a,c,d,n]),y=u.useState(!1),b=Object(i.a)(y,2),_=b[0],w=b[1],x=(c?1:.75)*(_?1.2:1)*p;return u.createElement("sprite",s({scale:x,onPointerOver:r?void 0:function(e){e.stopPropagation(),w(!0)},onPointerOut:r?void 0:t||function(e){e.stopPropagation(),w(!1)}},m),u.createElement("spriteMaterial",{map:g,"map-anisotropy":v.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:c?1:.75,toneMapped:!1}))}var Wn=function(e){var t=e.hideNegativeAxes,n=e.hideAxisHeads,r=e.disabled,a=e.font,c=void 0===a?"18px Inter var, Arial, sans-serif":a,l=e.axisColors,f=void 0===l?["#ff3653","#0adb50","#2c8fdf"]:l,d=e.axisHeadScale,h=void 0===d?1:d,p=e.axisScale,m=e.labels,v=void 0===m?["X","Y","Z"]:m,g=e.labelColor,y=void 0===g?"#000":g,b=e.onClick,_=Object(o.a)(e,Gn),w=Object(i.a)(f,3),x=w[0],A=w[1],M=w[2],E=yn(),C=E.tweenCamera,S={font:c,disabled:r,labelColor:y,raycast:E.raycast,onClick:b,axisHeadScale:h,onPointerDown:r?void 0:function(e){C(e.object.position),e.stopPropagation()}};return u.createElement("group",s({scale:40},_),u.createElement(Hn,{color:x,rotation:[0,0,0],scale:p}),u.createElement(Hn,{color:A,rotation:[0,0,Math.PI/2],scale:p}),u.createElement(Hn,{color:M,rotation:[0,-Math.PI/2,0],scale:p}),!n&&u.createElement(u.Fragment,null,u.createElement(Vn,s({arcStyle:x,position:[1,0,0],label:v[0]},S)),u.createElement(Vn,s({arcStyle:A,position:[0,1,0],label:v[1]},S)),u.createElement(Vn,s({arcStyle:M,position:[0,0,1],label:v[2]},S)),!t&&u.createElement(u.Fragment,null,u.createElement(Vn,s({arcStyle:x,position:[-1,0,0]},S)),u.createElement(Vn,s({arcStyle:A,position:[0,-1,0]},S)),u.createElement(Vn,s({arcStyle:M,position:[0,0,-1]},S)))),u.createElement("ambientLight",{intensity:.5}),u.createElement("pointLight",{position:[10,10,10],intensity:.5}))};function Xn(e,t){var n=t.path,r=Object(f.useLoader)(l.CubeTextureLoader,[e],(function(e){return e.setPath(n)}));return Object(i.a)(r,1)[0]}Xn.preload=function(e,t){var n=t.path;return f.useLoader.preload(l.CubeTextureLoader,[e],(function(e){return e.setPath(n)}))};var qn=Uint8Array,Qn=Uint16Array,Yn=Uint32Array,Jn=new qn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kn=new qn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zn=new qn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$n=function(e,t){for(var n=new Qn(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new Yn(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return[n,a]},er=$n(Jn,2),tr=er[0],nr=er[1];tr[28]=258,nr[258]=28;for(var rr=$n(Kn,0),ar=rr[0],ir=(rr[1],new Qn(32768)),or=0;or<32768;++or){var sr=(43690&or)>>>1|(21845&or)<<1;sr=(61680&(sr=(52428&sr)>>>2|(13107&sr)<<2))>>>4|(3855&sr)<<4,ir[or]=((65280&sr)>>>8|(255&sr)<<8)>>>1}var ur=function(e,t,n){for(var r=e.length,a=0,i=new Qn(t);a<r;++a)++i[e[a]-1];var o,s=new Qn(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(n){o=new Qn(1<<t);var u=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],l=t-e[a],f=s[e[a]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)o[ir[f]>>>u]=c}else for(o=new Qn(r),a=0;a<r;++a)e[a]&&(o[a]=ir[s[e[a]-1]++]>>>15-e[a]);return o},cr=new qn(288);for(or=0;or<144;++or)cr[or]=8;for(or=144;or<256;++or)cr[or]=9;for(or=256;or<280;++or)cr[or]=7;for(or=280;or<288;++or)cr[or]=8;var lr=new qn(32);for(or=0;or<32;++or)lr[or]=5;var fr=ur(cr,9,1),dr=ur(lr,5,1),hr=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},pr=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},mr=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},vr=function(e){return(e/8|0)+(7&e&&1)},gr=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof Qn?Qn:e instanceof Yn?Yn:qn)(n-t);return r.set(e.subarray(t,n)),r},yr=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new qn(0);var a=!t||n,i=!n||n.i;n||(n={}),t||(t=new qn(3*r));var o=function(e){var n=t.length;if(e>n){var r=new qn(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,u=n.p||0,c=n.b||0,l=n.l,f=n.d,d=n.m,h=n.n,p=8*r;do{if(!l){n.f=s=pr(e,u,1);var m=pr(e,u+1,3);if(u+=3,!m){var v=e[(S=vr(u)+4)-4]|e[S-3]<<8,g=S+v;if(g>r){if(i)throw"unexpected EOF";break}a&&o(c+v),t.set(e.subarray(S,g),c),n.b=c+=v,n.p=u=8*g;continue}if(1==m)l=fr,f=dr,d=9,h=5;else{if(2!=m)throw"invalid block type";var y=pr(e,u,31)+257,b=pr(e,u+10,15)+4,_=y+pr(e,u+5,31)+1;u+=14;for(var w=new qn(_),x=new qn(19),A=0;A<b;++A)x[Zn[A]]=pr(e,u+3*A,7);u+=3*b;var M=hr(x),E=(1<<M)-1,C=ur(x,M,1);for(A=0;A<_;){var S,O=C[pr(e,u,E)];if(u+=15&O,(S=O>>>4)<16)w[A++]=S;else{var T=0,k=0;for(16==S?(k=3+pr(e,u,3),u+=2,T=w[A-1]):17==S?(k=3+pr(e,u,7),u+=3):18==S&&(k=11+pr(e,u,127),u+=7);k--;)w[A++]=T}}var B=w.subarray(0,y),P=w.subarray(y);d=hr(B),h=hr(P),l=ur(B,d,1),f=ur(P,h,1)}if(u>p){if(i)throw"unexpected EOF";break}}a&&o(c+131072);for(var L=(1<<d)-1,D=(1<<h)-1,j=u;;j=u){var F=(T=l[mr(e,u)&L])>>>4;if((u+=15&T)>p){if(i)throw"unexpected EOF";break}if(!T)throw"invalid length/literal";if(F<256)t[c++]=F;else{if(256==F){j=u,l=null;break}var R=F-254;if(F>264){var I=Jn[A=F-257];R=pr(e,u,(1<<I)-1)+tr[A],u+=I}var z=f[mr(e,u)&D],U=z>>>4;if(!z)throw"invalid distance";u+=15&z;P=ar[U];if(U>3){I=Kn[U];P+=mr(e,u)&(1<<I)-1,u+=I}if(u>p){if(i)throw"unexpected EOF";break}a&&o(c+131072);for(var N=c+R;c<N;c+=4)t[c]=t[c-P],t[c+1]=t[c+1-P],t[c+2]=t[c+2-P],t[c+3]=t[c+3-P];c=N}}n.l=l,n.p=j,n.b=c,l&&(s=1,n.m=d,n.d=f,n.n=h)}while(!s);return c==t.length?t:gr(t,0,c)},br=new qn(0),_r=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function wr(e,t){return yr((_r(e),e.subarray(2,-4)),t)}var xr="undefined"!=typeof TextDecoder&&new TextDecoder;try{xr.decode(br,{stream:!0}),1}catch(il){}var Ar,Mr,Er,Cr=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r,a,i,o){var s;Object(q.a)(this,n),(s=t.call(this)).degree=e,s.knots=r,s.controlPoints=[],s.startKnot=i||0,s.endKnot=o||s.knots.length-1;for(var u=0;u<a.length;++u){var c=a[u];s.controlPoints[u]=new l.Vector4(c.x,c.y,c.z,c.w)}return s}return Object(X.a)(n,[{key:"getPoint",value:function(e,t){var n=t||new l.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=function(e,t,n,r){for(var a=this.findSpan(e,r,t),i=this.calcBasisFunctions(a,r,e,t),o=new l.Vector4(0,0,0,0),s=0;s<=e;++s){var u=n[a-e+s],c=i[s],f=u.w*c;o.x+=u.x*f,o.y+=u.y*f,o.z+=u.z*f,o.w+=u.w*c}return o}(this.degree,this.knots,this.controlPoints,r);return 1!=a.w&&a.divideScalar(a.w),n.set(a.x,a.y,a.z)}},{key:"getTangent",value:function(e,t){var n=t||new l.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=function(e,t,n,r,a){var i=this.calcBSplineDerivatives(e,t,n,r,a);return this.calcRationalCurveDerivatives(i)}(this.degree,this.knots,this.controlPoints,r,1);return n.copy(a[1]).normalize(),n}}]),n}(l.Curve),Sr=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){return Object(q.a)(this,n),t.call(this,e)}return Object(X.a)(n,[{key:"load",value:function(e,t,n,r){var a=this,i=""===a.path?l.LoaderUtils.extractUrlBase(e):a.path,o=new l.FileLoader(this.manager);o.setPath(a.path),o.setResponseType("arraybuffer"),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,(function(n){try{t(a.parse(n,i))}catch(il){r?r(il):console.error(il),a.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e,t){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===Vr(e,0,t.length)}(e))Ar=(new Pr).parse(e);else{var n=Vr(e);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var a=0;a<t.length;++a){if(r(1)===t[a])return!1}return!0}(n))throw new Error("THREE.FBXLoader: Unknown format.");if(jr(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+jr(n));Ar=(new Br).parse(n)}var r=new l.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Or(r,this.manager).parse(Ar)}}]),n}(l.Loader),Or=function(){function e(t,n){Object(q.a)(this,e),this.textureLoader=t,this.manager=n}return Object(X.a)(e,[{key:"parse",value:function(){Mr=this.parseConnections();var e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),a=(new Tr).parse(r);return this.parseScene(r,a,n),Er}},{key:"parseConnections",value:function(){var e=new Map;"Connections"in Ar&&Ar.Connections.connections.forEach((function(t){var n=t[0],r=t[1],a=t[2];e.has(n)||e.set(n,{parents:[],children:[]});var i={ID:r,relationship:a};e.get(n).parents.push(i),e.has(r)||e.set(r,{parents:[],children:[]});var o={ID:n,relationship:a};e.get(r).children.push(o)}));return e}},{key:"parseImages",value:function(){var e={},t={};if("Video"in Ar.Objects){var n=Ar.Objects.Video;for(var r in n){var a=n[r];if(e[parseInt(r)]=a.RelativeFilename||a.Filename,"Content"in a){var i=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,o="string"===typeof a.Content&&""!==a.Content;if(i||o){var s=this.parseImage(n[r]);t[a.RelativeFilename||a.Filename]=s}}}}for(var u in e){var c=e[u];void 0!==t[c]?e[u]=t[c]:e[u]=e[u].split("\\").pop()}return e}},{key:"parseImage",value:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,a=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(a){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+a+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var i=new Uint8Array(n);return window.URL.createObjectURL(new Blob([i],{type:t}))}},{key:"parseTextures",value:function(e){var t=new Map;if("Texture"in Ar.Objects){var n=Ar.Objects.Texture;for(var r in n){var a=this.parseTexture(n[r],e);t.set(parseInt(r),a)}}return t}},{key:"parseTexture",value:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,a=e.WrapModeV,i=void 0!==r?r.value:0,o=void 0!==a?a.value:0;if(n.wrapS=0===i?l.RepeatWrapping:l.ClampToEdgeWrapping,n.wrapT=0===o?l.RepeatWrapping:l.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n}},{key:"loadTexture",value:function(e,t){var n,r,a=this.textureLoader.path,i=Mr.get(e.id).children;void 0!==i&&i.length>0&&void 0!==t[i[0].ID]&&(0!==(n=t[i[0].ID]).indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));var o=e.FileName.slice(-3).toLowerCase();if("tga"===o){var s=this.manager.getHandler(".tga");null===s?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),r=new l.Texture):r=s.load(n)}else"psd"===o?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),r=new l.Texture):r=this.textureLoader.load(n);return this.textureLoader.setPath(a),r}},{key:"parseMaterials",value:function(e){var t=new Map;if("Material"in Ar.Objects){var n=Ar.Objects.Material;for(var r in n){var a=this.parseMaterial(n[r],e);null!==a&&t.set(parseInt(r),a)}}return t}},{key:"parseMaterial",value:function(e,t){var n=e.id,r=e.attrName,a=e.ShadingModel;if("object"===typeof a&&(a=a.value),!Mr.has(n))return null;var i,o=this.parseParameters(e,t,n);switch(a.toLowerCase()){case"phong":i=new l.MeshPhongMaterial;break;case"lambert":i=new l.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),i=new l.MeshPhongMaterial}return i.setValues(o),i.name=r,i}},{key:"parseParameters",value:function(e,t,n){var r={};e.BumpFactor&&(r.bumpScale=e.BumpFactor.value),e.Diffuse?r.color=(new l.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(r.color=(new l.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(r.displacementScale=e.DisplacementFactor.value),e.Emissive?r.emissive=(new l.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(r.emissive=(new l.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(r.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(r.opacity=parseFloat(e.Opacity.value)),r.opacity<1&&(r.transparent=!0),e.ReflectionFactor&&(r.reflectivity=e.ReflectionFactor.value),e.Shininess&&(r.shininess=e.Shininess.value),e.Specular?r.specular=(new l.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(r.specular=(new l.Color).fromArray(e.SpecularColor.value));var a=this;return Mr.get(n).children.forEach((function(e){var n=e.relationship;switch(n){case"Bump":r.bumpMap=a.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":r.aoMap=a.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":r.map=a.getTexture(t,e.ID),r.map.encoding=l.sRGBEncoding;break;case"DisplacementColor":r.displacementMap=a.getTexture(t,e.ID);break;case"EmissiveColor":r.emissiveMap=a.getTexture(t,e.ID),r.emissiveMap.encoding=l.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":r.normalMap=a.getTexture(t,e.ID);break;case"ReflectionColor":r.envMap=a.getTexture(t,e.ID),r.envMap.mapping=l.EquirectangularReflectionMapping,r.envMap.encoding=l.sRGBEncoding;break;case"SpecularColor":r.specularMap=a.getTexture(t,e.ID),r.specularMap.encoding=l.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":r.alphaMap=a.getTexture(t,e.ID),r.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n)}})),r}},{key:"getTexture",value:function(e,t){return"LayeredTexture"in Ar.Objects&&t in Ar.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Mr.get(t).children[0].ID),e.get(t)}},{key:"parseDeformers",value:function(){var e={},t={};if("Deformer"in Ar.Objects){var n=Ar.Objects.Deformer;for(var r in n){var a=n[r],i=Mr.get(parseInt(r));if("Skin"===a.attrType){var o=this.parseSkeleton(i,n);o.ID=r,i.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=i.parents[0].ID,e[r]=o}else if("BlendShape"===a.attrType){var s={id:r};s.rawTargets=this.parseMorphTargets(i,n),s.id=r,i.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=s}}}return{skeletons:e,morphTargets:t}}},{key:"parseSkeleton",value:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var a={ID:e.ID,indices:[],weights:[],transformLink:(new l.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(a.indices=r.Indexes.a,a.weights=r.Weights.a),n.push(a)}})),{rawBones:n,bones:[]}}},{key:"parseMorphTargets",value:function(e,t){for(var n=[],r=0;r<e.children.length;r++){var a=e.children[r],i=t[a.ID],o={name:i.attrName,initialWeight:i.DeformPercent,id:i.id,fullWeights:i.FullWeights.a};if("BlendShapeChannel"!==i.attrType)return;o.geoID=Mr.get(parseInt(a.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(o)}return n}},{key:"parseScene",value:function(e,t,n){Er=new l.Group;var r=this.parseModels(e.skeletons,t,n),a=Ar.Objects.Model,i=this;r.forEach((function(e){var t=a[e.ID];i.setLookAtProperties(e,t),Mr.get(e.ID).parents.forEach((function(t){var n=r.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&Er.add(e)})),this.bindSkeleton(e.skeletons,t,r),this.createAmbientLight(),this.setupMorphMaterials(),Er.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);var t=Nr(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));var o=(new kr).parse();1===Er.children.length&&Er.children[0].isGroup&&(Er.children[0].animations=o,Er=Er.children[0]),Er.animations=o}},{key:"parseModels",value:function(e,t,n){var r=new Map,a=Ar.Objects.Model;for(var i in a){var o=parseInt(i),s=a[i],u=Mr.get(o),c=this.buildSkeleton(u,e,o,s.attrName);if(!c){switch(s.attrType){case"Camera":c=this.createCamera(u);break;case"Light":c=this.createLight(u);break;case"Mesh":c=this.createMesh(u,t,n);break;case"NurbsCurve":c=this.createCurve(u,t);break;case"LimbNode":case"Root":c=new l.Bone;break;default:c=new l.Group}c.name=s.attrName?l.PropertyBinding.sanitizeNodeName(s.attrName):"",c.ID=o}this.getTransformData(c,s),r.set(o,c)}return r}},{key:"buildSkeleton",value:function(e,t,n,r){var a=null;return e.parents.forEach((function(e){var i=function(i){var o=t[i];o.rawBones.forEach((function(t,i){if(t.ID===e.ID){var s=a;(a=new l.Bone).matrixWorld.copy(t.transformLink),a.name=r?l.PropertyBinding.sanitizeNodeName(r):"",a.ID=n,o.bones[i]=a,null!==s&&a.add(s)}}))};for(var o in t)i(o)})),a}},{key:"createCamera",value:function(e){var t,n;if(e.children.forEach((function(e){var t=Ar.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new l.Object3D;else{var r=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(r=1);var a=1;void 0!==n.NearPlane&&(a=n.NearPlane.value/1e3);var i=1e3;void 0!==n.FarPlane&&(i=n.FarPlane.value/1e3);var o=window.innerWidth,s=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(o=n.AspectWidth.value,s=n.AspectHeight.value);var u=o/s,c=45;void 0!==n.FieldOfView&&(c=n.FieldOfView.value);var f=n.FocalLength?n.FocalLength.value:null;switch(r){case 0:t=new l.PerspectiveCamera(c,u,a,i),null!==f&&t.setFocalLength(f);break;case 1:t=new l.OrthographicCamera(-o/2,o/2,s/2,-s/2,a,i);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+r+"."),t=new l.Object3D}}return t}},{key:"createLight",value:function(e){var t,n;if(e.children.forEach((function(e){var t=Ar.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new l.Object3D;else{var r;r=void 0===n.LightType?0:n.LightType.value;var a=16777215;void 0!==n.Color&&(a=(new l.Color).fromArray(n.Color.value));var i=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(i=0);var o=0;void 0!==n.FarAttenuationEnd&&(o=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);switch(r){case 0:t=new l.PointLight(a,i,o,1);break;case 1:t=new l.DirectionalLight(a,i);break;case 2:var s=Math.PI/3;void 0!==n.InnerAngle&&(s=l.MathUtils.degToRad(n.InnerAngle.value));var u=0;void 0!==n.OuterAngle&&(u=l.MathUtils.degToRad(n.OuterAngle.value),u=Math.max(u,1)),t=new l.SpotLight(a,i,o,s,u,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new l.PointLight(a,i)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}},{key:"createMesh",value:function(e,t,n){var r,a=null,i=null,o=[];return e.children.forEach((function(e){t.has(e.ID)&&(a=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?i=o:o.length>0?i=o[0]:(i=new l.MeshPhongMaterial({color:13421772}),o.push(i)),"color"in a.attributes&&o.forEach((function(e){e.vertexColors=!0})),a.FBX_Deformer?(o.forEach((function(e){e.skinning=!0})),(r=new l.SkinnedMesh(a,i)).normalizeSkinWeights()):r=new l.Mesh(a,i),r}},{key:"createCurve",value:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new l.LineBasicMaterial({color:3342591,linewidth:1});return new l.Line(n,r)}},{key:"getTransformData",value:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?Gr(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}},{key:"setLookAtProperties",value:function(e,t){"LookAtProperty"in t&&Mr.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var n=Ar.Objects.Model[t.ID];if("Lcl_Translation"in n){var r=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(r),Er.add(e.target)):e.lookAt((new l.Vector3).fromArray(r))}}}))}},{key:"bindSkeleton",value:function(e,t,n){var r=this.parsePoseNodes(),a=function(a){var i=e[a];Mr.get(parseInt(i.ID)).parents.forEach((function(e){if(t.has(e.ID)){var a=e.ID;Mr.get(a).parents.forEach((function(e){n.has(e.ID)&&n.get(e.ID).bind(new l.Skeleton(i.bones),r[e.ID])}))}}))};for(var i in e)a(i)}},{key:"parsePoseNodes",value:function(){var e={};if("Pose"in Ar.Objects){var t=Ar.Objects.Pose;for(var n in t)if("BindPose"===t[n].attrType){var r=t[n].PoseNode;Array.isArray(r)?r.forEach((function(t){e[t.Node]=(new l.Matrix4).fromArray(t.Matrix.a)})):e[r.Node]=(new l.Matrix4).fromArray(r.Matrix.a)}}return e}},{key:"createAmbientLight",value:function(){if("GlobalSettings"in Ar&&"AmbientColor"in Ar.GlobalSettings){var e=Ar.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],r=e[2];if(0!==t||0!==n||0!==r){var a=new l.Color(t,n,r);Er.add(new l.AmbientLight(a,1))}}}},{key:"setupMorphMaterials",value:function(){var e=this;Er.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))}},{key:"setupMorphMaterial",value:function(e,t,n){var r=e.uuid,a=t.uuid,i=!1;if(Er.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===a&&e.uuid!==r&&(i=!0)})):e.material.uuid===a&&e.uuid!==r&&(i=!0))})),!0===i){var o=t.clone();o.morphTargets=!0,void 0===n?e.material=o:e.material[n]=o}else t.morphTargets=!0}}]),e}(),Tr=function(){function e(){Object(q.a)(this,e)}return Object(X.a)(e,[{key:"parse",value:function(e){var t=new Map;if("Geometry"in Ar.Objects){var n=Ar.Objects.Geometry;for(var r in n){var a=Mr.get(parseInt(r)),i=this.parseGeometry(a,n[r],e);t.set(parseInt(r),i)}}return t}},{key:"parseGeometry",value:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}},{key:"parseMeshGeometry",value:function(e,t,n){var r=n.skeletons,a=[],i=e.parents.map((function(e){return Ar.Objects.Model[e.ID]}));if(0!==i.length){var o=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&a.push(n.morphTargets[e.ID])}));var s=i[0],u={};"RotationOrder"in s&&(u.eulerOrder=Gr(s.RotationOrder.value)),"InheritType"in s&&(u.inheritType=parseInt(s.InheritType.value)),"GeometricTranslation"in s&&(u.translation=s.GeometricTranslation.value),"GeometricRotation"in s&&(u.rotation=s.GeometricRotation.value),"GeometricScaling"in s&&(u.scale=s.GeometricScaling.value);var c=Nr(u);return this.genGeometry(t,o,a,c)}}},{key:"genGeometry",value:function(e,t,n,r){var a=new l.BufferGeometry;e.attrName&&(a.name=e.attrName);var i=this.parseGeoNode(e,t),o=this.genBuffers(i),s=new l.Float32BufferAttribute(o.vertex,3);if(s.applyMatrix4(r),a.setAttribute("position",s),o.colors.length>0&&a.setAttribute("color",new l.Float32BufferAttribute(o.colors,3)),t&&(a.setAttribute("skinIndex",new l.Uint16BufferAttribute(o.weightsIndices,4)),a.setAttribute("skinWeight",new l.Float32BufferAttribute(o.vertexWeights,4)),a.FBX_Deformer=t),o.normal.length>0){var u=(new l.Matrix3).getNormalMatrix(r),c=new l.Float32BufferAttribute(o.normal,3);c.applyNormalMatrix(u),a.setAttribute("normal",c)}if(o.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),a.setAttribute(n,new l.Float32BufferAttribute(o.uvs[t],2))})),i.material&&"AllSame"!==i.material.mappingType){var f=o.materialIndex[0],d=0;if(o.materialIndex.forEach((function(e,t){e!==f&&(a.addGroup(d,t-d,f),f=e,d=t)})),a.groups.length>0){var h=a.groups[a.groups.length-1],p=h.start+h.count;p!==o.materialIndex.length&&a.addGroup(p,o.materialIndex.length-p,f)}0===a.groups.length&&a.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(a,e,n,r),a}},{key:"parseGeoNode",value:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,a){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[a]})}))}))),n}},{key:"genBuffers",value:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,a=!1,i=[],o=[],s=[],u=[],c=[],l=[],f=this;return e.vertexIndices.forEach((function(d,h){var p,m=!1;d<0&&(d^=-1,m=!0);var v=[],g=[];if(i.push(3*d,3*d+1,3*d+2),e.color){var y=Ir(h,n,d,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach((function(e){g.push(e.weight),v.push(e.id)})),g.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);var b=[0,0,0,0],_=[0,0,0,0];g.forEach((function(e,t){var n=e,r=v[t];_.forEach((function(e,t,a){if(n>e){a[t]=n,n=e;var i=b[t];b[t]=r,r=i}}))})),v=b,g=_}for(;g.length<4;)g.push(0),v.push(0);for(var w=0;w<4;++w)c.push(g[w]),l.push(v[w])}if(e.normal){var x=Ir(h,n,d,e.normal);o.push(x[0],x[1],x[2])}e.material&&"AllSame"!==e.material.mappingType&&(p=Ir(h,n,d,e.material)[0]),e.uv&&e.uv.forEach((function(e,t){var r=Ir(h,n,d,e);void 0===u[t]&&(u[t]=[]),u[t].push(r[0]),u[t].push(r[1])})),r++,m&&(f.genFace(t,e,i,p,o,s,u,c,l,r),n++,r=0,i=[],o=[],s=[],u=[],c=[],l=[])})),t}},{key:"genFace",value:function(e,t,n,r,a,i,o,s,u,c){for(var l=function(c){e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(c-1)]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[n[3*c]]),e.vertex.push(t.vertexPositions[n[3*c+1]]),e.vertex.push(t.vertexPositions[n[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(c-1)]),e.weightsIndices.push(u[4*(c-1)+1]),e.weightsIndices.push(u[4*(c-1)+2]),e.weightsIndices.push(u[4*(c-1)+3]),e.weightsIndices.push(u[4*c]),e.weightsIndices.push(u[4*c+1]),e.weightsIndices.push(u[4*c+2]),e.weightsIndices.push(u[4*c+3])),t.color&&(e.colors.push(i[0]),e.colors.push(i[1]),e.colors.push(i[2]),e.colors.push(i[3*(c-1)]),e.colors.push(i[3*(c-1)+1]),e.colors.push(i[3*(c-1)+2]),e.colors.push(i[3*c]),e.colors.push(i[3*c+1]),e.colors.push(i[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(a[0]),e.normal.push(a[1]),e.normal.push(a[2]),e.normal.push(a[3*(c-1)]),e.normal.push(a[3*(c-1)+1]),e.normal.push(a[3*(c-1)+2]),e.normal.push(a[3*c]),e.normal.push(a[3*c+1]),e.normal.push(a[3*c+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(c-1)]),e.uvs[n].push(o[n][2*(c-1)+1]),e.uvs[n].push(o[n][2*c]),e.uvs[n].push(o[n][2*c+1])}))},f=2;f<c;f++)l(f)}},{key:"addMorphTargets",value:function(e,t,n,r){if(0!==n.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];var a=this;n.forEach((function(n){n.rawTargets.forEach((function(n){var i=Ar.Objects.Geometry[n.geoID];void 0!==i&&a.genMorphGeometry(e,t,i,r,n.name)}))}))}}},{key:"genMorphGeometry",value:function(e,t,n,r,a){for(var i=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],u=3*e.attributes.position.count,c=new Float32Array(u),f=0;f<s.length;f++){var d=3*s[f];c[d]=o[3*f],c[d+1]=o[3*f+1],c[d+2]=o[3*f+2]}var h={vertexIndices:i,vertexPositions:c},p=this.genBuffers(h),m=new l.Float32BufferAttribute(p.vertex,3);m.name=a||n.attrName,m.applyMatrix4(r),e.morphAttributes.position.push(m)}},{key:"parseNormals",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,a=[];return"IndexToDirect"===n&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseUVs",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,a=[];return"IndexToDirect"===n&&(a=e.UVIndex.a),{dataSize:2,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseVertexColors",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,a=[];return"IndexToDirect"===n&&(a=e.ColorIndex.a),{dataSize:4,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseMaterialIndices",value:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,a=[],i=0;i<r.length;++i)a.push(i);return{dataSize:1,buffer:r,indices:a,mappingType:t,referenceType:n}}},{key:"parseNurbsGeometry",value:function(e){if(void 0===Cr)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new l.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new l.BufferGeometry;for(var n,r,a=t-1,i=e.KnotVector.a,o=[],s=e.Points.a,u=0,c=s.length;u<c;u+=4)o.push((new l.Vector4).fromArray(s,u));if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){n=a,r=i.length-1-n;for(var f=0;f<a;++f)o.push(o[f])}var d=new Cr(a,i,o,n,r).getPoints(7*o.length),h=new Float32Array(3*d.length);d.forEach((function(e,t){e.toArray(h,3*t)}));var p=new l.BufferGeometry;return p.setAttribute("position",new l.BufferAttribute(h,3)),p}}]),e}(),kr=function(){function e(){Object(q.a)(this,e)}return Object(X.a)(e,[{key:"parse",value:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],a=this.addClip(r);e.push(a)}return e}},{key:"parseClips",value:function(){if(void 0!==Ar.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}}},{key:"parseAnimationCurveNodes",value:function(){var e=Ar.Objects.AnimationCurveNode,t=new Map;for(var n in e){var r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){var a={id:r.id,attr:r.attrName,curves:{}};t.set(a.id,a)}}return t}},{key:"parseAnimationCurves",value:function(e){var t=Ar.Objects.AnimationCurve;for(var n in t){var r={id:t[n].id,times:t[n].KeyTime.a.map(Fr),values:t[n].KeyValueFloat.a},a=Mr.get(r.id);if(void 0!==a){var i=a.parents[0].ID,o=a.parents[0].relationship;o.match(/X/)?e.get(i).curves.x=r:o.match(/Y/)?e.get(i).curves.y=r:o.match(/Z/)?e.get(i).curves.z=r:o.match(/d|DeformPercent/)&&e.has(i)&&(e.get(i).curves.morph=r)}}}},{key:"parseAnimationLayers",value:function(e){var t=Ar.Objects.AnimationLayer,n=new Map,r=function(t){var r=[],a=Mr.get(parseInt(t));void 0!==a&&(a.children.forEach((function(t,n){if(e.has(t.ID)){var a=e.get(t.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===r[n]){var i=Mr.get(t.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==i){var o=Ar.Objects.Model[i.toString()];if(void 0===o)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",t);var s={modelName:o.attrName?l.PropertyBinding.sanitizeNodeName(o.attrName):"",ID:o.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Er.traverse((function(e){e.ID===o.id&&(s.transform=e.matrix,e.userData.transformData&&(s.eulerOrder=e.userData.transformData.eulerOrder))})),s.transform||(s.transform=new l.Matrix4),"PreRotation"in o&&(s.preRotation=o.PreRotation.value),"PostRotation"in o&&(s.postRotation=o.PostRotation.value),r[n]=s}}r[n]&&(r[n][a.attr]=a)}else if(void 0!==a.curves.morph){if(void 0===r[n]){var u=Mr.get(t.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,c=Mr.get(u).parents[0].ID,f=Mr.get(c).parents[0].ID,d=Mr.get(f).parents[0].ID,h=Ar.Objects.Model[d],p={modelName:h.attrName?l.PropertyBinding.sanitizeNodeName(h.attrName):"",morphName:Ar.Objects.Deformer[u].attrName};r[n]=p}r[n][a.attr]=a}}})),n.set(parseInt(t),r))};for(var a in t)r(a);return n}},{key:"parseAnimStacks",value:function(e){var t=Ar.Objects.AnimationStack,n={};for(var r in t){var a=Mr.get(parseInt(r)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var i=e.get(a[0].ID);n[r]={name:t[r].attrName,layer:i}}return n}},{key:"addClip",value:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new l.AnimationClip(e.name,-1,t)}},{key:"generateTracks",value:function(e){var t=[],n=new l.Vector3,r=new l.Quaternion,a=new l.Vector3;if(e.transform&&e.transform.decompose(n,r,a),n=n.toArray(),r=(new l.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),a=a.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var i=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==i&&t.push(i)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==o&&t.push(o)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,a,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var u=this.generateMorphTrack(e);void 0!==u&&t.push(u)}return t}},{key:"generateVectorTrack",value:function(e,t,n,r){var a=this.getTimesForAllAxes(t),i=this.getKeyframeTrackValues(a,t,n);return new l.VectorKeyframeTrack(e+"."+r,a,i)}},{key:"generateRotationTrack",value:function(e,t,n,r,a,i){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(l.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(l.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(l.MathUtils.degToRad));var o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);void 0!==r&&((r=r.map(l.MathUtils.degToRad)).push(i),r=(new l.Euler).fromArray(r),r=(new l.Quaternion).setFromEuler(r)),void 0!==a&&((a=a.map(l.MathUtils.degToRad)).push(i),a=(new l.Euler).fromArray(a),a=(new l.Quaternion).setFromEuler(a).invert());for(var u=new l.Quaternion,c=new l.Euler,f=[],d=0;d<s.length;d+=3)c.set(s[d],s[d+1],s[d+2],i),u.setFromEuler(c),void 0!==r&&u.premultiply(r),void 0!==a&&u.multiply(a),u.toArray(f,d/3*4);return new l.QuaternionKeyframeTrack(e+".quaternion",o,f)}},{key:"generateMorphTrack",value:function(e){var t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),r=Er.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new l.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+r+"]",t.times,n)}},{key:"getTimesForAllAxes",value:function(e){var t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),(t=t.sort((function(e,t){return e-t}))).length>1){for(var n=1,r=t[0],a=1;a<t.length;a++){var i=t[a];i!==r&&(t[n]=i,r=i,n++)}t=t.slice(0,n)}return t}},{key:"getKeyframeTrackValues",value:function(e,t,n){var r=n,a=[],i=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(i=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==i){var n=t.x.values[i];a.push(n),r[0]=n}else a.push(r[0]);if(-1!==o){var u=t.y.values[o];a.push(u),r[1]=u}else a.push(r[1]);if(-1!==s){var c=t.z.values[s];a.push(c),r[2]=c}else a.push(r[2])})),a}},{key:"interpolateRotations",value:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,a=Math.abs(r);if(a>=180){for(var i=a/180,o=r/i,s=n+o,u=e.times[t-1],c=(e.times[t]-u)/i,l=u+c,f=[],d=[];l<e.times[t];)f.push(l),l+=c,d.push(s),s+=o;e.times=Wr(e.times,t,f),e.values=Wr(e.values,t,d)}}}}]),e}(),Br=function(){function e(){Object(q.a)(this,e)}return Object(X.a)(e,[{key:"getPrevNode",value:function(){return this.nodeStack[this.currentIndent-2]}},{key:"getCurrentNode",value:function(){return this.nodeStack[this.currentIndent-1]}},{key:"getCurrentProp",value:function(){return this.currentProp}},{key:"pushStack",value:function(e){this.nodeStack.push(e),this.currentIndent+=1}},{key:"popStack",value:function(){this.nodeStack.pop(),this.currentIndent-=1}},{key:"setCurrentProp",value:function(e,t){this.currentProp=e,this.currentPropName=t}},{key:"parse",value:function(e){this.currentIndent=0,this.allNodes=new Dr,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var a=e.match(/^[\s\t]*;/),i=e.match(/^[\s\t]*$/);if(!a&&!i){var o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes}},{key:"parseNodeBegin",value:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),a={name:n},i=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,a):n in o?("PoseNode"===n?o.PoseNode.push(a):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==i.id&&(o[n][i.id]=a)):"number"===typeof i.id?(o[n]={},o[n][i.id]=a):"Properties70"!==n&&(o[n]="PoseNode"===n?[a]:a),"number"===typeof i.id&&(a.id=i.id),""!==i.name&&(a.attrName=i.name),""!==i.type&&(a.attrType=i.type),this.pushStack(a)}},{key:"parseNodeAttr",value:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}},{key:"parseNodeProperty",value:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),a=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===a&&(a=n.replace(/"/g,"").replace(/,$/,"").trim());var i=this.getCurrentNode();if("Properties70"!==i.name){if("C"===r){var o=a.split(",").slice(1),s=parseInt(o[0]),u=parseInt(o[1]),c=a.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,a=t.length;n<a;n++,r++)e[r]=t[n]}(a=[s,u],c=c.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===i[r]&&(i[r]=[])}"Node"===r&&(i.id=a),r in i&&Array.isArray(i[r])?i[r].push(a):"a"!==r?i[r]=a:i.a=a,this.setCurrentProp(i,r),"a"===r&&","!==a.slice(-1)&&(i.a=Hr(a))}else this.parseNodeSpecialProperty(e,r,a)}},{key:"parseNodePropertyContinued",value:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=Hr(t.a))}},{key:"parseNodeSpecialProperty",value:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),a=r[0],i=r[1],o=r[2],s=r[3],u=r[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=Hr(u)}this.getPrevNode()[a]={type:i,type2:o,flag:s,value:u},this.setCurrentProp(this.getPrevNode(),a)}}]),e}(),Pr=function(){function e(){Object(q.a)(this,e)}return Object(X.a)(e,[{key:"parse",value:function(e){var t=new Lr(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new Dr;!this.endOfContent(t);){var a=this.parseNode(t,n);null!==a&&r.add(a.name,a)}return r}},{key:"endOfContent",value:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}},{key:"parseNode",value:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),a=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var i=e.getUint8(),o=e.getString(i);if(0===r)return null;for(var s=[],u=0;u<a;u++)s.push(this.parseProperty(e));var c=s.length>0?s[0]:"",l=s.length>1?s[1]:"",f=s.length>2?s[2]:"";for(n.singleProperty=1===a&&e.getOffset()===r;r>e.getOffset();){var d=this.parseNode(e,t);null!==d&&this.parseSubNode(o,n,d)}return n.propertyList=s,"number"===typeof c&&(n.id=c),""!==l&&(n.attrName=l),""!==f&&(n.attrType=f),""!==o&&(n.name=o),n}},{key:"parseSubNode",value:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var a=[];n.propertyList.forEach((function(e,t){0!==t&&a.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(a)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var i,o=n.propertyList[0],s=n.propertyList[1],u=n.propertyList[2],c=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),i="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[o]={type:s,type2:u,flag:c,value:i}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}},{key:"parseProperty",value:function(e){var t,n=e.getString(1);switch(n){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return t=e.getUint32(),e.getArrayBuffer(t);case"S":return t=e.getUint32(),e.getString(t);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),a=e.getUint32(),i=e.getUint32();if(0===a)switch(n){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}var o=wr(new Uint8Array(e.getArrayBuffer(i))),s=new Lr(o.buffer);switch(n){case"b":case"c":return s.getBooleanArray(r);case"d":return s.getFloat64Array(r);case"f":return s.getFloat32Array(r);case"i":return s.getInt32Array(r);case"l":return s.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+n)}}}]),e}(),Lr=function(){function e(t,n){Object(q.a)(this,e),this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===n||n}return Object(X.a)(e,[{key:"getOffset",value:function(){return this.offset}},{key:"size",value:function(){return this.dv.buffer.byteLength}},{key:"skip",value:function(e){this.offset+=e}},{key:"getBoolean",value:function(){return 1===(1&this.getUint8())}},{key:"getBooleanArray",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t}},{key:"getUint8",value:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e}},{key:"getInt16",value:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"getInt32",value:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt32Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t}},{key:"getUint32",value:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt64",value:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e}},{key:"getInt64Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t}},{key:"getUint64",value:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}},{key:"getFloat32",value:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getFloat32Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t}},{key:"getFloat64",value:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"getFloat64Array",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t}},{key:"getArrayBuffer",value:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"getString",value:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),l.LoaderUtils.decodeText(new Uint8Array(t))}}]),e}(),Dr=function(){function e(){Object(q.a)(this,e)}return Object(X.a)(e,[{key:"add",value:function(e,t){this[e]=t}}]),e}();function jr(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Fr(e){return e/46186158e3}var Rr=[];function Ir(e,t,n,r){var a;switch(r.mappingType){case"ByPolygonVertex":a=e;break;case"ByPolygon":a=t;break;case"ByVertice":a=n;break;case"AllSame":a=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(a=r.indices[a]);var i=a*r.dataSize,o=i+r.dataSize;return function(e,t,n,r){for(var a=n,i=0;a<r;a++,i++)e[i]=t[a];return e}(Rr,r.buffer,i,o)}var zr=new l.Euler,Ur=new l.Vector3;function Nr(e){var t=new l.Matrix4,n=new l.Matrix4,r=new l.Matrix4,a=new l.Matrix4,i=new l.Matrix4,o=new l.Matrix4,s=new l.Matrix4,u=new l.Matrix4,c=new l.Matrix4,f=new l.Matrix4,d=new l.Matrix4,h=new l.Matrix4,p=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(Ur.fromArray(e.translation)),e.preRotation){var m=e.preRotation.map(l.MathUtils.degToRad);m.push(e.eulerOrder),n.makeRotationFromEuler(zr.fromArray(m))}if(e.rotation){var v=e.rotation.map(l.MathUtils.degToRad);v.push(e.eulerOrder),r.makeRotationFromEuler(zr.fromArray(v))}if(e.postRotation){var g=e.postRotation.map(l.MathUtils.degToRad);g.push(e.eulerOrder),a.makeRotationFromEuler(zr.fromArray(g)),a.invert()}e.scale&&i.scale(Ur.fromArray(e.scale)),e.scalingOffset&&s.setPosition(Ur.fromArray(e.scalingOffset)),e.scalingPivot&&o.setPosition(Ur.fromArray(e.scalingPivot)),e.rotationOffset&&u.setPosition(Ur.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(Ur.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d.copy(e.parentMatrix),f.copy(e.parentMatrixWorld));var y=(new l.Matrix4).copy(n).multiply(r).multiply(a),b=new l.Matrix4;b.extractRotation(f);var _=new l.Matrix4;_.copyPosition(f);var w=new l.Matrix4,x=(new l.Matrix4).copy(_).invert().multiply(f);w.copy(b).invert().multiply(x);var A=i,M=new l.Matrix4;if(0===p)M.copy(b).multiply(y).multiply(w).multiply(A);else if(1===p)M.copy(b).multiply(w).multiply(y).multiply(A);else{var E=(new l.Matrix4).scale((new l.Vector3).setFromMatrixScale(d)),C=(new l.Matrix4).copy(E).invert(),S=(new l.Matrix4).copy(w).multiply(C);M.copy(b).multiply(y).multiply(S).multiply(A)}var O=new l.Matrix4;O.copy(c).invert();var T=new l.Matrix4;T.copy(o).invert();var k=new l.Matrix4;k.copy(t).multiply(u).multiply(c).multiply(n).multiply(r).multiply(a).multiply(O).multiply(s).multiply(o).multiply(i).multiply(T);var B=(new l.Matrix4).copyPosition(k),P=(new l.Matrix4).copy(f).multiply(B);return h.copyPosition(P),(k=(new l.Matrix4).copy(h).multiply(M)).premultiply(f.invert()),k}function Gr(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function Hr(e){return e.split(",").map((function(e){return parseFloat(e)}))}function Vr(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),l.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function Wr(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}function Xr(e){return Object(f.useLoader)(Sr,e)}Xr.preload=function(e){return f.useLoader.preload(Sr,e)},Xr.clear=function(e){return f.useLoader.clear(Sr,e)};var qr,Qr=new WeakMap,Yr=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(q.a)(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return Object(X.a)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var a=this,i=new l.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(e){var n={attributeIDs:a.defaultAttributeIDs,attributeTypes:a.defaultAttributeTypes,useUniqueIDs:!1};a.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,a).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var a=t.attributeTypes[r];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=a.name)}var i,o=JSON.stringify(t);if(Qr.has(e)){var s=Qr.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,c=e.byteLength,l=this._getWorker(u,c).then((function(n){return i=n,new Promise((function(n,r){i._callbacks[u]={resolve:n,reject:r},i.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){i&&u&&n._releaseTask(i,u)})),Qr.set(e,{key:o,promise:l}),l}},{key:"_createGeometry",value:function(e){var t=new l.BufferGeometry;e.index&&t.setIndex(new l.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],a=r.name,i=r.array,o=r.itemSize;t.setAttribute(a,new l.BufferAttribute(i,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new l.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var a=Jr.toString(),i=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var a=n.workerPool[n.workerPool.length-1];return a._taskCosts[e]=t,a._taskLoad+=t,a}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(l.Loader);function Jr(){var e,t;function n(e,t,n,r,a,i){var o=i.num_components(),s=n.num_points()*o,u=s*a.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,a),l=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,i,c,u,l);var f=new a(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:r,array:f,itemSize:o}}onmessage=function(r){var a=r.data;switch(a.type){case"init":e=a.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var i=a.buffer,o=a.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(i),i.byteLength);try{var u=function(e,t,r,a){var i,o,s=a.attributeIDs,u=a.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)i=new e.Mesh,o=t.DecodeBufferToMesh(r,i);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");i=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,i)}if(!o.ok()||0===i.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l={index:null,attributes:[]};for(var f in s){var d=self[u[f]],h=void 0,p=void 0;if(a.useUniqueIDs)p=s[f],h=t.GetAttributeByUniqueId(i,p);else{if(-1===(p=t.GetAttributeId(i,e[s[f]])))continue;h=t.GetAttribute(i,p)}l.attributes.push(n(e,t,i,f,d,h))}c===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){var r=3*n.num_faces(),a=4*r,i=e._malloc(a);t.GetTrianglesUInt32Array(n,a,i);var o=new Uint32Array(e.HEAPF32.buffer,i,r).slice();return e._free(i),{array:o,itemSize:1}}(e,t,i));return e.destroy(i),l}(t,r,s,o),c=u.attributes.map((function(e){return e.array.buffer}));u.index&&c.push(u.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:u},c)}catch(l){console.error(l),self.postMessage({type:"error",id:a.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var Kr=function(){if(qr)return qr;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};var n,r="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";WebAssembly.validate(e)&&(r="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");var a=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var a=e.charCodeAt(r);n[r]=a>96?a-71:a>64?a-65:a>47?a+4:a>46?63:62}for(var i=0,o=0;o<e.length;++o)n[i++]=n[o]<60?t[n[o]]:64*(n[o]-60)+n[++o];return n.buffer.slice(0,i)}(r),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function i(e,t,r,a,i,o){var s=n.exports.sbrk,u=r+3&-4,c=s(u*a),l=s(i.length),f=new Uint8Array(n.exports.memory.buffer);f.set(i,l);var d=e(c,r,a,l,i.length);if(0===d&&o&&o(c,u,a),t.set(f.subarray(c,c+r*a)),s(c-s(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}var o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},s={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return qr={ready:a,supported:!0,decodeVertexBuffer:function(e,t,r,a,s){i(n.exports.meshopt_decodeVertexBuffer,e,t,r,a,n.exports[o[s]])},decodeIndexBuffer:function(e,t,r,a){i(n.exports.meshopt_decodeIndexBuffer,e,t,r,a)},decodeIndexSequence:function(e,t,r,a){i(n.exports.meshopt_decodeIndexSequence,e,t,r,a)},decodeGltfBuffer:function(e,t,r,a,u,c){i(n.exports[s[u]],e,t,r,a,n.exports[o[c]])}}},Zr=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(q.a)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new ra(e)})),r.register((function(e){return new ua(e)})),r.register((function(e){return new ca(e)})),r.register((function(e){return new aa(e)})),r.register((function(e){return new ia(e)})),r.register((function(e){return new oa(e)})),r.register((function(e){return new sa(e)})),r.register((function(e){return new ta(e)})),r.register((function(e){return new la(e)})),r}return Object(X.a)(n,[{key:"load",value:function(e,t,n,r){var a,i=this;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:l.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new l.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,a,(function(n){t(n),i.manager.itemEnd(e)}),o)}catch(il){o(il)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var a,i={},o={};if("string"===typeof e)a=e;else if(l.LoaderUtils.decodeText(new Uint8Array(e,0,4))===fa){try{i[ea.KHR_BINARY_GLTF]=new pa(e)}catch(m){return void(r&&r(m))}a=i[ea.KHR_BINARY_GLTF].content}else a=l.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(a);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new Wa(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var c=0;c<this.pluginCallbacks.length;c++){var f=this.pluginCallbacks[c](u);o[f.name]=f,i[f.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var h=s.extensionsUsed[d],p=s.extensionsRequired||[];switch(h){case ea.KHR_MATERIALS_UNLIT:i[h]=new na;break;case ea.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[h]=new ya;break;case ea.KHR_DRACO_MESH_COMPRESSION:i[h]=new ma(s,this.dracoLoader);break;case ea.KHR_TEXTURE_TRANSFORM:i[h]=new va;break;case ea.KHR_MESH_QUANTIZATION:i[h]=new ba;break;default:p.indexOf(h)>=0&&void 0===o[h]&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(i),u.setPlugins(o),u.parse(n,r)}}}]),n}(l.Loader);function $r(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var ea={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},ta=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return Object(X.a)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var a,i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],s=new l.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(a=new l.DirectionalLight(s)).target.position.set(0,0,-1),a.add(a.target);break;case"point":(a=new l.PointLight(s)).distance=u;break;case"spot":(a=new l.SpotLight(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),a.decay=2,void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then((function(e){return n._getNodeRef(t.cache,a,e)}))}}]),e}(),na=function(){function e(){Object(q.a)(this,e),this.name=ea.KHR_MATERIALS_UNLIT}return Object(X.a)(e,[{key:"getMaterialType",value:function(){return l.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new l.Color(1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var i=a.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture))}return Promise.all(r)}}]),e}(),ra=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_MATERIALS_CLEARCOAT}return Object(X.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){var o=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new l.Vector2(o,-o)}return Promise.all(a)}}]),e}(),aa=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_MATERIALS_TRANSMISSION}return Object(X.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(a)}}]),e}(),ia=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_MATERIALS_VOLUME}return Object(X.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.thickness=void 0!==i.thicknessFactor?i.thicknessFactor:0,void 0!==i.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||0;var o=i.attenuationColor||[1,1,1];return t.attenuationTint=new l.Color(o[0],o[1],o[2]),Promise.all(a)}}]),e}(),oa=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_MATERIALS_IOR}return Object(X.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),sa=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_MATERIALS_SPECULAR}return Object(X.a)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?l.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var a=[],i=r.extensions[this.name];t.specularIntensity=void 0!==i.specularFactor?i.specularFactor:1,void 0!==i.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",i.specularTexture));var o=i.specularColorFactor||[1,1,1];return t.specularTint=new l.Color(o[0],o[1],o[2]),void 0!==i.specularColorTexture&&a.push(n.assignTexture(t,"specularTintMap",i.specularColorTexture).then((function(e){e.encoding=l.sRGBEncoding}))),Promise.all(a)}}]),e}(),ua=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.KHR_TEXTURE_BASISU}return Object(X.a)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var a=r.extensions[this.name],i=n.images[a.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i,o)}}]),e}(),ca=function(){function e(t){Object(q.a)(this,e),this.parser=t,this.name=ea.EXT_TEXTURE_WEBP,this.isSupported=null}return Object(X.a)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;var i=a.extensions[t],o=r.images[i.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(a){if(a)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),la=function(){function e(t){Object(q.a)(this,e),this.name=ea.EXT_MESHOPT_COMPRESSION,this.parser=t}return Object(X.a)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,i.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,a=r.count,o=r.byteStride,s=new ArrayBuffer(a*o),u=new Uint8Array(e[0],t,n);return i.decodeGltfBuffer(new Uint8Array(s),a,o,u,r.mode,r.filter),s}))}return null}}]),e}(),fa="glTF",da=1313821514,ha=5130562,pa=Object(X.a)((function e(t){Object(q.a)(this,e),this.name=ea.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:l.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==fa)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),i=0;i<r;){var o=a.getUint32(i,!0);i+=4;var s=a.getUint32(i,!0);if(i+=4,s===da){var u=new Uint8Array(t,12+i,o);this.content=l.LoaderUtils.decodeText(u)}else if(s===ha){var c=12+i;this.body=t.slice(c,c+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),ma=function(){function e(t,n){if(Object(q.a)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ea.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return Object(X.a)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={},s={},u={};for(var c in i){var l=Pa[c]||c.toLowerCase();o[l]=i[c]}for(var f in e.attributes){var d=Pa[f]||f.toLowerCase();if(void 0!==i[f]){var h=n.accessors[e.attributes[f]],p=Oa[h.componentType];u[d]=p,s[d]=!0===h.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)}),o,u)}))}))}}]),e}(),va=function(){function e(){Object(q.a)(this,e),this.name=ea.KHR_TEXTURE_TRANSFORM}return Object(X.a)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),ga=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r;Object(q.a)(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new l.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=c,r.onBeforeCompile=function(e){for(var t in c)e.uniforms[t]=c[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",u)},Object.defineProperties(Object(Q.a)(r),{specular:{get:function(){return c.specular.value},set:function(e){c.specular.value=e}},specularMap:{get:function(){return c.specularMap.value},set:function(e){c.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(e){c.glossiness.value=e}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(e){c.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return Object(X.a)(n,[{key:"copy",value:function(e){return Object(ne.a)(Object(re.a)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(l.MeshStandardMaterial),ya=function(){function e(){Object(q.a)(this,e),this.name=ea.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return Object(X.a)(e,[{key:"getMaterialType",value:function(){return ga}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new l.Color(1,1,1),e.opacity=1;var a=[];if(Array.isArray(r.diffuseFactor)){var i=r.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new l.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new l.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",o)),a.push(n.assignTexture(e,"specularMap",o))}return Promise.all(a)}},{key:"createMaterial",value:function(e){var t=new ga(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=l.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),ba=Object(X.a)((function e(){Object(q.a)(this,e),this.name=ea.KHR_MESH_QUANTIZATION})),_a=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e,r,a,i){return Object(q.a)(this,n),t.call(this,e,r,a,i)}return Object(X.a)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r,i=0;i!==r;i++)t[i]=n[a+i];return t}}]),n}(l.Interpolant);_a.prototype.beforeStart_=_a.prototype.copySampleValue_,_a.prototype.afterEnd_=_a.prototype.copySampleValue_,_a.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,c=r-t,l=(n-t)/c,f=l*l,d=f*l,h=e*u,p=h-u,m=-2*d+3*f,v=d-f,g=1-m,y=v-f+l,b=0;b!==o;b++){var _=i[p+b+o],w=i[p+b+s]*c,x=i[h+b+o],A=i[h+b]*c;a[b]=g*_+y*w+m*x+v*A}return a};var wa=0,xa=1,Aa=2,Ma=3,Ea=4,Ca=5,Sa=6,Oa={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ta={9728:l.NearestFilter,9729:l.LinearFilter,9984:l.NearestMipmapNearestFilter,9985:l.LinearMipmapNearestFilter,9986:l.NearestMipmapLinearFilter,9987:l.LinearMipmapLinearFilter},ka={33071:l.ClampToEdgeWrapping,33648:l.MirroredRepeatWrapping,10497:l.RepeatWrapping},Ba={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Pa={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},La={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Da={CUBICSPLINE:void 0,LINEAR:l.InterpolateLinear,STEP:l.InterpolateDiscrete},ja="OPAQUE",Fa="MASK",Ra="BLEND";function Ia(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function za(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Ua(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Na(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(var i=0,o=a.length;i<o;i++)e.morphTargetDictionary[a[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ga(e){var t=e.extensions&&e.extensions[ea.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+Ha(t.attributes):e.indices+":"+Ha(e.attributes)+":"+e.mode}function Ha(e){for(var t="",n=Object.keys(e).sort(),r=0,a=n.length;r<a;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Va(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Wa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(q.a)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new $r,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new l.ImageBitmapLoader(this.options.manager):this.textureLoader=new l.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new l.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return Object(X.a)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var i={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};za(a,i,r),Ua(i,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){e(i)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,a=t.length;r<a;r++)for(var i=t[r].joints,o=0,s=i.length;o<s;o++)e[i[o]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var a=e(t[r]);a&&n.push(a)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[ea.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,a){n.load(Ia(t.uri,r.path),e,void 0,(function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then((function(e){var a,i,o=e[0],s=Ba[r.type],u=Oa[r.componentType],c=u.BYTES_PER_ELEMENT,f=c*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==f){var m=Math.floor(d/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count,g=t.cache.get(v);g||(a=new u(o,m*h,r.count*h/c),g=new l.InterleavedBuffer(a,h/c),t.cache.add(v,g)),i=new l.InterleavedBufferAttribute(g,s,d%h/c,p)}else a=null===o?new u(r.count*s):new u(o,d,r.count*s),i=new l.BufferAttribute(a,s,p);if(void 0!==r.sparse){var y=Ba.SCALAR,b=Oa[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new b(e[1],_,r.sparse.count*y),A=new u(e[2],w,r.sparse.count*s);null!==o&&(i=new l.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var M=0,E=x.length;M<E;M++){var C=x[M];if(i.setX(C,A[M*s]),s>=2&&i.setY(C,A[M*s+1]),s>=3&&i.setZ(C,A[M*s+2]),s>=4&&i.setW(C,A[M*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],a=t.images[r.source],i=this.textureLoader;if(a.uri){var o=n.manager.getHandler(a.uri);null!==o&&(i=o)}return this.loadTextureImage(e,a,i)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,a=this.json,i=this.options,o=a.textures[e],s=(t.uri||t.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];var u=self.URL||self.webkitURL,c=t.uri||"",f=!1,d=!0,h=c.search(/\.jpe?g($|\?)/i)>0||0===c.search(/^data\:image\/jpeg/);if(("image/jpeg"===t.mimeType||h)&&(d=!1),void 0!==t.bufferView)c=r.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);d=6===n||4===n||3===n}f=!0;var r=new Blob([e],{type:t.mimeType});return c=u.createObjectURL(r)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var p=Promise.resolve(c).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){var n=new l.Texture(e);n.needsUpdate=!0,t(n)}),n.load(Ia(e,i.path),a,void 0,r)}))})).then((function(t){!0===f&&u.revokeObjectURL(c),t.flipY=!1,o.name&&(t.name=o.name),d||(t.format=l.RGBFormat);var n=(a.samplers||{})[o.sampler]||{};return t.magFilter=Ta[n.magFilter]||l.LinearFilter,t.minFilter=Ta[n.minFilter]||l.LinearMipmapLinearFilter,t.wrapS=ka[n.wrapS]||l.RepeatWrapping,t.wrapT=ka[n.wrapT]||l.RepeatWrapping,r.associations.set(t,{type:"textures",index:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",c),null}));return this.textureCache[s]=p,p}},{key:"assignTexture",value:function(e,t,n){var r=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[ea.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[ea.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var o=r.associations.get(a);a=r.extensions[ea.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),r.associations.set(a,o)}}return e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,a=void 0!==t.attributes.color,i=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new l.PointsMaterial,l.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,c=this.cache.get(u);c||(c=new l.LineBasicMaterial,l.Material.prototype.copy.call(c,n),c.color.copy(n.color),this.cache.add(u,c)),n=c}if(r||a||i){var f="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(f+="specular-glossiness:"),r&&(f+="vertex-tangents:"),a&&(f+="vertex-colors:"),i&&(f+="flat-shading:");var d=this.cache.get(f);d||(d=n.clone(),a&&(d.vertexColors=!0),i&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(f,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return l.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,a=this.extensions,i=r.materials[e],o={},s=i.extensions||{},u=[];if(s[ea.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[ea.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(o,i,n))}else if(s[ea.KHR_MATERIALS_UNLIT]){var f=a[ea.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),u.push(f.extendParams(o,i,n))}else{var d=i.pbrMetallicRoughness||{};if(o.color=new l.Color(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==d.baseColorTexture&&u.push(n.assignTexture(o,"map",d.baseColorTexture)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===i.doubleSided&&(o.side=l.DoubleSide);var p=i.alphaMode||ja;return p===Ra?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,p===Fa&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"normalMap",i.normalTexture)),o.normalScale=new l.Vector2(1,-1),void 0!==i.normalTexture.scale&&o.normalScale.set(i.normalTexture.scale,-i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==l.MeshBasicMaterial&&(u.push(n.assignTexture(o,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==l.MeshBasicMaterial&&(o.emissive=(new l.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==l.MeshBasicMaterial&&u.push(n.assignTexture(o,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){var r;return r=t===ga?a[ea.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),i.name&&(r.name=i.name),r.map&&(r.map.encoding=l.sRGBEncoding),r.emissiveMap&&(r.emissiveMap.encoding=l.sRGBEncoding),Ua(r,i),n.associations.set(r,{type:"materials",index:e}),i.extensions&&za(a,r,i),r}))}},{key:"createUniqueName",value:function(e){for(var t=l.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function a(e){return n[ea.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return qa(n,e,t)}))}for(var i=[],o=0,s=e.length;o<s;o++){var u=e[o],c=Ga(u),f=r[c];if(f)i.push(f.promise);else{var d=void 0;d=u.extensions&&u.extensions[ea.KHR_DRACO_MESH_COMPRESSION]?a(u):qa(new l.BufferGeometry,u,t),r[c]={primitive:u,promise:d},i.push(d)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,a=this.extensions,i=r.meshes[e],o=i.primitives,s=[],u=0,c=o.length;u<c;u++){var f=void 0===o[u].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new l.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[u].material);s.push(f)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],u=[],c=0,f=s.length;c<f;c++){var d=s[c],h=o[c],p=void 0,m=r[c];if(h.mode===Ea||h.mode===Ca||h.mode===Sa||void 0===h.mode)!0!==(p=!0===i.isSkinnedMesh?new l.SkinnedMesh(d,m):new l.Mesh(d,m)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),h.mode===Ca?p.geometry=Qa(p.geometry,l.TriangleStripDrawMode):h.mode===Sa&&(p.geometry=Qa(p.geometry,l.TriangleFanDrawMode));else if(h.mode===xa)p=new l.LineSegments(d,m);else if(h.mode===Ma)p=new l.Line(d,m);else if(h.mode===Aa)p=new l.LineLoop(d,m);else{if(h.mode!==wa)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new l.Points(d,m)}Object.keys(p.geometry.morphAttributes).length>0&&Na(p,i),p.name=n.createUniqueName(i.name||"mesh_"+e),Ua(p,i),h.extensions&&za(a,p,h),n.assignFinalMaterial(p),u.push(p)}if(1===u.length)return u[0];for(var v=new l.Group,g=0,y=u.length;g<y;g++)v.add(u[g]);return v}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new l.PerspectiveCamera(l.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new l.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Ua(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],a=[],i=[],o=[],s=0,u=t.channels.length;s<u;s++){var c=t.channels[s],f=t.samplers[c.sampler],d=c.target,h=void 0!==d.node?d.node:d.id,p=void 0!==t.parameters?t.parameters[f.input]:f.input,m=void 0!==t.parameters?t.parameters[f.output]:f.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",m)),i.push(f),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(a),Promise.all(i),Promise.all(o)]).then((function(n){for(var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=[],c=function(e,t){var n=r[e],c=a[e],f=i[e],d=o[e],h=s[e];if(void 0===n)return"continue";n.updateMatrix(),n.matrixAutoUpdate=!0;var p=void 0;switch(La[h.path]){case La.weights:p=l.NumberKeyframeTrack;break;case La.rotation:p=l.QuaternionKeyframeTrack;break;default:p=l.VectorKeyframeTrack}var m=n.name?n.name:n.uuid,v=void 0!==d.interpolation?Da[d.interpolation]:l.InterpolateLinear,g=[];La[h.path]===La.weights?n.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(m);var y=f.array;if(f.normalized){for(var b=Va(y.constructor),_=new Float32Array(y.length),w=0,x=y.length;w<x;w++)_[w]=y[w]*b;y=_}for(var A=0,M=g.length;A<M;A++){var E=new p(g[A]+"."+La[h.path],c.array,y,v);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new _a(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(E)}},f=0,d=r.length;f<d;f++)c(f);var h=t.name?t.name:"animation_"+e;return new l.AnimationClip(h,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,a=t.nodes[e],i=a.name?r.createUniqueName(a.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==a.camera&&t.push(r.getDependency("camera",a.camera).then((function(e){return r._getNodeRef(r.cameraCache,a.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===a.isBone?new l.Bone:t.length>1?new l.Group:1===t.length?t[0]:new l.Object3D)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(a.name&&(o.userData.name=a.name,o.name=i),Ua(o,a),a.extensions&&za(n,o,a),void 0!==a.matrix){var c=new l.Matrix4;c.fromArray(a.matrix),o.applyMatrix4(c)}else void 0!==a.translation&&o.position.fromArray(a.translation),void 0!==a.rotation&&o.quaternion.fromArray(a.rotation),void 0!==a.scale&&o.scale.fromArray(a.scale);return r.associations.set(o,{type:"nodes",index:e}),o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],a=new l.Group;r.name&&(a.name=this.createUniqueName(r.name)),Ua(a,r),r.extensions&&za(n,a,r);for(var i=r.nodes||[],o=[],s=0,u=i.length;s<u;s++)o.push(Xa(i[s],a,t,this));return Promise.all(o).then((function(){return a}))}}]),e}();function Xa(e,t,n,r){var a=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===a.skin?e:r.getDependency("skin",a.skin).then((function(e){for(var n=[],a=0,i=(t=e).joints.length;a<i;a++)n.push(r.getDependency("node",t.joints[a]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],a=[],i=0,o=n.length;i<o;i++){var s=n[i];if(s){r.push(s);var u=new l.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*i),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new l.Skeleton(r,a),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var i=[];if(a.children)for(var o=a.children,s=0,u=o.length;s<u;s++){var c=o[s];i.push(Xa(c,e,n,r))}return Promise.all(i)}))}function qa(e,t,n){var r=t.attributes,a=[];function i(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Pa[o]||o.toLowerCase();s in e.attributes||a.push(i(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));a.push(u)}return Ua(e,t),function(e,t,n){var r=t.attributes,a=new l.Box3;if(void 0!==r.POSITION){var i=n.json.accessors[r.POSITION],o=i.min,s=i.max;if(void 0!==o&&void 0!==s){if(a.set(new l.Vector3(o[0],o[1],o[2]),new l.Vector3(s[0],s[1],s[2])),i.normalized){var u=Va(Oa[i.componentType]);a.min.multiplyScalar(u),a.max.multiplyScalar(u)}var c=t.targets;if(void 0!==c){for(var f=new l.Vector3,d=new l.Vector3,h=0,p=c.length;h<p;h++){var m=c[h];if(void 0!==m.POSITION){var v=n.json.accessors[m.POSITION],g=v.min,y=v.max;if(void 0!==g&&void 0!==y){if(d.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),d.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),d.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),v.normalized){var b=Va(Oa[v.componentType]);d.multiplyScalar(b)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(f)}e.boundingBox=a;var _=new l.Sphere;a.getCenter(_.center),_.radius=a.min.distanceTo(a.max)/2,e.boundingSphere=_}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(a).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,a=!1,i=0,o=t.length;i<o;i++){var s=t[i];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(!r&&!a)return Promise.resolve(e);for(var u=[],c=[],l=0,f=t.length;l<f;l++){var d=t[l];if(r){var h=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION):e.attributes.position;u.push(h)}if(a){var p=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL):e.attributes.normal;c.push(p)}}return Promise.all([Promise.all(u),Promise.all(c)]).then((function(t){var n=t[0],i=t[1];return r&&(e.morphAttributes.position=n),a&&(e.morphAttributes.normal=i),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function Qa(e,t){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===l.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<o;c++)c%2===0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(s),f}var Ya=null;function Ja(e,t,n){return function(r){n&&n(r),e&&(Ya||(Ya=new Yr),Ya.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(Ya)),t&&r.setMeshoptDecoder(Kr())}}function Ka(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a=Object(f.useLoader)(Zr,e,Ja(t,n,r));return a}Ka.preload=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return f.useLoader.preload(Zr,e,Ja(t,n,r))},Ka.clear=function(e){return f.useLoader.clear(Zr,e)};var Za=n(97),$a=n.n(Za);function ei(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)}function ti(e){var t=e.showPanel,n=void 0===t?0:t,r=e.className,a=e.parent,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=u.useState(),a=Object(i.a)(r,2),o=a[0],s=a[1];return u.useLayoutEffect((function(){var t=e();return s(t),ei(n,t),function(){return ei(n,null)}}),t),o}((function(){return new $a.a}),[]);return u.useEffect((function(){if(o){var e=a&&a.current||document.body;o.showPanel(n),null==e||e.appendChild(o.dom),r&&o.dom.classList.add(r);var t=Object(f.addEffect)((function(){return o.begin()})),i=Object(f.addAfterEffect)((function(){return o.end()}));return function(){null==e||e.removeChild(o.dom),t(),i()}}}),[a,o,r,n]),null}var ni=["multisample","samples"];function ri(e,t,n){var r=Object(f.useThree)((function(e){return e.gl})),a=Object(f.useThree)((function(e){return e.size})),i=Object(u.useMemo)((function(){return r.getPixelRatio()}),[r]),s="number"===typeof e?e:a.width*i,c="number"===typeof t?t:a.height*i,d=("number"===typeof e?n:e)||{},h=Object(u.useMemo)((function(){var e,t=d.multisample,n=d.samples,a=Object(o.a)(d,ni);return t&&r.capabilities.isWebGL2?(e=new l.WebGLMultisampleRenderTarget(s,c,a),n&&(e.samples=n)):e=new l.WebGLRenderTarget(s,c,a),e}),[]);return Object(u.useEffect)((function(){h.setSize(s,c)}),[h,s,c]),Object(u.useEffect)((function(){return function(){return h.dispose()}}),[]),h}var ai=u.forwardRef((function(e,t){var n=e.size,r=void 0===n?256:n;u.useEffect((function(){console.warn("DepthBuffer has been deprecated and will be removed next major. Replace it with useDepthBuffer(size)!")}),[]);var a=Object(f.useThree)((function(e){return e.viewport.dpr})),i=Object(f.useThree)((function(e){return e.size})),o=i.width,s=i.height,c=r||o*a,d=r||s*a,h=u.useMemo((function(){var e=new l.DepthTexture(c,d);return e.format=l.DepthFormat,e.type=l.UnsignedShortType,{depthTexture:e}}),[c,d]),p=ri(c,d,h);return u.useImperativeHandle(t,(function(){return null==p?void 0:p.depthTexture})),Object(f.useFrame)((function(e){e.gl.setRenderTarget(p),e.gl.render(e.scene,e.camera),e.gl.setRenderTarget(null)}))}));function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,n=void 0===t?256:t,r=e.frames,a=void 0===r?1/0:r,i=Object(f.useThree)((function(e){return e.viewport.dpr})),o=Object(f.useThree)((function(e){return e.size})),s=o.width,c=o.height,d=n||s*i,h=n||c*i,p=u.useMemo((function(){var e=new l.DepthTexture(d,h);return e.format=l.DepthFormat,e.type=l.UnsignedShortType,{depthTexture:e}}),[d,h]),m=0,v=ri(d,h,p);return Object(f.useFrame)((function(e){(a===1/0||m<a)&&(e.gl.setRenderTarget(v),e.gl.render(e.scene,e.camera),e.gl.setRenderTarget(null),m++)})),v.depthTexture}function oi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Object(f.useThree)((function(e){return e.viewport})),a=t*(r.aspect>e/t?r.width/e:r.height/t),i=e*(r.aspect>e/t?r.width/e:r.height/t);return[i*n,a*n,1]}var si=n(22),ui=n(20),ci=n.n(ui);function li(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}var fi=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","radeon r9 200","sgx 543","sgx543"],di=function(e){return e.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},hi="undefined"==typeof window,pi=function(){if(!hi){var e=window.navigator,t=e.userAgent,n=e.platform,r=e.maxTouchPoints,a=/(iphone|ipod|ipad)/i.test(t),i="iPad"===n||"MacIntel"===n&&r>0&&!window.MSStream;return{isIpad:i,isMobile:/android/i.test(t)||a||i,isSafari12:/Version\/12.+Safari/.test(t)}}}(),mi=function(e,t,n){return"apple gpu"===t?function(e,t,n){var r=[t];if(n){var a=e.createShader(35633),i=e.createShader(35632),o=e.createProgram();if(i&&a&&o){e.shaderSource(a,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),e.shaderSource(i,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),e.compileShader(a),e.compileShader(i),e.attachShader(o,a),e.attachShader(o,i),e.linkProgram(o),e.detachShader(o,a),e.detachShader(o,i),e.deleteShader(a),e.deleteShader(i),e.useProgram(o);var s=e.createBuffer();e.bindBuffer(34962,s),e.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);var u=e.getAttribLocation(o,"aPosition");e.vertexAttribPointer(u,3,5126,!1,0,0),e.enableVertexAttribArray(u),e.clearColor(1,1,1,1),e.clear(16384),e.viewport(0,0,1,1),e.drawArrays(4,0,3);var c=new Uint8Array(4);e.readPixels(0,0,1,1,6408,5121,c),e.deleteProgram(o),e.deleteBuffer(s),r={801621810:(null==pi?void 0:pi.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==pi?void 0:pi.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[c.join("")]||r}}return r}(e,t,n):[t]},vi=[],gi=[],yi=function(e,t){if(e===t)return 0;var n=e;e.length>t.length&&(e=t,t=n);for(var r=e.length,a=t.length;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-a);)r--,a--;for(var i,o=0;o<r&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(a-=o,0===(r-=o))return a;for(var s,u,c=0,l=0,f=0;l<r;)gi[l]=e.charCodeAt(o+l),vi[l]=++l;for(;f<a;)for(i=t.charCodeAt(o+f),s=f++,c=f,l=0;l<r;l++)u=i===gi[l]?s:s+1,s=vi[l],c=vi[l]=s>c?u>c?c+1:u:u>s?s+1:u;return c},bi=n(33),_i=function(e){return Object(bi.a)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mobileTiers,n=void 0===t?[0,15,30,60]:t,r=e.desktopTiers,a=void 0===r?[0,15,30,60]:r,o=e.override,s=void 0===o?{}:o,u=e.glContext,c=e.failIfMajorPerformanceCaveat,l=void 0!==c&&c,f=e.benchmarksURL,d=void 0===f?"https://unpkg.com/detect-gpu@3.1.30/dist/benchmarks":f;return li(void 0,void 0,void 0,ci.a.mark((function e(){var t,r,o,c,f,h,p,m,v,g,y,b,_,w,x,A,M,E,C,S,O,T,k,B;return ci.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!hi){e.next=3;break}return e.abrupt("return",{tier:0,type:"SSR"});case 3:if(r=s.isIpad,o=void 0===r?!!(null==pi?void 0:pi.isIpad):r,c=s.isMobile,f=void 0===c?!!(null==pi?void 0:pi.isMobile):c,h=s.screenSize,p=void 0===h?window.screen:h,m=s.loadBenchmarks,v=void 0===m?function(e){return li(void 0,void 0,void 0,ci.a.mark((function t(){var n;return ci.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(d,"/").concat(e)).then((function(e){return e.json()}));case 2:return n=t.sent,t.abrupt("return",(n.shift(),n));case 4:case"end":return t.stop()}}),t)})))}:m,g=s.renderer,y=function(e,t,n,r,a){return{device:a,fps:r,gpu:n,isMobile:f,tier:e,type:t}},_="",!g){e.next=11;break}g=di(g),b=[g],e.next=18;break;case 11:if(w=u||function(e){var t={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:arguments.length>1&&void 0!==arguments[1]&&arguments[1],powerPreference:"high-performance",stencil:!1};e&&delete t.powerPreference;var n=window.document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t);return null!=r?r:void 0}(null==pi?void 0:pi.isSafari12,l),w){e.next=14;break}return e.abrupt("return",y(0,"WEBGL_UNSUPPORTED"));case 14:if((x=w.getExtension("WEBGL_debug_renderer_info"))&&(g=w.getParameter(x.UNMASKED_RENDERER_WEBGL)),g){e.next=17;break}return e.abrupt("return",y(1,"FALLBACK"));case 17:_=g,g=di(g),b=mi(w,g,f);case 18:return e.next=20,Promise.all(b.map((function(e){return li(void 0,void 0,void 0,ci.a.mark((function n(){var r,a,s,u,c,l,d,h,m,g,y,b,_,w,x,A,M,E,C,S,O,T,k,B,P,L,D,j,F;return ci.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=function(e){for(var t=0,n=f?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","amd","radeon","nvidia","geforce"];t<n.length;t++){var r=n[t];if(e.includes(r))return r}}(e)){n.next=3;break}return n.abrupt("return");case 3:return a="".concat(f?"m":"d","-").concat(r,".json"),s=t[a]=t[a]||v(a),n.prev=4,n.next=7,s;case 7:u=n.sent,n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return");case 13:if(c=function(e){var t,n=(e=e.replace(/\([^)]+\)/,"")).match(/\d+/)||e.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(t=null==n?void 0:n.join("").replace(/\W|amd/g,""))&&void 0!==t?t:""}(e),l="apple"===r,(d=u.filter((function(e){return Object(i.a)(e,2)[1]===c}))).length||(d=u.filter((function(t){return Object(i.a)(t,1)[0].includes(e)}))),0!==(h=d.length)){n.next=19;break}return n.abrupt("return");case 19:g=h>1?d.map((function(t){return[t,yi(e,t[0])]})).sort((function(e,t){return Object(i.a)(e,2)[1]-Object(i.a)(t,2)[1]}))[0][0]:d[0],y=Object(i.a)(g,4),b=y[0],_=y[3],w=Number.MAX_VALUE,x=window,A=x.devicePixelRatio,M=p.width*A*(p.height*A),l&&f&&(_=_.filter((function(e){var t,n=Object(i.a)(e,4)[3];return(null!==(t=null==n?void 0:n.indexOf(o?"ipad":"iphone"))&&void 0!==t?t:-1)>-1}))),E=Object(si.a)(_);try{for(E.s();!(C=E.n()).done;)S=C.value,O=Object(i.a)(S,2),T=O[0],k=O[1],B=T*k,(P=Math.abs(M-B))<w&&(w=P,m=S)}catch(R){E.e(R)}finally{E.f()}if(m){n.next=26;break}return n.abrupt("return");case 26:return L=m,D=Object(i.a)(L,4),j=D[2],F=D[3],n.abrupt("return",[w,j,b,F]);case 28:case"end":return n.stop()}}),n,null,[[4,10]])})))})));case 20:if((A=e.sent.filter((function(e){return!!e}))).length){e.next=24;break}return M=fi.find((function(e){return g.includes(e)})),e.abrupt("return",M?y(0,"BLOCKLISTED",M):y(1,"FALLBACK","".concat(g," (").concat(_,")")));case 24:if(E=Object(i.a)(A.sort((function(e,t){var n=Object(i.a)(e,1)[0],r=void 0===n?Number.MAX_VALUE:n,a=Object(i.a)(t,1)[0];return r-(void 0===a?Number.MAX_VALUE:a)}))[0],4),C=E[1],S=E[2],O=E[3],-1!==C){e.next=27;break}return e.abrupt("return",y(0,"BLOCKLISTED",S,C,O));case 27:for(T=f?n:a,k=0,B=0;B<T.length;B++)C>=T[B]&&(k=B);return e.abrupt("return",y(k,"BENCHMARK",S,C,O));case 31:case"end":return e.stop()}}),e)})))}(e)}),"useDetectGPU")};function wi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=u.useRef(),o=Object(f.useThree)((function(e){return e.scene}));return u.useEffect((function(){return t&&e.current&&(i.current=Object(fe.a)(t,[e.current].concat(r)),i.current&&o.add(i.current)),function(){i.current&&o.remove(i.current)}}),[o,t,e,r]),Object(f.useFrame)((function(){var e;null!=(e=i.current)&&e.update&&i.current.update()})),i}var xi=new l.Vector3,Ai=new l.Vector3,Mi=new l.Vector3,Ei=new l.Vector2,Ci=new l.Vector2,Si=new l.Vector2,Oi=new l.Vector3;function Ti(e,t,n,r,a,i,o){xi.fromBufferAttribute(t,r),Ai.fromBufferAttribute(t,a),Mi.fromBufferAttribute(t,i);var s=function(e,t,n,r,a,i){return null===(i===l.BackSide?e.intersectTriangle(r,n,t,!0,a):e.intersectTriangle(t,n,r,i!==l.DoubleSide,a))?null:{distance:e.origin.distanceTo(a),point:a.clone()}}(e,xi,Ai,Mi,Oi,o);if(s){n&&(Ei.fromBufferAttribute(n,r),Ci.fromBufferAttribute(n,a),Si.fromBufferAttribute(n,i),s.uv=l.Triangle.getUV(Oi,xi,Ai,Mi,Ei,Ci,Si,new l.Vector2));var u={a:r,b:a,c:i,normal:new l.Vector3,materialIndex:0};l.Triangle.getNormal(xi,Ai,Mi,u.normal),s.face=u,s.faceIndex=r}return s}function ki(e,t,n,r,a){var i=3*r,o=e.index.getX(i),s=e.index.getX(i+1),u=e.index.getX(i+2),c=Ti(n,e.attributes.position,e.attributes.uv,o,s,u,t);return c?(c.faceIndex=r,a&&a.push(c),c):null}function Bi(e,t,n){return null===e?null:(e.point.applyMatrix4(t.matrixWorld),e.distance=e.point.distanceTo(n.ray.origin),e.object=t,e.distance<n.near||e.distance>n.far?null:e)}var Pi=32,Li=65535,Di=Math.pow(2,-24),ji=Object(X.a)((function e(){Object(q.a)(this,e)}));function Fi(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function Ri(e){for(var t=-1,n=-1/0,r=0;r<3;r++){var a=e[r+3]-e[r];a>n&&(n=a,t=r)}return t}function Ii(e,t){t.set(e)}function zi(e,t,n){for(var r,a,i=0;i<3;i++){var o=i+3;r=e[i],a=t[i],n[i]=r<a?r:a,r=e[o],a=t[o],n[o]=r>a?r:a}}function Ui(e){var t=e[3]-e[0],n=e[4]-e[1],r=e[5]-e[2];return 2*(t*n+n*r+r*t)}function Ni(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=1/0,o=1/0,s=1/0,u=-1/0,c=-1/0,l=-1/0,f=1/0,d=1/0,h=1/0,p=-1/0,m=-1/0,v=-1/0,g=null!==a,y=6*t,b=6*(t+n);y<b;y+=6){var _=e[y+0],w=e[y+1],x=_-w,A=_+w;x<i&&(i=x),A>u&&(u=A),g&&_<f&&(f=_),g&&_>p&&(p=_);var M=e[y+2],E=e[y+3],C=M-E,S=M+E;C<o&&(o=C),S>c&&(c=S),g&&M<d&&(d=M),g&&M>m&&(m=M);var O=e[y+4],T=e[y+5],k=O-T,B=O+T;k<s&&(s=k),B>l&&(l=B),g&&O<h&&(h=O),g&&O>v&&(v=O)}r[0]=i,r[1]=o,r[2]=s,r[3]=u,r[4]=c,r[5]=l,g&&(a[0]=f,a[1]=d,a[2]=h,a[3]=p,a[4]=m,a[5]=v)}function Gi(e,t,n,r,a){for(var i=n,o=n+r-1,s=a.pos,u=2*a.axis;;){for(;i<=o&&t[6*i+u]<s;)i++;for(;i<=o&&t[6*o+u]>=s;)o--;if(!(i<o))return i;for(var c=0;c<3;c++){var l=e[3*i+c];e[3*i+c]=e[3*o+c],e[3*o+c]=l;var f=t[6*i+2*c+0];t[6*i+2*c+0]=t[6*o+2*c+0],t[6*o+2*c+0]=f;var d=t[6*i+2*c+1];t[6*i+2*c+1]=t[6*o+2*c+1],t[6*o+2*c+1]=d}i++,o--}}var Hi=32,Vi=new Array(Hi).fill().map((function(){return{count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),candidate:0}})),Wi=new Float32Array(6);function Xi(e,t,n,r,a,i){var o=-1,s=0;if(0===i)-1!==(o=Ri(t))&&(s=(t[o]+t[o+3])/2);else if(1===i)-1!==(o=Ri(e))&&(s=function(e,t,n,r){for(var a=0,i=t,o=t+n;i<o;i++)a+=e[6*i+2*r];return a/n}(n,r,a,o));else if(2===i)for(var u=Ui(e),c=1.25*a,l=6*r,f=6*(r+a),d=0;d<3;d++){for(var h=t[d],p=(t[d+3]-h)/Hi,m=0;m<Hi;m++){var v=Vi[m];v.count=0,v.candidate=h+p+m*p;for(var g=v.bounds,y=0;y<3;y++)g[y]=1/0,g[y+3]=-1/0}for(var b=l;b<f;b+=6){var _=~~((n[b+2*d]-h)/p);_>=Hi&&(_=31);var w=Vi[_];w.count++;for(var x=w.bounds,A=0;A<3;A++){var M=n[b+2*A],E=n[b+2*A+1],C=M-E,S=M+E;C<x[A]&&(x[A]=C),S>x[A+3]&&(x[A+3]=S)}}var O=Vi[31];Ii(O.bounds,O.rightCacheBounds);for(var T=30;T>=0;T--){var k=Vi[T],B=Vi[T+1];zi(k.bounds,B.rightCacheBounds,k.rightCacheBounds)}for(var P=0,L=0;L<31;L++){var D=Vi[L],j=D.count,F=D.bounds,R=Vi[L+1].rightCacheBounds;0!==j&&(0===P?Ii(F,Wi):zi(F,Wi,Wi));var I=0,z=0;0!==(P+=j)&&(I=Ui(Wi)/u);var U=a-P;0!==U&&(z=Ui(R)/u);var N=1+1.25*(I*P+z*U);N<c&&(o=d,c=N,s=D.candidate)}}else console.warn("MeshBVH: Invalid build strategy value ".concat(i," used."));return{axis:o,pos:s}}function qi(e,t){function n(t,r,l){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!d&&p>=s&&(d=!0,u&&(console.warn("MeshBVH: Max depth of ".concat(s," reached when generating BVH. Consider increasing maxDepth.")),console.warn(e))),l<=c||p>=s)return t.offset=r,t.count=l,t;var m=Xi(t.boundingData,h,i,r,l,f);if(-1===m.axis)return t.offset=r,t.count=l,t;var v=Gi(o,i,r,l,m);if(v===r||v===r+l)t.offset=r,t.count=l;else{t.splitAxis=m.axis;var g=new ji,y=r,b=v-r;t.left=g,g.boundingData=new Float32Array(6),Ni(i,y,b,g.boundingData,a),n(g,y,b,a,p+1);var _=new ji,w=v,x=l-b;t.right=_,_.boundingData=new Float32Array(6),Ni(i,w,x,_.boundingData,a),n(_,w,x,a,p+1)}return t}!function(e,t){if(!e.index){var n,r=e.attributes.position.count,a=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;n=r>65535?new Uint32Array(new a(4*r)):new Uint16Array(new a(2*r)),e.setIndex(new l.BufferAttribute(n,1));for(var i=0;i<r;i++)n[i]=i}}(e,t);var r=new Float32Array(6),a=new Float32Array(6),i=function(e,t){var n=e.attributes.position,r=n.array,a=e.index.array,i=a.length/3,o=new Float32Array(6*i),s=n.offset||0,u=3;n.isInterleavedBufferAttribute&&(u=n.data.stride);for(var c=0;c<i;c++)for(var l=3*c,f=6*c,d=a[l+0]*u+s,h=a[l+1]*u+s,p=a[l+2]*u+s,m=0;m<3;m++){var v=r[d+m],g=r[h+m],y=r[p+m],b=v;g<b&&(b=g),y<b&&(b=y);var _=v;g>_&&(_=g),y>_&&(_=y);var w=(_-b)/2,x=2*m;o[f+x+0]=b+w,o[f+x+1]=w+(Math.abs(b)+w)*Di,b<t[m]&&(t[m]=b),_>t[m+3]&&(t[m+3]=_)}return o}(e,r),o=e.index.array,s=t.maxDepth,u=t.verbose,c=t.maxLeafTris,f=t.strategy,d=!1,h=[],p=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];var t,n=[],r=new Set,a=Object(si.a)(e.groups);try{for(a.s();!(t=a.n()).done;){var i=t.value;r.add(i.start),r.add(i.start+i.count)}}catch(l){a.e(l)}finally{a.f()}for(var o=Array.from(r.values()).sort((function(e,t){return e-t})),s=0;s<o.length-1;s++){var u=o[s],c=o[s+1];n.push({offset:u/3,count:(c-u)/3})}return n}(e);if(1===p.length){var m=p[0],v=new ji;v.boundingData=r,function(e,t,n,r){for(var a=1/0,i=1/0,o=1/0,s=-1/0,u=-1/0,c=-1/0,l=6*t,f=6*(t+n);l<f;l+=6){var d=e[l+0];d<a&&(a=d),d>s&&(s=d);var h=e[l+2];h<i&&(i=h),h>u&&(u=h);var p=e[l+4];p<o&&(o=p),p>c&&(c=p)}r[0]=a,r[1]=i,r[2]=o,r[3]=s,r[4]=u,r[5]=c}(i,m.offset,m.count,a),n(v,m.offset,m.count,a),h.push(v)}else{var g,y=Object(si.a)(p);try{for(y.s();!(g=y.n()).done;){var b=g.value,_=new ji;_.boundingData=new Float32Array(6),Ni(i,b.offset,b.count,_.boundingData,a),n(_,b.offset,b.count,a),h.push(_)}}catch(w){y.e(w)}finally{y.f()}}return h}function Qi(e,t){for(var n,r,a,i=qi(e,t),o=[],s=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,u=0;u<i.length;u++){var c=i[u],l=d(c),f=new s(Pi*l);n=new Float32Array(f),r=new Uint32Array(f),a=new Uint16Array(f),h(0,c),o.push(f)}return o;function d(e){return e.count?1:1+d(e.left)+d(e.right)}function h(e,t){for(var i=e/4,o=e/2,s=!!t.count,u=t.boundingData,c=0;c<6;c++)n[i+c]=u[c];if(s){var l=t.offset,f=t.count;return r[i+6]=l,a[o+14]=f,a[o+15]=Li,e+Pi}var d,p=t.left,m=t.right,v=t.splitAxis;if((d=h(e+Pi,p))/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[i+6]=d/4,d=h(d,m),r[i+7]=v,d}}var Yi=function(){function e(){Object(q.a)(this,e),this.min=1/0,this.max=-1/0}return Object(X.a)(e,[{key:"setFromPointsField",value:function(e,t){for(var n=1/0,r=-1/0,a=0,i=e.length;a<i;a++){var o=e[a][t];n=o<n?o:n,r=o>r?o:r}this.min=n,this.max=r}},{key:"setFromPoints",value:function(e,t){for(var n=1/0,r=-1/0,a=0,i=t.length;a<i;a++){var o=t[a],s=e.dot(o);n=s<n?s:n,r=s>r?s:r}this.min=n,this.max=r}},{key:"isSeparated",value:function(e){return this.min>e.max||e.min>this.max}}]),e}();Yi.prototype.setFromBox=function(){var e=new l.Vector3;return function(t,n){for(var r=n.min,a=n.max,i=1/0,o=-1/0,s=0;s<=1;s++)for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){e.x=r.x*s+a.x*(1-s),e.y=r.y*u+a.y*(1-u),e.z=r.z*c+a.z*(1-c);var l=t.dot(e);i=Math.min(l,i),o=Math.max(l,o)}this.min=i,this.max=o}}();!function(){var e=new Yi}();var Ji=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Vector3;return function(r,a,i){var o=r.start,s=e,u=a.start,c=t;n.subVectors(o,u),e.subVectors(r.end,a.start),t.subVectors(a.end,a.start);var l,f,d=n.dot(c),h=c.dot(s),p=c.dot(c),m=n.dot(s),v=s.dot(s)*p-h*h;f=(d+(l=0!==v?(d*h-m*p)/v:0)*h)/p,i.x=l,i.y=f}}(),Ki=function(){var e=new l.Vector2,t=new l.Vector3,n=new l.Vector3;return function(r,a,i,o){Ji(r,a,e);var s,u,c=e.x,l=e.y;if(c>=0&&c<=1&&l>=0&&l<=1)return r.at(c,i),void a.at(l,o);if(c>=0&&c<=1)return l<0?a.at(0,o):a.at(1,o),void r.closestPointToPoint(o,!0,i);if(l>=0&&l<=1)return c<0?r.at(0,i):r.at(1,i),void a.closestPointToPoint(i,!0,o);s=c<0?r.start:r.end,u=l<0?a.start:a.end;var f=t,d=n;return r.closestPointToPoint(u,!0,t),a.closestPointToPoint(s,!0,n),f.distanceToSquared(u)<=d.distanceToSquared(s)?(i.copy(f),void o.copy(u)):(i.copy(s),void o.copy(d))}}(),Zi=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Plane,r=new l.Line3;return function(a,i){var o=a.radius,s=a.center,u=i.a,c=i.b,l=i.c;if(r.start=u,r.end=c,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=u,r.end=l,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=c,r.end=l,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;var f=i.getPlane(n);if(Math.abs(f.distanceToPoint(s))<=o){var d=f.projectPoint(s,t);if(i.containsPoint(d))return!0}return!1}}(),$i=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isSeparatingAxisTriangle=!0,e.satAxes=new Array(4).fill().map((function(){return new l.Vector3})),e.satBounds=new Array(4).fill().map((function(){return new Yi})),e.points=[e.a,e.b,e.c],e.sphere=new l.Sphere,e.plane=new l.Plane,e.needsUpdate=!1,e}return Object(X.a)(n,[{key:"intersectsSphere",value:function(e){return Zi(e,this)}},{key:"update",value:function(){var e=this.a,t=this.b,n=this.c,r=this.points,a=this.satAxes,i=this.satBounds,o=a[0],s=i[0];this.getNormal(o),s.setFromPoints(o,r);var u=a[1],c=i[1];u.subVectors(e,t),c.setFromPoints(u,r);var l=a[2],f=i[2];l.subVectors(t,n),f.setFromPoints(l,r);var d=a[3],h=i[3];d.subVectors(n,e),h.setFromPoints(d,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(o,e),this.needsUpdate=!1}}]),n}(l.Triangle);$i.prototype.closestPointToSegment=function(){var e=new l.Vector3,t=new l.Vector3,n=new l.Line3;return function(r){for(var a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=r.start,u=r.end,c=this.points,l=1/0,f=0;f<3;f++){var d=(f+1)%3;n.start.copy(c[f]),n.end.copy(c[d]),Ki(n,r,e,t),(a=e.distanceToSquared(t))<l&&(l=a,i&&i.copy(e),o&&o.copy(t))}return this.closestPointToPoint(s,e),(a=s.distanceToSquared(e))<l&&(l=a,i&&i.copy(e),o&&o.copy(s)),this.closestPointToPoint(u,e),(a=u.distanceToSquared(e))<l&&(l=a,i&&i.copy(e),o&&o.copy(u)),Math.sqrt(l)}}(),$i.prototype.intersectsTriangle=function(){var e=new $i,t=new Array(3),n=new Array(3),r=new Yi,a=new Yi,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=new l.Vector3,c=new l.Line3,f=new l.Line3,d=new l.Line3;return function(l){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.needsUpdate&&this.update(),l.isSeparatingAxisTriangle?l.needsUpdate&&l.update():(e.copy(l),e.update(),l=e);var p=this.satBounds,m=this.satAxes;n[0]=l.a,n[1]=l.b,n[2]=l.c;for(var v=0;v<4;v++){var g=p[v],y=m[v];if(r.setFromPoints(y,n),g.isSeparated(r))return!1}var b=l.satBounds,_=l.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(var w=0;w<4;w++){var x=b[w],A=_[w];if(r.setFromPoints(A,t),x.isSeparated(r))return!1}for(var M=0;M<4;M++)for(var E=m[M],C=0;C<4;C++){var S=_[C];if(i.crossVectors(E,S),r.setFromPoints(i,t),a.setFromPoints(i,n),r.isSeparated(a))return!1}if(h){var O=this.plane,T=l.plane;if(Math.abs(O.normal.dot(T.normal))>1-1e-10)console.warn("SeparatingAxisTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),h.start.set(0,0,0),h.end.set(0,0,0);else{for(var k=this.points,B=!1,P=0;P<3;P++){var L=k[P],D=k[(P+1)%3];if(c.start.copy(L),c.end.copy(D),T.intersectLine(c,B?f.start:f.end)){if(B)break;B=!0}}for(var j=l.points,F=!1,R=0;R<3;R++){var I=j[R],z=j[(R+1)%3];if(c.start.copy(I),c.end.copy(z),O.intersectLine(c,F?d.start:d.end)){if(F)break;F=!0}}if(f.delta(o),d.delta(s),o.dot(s)<0){var U=d.start;d.start=d.end,d.end=U}u.subVectors(f.start,d.start),u.dot(o)>0?h.start.copy(f.start):h.start.copy(d.start),u.subVectors(f.end,d.end),u.dot(o)<0?h.end.copy(f.end):h.end.copy(d.end)}}return!0}}(),$i.prototype.distanceToPoint=function(){var e=new l.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),$i.prototype.distanceToTriangle=function(){var e=new l.Vector3,t=new l.Vector3,n=["a","b","c"],r=new l.Line3,a=new l.Line3;return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=o||s?r:null;if(this.intersectsTriangle(i,u))return(o||s)&&(o&&u.getCenter(o),s&&u.getCenter(s)),0;for(var c=1/0,l=0;l<3;l++){var f=void 0,d=n[l],h=i[d];this.closestPointToPoint(h,e),(f=h.distanceToSquared(e))<c&&(c=f,o&&o.copy(e),s&&s.copy(h));var p=this[d];i.closestPointToPoint(p,e),(f=p.distanceToSquared(e))<c&&(c=f,o&&o.copy(p),s&&s.copy(e))}for(var m=0;m<3;m++){var v=n[m],g=n[(m+1)%3];r.set(this[v],this[g]);for(var y=0;y<3;y++){var b=n[y],_=n[(y+1)%3];a.set(i[b],i[_]),Ki(r,a,e,t);var w=e.distanceToSquared(t);w<c&&(c=w,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();var eo=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(q.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isOrientedBox=!0,e.matrix=new l.Matrix4,e.invMatrix=new l.Matrix4,e.points=new Array(8).fill().map((function(){return new l.Vector3})),e.satAxes=new Array(3).fill().map((function(){return new l.Vector3})),e.satBounds=new Array(3).fill().map((function(){return new Yi})),e.alignedSatBounds=new Array(3).fill().map((function(){return new Yi})),e.needsUpdate=!1,e}return Object(X.a)(n,[{key:"set",value:function(e,t,r){Object(ne.a)(Object(re.a)(n.prototype),"set",this).call(this,e,t),this.matrix=r,this.needsUpdate=!0}},{key:"copy",value:function(e){Object(ne.a)(Object(re.a)(n.prototype),"copy",this).call(this,e),this.matrix.copy(e.matrix),this.needsUpdate=!0}}]),n}(l.Box3);function to(e,t,n,r){var a=e.a,i=e.b,o=e.c,s=t,u=t+1,c=t+2;n&&(s=n.getX(t),u=n.getX(t+1),c=n.getX(t+2)),a.x=r.getX(s),a.y=r.getY(s),a.z=r.getZ(s),i.x=r.getX(u),i.y=r.getY(u),i.z=r.getZ(u),o.x=r.getX(c),o.y=r.getY(c),o.z=r.getZ(c)}function no(e,t,n,r,a,i,o){for(var s=n.index,u=n.attributes.position,c=e,l=t+e;c<l;c++)if(to(o,3*c,s,u),o.needsUpdate=!0,r(o,c,a,i))return!0;return!1}eo.prototype.update=function(){for(var e=this.matrix,t=this.min,n=this.max,r=this.points,a=0;a<=1;a++)for(var i=0;i<=1;i++)for(var o=0;o<=1;o++){var s=r[1*a|2*i|4*o];s.x=a?n.x:t.x,s.y=i?n.y:t.y,s.z=o?n.z:t.z,s.applyMatrix4(e)}for(var u=this.satBounds,c=this.satAxes,l=r[0],f=0;f<3;f++){var d=c[f],h=u[f],p=r[1<<f];d.subVectors(l,p),h.setFromPoints(d,r)}var m=this.alignedSatBounds;m[0].setFromPointsField(r,"x"),m[1].setFromPointsField(r,"y"),m[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},eo.prototype.intersectsBox=function(){var e=new Yi;return function(t){this.needsUpdate&&this.update();var n=t.min,r=t.max,a=this.satBounds,i=this.satAxes,o=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,o[0].isSeparated(e))return!1;if(e.min=n.y,e.max=r.y,o[1].isSeparated(e))return!1;if(e.min=n.z,e.max=r.z,o[2].isSeparated(e))return!1;for(var s=0;s<3;s++){var u=i[s],c=a[s];if(e.setFromBox(u,t),c.isSeparated(e))return!1}return!0}}(),eo.prototype.intersectsTriangle=function(){var e=new $i,t=new Array(3),n=new Yi,r=new Yi,a=new l.Vector3;return function(i){this.needsUpdate&&this.update(),i.isSeparatingAxisTriangle?i.needsUpdate&&i.update():(e.copy(i),e.update(),i=e);var o=this.satBounds,s=this.satAxes;t[0]=i.a,t[1]=i.b,t[2]=i.c;for(var u=0;u<3;u++){var c=o[u],l=s[u];if(n.setFromPoints(l,t),c.isSeparated(n))return!1}for(var f=i.satBounds,d=i.satAxes,h=this.points,p=0;p<3;p++){var m=f[p],v=d[p];if(n.setFromPoints(v,h),m.isSeparated(n))return!1}for(var g=0;g<3;g++)for(var y=s[g],b=0;b<4;b++){var _=d[b];if(a.crossVectors(y,_),n.setFromPoints(a,t),r.setFromPoints(a,h),n.isSeparated(r))return!1}return!0}}(),eo.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},eo.prototype.distanceToPoint=function(){var e=new l.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),eo.prototype.distanceToBox=function(){var e=["x","y","z"],t=new Array(12).fill().map((function(){return new l.Line3})),n=new Array(12).fill().map((function(){return new l.Line3})),r=new l.Vector3,a=new l.Vector3;return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.needsUpdate&&this.update(),this.intersectsBox(i))return(s||u)&&(i.getCenter(a),this.closestPointToPoint(a,r),i.closestPointToPoint(r,a),s&&s.copy(r),u&&u.copy(a)),0;for(var c=o*o,l=i.min,f=i.max,d=this.points,h=1/0,p=0;p<8;p++){var m=d[p];a.copy(m).clamp(l,f);var v=m.distanceToSquared(a);if(v<h&&(h=v,s&&s.copy(m),u&&u.copy(a),v<c))return Math.sqrt(v)}for(var g=0,y=0;y<3;y++)for(var b=0;b<=1;b++)for(var _=0;_<=1;_++){var w=(y+1)%3,x=(y+2)%3,A=b<<w|_<<x,M=1<<y|b<<w|_<<x,E=d[A],C=d[M],S=t[g];S.set(E,C);var O=e[y],T=e[w],k=e[x],B=n[g],P=B.start,L=B.end;P[O]=l[O],P[T]=b?l[T]:f[T],P[k]=_?l[k]:f[T],L[O]=f[O],L[T]=b?l[T]:f[T],L[k]=_?l[k]:f[T],g++}for(var D=0;D<=1;D++)for(var j=0;j<=1;j++)for(var F=0;F<=1;F++){a.x=D?f.x:l.x,a.y=j?f.y:l.y,a.z=F?f.z:l.z,this.closestPointToPoint(a,r);var R=a.distanceToSquared(r);if(R<h&&(h=R,s&&s.copy(r),u&&u.copy(a),R<c))return Math.sqrt(R)}for(var I=0;I<12;I++)for(var z=t[I],U=0;U<12;U++){var N=n[U];Ki(z,N,r,a);var G=r.distanceToSquared(a);if(G<h&&(h=G,s&&s.copy(r),u&&u.copy(a),G<c))return Math.sqrt(G)}return Math.sqrt(h)}}();var ro=function(){function e(t){Object(q.a)(this,e),this._getNewPrimitive=t,this._primitives=[]}return Object(X.a)(e,[{key:"getPrimitive",value:function(){var e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}},{key:"releasePrimitive",value:function(e){this._primitives.push(e)}}]),e}();function ao(e,t){return 65535===t[e+15]}function io(e,t){return t[e+6]}function oo(e,t){return t[e+14]}function so(e){return e+8}function uo(e,t){return t[e+6]}var co=new l.Box3,lo=new l.Vector3,fo=["x","y","z"];function ho(e,t,n,r,a){var i=2*e,o=bo,s=_o,u=wo;if(ao(i,s)){!function(e,t,n,r,a,i){for(var o=r,s=r+a;o<s;o++)ki(e,t,n,o,i)}(t,n,r,io(e,u),oo(i,s),a)}else{var c=so(e);go(c,o,r,lo)&&ho(c,t,n,r,a);var l=uo(e,u);go(l,o,r,lo)&&ho(l,t,n,r,a)}}function po(e,t,n,r){var a=2*e,i=bo,o=_o,s=wo;if(ao(a,o))return function(e,t,n,r,a){for(var i=1/0,o=null,s=r,u=r+a;s<u;s++){var c=ki(e,t,n,s);c&&c.distance<i&&(o=c,i=c.distance)}return o}(t,n,r,io(e,s),oo(a,o));var u,c,l=function(e,t){return t[e+7]}(e,s),f=fo[l],d=r.direction[f]>=0;d?(u=so(e),c=uo(e,s)):(u=uo(e,s),c=so(e));var h=go(u,i,r,lo)?po(u,t,n,r):null;if(h){var p=h.point[f];if(d?p<=i[c+l]:p>=i[c+l+3])return h}var m=go(c,i,r,lo)?po(c,t,n,r):null;return h&&m?h.distance<=m.distance?h:m:h||m||null}var mo=function(){var e,t,n=[],r=new ro((function(){return new l.Box3}));return function(){e=r.getPrimitive(),t=r.getPrimitive(),n.push(e,t);var i=a.apply(void 0,arguments);r.releasePrimitive(e),r.releasePrimitive(t),n.pop(),n.pop();var o=n.length;return o>0&&(t=n[o-1],e=n[o-2]),i};function a(n,r,i,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;function l(e){for(var t=2*e,n=_o,r=wo;!ao(t,n);)t=2*(e=so(e));return io(e,r)}function f(e){for(var t=2*e,n=_o,r=wo;!ao(t,n);)t=2*(e=uo(e,r));return io(e,r)+oo(t,n)}var d=2*n,h=bo,p=_o,m=wo,v=ao(d,p);if(v){var g=io(n,m),y=oo(d,p);return Fi(n,h,e),o(g,y,!1,c,u+n,e)}var b,_,w,x,A=so(n),M=uo(n,m),E=A,C=M;if(s&&(x=t,Fi(E,h,w=e),Fi(C,h,x),b=s(w),(_=s(x))<b)){E=M,C=A;var S=b;b=_,_=S,w=x}w||Fi(E,h,w=e);var O,T=ao(2*E,p),k=i(w,T,b,c+1,u+E);if(2===k){var B=l(E),P=f(E),L=P-B;O=o(B,L,!0,c+1,u+E,w)}else O=k&&a(E,r,i,o,s,u,c+1);if(O)return!0;Fi(C,h,x=t);var D,j=ao(2*C,p),F=i(x,j,_,c+1,u+C);if(2===F){var R=l(C),I=f(C),z=I-R;D=o(R,z,!0,c+1,u+C,x)}else D=F&&a(C,r,i,o,s,u,c+1);return!!D}}(),vo=function(){var e=new $i,t=new $i,n=new l.Matrix4,r=new eo,a=new eo;return function i(o,s,u,c){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=2*o,d=bo,h=_o,p=wo;null===l&&(u.boundingBox||u.computeBoundingBox(),r.set(u.boundingBox.min,u.boundingBox.max,c),l=r);var m=ao(f,h);if(!m){var v=o+8,g=p[o+6];Fi(v,d,co);var y=l.intersectsBox(co)&&i(v,s,u,c,l);if(y)return!0;Fi(g,d,co);var b=l.intersectsBox(co)&&i(g,s,u,c,l);return!!b}var _=s,w=_.index,x=_.attributes.position,A=u.index,M=u.attributes.position,E=io(o,p),C=oo(f,h);if(n.copy(c).invert(),u.boundsTree){Fi(o,d,a),a.matrix.copy(n),a.needsUpdate=!0;var S=u.boundsTree.shapecast({intersectsBounds:function(e){return a.intersectsBox(e)},intersectsTriangle:function(e){e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.needsUpdate=!0;for(var n=3*E,r=3*(C+E);n<r;n+=3)if(to(t,n,w,x),t.needsUpdate=!0,e.intersectsTriangle(t))return!0;return!1}});return S}for(var O=3*E,T=C+3*E;O<T;O+=3){to(e,O,w,x),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(var k=0,B=A.count;k<B;k+=3)if(to(t,k,A,M),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}();function go(e,t,n,r){return Fi(e,t,co),n.intersectBox(co,r)}var yo,bo,_o,wo,xo=[];function Ao(e){yo&&xo.push(yo),yo=e,bo=new Float32Array(e),_o=new Uint16Array(e),wo=new Uint32Array(e)}function Mo(){yo=null,bo=null,_o=null,wo=null,xo.length&&Ao(xo.pop())}var Eo=Symbol("skip tree generation"),Co=new l.Box3,So=new l.Box3,Oo=new l.Matrix4,To=new eo,ko=new eo,Bo=new l.Vector3,Po=new l.Vector3,Lo=new l.Vector3,Do=new l.Vector3,jo=new l.Vector3,Fo=new l.Box3,Ro=new ro((function(){return new $i})),Io=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(q.a)(this,e),!t.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t.index&&t.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((n=Object.assign(Object(ht.a)({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0},Eo,!1),n)).useSharedArrayBuffer&&"undefined"===typeof SharedArrayBuffer)throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,n[Eo]||(this._roots=Qi(t,n),!t.boundingBox&&n.setBoundingBox&&(t.boundingBox=this.getBoundingBox(new l.Box3))),this.geometry=t}return Object(X.a)(e,[{key:"refit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&Array.isArray(e)&&(e=new Set(e));var t,n,r,a,i=this.geometry,o=i.index.array,s=i.attributes.position,u=s.array,c=s.offset||0,l=3;s.isInterleavedBufferAttribute&&(l=s.data.stride);for(var f=0,d=this._roots,h=0,p=d.length;h<p;h++)t=d[h],n=new Uint32Array(t),r=new Uint16Array(t),a=new Float32Array(t),m(0,f),f+=t.byteLength;function m(t,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=2*t,d=r[f+15]===Li;if(d){for(var h=n[t+6],p=r[f+14],v=1/0,g=1/0,y=1/0,b=-1/0,_=-1/0,w=-1/0,x=3*h,A=3*(h+p);x<A;x++){var M=o[x]*l+c,E=u[M+0],C=u[M+1],S=u[M+2];E<v&&(v=E),E>b&&(b=E),C<g&&(g=C),C>_&&(_=C),S<y&&(y=S),S>w&&(w=S)}return(a[t+0]!==v||a[t+1]!==g||a[t+2]!==y||a[t+3]!==b||a[t+4]!==_||a[t+5]!==w)&&(a[t+0]=v,a[t+1]=g,a[t+2]=y,a[t+3]=b,a[t+4]=_,a[t+5]=w,!0)}var O=t+8,T=n[t+6],k=O+i,B=T+i,P=s,L=!1,D=!1;e?P||(L=e.has(k),D=e.has(B),P=!L&&!D):(L=!0,D=!0);var j=P||L,F=P||D,R=!1;j&&(R=m(O,i,P));var I=!1;F&&(I=m(T,i,P));var z=R||I;if(z)for(var U=0;U<3;U++){var N=O+U,G=T+U,H=a[N],V=a[N+3],W=a[G],X=a[G+3];a[t+U]=H<W?H:W,a[t+U+3]=V>X?V:X}return z}}},{key:"traverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._roots[t],r=new Uint32Array(n),a=new Uint16Array(n);function i(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=2*t,u=a[s+15]===Li;if(u){var c=r[t+6],l=a[s+14];e(o,u,new Float32Array(n,4*t,6),c,l)}else{var f=t+8,d=r[t+6],h=r[t+7],p=e(o,u,new Float32Array(n,4*t,6),h);p||(i(f,o+1),i(d,o+1))}}i(0)}},{key:"raycast",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.FrontSide,n=this._roots,r=this.geometry,a=[],i=t.isMaterial,o=Array.isArray(t),s=r.groups,u=i?t.side:t,c=0,f=n.length;c<f;c++){var d=o?t[s[c].materialIndex].side:u,h=a.length;if(Ao(n[c]),ho(0,r,d,e,a),Mo(),o)for(var p=s[c].materialIndex,m=h,v=a.length;m<v;m++)a[m].face.materialIndex=p}return a}},{key:"raycastFirst",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.FrontSide,n=this._roots,r=this.geometry,a=t.isMaterial,i=Array.isArray(t),o=null,s=r.groups,u=a?t.side:t,c=0,f=n.length;c<f;c++){var d=i?t[s[c].materialIndex].side:u;Ao(n[c]);var h=po(0,r,d,e);Mo(),null!=h&&(null==o||h.distance<o.distance)&&(o=h,i&&(h.face.materialIndex=s[c].materialIndex))}return o}},{key:"intersectsGeometry",value:function(e,t){var n,r=this.geometry,a=!1,i=Object(si.a)(this._roots);try{for(i.s();!(n=i.n()).done;){if(Ao(n.value),a=vo(0,r,e,t),Mo(),a)break}}catch(o){i.e(o)}finally{i.f()}return a}},{key:"shapecast",value:function(e,t,n){var r=this.geometry;if(e instanceof Function){if(t){var a=t;t=function(e,t,n,r){var i=3*t;return a(e,i,i+1,i+2,n,r)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}var i=Ro.getPrimitive(),o=e,s=o.boundsTraverseOrder,u=o.intersectsBounds,c=o.intersectsRange,l=o.intersectsTriangle;if(c&&l){var f=c;c=function(e,t,n,a,o){return!!f(e,t,n,a,o)||no(e,t,r,l,n,a,i)}}else c||(c=l?function(e,t,n,a){return no(e,t,r,l,n,a,i)}:function(e,t,n){return n});var d,h=!1,p=0,m=Object(si.a)(this._roots);try{for(m.s();!(d=m.n()).done;){var v=d.value;if(Ao(v),h=mo(0,r,u,c,s,p),Mo(),h)break;p+=v.byteLength}}catch(g){m.e(g)}finally{m.f()}return Ro.releasePrimitive(i),h}},{key:"bvhcast",value:function(e,t,n){var r=n.intersectsRanges,a=n.intersectsTriangles,i=e.geometry,o=i.index,s=i.attributes.position;Oo.copy(t).invert();var u=Ro.getPrimitive(),c=Ro.getPrimitive();if(a){var l=function(e,n,r,i,l,f,d,h){for(var p=r,m=r+i;p<m;p++){to(c,3*p,o,s),c.a.applyMatrix4(t),c.b.applyMatrix4(t),c.c.applyMatrix4(t),c.needsUpdate=!0;for(var v=e,g=e+n;v<g;v++)if(to(u,3*v,o,s),u.needsUpdate=!0,a(u,c,v,p,l,f,d,h))return!0}return!1};if(r){var f=r;r=function(e,t,n,r,a,i,o,s){return!!f(e,t,n,r,a,i,o,s)||l(e,t,n,r,a,i,o,s)}}else r=l}this.getBoundingBox(So),So.applyMatrix4(t);var d=this.shapecast({intersectsBounds:function(e){return So.intersectsBox(e)},intersectsRange:function(t,n,a,i,o,s){return Co.copy(s),Co.applyMatrix4(Oo),e.shapecast({intersectsBounds:function(e){return Co.intersectsBox(e)},intersectsRange:function(e,a,s,u,c){return r(t,n,e,a,i,o,u,c)}})}});return Ro.releasePrimitive(u),Ro.releasePrimitive(c),d}},{key:"intersectsBox",value:function(e,t){return To.set(e.min,e.max,t),To.needsUpdate=!0,this.shapecast({intersectsBounds:function(e){return To.intersectsBox(e)},intersectsTriangle:function(e){return To.intersectsTriangle(e)}})}},{key:"intersectsSphere",value:function(e){return this.shapecast({intersectsBounds:function(t){return e.intersectsBox(t)},intersectsTriangle:function(t){return t.intersectsSphere(e)}})}},{key:"closestPointToGeometry",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0;e.boundingBox||e.computeBoundingBox(),To.set(e.boundingBox.min,e.boundingBox.max,t),To.needsUpdate=!0;var o=this.geometry,s=o.attributes.position,u=o.index,c=e.attributes.position,l=e.index,f=Ro.getPrimitive(),d=Ro.getPrimitive(),h=Po,p=Lo,m=null,v=null;r&&(m=Do,v=jo);var g=1/0,y=null,b=null;return Oo.copy(t).invert(),ko.matrix.copy(Oo),this.shapecast({boundsTraverseOrder:function(e){return To.distanceToBox(e,Math.min(g,i))},intersectsBounds:function(e,t,n){return n<g&&n<i&&(t&&(ko.min.copy(e.min),ko.max.copy(e.max),ko.needsUpdate=!0),!0)},intersectsRange:function(n,r){if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:function(e){return ko.distanceToBox(e,Math.min(g,i))},intersectsBounds:function(e,t,n){return n<g&&n<i},intersectsRange:function(e,i){for(var o=3*e,_=3*(e+i);o<_;o+=3){to(d,o,l,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(var w=3*n,x=3*(n+r);w<x;w+=3){to(f,w,u,s),f.needsUpdate=!0;var A=f.distanceToTriangle(d,h,m);if(A<g&&(p.copy(h),v&&v.copy(m),g=A,y=w/3,b=o/3),A<a)return!0}}}});for(var o=0,_=l?l.count:c.count;o<_;o+=3){to(d,o,l,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(var w=3*n,x=3*(n+r);w<x;w+=3){to(f,w,u,s),f.needsUpdate=!0;var A=f.distanceToTriangle(d,h,m);if(A<g&&(p.copy(h),v&&v.copy(m),g=A,y=w/3,b=o/3),A<a)return!0}}}}),Ro.releasePrimitive(f),Ro.releasePrimitive(d),g===1/0?null:(n.point?n.point.copy(p):n.point=p.clone(),n.distance=g,n.faceIndex=y,r&&(r.point?r.point.copy(v):r.point=v.clone(),r.point.applyMatrix4(Oo),p.applyMatrix4(Oo),r.distance=p.sub(r.point).length(),r.faceIndex=b),n)}},{key:"closestPointToPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=n*n,i=r*r,o=1/0,s=null;if(this.shapecast({boundsTraverseOrder:function(t){return Bo.copy(e).clamp(t.min,t.max),Bo.distanceToSquared(e)},intersectsBounds:function(e,t,n){return n<o&&n<i},intersectsTriangle:function(t,n){t.closestPointToPoint(e,Bo);var r=e.distanceToSquared(Bo);return r<o&&(Po.copy(Bo),o=r,s=n),r<a}}),o===1/0)return null;var u=Math.sqrt(o);return t.point?t.point.copy(Po):t.point=Po.clone(),t.distance=u,t.faceIndex=s,t}},{key:"getBoundingBox",value:function(e){return e.makeEmpty(),this._roots.forEach((function(t){Fi(0,new Float32Array(t),Fo),e.union(Fo)})),e}}],[{key:"serialize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),e.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});n=Object(a.a)({cloneBuffers:!0},n);var r=t.geometry,i=t._roots,o=r.getIndex();return n.cloneBuffers?{roots:i.map((function(e){return e.slice()})),index:o.array.slice()}:{roots:i,index:o.array}}},{key:"deserialize",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("boolean"===typeof r)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),e.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});r=Object(a.a)({setIndex:!0},r);var i=t.index,o=t.roots,s=new e(n,Object(a.a)(Object(a.a)({},r),{},Object(ht.a)({},Eo,!0)));if(s._roots=o,r.setIndex){var u=n.getIndex();if(null===u){var c=new l.BufferAttribute(t.index,1,!1);n.setIndex(c)}else u.array!==i&&(u.array.set(i),u.needsUpdate=!0)}return s}}]),e}(),zo=Io.prototype.raycast;Io.prototype.raycast=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycast" has changed. See docs for new signature.');var r=t[0],a=t[1],i=t[2],o=t[3],s=zo.call(this,i,r.material);return s.forEach((function(e){(e=Bi(e,r,a))&&o.push(e)})),o}return zo.apply(this,t)};var Uo=Io.prototype.raycastFirst;Io.prototype.raycastFirst=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "raycastFirst" has changed. See docs for new signature.');var r=t[0],a=t[1],i=t[2];return Bi(Uo.call(this,i,r.material),r,a)}return Uo.apply(this,t)};var No=Io.prototype.closestPointToPoint;Io.prototype.closestPointToPoint=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].isMesh){console.warn('MeshBVH: The function signature and results frame for "closestPointToPoint" has changed. See docs for new signature.'),t.unshift();var r=t[1],a={};return t[1]=a,No.apply(this,t),r&&r.copy(a.point),a.distance}return No.apply(this,t)};var Go=Io.prototype.closestPointToGeometry;Io.prototype.closestPointToGeometry=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[2],a=t[3];if(r&&r.isVector3||a&&a.isVector3){console.warn('MeshBVH: The function signature and results frame for "closestPointToGeometry" has changed. See docs for new signature.');var i={},o={},s=t[1];return t[2]=i,t[3]=o,Go.apply(this,t),r&&r.copy(i.point),a&&a.copy(o.point).applyMatrix4(s),i.distance}return Go.apply(this,t)};var Ho=Io.prototype.refit;Io.prototype.refit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];if(a&&(a instanceof Set||Array.isArray(a))){console.warn('MeshBVH: The function signature for "refit" has changed. See docs for new signature.');var i=new Set;a.forEach((function(e){return i.add(e)})),r&&r.forEach((function(e){return i.add(e)})),Ho.call(this,i)}else Ho.apply(this,t)},["intersectsGeometry","shapecast","intersectsBox","intersectsSphere"].forEach((function(e){var t=Io.prototype[e];Io.prototype[e]=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(null===r[0]||r[0].isMesh)&&(r.shift(),console.warn('MeshBVH: The function signature for "'.concat(e,'" has changed and no longer takes Mesh. See docs for new signature.'))),t.apply(this,r)}}));var Vo=new l.Ray,Wo=new l.Matrix4,Xo=l.Mesh.prototype.raycast;function qo(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;Wo.copy(this.matrixWorld).invert(),Vo.copy(e.ray).applyMatrix4(Wo);var n=this.geometry.boundsTree;if(!0===e.firstHitOnly){var r=Bi(n.raycastFirst(Vo,this.material),this,e);r&&t.push(r)}else for(var a=n.raycast(Vo,this.material),i=0,o=a.length;i<o;i++){var s=Bi(a[i],this,e);s&&t.push(s)}}else Xo.call(this,e,t)}function Qo(e){return this.boundsTree=new Io(this,e),this.boundsTree}function Yo(){this.boundsTree=null}function Jo(e,t){u.useEffect((function(){if(e.current){e.current.raycast=qo;var n=e.current.geometry;return n.computeBoundsTree=Qo,n.disposeBoundsTree=Yo,n.computeBoundsTree(t),function(){n.boundsTree&&n.disposeBoundsTree()}}}),[e,t])}function Ko(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u.useRef([]);return r.current=t.map((function(e){return u.useContext(e)})),u.useMemo((function(){return function(e){var n=e.children;return t.reduceRight((function(e,t,n){return u.createElement(t.Provider,{value:r.current[n],children:e})}),n)}}),[])}function Zo(e,t){var n=u.useRef(),r=u.useState((function(){return t?t instanceof l.Object3D?{current:t}:t:n})),a=Object(i.a)(r,1)[0],o=u.useState((function(){return new l.AnimationMixer(void 0)})),s=Object(i.a)(o,1)[0],c=u.useRef({}),d=u.useState((function(){var t={};return e.forEach((function(e){return Object.defineProperty(t,e.name,{enumerable:!0,get:function(){if(a.current)return c.current[e.name]||(c.current[e.name]=s.clipAction(e,a.current))}})})),{ref:a,clips:e,actions:t,names:e.map((function(e){return e.name})),mixer:s}})),h=Object(i.a)(d,1)[0];return Object(f.useFrame)((function(e,t){return s.update(t)})),u.useEffect((function(){var e=a.current;return function(){c.current={},Object.values(h.actions).forEach((function(t){e&&s.uncacheAction(t,e)}))}}),[e]),h}function $o(e){var t=u.useRef(null),n=u.useRef(!1),r=u.useRef(!1);return u.useEffect((function(){var a=t.current;if(a){var i=Object(f.addEffect)((function(){return n.current=!1,!0})),o=a.onBeforeRender;a.onBeforeRender=function(){return n.current=!0};var s=Object(f.addAfterEffect)((function(){return n.current!==r.current&&e(r.current=n.current),!0}));return function(){a.onBeforeRender=o,i(),s()}}}),[]),t}var es=function(e,t){return e[t]},ts=function(e,t){var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),i={},o={},s=e[0].morphTargetsRelative,u=new l.BufferGeometry,c=0;if(e.forEach((function(e,l){var f=0;if(n!==(null!==e.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var d in e.attributes){if(!r.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[d]&&(i[d]=[]),i[d].push(e.attributes[d]),f++}if(f!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". Make sure all geometries have the same number of attributes."),null;if(s!==e.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var h in e.morphAttributes){if(!a.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[h]&&(o[h]=[]),o[h].push(e.morphAttributes[h])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(e.userData),t){var p;if(e.index)p=e.index.count;else{if(void 0===e.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+l+". The geometry must have either an index or a position attribute"),null;p=e.attributes.position.count}u.addGroup(c,p,l),c+=p}})),n){var f=0,d=[];e.forEach((function(e){for(var t=e.index,n=0;n<t.count;++n)d.push(t.getX(n)+f);f+=e.attributes.position.count})),u.setIndex(d)}for(var h in i){var p=ns(i[h]);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;u.setAttribute(h,p)}for(var m in o){var v=o[m][0].length;if(0===v)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[m]=[];for(var g=0;g<v;++g){for(var y=[],b=0;b<o[m].length;++b)y.push(o[m][b][g]);var _=ns(y);if(!_)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+m+" morphAttribute."),null;u.morphAttributes[m].push(_)}}return u},ns=function(e){var t=void 0,n=void 0,r=void 0,a=0;if(e.forEach((function(e){return void 0===t&&(t=e.array.constructor),t!==e.array.constructor?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===n&&(n=e.itemSize),n!==e.itemSize?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===r&&(r=e.normalized),r!==e.normalized?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(a+=e.array.length)))})),t&&n){var i=new t(a),o=0;return e.forEach((function(e){i.set(e.array,o),o+=e.array.length})),new l.BufferAttribute(i,n,r)}},rs=function(e){for(var t=void 0,n=0,r=0,a=0,i=e.length;a<i;++a){var o=e[a];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,r+=o.itemSize}for(var s=new l.InterleavedBuffer(new t(n),r),u=0,c=[],f=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"],h=0,p=e.length;h<p;h++){var m=e[h],v=m.itemSize,g=m.count,y=new l.InterleavedBufferAttribute(s,v,u,m.normalized);c.push(y),u+=v;for(var b=0;b<g;b++)for(var _=0;_<v;_++){es(y,d[_])(b,es(m,f[_])(b))}}return c};function as(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var a=e.getIndex();return t+=a?a.count*a.itemSize*a.array.BYTES_PER_ELEMENT:0}function is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),a=e.getAttribute("position"),i=r?r.count:a.count,o=0,s=Object.keys(e.attributes),u={},c={},f=[],d=["getX","getY","getZ","getW"],h=0,p=s.length;h<p;h++){var m=s[h];u[m]=[];var v=e.morphAttributes[m];v&&(c[m]=new Array(v.length).fill(0).map((function(){return[]})))}for(var g=Math.log10(1/t),y=Math.pow(10,g),b=0;b<i;b++){for(var _=r?r.getX(b):b,w="",x=0,A=s.length;x<A;x++)for(var M=s[x],E=e.getAttribute(M),C=E.itemSize,S=0;S<C;S++)w+="".concat(~~(E[d[S]](_)*y),",");if(w in n)f.push(n[w]);else{for(var O=0,T=s.length;O<T;O++)for(var k=s[O],B=e.getAttribute(k),P=e.morphAttributes[k],L=B.itemSize,D=u[k],j=c[k],F=0;F<L;F++){var R=d[F];if(D.push(B[R](_)),P)for(var I=0,z=P.length;I<z;I++)j[I].push(P[I][R](_))}n[w]=o,f.push(o),o++}}for(var U=e.clone(),N=0,G=s.length;N<G;N++){var H=s[N],V=e.getAttribute(H),W=new V.array.constructor(u[H]),X=new l.BufferAttribute(W,V.itemSize,V.normalized);if(U.setAttribute(H,X),H in c)for(var q=0;q<c[H].length;q++){var Q=e.morphAttributes[H][q],Y=new Q.array.constructor(c[H][q]),J=new l.BufferAttribute(Y,Q.itemSize,Q.normalized);U.morphAttributes[H][q]=J}}return U.setIndex(f),U}function os(e,t){if(t===l.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===l.TriangleFanDrawMode||t===l.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var r=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<a.count;i++)r.push(i);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(n)if(t===l.TriangleFanDrawMode)for(var u=1;u<=o;u++)s.push(n.getX(0)),s.push(n.getX(u)),s.push(n.getX(u+1));else for(var c=0;c<o;c++)c%2===0?(s.push(n.getX(c)),s.push(n.getX(c+1)),s.push(n.getX(c+2))):(s.push(n.getX(c+2)),s.push(n.getX(c+1)),s.push(n.getX(c)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(s),f.clearGroups(),f}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function ss(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;var t=new l.Vector3,n=new l.Vector3,r=new l.Vector3,a=new l.Vector3,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=new l.Vector3,c=new l.Vector3;function f(e,l,f,d,h,p,m,v,g){t.fromBufferAttribute(f,p),n.fromBufferAttribute(f,m),r.fromBufferAttribute(f,v);var y=e.morphTargetInfluences;if(l.morphTargets&&d&&y){s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var b=0,_=d.length;b<_;b++){var w=y[b],x=d[b];0!==w&&(a.fromBufferAttribute(x,p),i.fromBufferAttribute(x,m),o.fromBufferAttribute(x,v),h?(s.addScaledVector(a,w),u.addScaledVector(i,w),c.addScaledVector(o,w)):(s.addScaledVector(a.sub(t),w),u.addScaledVector(i.sub(n),w),c.addScaledVector(o.sub(r),w)))}t.add(s),n.add(u),r.add(c)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(m,n),e.boneTransform(v,r)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*m+0]=n.x,g[3*m+1]=n.y,g[3*m+2]=n.z,g[3*v+0]=r.x,g[3*v+1]=r.y,g[3*v+2]=r.z}var d,h,p,m,v,g,y,b,_,w=e.geometry,x=e.material,A=w.index,M=w.attributes.position,E=w.morphAttributes.position,C=w.morphTargetsRelative,S=w.attributes.normal,O=w.morphAttributes.position,T=w.groups,k=w.drawRange,B=new Float32Array(M.count*M.itemSize),P=new Float32Array(S.count*S.itemSize);if(null!==A)if(Array.isArray(x))for(m=0,g=T.length;m<g;m++)for(_=x[(b=T[m]).materialIndex],v=Math.max(b.start,k.start),y=Math.min(b.start+b.count,k.start+k.count);v<y;v+=3)f(e,_,M,E,C,d=A.getX(v),h=A.getX(v+1),p=A.getX(v+2),B),f(e,_,S,O,C,d,h,p,P);else for(m=Math.max(0,k.start),g=Math.min(A.count,k.start+k.count);m<g;m+=3)f(e,x,M,E,C,d=A.getX(m),h=A.getX(m+1),p=A.getX(m+2),B),f(e,x,S,O,C,d,h,p,P);else if(void 0!==M)if(Array.isArray(x))for(m=0,g=T.length;m<g;m++)for(_=x[(b=T[m]).materialIndex],v=Math.max(b.start,k.start),y=Math.min(b.start+b.count,k.start+k.count);v<y;v+=3)f(e,_,M,E,C,d=v,h=v+1,p=v+2,B),f(e,_,S,O,C,d,h,p,P);else for(m=Math.max(0,k.start),g=Math.min(M.count,k.start+k.count);m<g;m+=3)f(e,x,M,E,C,d=m,h=m+1,p=m+2,B),f(e,x,S,O,C,d,h,p,P);return{positionAttribute:M,normalAttribute:S,morphedPositionAttribute:new l.Float32BufferAttribute(B,3),morphedNormalAttribute:new l.Float32BufferAttribute(P,3)}}var us=new l.Vector3,cs=new l.Vector3;function ls(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var fs=function(){function e(t,n){Object(q.a)(this,e),K(this,"position",void 0),K(this,"id",void 0),K(this,"faces",void 0),K(this,"neighbors",void 0),K(this,"collapseCost",void 0),K(this,"collapseNeighbor",void 0),K(this,"minCost",0),K(this,"totalCost",0),K(this,"costCount",0),this.position=t,this.id=n,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}return Object(X.a)(e,[{key:"addUniqueNeighbor",value:function(e){var t,n;t=this.neighbors,n=e,-1===t.indexOf(n)&&t.push(n)}},{key:"removeIfNonNeighbor",value:function(e){var t=this.neighbors,n=this.faces,r=t.indexOf(e);if(-1!==r){for(var a=0;a<n.length;a++)if(n[a].hasVertex(e))return;t.splice(r,1)}}}]),e}(),ds=function(){function e(t,n,r,a,i,o){Object(q.a)(this,e),K(this,"a",void 0),K(this,"b",void 0),K(this,"c",void 0),K(this,"v1",void 0),K(this,"v2",void 0),K(this,"v3",void 0),K(this,"normal",new l.Vector3),this.a=a,this.b=i,this.c=o,this.v1=t,this.v2=n,this.v3=r,this.computeNormal(),t.faces.push(this),t.addUniqueNeighbor(n),t.addUniqueNeighbor(r),n.faces.push(this),n.addUniqueNeighbor(t),n.addUniqueNeighbor(r),r.faces.push(this),r.addUniqueNeighbor(t),r.addUniqueNeighbor(n)}return Object(X.a)(e,[{key:"computeNormal",value:function(){var e=this.v1.position,t=this.v2.position,n=this.v3.position;us.subVectors(n,t),cs.subVectors(e,t),us.cross(cs).normalize(),this.normal.copy(us)}},{key:"hasVertex",value:function(e){return e===this.v1||e===this.v2||e===this.v3}},{key:"replaceVertex",value:function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),ls(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()}}]),e}(),hs=function(){function e(){var t=this;Object(q.a)(this,e),K(this,"computeEdgeCollapseCost",(function(e,t){var n,r,a,i=t.position.distanceTo(e.position),o=0,s=[],u=e.faces.length;for(n=0;n<u;n++)(r=e.faces[n]).hasVertex(t)&&s.push(r);for(n=0;n<u;n++){var c=1;r=e.faces[n];for(var l=0;l<s.length;l++){a=s[l];var f=r.normal.dot(a.normal);c=Math.min(c,(1.001-f)/2)}o=Math.max(o,c)}return s.length<2&&(o=1),i*o+0})),K(this,"computeEdgeCostAtVertex",(function(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var n=0;n<e.neighbors.length;n++){var r=t.computeEdgeCollapseCost(e,e.neighbors[n]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[n],e.collapseCost=r,e.minCost=r,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=r,r<e.minCost&&(e.collapseNeighbor=e.neighbors[n],e.minCost=r)}e.collapseCost=e.totalCost/e.costCount})),K(this,"removeFace",(function(e,t){ls(t,e),e.v1&&ls(e.v1.faces,e),e.v2&&ls(e.v2.faces,e),e.v3&&ls(e.v3.faces,e);for(var n,r,a=[e.v1,e.v2,e.v3],i=0;i<3;i++)r=a[(i+1)%3],(n=a[i])&&r&&(n.removeIfNonNeighbor(r),r.removeIfNonNeighbor(n))})),K(this,"collapse",(function(e,n,r,a){if(a){var i,o=[];for(i=0;i<r.neighbors.length;i++)o.push(r.neighbors[i]);for(i=r.faces.length-1;i>=0;i--)r.faces[i].hasVertex(a)&&t.removeFace(r.faces[i],n);for(i=r.faces.length-1;i>=0;i--)r.faces[i].replaceVertex(r,a);for(t.removeVertex(r,e),i=0;i<o.length;i++)t.computeEdgeCostAtVertex(o[i])}else t.removeVertex(r,e)})),K(this,"minimumCostEdge",(function(e){for(var t=e[0],n=0;n<e.length;n++)e[n].collapseCost<t.collapseCost&&(t=e[n]);return t})),K(this,"modify",(function(e,n){var r=(e=e.clone()).attributes;for(var a in r)"position"!==a&&e.deleteAttribute(a);for(var i=[],o=[],s=(e=is(e)).getAttribute("position"),u=0;u<s.count;u++){var c=(new l.Vector3).fromBufferAttribute(s,u),f=new fs(c,u);i.push(f)}var d,h=e.getIndex();if(null!==h)for(var p=0;p<h.count;p+=3){var m=h.getX(p),v=h.getX(p+1),g=h.getX(p+2),y=new ds(i[m],i[v],i[g],m,v,g);o.push(y)}else for(var b=0;b<s.count;b+=3){var _=b,w=b+1,x=b+2,A=new ds(i[_],i[w],i[x],_,w,x);o.push(A)}for(var M=0,E=i.length;M<E;M++)t.computeEdgeCostAtVertex(i[M]);for(var C=n;C--;){if(!(d=t.minimumCostEdge(i))){console.log("THREE.SimplifyModifier: No next vertex");break}t.collapse(i,o,d,d.collapseNeighbor)}for(var S=new l.BufferGeometry,O=[],T=[],k=0;k<i.length;k++){var B=i[k].position;O.push(B.x,B.y,B.z)}for(var P=0;P<o.length;P++){var L=o[P],D=i.indexOf(L.v1),j=i.indexOf(L.v2),F=i.indexOf(L.v3);T.push(D,j,F)}return S.setAttribute("position",new l.Float32BufferAttribute(O,3)),S.setIndex(T),S}))}return Object(X.a)(e,[{key:"removeVertex",value:function(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){ls(e.neighbors.pop().neighbors,e)}ls(t,e)}}]),e}();function ps(e){var t=u.useRef(),n=u.useRef(),r=u.useRef();return u.useEffect((function(){n.current||(n.current=t.current.geometry.clone(),r.current=new hs)}),[]),u.useEffect((function(){if(n.current&&t.current){var a=n.current,i=Math.floor(a.attributes.position.count*e);t.current.geometry=r.current.modify(a,i)}}),[e]),t}var ms=Object(X.a)((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;Object(q.a)(this,e),K(this,"maxEdgeLength",void 0),K(this,"maxIterations",void 0),K(this,"modify",(function(e){null!==e.index&&(e=e.toNonIndexed());var n=t.maxIterations,r=t.maxEdgeLength*t.maxEdgeLength,a=new l.Vector3,i=new l.Vector3,o=new l.Vector3,s=new l.Vector3,u=[a,i,o,s],c=new l.Vector3,f=new l.Vector3,d=new l.Vector3,h=new l.Vector3,p=[c,f,d,h],m=new l.Color,v=new l.Color,g=new l.Color,y=new l.Color,b=[m,v,g,y],_=new l.Vector2,w=new l.Vector2,x=new l.Vector2,A=new l.Vector2,M=[_,w,x,A],E=new l.Vector2,C=new l.Vector2,S=new l.Vector2,O=new l.Vector2,T=[E,C,S,O],k=e.attributes,B=void 0!==k.normal,P=void 0!==k.color,L=void 0!==k.uv,D=void 0!==k.uv2,j=k.position.array,F=B?k.normal.array:null,R=P?k.color.array:null,I=L?k.uv.array:null,z=D?k.uv2.array:null,U=j,N=F,G=R,H=I,V=z,W=0,X=!0;function q(e,t,n){var r=u[e],a=u[t],i=u[n];if(U.push(r.x,r.y,r.z),U.push(a.x,a.y,a.z),U.push(i.x,i.y,i.z),B){var o=p[e],s=p[t],c=p[n];N.push(o.x,o.y,o.z),N.push(s.x,s.y,s.z),N.push(c.x,c.y,c.z)}if(P){var l=b[e],f=b[t],d=b[n];G.push(l.r,l.g,l.b),G.push(f.r,f.g,f.b),G.push(d.r,d.g,d.b)}if(L){var h=M[e],m=M[t],v=M[n];H.push(h.x,h.y),H.push(m.x,m.y),H.push(v.x,v.y)}if(D){var g=T[e],y=T[t],_=T[n];V.push(g.x,g.y),V.push(y.x,y.y),V.push(_.x,_.y)}}for(;X&&W<n;){W++,X=!1,j=U,U=[],B&&(F=N,N=[]),P&&(R=G,G=[]),L&&(I=H,H=[]),D&&(z=V,V=[]);for(var Q=0,Y=0,J=j.length;Q<J;Q+=9,Y+=6){a.fromArray(j,Q+0),i.fromArray(j,Q+3),o.fromArray(j,Q+6),B&&F&&(c.fromArray(F,Q+0),f.fromArray(F,Q+3),d.fromArray(F,Q+6)),P&&R&&(m.fromArray(R,Q+0),v.fromArray(R,Q+3),g.fromArray(R,Q+6)),L&&I&&(_.fromArray(I,Y+0),w.fromArray(I,Y+2),x.fromArray(I,Y+4)),D&&z&&(E.fromArray(z,Y+0),C.fromArray(z,Y+2),S.fromArray(z,Y+4));var K=a.distanceToSquared(i),Z=i.distanceToSquared(o),$=a.distanceToSquared(o);K>r||Z>r||$>r?(X=!0,K>=Z&&K>=$?(s.lerpVectors(a,i,.5),B&&h.lerpVectors(c,f,.5),P&&y.lerpColors(m,v,.5),L&&A.lerpVectors(_,w,.5),D&&O.lerpVectors(E,C,.5),q(0,3,2),q(3,1,2)):Z>=K&&Z>=$?(s.lerpVectors(i,o,.5),B&&h.lerpVectors(f,d,.5),P&&y.lerpColors(v,g,.5),L&&A.lerpVectors(w,x,.5),D&&O.lerpVectors(C,S,.5),q(0,1,3),q(3,2,0)):(s.lerpVectors(a,o,.5),B&&h.lerpVectors(c,d,.5),P&&y.lerpColors(m,g,.5),L&&A.lerpVectors(_,x,.5),D&&O.lerpVectors(E,S,.5),q(0,1,3),q(3,1,2))):q(0,1,2)}}var ee=new l.BufferGeometry;return ee.setAttribute("position",new l.Float32BufferAttribute(U,3)),B&&ee.setAttribute("normal",new l.Float32BufferAttribute(N,3)),P&&ee.setAttribute("color",new l.Float32BufferAttribute(G,3)),L&&ee.setAttribute("uv",new l.Float32BufferAttribute(H,2)),D&&ee.setAttribute("uv2",new l.Float32BufferAttribute(V,2)),ee})),this.maxEdgeLength=n,this.maxIterations=r}));function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0,n=u.useRef(),r=u.useRef(),a=u.useRef();return u.useEffect((function(){r.current||(r.current=n.current.geometry.clone(),a.current=new ms(parseInt(t),e))}),[t,e]),u.useEffect((function(){a.current.maxEdgeLength=t}),[t]),u.useEffect((function(){if(r.current&&n.current){var e=a.current.modify(r.current);n.current.geometry=e}}),[t,e]),n}var gs=Object(X.a)((function e(){var t=this;Object(q.a)(this,e),K(this,"A",new l.Vector3),K(this,"B",new l.Vector3),K(this,"C",new l.Vector3),K(this,"positions",[]),K(this,"normals",new Float32Array),K(this,"indexes",[]),K(this,"pointToIndexMap",[]),K(this,"splitIndexes",[]),K(this,"oldNormals",[]),K(this,"computeNormals",(function(){t.normals=new Float32Array(3*t.indexes.length);for(var e=0;e<t.indexes.length;e+=3){var n=t.indexes[e];t.A.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),n=t.indexes[e+1],t.B.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),n=t.indexes[e+2],t.C.set(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),t.C.sub(t.B),t.A.sub(t.B);for(var r=t.C.cross(t.A).normalize(),a=0;a<3;a++)t.normals[3*(e+a)]=r.x,t.normals[3*(e+a)+1]=r.y,t.normals[3*(e+a)+2]=r.z}})),K(this,"mapPositionsToIndexes",(function(){t.pointToIndexMap=Array(t.positions.length/3);for(var e=0;e<t.indexes.length;e++){var n=t.indexes[e];null==t.pointToIndexMap[n]&&(t.pointToIndexMap[n]=[]),t.pointToIndexMap[n].push(e)}})),K(this,"edgeSplitToGroups",(function(e,n,r){t.A.set(t.normals[3*r],t.normals[3*r+1],t.normals[3*r+2]).normalize();var a,i={splitGroup:[],currentGroup:[r]},o=Object(si.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;s!==r&&(t.B.set(t.normals[3*s],t.normals[3*s+1],t.normals[3*s+2]).normalize(),t.B.dot(t.A)<n?i.splitGroup.push(s):i.currentGroup.push(s))}}catch(u){o.e(u)}finally{o.f()}return i})),K(this,"edgeSplit",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0!==e.length){var a,i=[],o=Object(si.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push(t.edgeSplitToGroups(e,n,s))}}catch(d){o.e(d)}finally{o.f()}for(var u=i[0],c=0,l=i;c<l.length;c++){var f=l[c];f.currentGroup.length>u.currentGroup.length&&(u=f)}null!=r&&t.splitIndexes.push({original:r,indexes:u.currentGroup}),u.splitGroup.length&&t.edgeSplit(u.splitGroup,n,r||u.currentGroup[0])}})),K(this,"modify",(function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1;if(e.attributes.normal&&(i=!0,e=e.clone(),!0===a&&null!==e.index&&(t.oldNormals=e.attributes.normal.array),e.deleteAttribute("normal")),null==e.index){if(void 0===r)throw"THREE.EdgeSplitModifier relies on BufferGeometryUtils";e=is(e)}t.indexes=e.index.array,t.positions=e.getAttribute("position").array,t.computeNormals(),t.mapPositionsToIndexes(),t.splitIndexes=[];var o,s=Object(si.a)(t.pointToIndexMap);try{for(s.s();!(o=s.n()).done;){var u=o.value;t.edgeSplit(u,Math.cos(n)-.001)}}catch(F){s.e(F)}finally{s.f()}for(var c={},f=0,d=Object.keys(e.attributes);f<d.length;f++){var h=d[f],p=e.attributes[h],m=new p.array.constructor((t.indexes.length+t.splitIndexes.length)*p.itemSize);m.set(p.array),c[h]=new l.BufferAttribute(m,p.itemSize,p.normalized)}var v=new Uint32Array(t.indexes.length);v.set(t.indexes);for(var g=0;g<t.splitIndexes.length;g++){for(var y=t.splitIndexes[g],b=t.indexes[y.original],_=0,w=Object.values(c);_<w.length;_++)for(var x=w[_],A=0;A<x.itemSize;A++)x.array[(t.indexes.length+g)*x.itemSize+A]=x.array[b*x.itemSize+A];var M,E=Object(si.a)(y.indexes);try{for(E.s();!(M=E.n()).done;){var C=M.value;v[C]=t.indexes.length+g}}catch(F){E.e(F)}finally{E.f()}}(e=new l.BufferGeometry).setIndex(new l.BufferAttribute(v,1));for(var S=0,O=Object.keys(c);S<O.length;S++){var T=O[S];e.setAttribute(T,c[T])}if(i&&(e.computeVertexNormals(),null!==t.oldNormals)){var k,B=new Array(t.oldNormals.length/3).fill(!1),P=Object(si.a)(t.splitIndexes);try{for(P.s();!(k=P.n()).done;){var L=k.value;B[L.original]=!0}}catch(F){P.e(F)}finally{P.f()}for(var D=0;D<B.length;D++)if(!1===B[D])for(var j=0;j<3;j++)e.attributes.normal.array[3*D+j]=t.oldNormals[3*D+j]}return e}))}));function ys(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u.useRef(),r=u.useRef(),a=u.useRef();return u.useEffect((function(){!r.current&&n.current&&(r.current=n.current.geometry.clone(),a.current=new gs)}),[]),u.useEffect((function(){if(r.current&&n.current&&a.current){var i=a.current.modify(r.current,e,t);i.computeVertexNormals(),n.current.geometry=i}}),[e,t]),n}var bs=1024,_s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Float32Array(4096*e*3),n=new l.DataTexture(t,bs,4*e,l.RGBFormat,l.FloatType);return n.wrapS=l.RepeatWrapping,n.wrapT=l.RepeatWrapping,n.magFilter=l.NearestFilter,n.needsUpdate=!0,n},ws=function(e,t,n,r,a,i){var o=e.image.data,s=3072*i;o[3*t+s+0]=n,o[3*t+s+1]=r,o[3*t+s+2]=a};function xs(e){return{spineTexture:{value:e},pathOffset:{type:"f",value:0},pathSegment:{type:"f",value:1},spineOffset:{type:"f",value:161},spineLength:{type:"f",value:400},flow:{type:"i",value:1}}}function As(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.__ok||(e.__ok=!0,e.onBeforeCompile=function(e){if(!e.__modified){e.__modified=!0,Object.assign(e.uniforms,t);var r="\n\t\tuniform sampler2D spineTexture;\n\t\tuniform float pathOffset;\n\t\tuniform float pathSegment;\n\t\tuniform float spineOffset;\n\t\tuniform float spineLength;\n\t\tuniform int flow;\n\n\t\tfloat textureLayers = ".concat(4*n,".;\n\t\tfloat textureStacks = ").concat(1,".;\n\n\t\t").concat(e.vertexShader,"\n\t\t").replace("#include <beginnormal_vertex>","").replace("#include <defaultnormal_vertex>","").replace("#include <begin_vertex>","").replace(/void\s*main\s*\(\)\s*\{/,"\n        void main() {\n        #include <beginnormal_vertex>\n\n        vec4 worldPos = modelMatrix * vec4(position, 1.);\n\n        bool bend = flow > 0;\n        float xWeight = bend ? 0. : 1.;\n\n        #ifdef USE_INSTANCING\n        float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];\n        float spineLengthFromInstanceMatrix = instanceMatrix[3][0];\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;\n        #else\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;\n        #endif\n\n        mt = mod(mt, textureStacks);\n        float rowOffset = floor(mt);\n\n        #ifdef USE_INSTANCING\n        rowOffset += instanceMatrix[3][1] * ".concat(4,".;\n        #endif\n\n        vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;\n        mat3 basis = mat3(a, b, c);\n\n        vec3 transformed = basis\n          * vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)\n          + spinePos;\n\n        vec3 transformedNormal = normalMatrix * (basis * objectNormal);\n\t\t\t")).replace("#include <project_vertex>","vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;");e.vertexShader=r}})}var Ms=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(q.a)(this,e),K(this,"curveArray",void 0),K(this,"curveLengthArray",void 0),K(this,"object3D",void 0),K(this,"splineTexure",void 0),K(this,"uniforms",void 0);var r=t.clone(),a=_s(n),i=xs(a);r.traverse((function(e){(e instanceof l.Mesh||e instanceof l.InstancedMesh)&&(e.material=e.material.clone(),As(e.material,i,n))})),this.curveArray=new Array(n),this.curveLengthArray=new Array(n),this.object3D=r,this.splineTexure=a,this.uniforms=i}return Object(X.a)(e,[{key:"updateCurve",value:function(e,t){if(e>=this.curveArray.length)throw Error("Index out of range for Flow");var n=t.getLength();this.uniforms.spineLength.value=n,this.curveLengthArray[e]=n,this.curveArray[e]=t,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.floor(1024);t.arcLengthDivisions=r/2,t.updateArcLengths();for(var a=t.getSpacedPoints(r),i=t.computeFrenetFrames(r,!0),o=0;o<r;o++){var s=Math.floor(o/bs),u=o%bs,c=a[o];ws(e,u,c.x,c.y,c.z,0+s+4*n),c=i.tangents[o],ws(e,u,c.x,c.y,c.z,1+s+4*n),c=i.normals[o],ws(e,u,c.x,c.y,c.z,2+s+4*n),c=i.binormals[o],ws(e,u,c.x,c.y,c.z,3+s+4*n)}e.needsUpdate=!0}(this.splineTexure,t,e)}},{key:"moveAlongCurve",value:function(e){this.uniforms.pathOffset.value+=e}}]),e}(),Es=(new l.Matrix4,u.forwardRef((function(e,t){var n=e.children,r=e.curve,a=u.useState(),o=Object(i.a)(a,2),s=o[0],c=o[1],l=u.useRef(),f=u.useRef();return u.useImperativeHandle(t,(function(){return{moveAlongCurve:function(e){var t;null==(t=f.current)||t.moveAlongCurve(e)}}})),u.useEffect((function(){!f.current&&l.current&&t&&(f.current=new Ms(l.current),c(f.current.object3D))}),[n,t]),u.useEffect((function(){var e;l.current&&r&&(null==(e=f.current)||e.updateCurve(0,r))}),[r]),s?u.createElement("primitive",{object:s}):u.cloneElement(u.Children.only(n),{ref:l})}))),Cs=["speed"],Ss=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(q.a)(this,n),(e=t.call(this,r)).setValues(r),e._time={value:0},e._distort={value:.4},e._radius={value:1},e}return Object(X.a)(n,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader="\n      uniform float time;\n      uniform float radius;\n      uniform float distort;\n      ".concat("#define GLSLIFY 1\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}","\n      ").concat(e.vertexShader,"\n    "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        float updateTime = time / 50.0;\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\n        ")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"distort",get:function(){return this._distort.value},set:function(e){this._distort.value=e}},{key:"radius",get:function(){return this._radius.value},set:function(e){this._radius.value=e}}]),n}(l.MeshPhysicalMaterial),Os=u.forwardRef((function(e,t){var n=e.speed,r=void 0===n?1:n,a=Object(o.a)(e,Cs),c=u.useState((function(){return new Ss})),l=Object(i.a)(c,1)[0];return Object(f.useFrame)((function(e){return l&&(l.time=e.clock.getElapsedTime()*r)})),u.createElement("primitive",s({dispose:void 0,object:l,ref:t,attach:"material"},a))})),Ts=["speed"],ks=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(q.a)(this,n),(e=t.call(this,r)).setValues(r),e._time={value:0},e._factor={value:1},e}return Object(X.a)(n,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader="\n      uniform float time;\n      uniform float factor;\n      ".concat(e.vertexShader,"\n    "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","float theta = sin( time + position.y ) / 2.0 * factor;\n        float c = cos( theta );\n        float s = sin( theta );\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\n        vec3 transformed = vec3( position ) * m;\n        vNormal = vNormal * m;")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"factor",get:function(){return this._factor.value},set:function(e){this._factor.value=e}}]),n}(l.MeshStandardMaterial),Bs=u.forwardRef((function(e,t){var n=e.speed,r=void 0===n?1:n,a=Object(o.a)(e,Ts),c=u.useState((function(){return new ks})),l=Object(i.a)(c,1)[0];return Object(f.useFrame)((function(e){return l&&(l.time=e.clock.getElapsedTime()*r)})),u.createElement("primitive",s({dispose:void 0,object:l,ref:t,attach:"material"},a))})),Ps=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new l.Vector2;return Object(q.a)(this,n),(e=t.call(this,{uniforms:{inputBuffer:new l.Uniform(null),depthBuffer:new l.Uniform(null),resolution:new l.Uniform(new l.Vector2),texelSize:new l.Uniform(new l.Vector2),halfTexelSize:new l.Uniform(new l.Vector2),kernel:new l.Uniform(0),scale:new l.Uniform(1),cameraNear:new l.Uniform(0),cameraFar:new l.Uniform(1),minDepthThreshold:new l.Uniform(0),maxDepthThreshold:new l.Uniform(1),depthScale:new l.Uniform(0),depthToBlurRatioBias:new l.Uniform(.25)},fragmentShader:"#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n        }",vertexShader:"uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }",blending:l.NoBlending,depthWrite:!1,depthTest:!1})).toneMapped=!1,e.setTexelSize(r.x,r.y),e.kernel=new Float32Array([0,1,2,2,3]),e}return Object(X.a)(n,[{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}},{key:"setResolution",value:function(e){this.uniforms.resolution.value.copy(e)}}]),n}(l.ShaderMaterial),Ls=function(){function e(t){var n=t.gl,r=t.resolution,a=t.width,i=void 0===a?500:a,o=t.height,s=void 0===o?500:o,u=t.minDepthThreshold,c=void 0===u?0:u,f=t.maxDepthThreshold,d=void 0===f?1:f,h=t.depthScale,p=void 0===h?0:h,m=t.depthToBlurRatioBias,v=void 0===m?.25:m;Object(q.a)(this,e),this.renderToScreen=!1,this.renderTargetA=new l.WebGLRenderTarget(r,r,{minFilter:l.LinearFilter,magFilter:l.LinearFilter,stencilBuffer:!1,depthBuffer:!1,encoding:n.outputEncoding}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new Ps,this.convolutionMaterial.setTexelSize(1/i,1/s),this.convolutionMaterial.setResolution(new l.Vector2(i,s)),this.scene=new l.Scene,this.camera=new l.Camera,this.convolutionMaterial.uniforms.minDepthThreshold.value=c,this.convolutionMaterial.uniforms.maxDepthThreshold.value=d,this.convolutionMaterial.uniforms.depthScale.value=p,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=v,this.convolutionMaterial.defines.USE_DEPTH=p>0;var g=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),y=new Float32Array([0,0,2,0,0,2]),b=new l.BufferGeometry;b.setAttribute("position",new l.BufferAttribute(g,3)),b.setAttribute("uv",new l.BufferAttribute(y,2)),this.screen=new l.Mesh(b,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}return Object(X.a)(e,[{key:"render",value:function(e,t,n){var r=this.scene,a=this.camera,i=this.renderTargetA,o=this.renderTargetB,s=this.convolutionMaterial,u=s.uniforms;u.depthBuffer.value=t.depthTexture;var c,l,f,d=s.kernel,h=t;for(l=0,f=d.length-1;l<f;++l)c=0===(1&l)?i:o,u.kernel.value=d[l],u.inputBuffer.value=h.texture,e.setRenderTarget(c),e.render(r,a),h=c;u.kernel.value=d[l],u.inputBuffer.value=h.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(r,a)}}]),e}(),Ds=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(q.a)(this,n),(e=t.call(this,r))._debug={value:0},e._tDepth={value:null},e._distortionMap={value:null},e._tDiffuse={value:null},e._tDiffuseBlur={value:null},e._textureMatrix={value:null},e._hasBlur={value:!1},e._mirror={value:0},e._mixBlur={value:0},e._blurStrength={value:.5},e._minDepthThreshold={value:.9},e._maxDepthThreshold={value:1},e._depthScale={value:0},e._depthToBlurRatioBias={value:.25},e._distortion={value:1},e._mixContrast={value:1},e.setValues(r),e}return Object(X.a)(n,[{key:"onBeforeCompile",value:function(e){var t;null!=(t=e.defines)&&t.USE_UV||(e.defines.USE_UV=""),e.uniforms.debug=this._debug,e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader="\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;     \n      ".concat(e.vertexShader),e.vertexShader=e.vertexShader.replace("#include <project_vertex>","#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );"),e.fragmentShader="\n        uniform int debug;\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;        \n        ".concat(e.fragmentShader),e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>","#include <emissivemap_fragment>\n    \n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n      \n      vec4 merge = base;\n      \n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n  \n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n      \n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);           \n      diffuseColor = sRGBToLinear(diffuseColor);\n      \n      if (debug == 1) {\n        diffuseColor = sRGBToLinear(vec4(vec3(depthFactor), 1.0));\n      }\n      if (debug == 2) {\n        diffuseColor = sRGBToLinear(vec4(vec3(blurFactor), 1.0));\n      }\n      if (debug == 3) {\n        diffuseColor = sRGBToLinear(texture2DProj(tDiffuse, new_vUv));\n      }\n      if (debug == 4) {\n        diffuseColor = sRGBToLinear(texture2DProj(tDiffuseBlur, new_vUv));\n      }\n      ")}},{key:"tDiffuse",get:function(){return this._tDiffuse.value},set:function(e){this._tDiffuse.value=e}},{key:"tDepth",get:function(){return this._tDepth.value},set:function(e){this._tDepth.value=e}},{key:"distortionMap",get:function(){return this._distortionMap.value},set:function(e){this._distortionMap.value=e}},{key:"tDiffuseBlur",get:function(){return this._tDiffuseBlur.value},set:function(e){this._tDiffuseBlur.value=e}},{key:"textureMatrix",get:function(){return this._textureMatrix.value},set:function(e){this._textureMatrix.value=e}},{key:"hasBlur",get:function(){return this._hasBlur.value},set:function(e){this._hasBlur.value=e}},{key:"mirror",get:function(){return this._mirror.value},set:function(e){this._mirror.value=e}},{key:"mixBlur",get:function(){return this._mixBlur.value},set:function(e){this._mixBlur.value=e}},{key:"mixStrength",get:function(){return this._blurStrength.value},set:function(e){this._blurStrength.value=e}},{key:"minDepthThreshold",get:function(){return this._minDepthThreshold.value},set:function(e){this._minDepthThreshold.value=e}},{key:"maxDepthThreshold",get:function(){return this._maxDepthThreshold.value},set:function(e){this._maxDepthThreshold.value=e}},{key:"depthScale",get:function(){return this._depthScale.value},set:function(e){this._depthScale.value=e}},{key:"debug",get:function(){return this._debug.value},set:function(e){this._debug.value=e}},{key:"depthToBlurRatioBias",get:function(){return this._depthToBlurRatioBias.value},set:function(e){this._depthToBlurRatioBias.value=e}},{key:"distortion",get:function(){return this._distortion.value},set:function(e){this._distortion.value=e}},{key:"mixContrast",get:function(){return this._mixContrast.value},set:function(e){this._mixContrast.value=e}}]),n}(l.MeshStandardMaterial),js=["mixBlur","mixStrength","resolution","blur","minDepthThreshold","maxDepthThreshold","depthScale","depthToBlurRatioBias","mirror","debug","distortion","mixContrast","distortionMap"];Object(f.extend)({MeshReflectorMaterialImpl:Ds});var Fs=u.forwardRef((function(e,t){var n=e.mixBlur,r=void 0===n?0:n,a=e.mixStrength,c=void 0===a?1:a,d=e.resolution,h=void 0===d?256:d,p=e.blur,m=void 0===p?[0,0]:p,v=e.minDepthThreshold,g=void 0===v?.9:v,y=e.maxDepthThreshold,b=void 0===y?1:y,_=e.depthScale,w=void 0===_?0:_,x=e.depthToBlurRatioBias,A=void 0===x?.25:x,M=e.mirror,E=void 0===M?0:M,C=e.debug,S=void 0===C?0:C,O=e.distortion,T=void 0===O?1:O,k=e.mixContrast,B=void 0===k?1:k,L=e.distortionMap,D=Object(o.a)(e,js),j=Object(f.useThree)((function(e){return e.gl})),F=Object(f.useThree)((function(e){return e.camera})),R=Object(f.useThree)((function(e){return e.scene})),I=(m=Array.isArray(m)?m:[m,m])[0]+m[1]>0,z=u.useRef(null),U=u.useState((function(){return new l.Plane})),N=Object(i.a)(U,1)[0],G=u.useState((function(){return new l.Vector3})),H=Object(i.a)(G,1)[0],V=u.useState((function(){return new l.Vector3})),W=Object(i.a)(V,1)[0],X=u.useState((function(){return new l.Vector3})),q=Object(i.a)(X,1)[0],Q=u.useState((function(){return new l.Matrix4})),Y=Object(i.a)(Q,1)[0],J=u.useState((function(){return new l.Vector3(0,0,-1)})),K=Object(i.a)(J,1)[0],Z=u.useState((function(){return new l.Vector4})),$=Object(i.a)(Z,1)[0],ee=u.useState((function(){return new l.Vector3})),te=Object(i.a)(ee,1)[0],ne=u.useState((function(){return new l.Vector3})),re=Object(i.a)(ne,1)[0],ae=u.useState((function(){return new l.Vector4})),ie=Object(i.a)(ae,1)[0],oe=u.useState((function(){return new l.Matrix4})),se=Object(i.a)(oe,1)[0],ue=u.useState((function(){return new l.PerspectiveCamera})),ce=Object(i.a)(ue,1)[0],le=u.useCallback((function(){var e,t=z.current.parent||(null==(e=z.current)?void 0:e.__r3f.parent);if(t&&(W.setFromMatrixPosition(t.matrixWorld),q.setFromMatrixPosition(F.matrixWorld),Y.extractRotation(t.matrixWorld),H.set(0,0,1),H.applyMatrix4(Y),te.subVectors(W,q),!(te.dot(H)>0))){te.reflect(H).negate(),te.add(W),Y.extractRotation(F.matrixWorld),K.set(0,0,-1),K.applyMatrix4(Y),K.add(q),re.subVectors(W,K),re.reflect(H).negate(),re.add(W),ce.position.copy(te),ce.up.set(0,1,0),ce.up.applyMatrix4(Y),ce.up.reflect(H),ce.lookAt(re),ce.far=F.far,ce.updateMatrixWorld(),ce.projectionMatrix.copy(F.projectionMatrix),se.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),se.multiply(ce.projectionMatrix),se.multiply(ce.matrixWorldInverse),se.multiply(t.matrixWorld),N.setFromNormalAndCoplanarPoint(H,W),N.applyMatrix4(ce.matrixWorldInverse),$.set(N.normal.x,N.normal.y,N.normal.z,N.constant);var n=ce.projectionMatrix;ie.x=(Math.sign($.x)+n.elements[8])/n.elements[0],ie.y=(Math.sign($.y)+n.elements[9])/n.elements[5],ie.z=-1,ie.w=(1+n.elements[10])/n.elements[14],$.multiplyScalar(2/$.dot(ie)),n.elements[2]=$.x,n.elements[6]=$.y,n.elements[10]=$.z+1,n.elements[14]=$.w}}),[]),fe=u.useMemo((function(){var e={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:j.outputEncoding},t=new l.WebGLRenderTarget(h,h,e);t.depthBuffer=!0,t.depthTexture=new l.DepthTexture(h,h),t.depthTexture.format=l.DepthFormat,t.depthTexture.type=l.UnsignedShortType;var n=new l.WebGLRenderTarget(h,h,e);return[t,n,new Ls({gl:j,resolution:h,width:m[0],height:m[1],minDepthThreshold:g,maxDepthThreshold:b,depthScale:w,depthToBlurRatioBias:A}),{mirror:E,textureMatrix:se,mixBlur:r,tDiffuse:t.texture,tDepth:t.depthTexture,tDiffuseBlur:n.texture,hasBlur:I,mixStrength:c,minDepthThreshold:g,maxDepthThreshold:b,depthScale:w,depthToBlurRatioBias:A,transparent:!0,debug:S,distortion:T,distortionMap:L,mixContrast:B,"defines-USE_BLUR":I?"":void 0,"defines-USE_DEPTH":w>0?"":void 0,"defines-USE_DISTORTION":L?"":void 0}]}),[j,m,se,h,E,I,r,c,g,b,w,A,S,T,L,B]),de=Object(i.a)(fe,4),he=de[0],pe=de[1],me=de[2],ve=de[3];return Object(f.useFrame)((function(){var e,t=z.current.parent||(null==(e=z.current)?void 0:e.__r3f.parent);if(t){t.visible=!1;var n=j.xr.enabled,r=j.shadowMap.autoUpdate;le(),j.xr.enabled=!1,j.shadowMap.autoUpdate=!1,j.setRenderTarget(he),j.state.buffers.depth.setMask(!0),j.autoClear||j.clear(),j.render(R,ce),I&&me.render(j,he,pe),j.xr.enabled=n,j.shadowMap.autoUpdate=r,t.visible=!0,j.setRenderTarget(null)}})),u.createElement("meshReflectorMaterialImpl",s({attach:"material",key:"key"+ve["defines-USE_BLUR"]+ve["defines-USE_DEPTH"]+ve["defines-USE_DISTORTION"],ref:Object(P.default)([z,t])},ve,D))})),Rs=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){return Object(q.a)(this,n),t.call(this,{transparent:!0,uniforms:{size:{value:1}},vertexShader:l.ShaderLib.points.vertexShader,fragmentShader:"\n      varying vec3 vColor;\n      void main() {\n        vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n        float r = dot(cxy, cxy);\n        float delta = fwidth(r);\n        vec3 color = vColor;\n        #ifdef TONE_MAPPING\n          color = toneMapping(color);\n        #endif\n        gl_FragColor = linearToOutputTexel(vec4(color, 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r)));\n      }",vertexColors:!0})}return Object(X.a)(n,[{key:"scale",get:function(){return this.uniforms.size.value},set:function(e){this.uniforms.size.value=e}}]),n}(l.ShaderMaterial),Is=u.forwardRef((function(e,t){var n=u.useState((function(){return new Rs})),r=Object(i.a)(n,1)[0];return u.createElement("primitive",s({object:r,ref:t,attach:"material"},e))})),zs=!1,Us=function(e){if(!zs){zs=!0;var t=l.ShaderChunk.shadowmap_pars_fragment;t=t.replace("#ifdef USE_SHADOWMAP","#ifdef USE_SHADOWMAP\n"+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frustum,n=void 0===t?3.75:t,r=e.size,a=void 0===r?.005:r,i=e.near,o=void 0===i?9.5:i,s=e.samples,u=void 0===s?17:s,c=e.rings,l=void 0===c?11:c;return"#define LIGHT_WORLD_SIZE ".concat(a,"\n#define LIGHT_FRUSTUM_WIDTH ").concat(n,"\n#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n#define NEAR_PLANE ").concat(o,"\n\n#define NUM_SAMPLES ").concat(u,"\n#define NUM_RINGS ").concat(l,"\n#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n#define PCF_NUM_SAMPLES NUM_SAMPLES\n\nvec2 poissonDisk[NUM_SAMPLES];\n\nvoid initPoissonSamples(const in vec2 randomSeed) {\n  float ANGLE_STEP = PI2 * float(NUM_RINGS) / float(NUM_SAMPLES);\n  float INV_NUM_SAMPLES = 1.0 / float(NUM_SAMPLES);\n  float angle = rand(randomSeed) * PI2;\n  float radius = INV_NUM_SAMPLES;\n  float radiusStep = radius;\n  for (int i = 0; i < NUM_SAMPLES; i++) {\n    poissonDisk[i] = vec2(cos(angle), sin(angle)) * pow(radius, 0.75);\n    radius += radiusStep;\n    angle += ANGLE_STEP;\n  }\n}\n\nfloat penumbraSize(const in float zReceiver, const in float zBlocker) { // Parallel plane estimation\n  return (zReceiver - zBlocker) / zBlocker;\n}\n\nfloat findBlocker(sampler2D shadowMap, const in vec2 uv, const in float zReceiver) {\n  float searchRadius = LIGHT_SIZE_UV * (zReceiver - NEAR_PLANE) / zReceiver;\n  float blockerDepthSum = 0.0;\n  int numBlockers = 0;\n  for (int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++) {\n    float shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n    if (shadowMapDepth < zReceiver) {\n      blockerDepthSum += shadowMapDepth;\n      numBlockers++;\n    }\n  }\n  if (numBlockers == 0) return -1.0;\n  return blockerDepthSum / float(numBlockers);\n}\n\nfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius) {\n  float sum = 0.0;\n  for (int i = 0; i < PCF_NUM_SAMPLES; i++) {\n    float depth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[ i ] * filterRadius));\n    if (zReceiver <= depth) sum += 1.0;\n  }\n  for (int i = 0; i < PCF_NUM_SAMPLES; i++) {\n    float depth = unpackRGBAToDepth(texture2D(shadowMap, uv + -poissonDisk[ i ].yx * filterRadius));\n    if (zReceiver <= depth) sum += 1.0;\n  }\n  return sum / (2.0 * float(PCF_NUM_SAMPLES));\n}\n\nfloat PCSS(sampler2D shadowMap, vec4 coords) {\n  vec2 uv = coords.xy;\n  float zReceiver = coords.z; // Assumed to be eye-space z in this code\n  initPoissonSamples(uv);\n  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver);\n  if (avgBlockerDepth == -1.0) return 1.0;\n  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\n  float filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n  return PCF_Filter(shadowMap, uv, zReceiver, filterRadius);\n}")}(Object(a.a)({},e))),t=t.replace("#if defined( SHADOWMAP_TYPE_PCF )","\nreturn PCSS(shadowMap, shadowCoord);\n#if defined( SHADOWMAP_TYPE_PCF )"),l.ShaderChunk.shadowmap_pars_fragment=t}},Ns=["args","children"];function Gs(e){var t=e+"BufferGeometry";return u.forwardRef((function(e,n){var r=e.args,a=e.children,i=Object(o.a)(e,Ns);return u.createElement("mesh",s({ref:n},i),u.createElement(t,{attach:"geometry",args:r}),a)}))}var Hs=Gs("box"),Vs=Gs("circle"),Ws=Gs("cone"),Xs=Gs("cylinder"),qs=Gs("sphere"),Qs=Gs("plane"),Ys=Gs("tube"),Js=Gs("torus"),Ks=Gs("torusKnot"),Zs=Gs("tetrahedron"),$s=Gs("ring"),eu=Gs("polyhedron"),tu=Gs("icosahedron"),nu=Gs("octahedron"),ru=Gs("dodecahedron"),au=Gs("extrude"),iu=Gs("lathe"),ou=Gs("parametric"),su=["args","radius","smoothness","children"],uu=1e-5;var cu=u.forwardRef((function(e,t){var n=e.args;n=void 0===n?[]:n;var r=Object(i.a)(n,3),a=r[0],c=void 0===a?1:a,f=r[1],d=void 0===f?1:f,h=r[2],p=void 0===h?1:h,m=e.radius,v=void 0===m?.05:m,g=e.smoothness,y=void 0===g?4:g,b=e.children,_=Object(o.a)(e,su),w=u.useMemo((function(){return function(e,t,n){var r=new l.Shape,a=n-uu;return r.absarc(uu,uu,uu,-Math.PI/2,-Math.PI,!0),r.absarc(uu,t-2*a,uu,Math.PI,Math.PI/2,!0),r.absarc(e-2*a,t-2*a,uu,Math.PI/2,0,!0),r.absarc(e-2*a,uu,uu,0,-Math.PI/2,!0),r}(c,d,v)}),[c,d,v]),x=u.useMemo((function(){return{depth:p-2*v,bevelEnabled:!0,bevelSegments:2*y,steps:1,bevelSize:v-uu,bevelThickness:v,curveSegments:y}}),[p,v,y]),A=u.useRef();return u.useLayoutEffect((function(){A.current&&A.current.center()}),[w,x]),u.createElement("mesh",s({ref:t},_),u.createElement("extrudeBufferGeometry",{attach:"geometry",ref:A,args:[w,x]}),b)})),lu=["children"];function fu(){var e=new l.BufferGeometry,t=new Float32Array([-1,-1,3,-1,-1,3]);return e.setAttribute("position",new l.BufferAttribute(t,2)),e}var du=u.forwardRef((function(e,t){var n=e.children,r=Object(o.a)(e,lu),a=u.useMemo(fu,[]);return u.createElement("mesh",s({ref:t,geometry:a,frustumCulled:!1},r),n)})),hu=["children","alignTop"],pu=u.forwardRef((function(e,t){var n=e.children,r=e.alignTop,a=Object(o.a)(e,hu),i=u.useRef(null),c=u.useRef(null);return u.useLayoutEffect((function(){i.current.position.set(0,0,0),i.current.updateWorldMatrix(!0,!0);var e=(new l.Box3).setFromObject(c.current),t=new l.Vector3,n=new l.Sphere,a=e.max.y-e.min.y;e.getCenter(t),e.getBoundingSphere(n),i.current.position.set(-t.x,-t.y+(r?a/2:0),-t.z)}),[n]),u.createElement("group",s({ref:t},a),u.createElement("group",{ref:i},u.createElement("group",{ref:c},n)))})),mu=function(e){return e&&e.isOrthographicCamera},vu=u.createContext(null);function gu(e){var t=e.children,n=e.damping,r=void 0===n?6:n,a=e.fit,o=e.clip,s=e.margin,c=void 0===s?1.2:s,d=e.eps,h=void 0===d?.01:d,p=e.onFit,m=u.useRef(null),v=Object(f.useThree)((function(e){return e.camera})),g=Object(f.useThree)((function(e){return e.controls})),y=Object(f.useThree)((function(e){return e.invalidate})),b=u.useRef(p);function _(e,t){return Math.abs(e.x-t.x)<h&&Math.abs(e.y-t.y)<h&&Math.abs(e.z-t.z)<h}function w(e,t,n,r){e.x=l.MathUtils.damp(e.x,t.x,n,r),e.y=l.MathUtils.damp(e.y,t.y,n,r),e.z=l.MathUtils.damp(e.z,t.z,n,r)}b.current=p;var x=u.useState((function(){return{animating:!1,focus:new l.Vector3,camera:new l.Vector3,zoom:1}})),A=Object(i.a)(x,1)[0],M=u.useState((function(){return{focus:new l.Vector3,camera:new l.Vector3,zoom:1}})),E=Object(i.a)(M,1)[0],C=u.useState((function(){return new l.Box3})),S=Object(i.a)(C,1)[0],O=u.useMemo((function(){function e(){var e=S.getSize(new l.Vector3),t=S.getCenter(new l.Vector3),n=Math.max(e.x,e.y,e.z),r=mu(v)?4*n:n/(2*Math.atan(Math.PI*v.fov/360)),a=mu(v)?4*n:r/v.aspect,i=c*Math.max(r,a);return{box:S,size:e,center:t,distance:i}}return{getSize:e,refresh:function(e){var t;if((t=e)&&t.isObject3D?S.setFromObject(e):!function(e){return e&&e.isBox3}(e)?m.current&&S.setFromObject(m.current):S.copy(e),S.isEmpty()){var n=v.position.length()||10;S.setFromCenterAndSize(new l.Vector3,new l.Vector3(n,n,n))}return this},clip:function(){var t=e().distance;return g&&(g.maxDistance=10*t),v.near=t/100,v.far=100*t,v.updateProjectionMatrix(),g&&g.update(),this},fit:function(){A.camera.copy(v.position),g&&A.focus.copy(g.target);var t=e(),n=t.center,a=t.distance,i=n.clone().sub(v.position).normalize().multiplyScalar(a);if(E.camera.copy(n).sub(i),E.focus.copy(n),mu(v)){A.zoom=v.zoom;var o=0,s=0,u=[new l.Vector3(S.min.x,S.min.y,S.min.z),new l.Vector3(S.min.x,S.max.y,S.min.z),new l.Vector3(S.min.x,S.min.y,S.max.z),new l.Vector3(S.min.x,S.max.y,S.max.z),new l.Vector3(S.max.x,S.max.y,S.max.z),new l.Vector3(S.max.x,S.max.y,S.min.z),new l.Vector3(S.max.x,S.min.y,S.max.z),new l.Vector3(S.max.x,S.min.y,S.min.z)];n.applyMatrix4(v.matrixWorldInverse);for(var f=0,d=u;f<d.length;f++){var h=d[f];h.applyMatrix4(v.matrixWorldInverse),o=Math.max(o,Math.abs(h.y-n.y)),s=Math.max(s,Math.abs(h.x-n.x))}o*=2,s*=2;var p=(v.top-v.bottom)/o,m=(v.right-v.left)/s;E.zoom=Math.min(p,m)/c,r||(v.zoom=E.zoom,v.updateProjectionMatrix())}return r?A.animating=!0:(v.position.copy(E.camera),v.lookAt(E.focus),g&&(g.target.copy(E.focus),g.update()),y()),b.current&&b.current(this.getSize()),this}}}),[S,v,g,c,r,y]);return u.useLayoutEffect((function(){if(O.refresh(),a&&O.fit(),o&&O.clip(),g){var e=function(){return A.animating=!1};return g.addEventListener("start",e),function(){return g.removeEventListener("start",e)}}}),[o,a,g]),Object(f.useFrame)((function(e,t){if(A.animating){if(w(A.focus,E.focus,r,t),w(A.camera,E.camera,r,t),A.zoom=l.MathUtils.damp(A.zoom,E.zoom,r,t),v.position.copy(A.camera),mu(v)&&(v.zoom=A.zoom,v.updateProjectionMatrix()),g?(g.target.copy(A.focus),g.update()):v.lookAt(A.focus),y(),mu(v)&&!(Math.abs(A.zoom-E.zoom)<h))return;if(!mu(v)&&!_(A.camera,E.camera))return;if(g&&!_(A.focus,E.focus))return;A.animating=!1}})),u.createElement("group",{ref:m},u.createElement(vu.Provider,{value:O},t))}function yu(){return u.useContext(vu)}var bu=Object(X.a)((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math;Object(q.a)(this,e),K(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),K(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),K(this,"p",[]),K(this,"perm",[]),K(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),K(this,"dot",(function(e,t,n){return e[0]*t+e[1]*n})),K(this,"dot3",(function(e,t,n,r){return e[0]*t+e[1]*n+e[2]*r})),K(this,"dot4",(function(e,t,n,r,a){return e[0]*t+e[1]*n+e[2]*r+e[3]*a})),K(this,"noise",(function(e,n){var r=(e+n)*(.5*(Math.sqrt(3)-1)),a=Math.floor(e+r),i=Math.floor(n+r),o=(3-Math.sqrt(3))/6,s=(a+i)*o,u=e-(a-s),c=n-(i-s),l=0,f=1;u>c&&(l=1,f=0);var d=u-l+o,h=c-f+o,p=u-1+2*o,m=c-1+2*o,v=255&a,g=255&i,y=t.perm[v+t.perm[g]]%12,b=t.perm[v+l+t.perm[g+f]]%12,_=t.perm[v+1+t.perm[g+1]]%12,w=.5-u*u-c*c,x=.5-d*d-h*h,A=.5-p*p-m*m;return 70*((w<0?0:(w*=w)*w*t.dot(t.grad3[y],u,c))+(x<0?0:(x*=x)*x*t.dot(t.grad3[b],d,h))+(A<0?0:(A*=A)*A*t.dot(t.grad3[_],p,m)))})),K(this,"noise3d",(function(e,n,r){var a,i,o,s,u,c,l=(e+n+r)*(1/3),f=Math.floor(e+l),d=Math.floor(n+l),h=Math.floor(r+l),p=1/6,m=(f+d+h)*p,v=e-(f-m),g=n-(d-m),y=r-(h-m);v>=g?g>=y?(a=1,i=0,o=0,s=1,u=1,c=0):v>=y?(a=1,i=0,o=0,s=1,u=0,c=1):(a=0,i=0,o=1,s=1,u=0,c=1):g<y?(a=0,i=0,o=1,s=0,u=1,c=1):v<y?(a=0,i=1,o=0,s=0,u=1,c=1):(a=0,i=1,o=0,s=1,u=1,c=0);var b=v-a+p,_=g-i+p,w=y-o+p,x=v-s+2*p,A=g-u+2*p,M=y-c+2*p,E=v-1+.5,C=g-1+.5,S=y-1+.5,O=255&f,T=255&d,k=255&h,B=t.perm[O+t.perm[T+t.perm[k]]]%12,P=t.perm[O+a+t.perm[T+i+t.perm[k+o]]]%12,L=t.perm[O+s+t.perm[T+u+t.perm[k+c]]]%12,D=t.perm[O+1+t.perm[T+1+t.perm[k+1]]]%12,j=.6-v*v-g*g-y*y,F=.6-b*b-_*_-w*w,R=.6-x*x-A*A-M*M,I=.6-E*E-C*C-S*S;return 32*((j<0?0:(j*=j)*j*t.dot3(t.grad3[B],v,g,y))+(F<0?0:(F*=F)*F*t.dot3(t.grad3[P],b,_,w))+(R<0?0:(R*=R)*R*t.dot3(t.grad3[L],x,A,M))+(I<0?0:(I*=I)*I*t.dot3(t.grad3[D],E,C,S)))})),K(this,"noise4d",(function(e,n,r,a){var i,o,s,u,c,l,f,d,h,p,m,v,g=t.grad4,y=t.simplex,b=t.perm,_=(Math.sqrt(5)-1)/4,w=(5-Math.sqrt(5))/20,x=(e+n+r+a)*_,A=Math.floor(e+x),M=Math.floor(n+x),E=Math.floor(r+x),C=Math.floor(a+x),S=(A+M+E+C)*w,O=e-(A-S),T=n-(M-S),k=r-(E-S),B=a-(C-S),P=(O>T?32:0)+(O>k?16:0)+(T>k?8:0)+(O>B?4:0)+(T>B?2:0)+(k>B?1:0),L=O-(i=y[P][0]>=3?1:0)+w,D=T-(o=y[P][1]>=3?1:0)+w,j=k-(s=y[P][2]>=3?1:0)+w,F=B-(u=y[P][3]>=3?1:0)+w,R=O-(c=y[P][0]>=2?1:0)+2*w,I=T-(l=y[P][1]>=2?1:0)+2*w,z=k-(f=y[P][2]>=2?1:0)+2*w,U=B-(d=y[P][3]>=2?1:0)+2*w,N=O-(h=y[P][0]>=1?1:0)+3*w,G=T-(p=y[P][1]>=1?1:0)+3*w,H=k-(m=y[P][2]>=1?1:0)+3*w,V=B-(v=y[P][3]>=1?1:0)+3*w,W=O-1+4*w,X=T-1+4*w,q=k-1+4*w,Q=B-1+4*w,Y=255&A,J=255&M,K=255&E,Z=255&C,$=b[Y+b[J+b[K+b[Z]]]]%32,ee=b[Y+i+b[J+o+b[K+s+b[Z+u]]]]%32,te=b[Y+c+b[J+l+b[K+f+b[Z+d]]]]%32,ne=b[Y+h+b[J+p+b[K+m+b[Z+v]]]]%32,re=b[Y+1+b[J+1+b[K+1+b[Z+1]]]]%32,ae=.6-O*O-T*T-k*k-B*B,ie=.6-L*L-D*D-j*j-F*F,oe=.6-R*R-I*I-z*z-U*U,se=.6-N*N-G*G-H*H-V*V,ue=.6-W*W-X*X-q*q-Q*Q;return 27*((ae<0?0:(ae*=ae)*ae*t.dot4(g[$],O,T,k,B))+(ie<0?0:(ie*=ie)*ie*t.dot4(g[ee],L,D,j,F))+(oe<0?0:(oe*=oe)*oe*t.dot4(g[te],R,I,z,U))+(se<0?0:(se*=se)*se*t.dot4(g[ne],N,G,H,V))+(ue<0?0:(ue*=ue)*ue*t.dot4(g[re],W,X,q,Q)))}));for(var r=0;r<256;r++)this.p[r]=Math.floor(256*n.random());for(var a=0;a<512;a++)this.perm[a]=this.p[255&a]})),_u=u.forwardRef((function(e,t){var n=e.intensity,r=void 0===n?1:n,a=e.decay,o=e.decayRate,s=void 0===o?.65:o,c=e.maxYaw,l=void 0===c?.1:c,d=e.maxPitch,h=void 0===d?.1:d,p=e.maxRoll,m=void 0===p?.1:p,v=e.yawFrequency,g=void 0===v?.1:v,y=e.pitchFrequency,b=void 0===y?.1:y,_=e.rollFrequency,w=void 0===_?.1:_,x=e.controls,A=Object(f.useThree)((function(e){return e.camera})),M=Object(f.useThree)((function(e){return e.controls})),E=u.useRef(r),C=u.useRef(A.rotation.clone()),S=u.useState((function(){return new bu})),O=Object(i.a)(S,1)[0],T=u.useState((function(){return new bu})),k=Object(i.a)(T,1)[0],B=u.useState((function(){return new bu})),P=Object(i.a)(B,1)[0],L=function(){(E.current<0||E.current>1)&&(E.current=E.current<0?0:1)};return u.useImperativeHandle(t,(function(){return{getIntensity:function(){return E.current},setIntensity:function(e){E.current=e,L()}}}),[]),u.useEffect((function(){var e=M||(null==x?void 0:x.current),t=function(){C.current=A.rotation.clone()};return null==e||e.addEventListener("change",t),function(){null==e||e.removeEventListener("change",t)}}),[x,M]),Object(f.useFrame)((function(e,t){var n=e.clock,r=Math.pow(E.current,2),i=l*r*O.noise(n.elapsedTime*g,1),o=h*r*k.noise(n.elapsedTime*b,1),u=m*r*P.noise(n.elapsedTime*w,1);A.rotation.set(C.current.x+o,C.current.y+i,C.current.z+u),a&&E.current>0&&(E.current-=s*t,L())})),null})),wu=["children","speed","rotationIntensity","floatIntensity"];function xu(e){var t=e.children,n=e.speed,r=void 0===n?1:n,a=e.rotationIntensity,i=void 0===a?1:a,s=e.floatIntensity,c=void 0===s?1:s,l=Object(o.a)(e,wu),d=u.useRef(null),h=u.useRef(1e4*Math.random());return Object(f.useFrame)((function(e){var t=h.current+e.clock.getElapsedTime();d.current.rotation.x=Math.cos(t/4*r)/8*i,d.current.rotation.y=Math.sin(t/4*r)/8*i,d.current.rotation.z=Math.sin(t/4*r)/20*i,d.current.position.y=Math.sin(t/4*r)/10*c})),u.createElement("group",l,u.createElement("group",{ref:d},t))}var Au=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(q.a)(this,n),(r=t.call(this,e)).type=l.UnsignedByteType,r}return Object(X.a)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,a=-1,i=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(a=s.indexOf("\n"))&&i<t&&r<e.byteLength;)o+=s,i+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<a&&(!1!==n&&(e.pos+=i+a+1),o+s.slice(0,a))},r=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i},a=function(e,t,n,r){var a=e[t+3],i=Math.pow(2,a-128)/255;n[r+0]=l.DataUtils.toHalfFloat(e[t+0]*i),n[r+1]=l.DataUtils.toHalfFloat(e[t+1]*i),n[r+2]=l.DataUtils.toHalfFloat(e[t+2]*i)},i=new Uint8Array(e);i.pos=0;var o=function(e){var r,a,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(a=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(c.valid|=1,c.programtype=a[1],c.string+=r+"\n";!1!==(r=n(e));)if(c.string+=r+"\n","#"!==r.charAt(0)){if((a=r.match(i))&&(c.gamma=parseFloat(a[1],10)),(a=r.match(o))&&(c.exposure=parseFloat(a[1],10)),(a=r.match(s))&&(c.valid|=2,c.format=a[1]),(a=r.match(u))&&(c.valid|=4,c.height=parseInt(a[1],10),c.width=parseInt(a[2],10)),2&c.valid&&4&c.valid)break}else c.comments+=r+"\n";return 2&c.valid?4&c.valid?c:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==o){var s=o.width,u=o.height,c=function(e,n,r){var a=n;if(a<8||a>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var i=new Uint8Array(4*n*r);if(!i.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,u=4*a,c=new Uint8Array(4),l=new Uint8Array(u),f=r;f>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(c[0]=e[s++],c[1]=e[s++],c[2]=e[s++],c[3]=e[s++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=a)return t(3,"bad rgbe scanline format");for(var d=0,h=void 0;d<u&&s<e.byteLength;){var p=(h=e[s++])>128;if(p&&(h-=128),0===h||d+h>u)return t(3,"bad scanline data");if(p)for(var m=e[s++],v=0;v<h;v++)l[d++]=m;else l.set(e.subarray(s,s+h),d),d+=h,s+=h}for(var g=a,y=0;y<g;y++){var b=0;i[o]=l[y+b],b+=a,i[o+1]=l[y+b],b+=a,i[o+2]=l[y+b],b+=a,i[o+3]=l[y+b],o+=4}f--}return i}(i.subarray(i.pos),s,u);if(-1!==c){var f,d,h,p;switch(this.type){case l.UnsignedByteType:f=c,d=l.RGBEFormat,h=l.UnsignedByteType;break;case l.FloatType:p=c.length/4*3;for(var m=new Float32Array(p),v=0;v<p;v++)r(c,4*v,m,3*v);f=m,d=l.RGBFormat,h=l.FloatType;break;case l.HalfFloatType:p=c.length/4*3;for(var g=new Uint16Array(p),y=0;y<p;y++)a(c,4*y,g,3*y);f=g,d=l.RGBFormat,h=l.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:u,data:f,header:o.string,gamma:o.gamma,exposure:o.exposure,format:d,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,a){return Object(ne.a)(Object(re.a)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case l.UnsignedByteType:e.encoding=l.RGBEEncoding,e.minFilter=l.NearestFilter,e.magFilter=l.NearestFilter,e.generateMipmaps=!1,e.flipY=!0;break;case l.FloatType:case l.HalfFloatType:e.encoding=l.LinearEncoding,e.minFilter=l.LinearFilter,e.magFilter=l.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,a)}}]),n}(l.DataTextureLoader),Mu={sunset:"venice_sunset_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",night:"dikhololo_night_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr",forest:"forest_slope_1k.hdr",apartment:"lebombo_1k.hdr",studio:"studio_small_03_1k.hdr",city:"potsdamer_platz_1k.hdr",park:"rooitou_park_1k.hdr",lobby:"st_fagans_interior_1k.hdr"};function Eu(e){var t=e.background,n=void 0!==t&&t,r=e.files,a=void 0===r?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:r,i=e.path,o=void 0===i?"":i,s=e.preset,c=void 0===s?void 0:s,d=e.scene,h=e.extensions;if(c){if(!(c in Mu))throw new Error("Preset must be one of: "+Object.keys(Mu).join(", "));a=Mu[c],o="https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2/hdri/"}var p=Object(f.useThree)((function(e){return e.scene})),m=Object(f.useThree)((function(e){return e.gl})),v=Array.isArray(a),g=v?l.CubeTextureLoader:Au,y=Object(f.useLoader)(g,v?[a]:a,(function(e){e.setPath(o),h&&h(e)})),b=v?y[0]:y,_=Object(bi.a)((function(){return new Promise((function(e){var t=new l.PMREMGenerator(m),n=function(e,t,n){return n?(t.compileEquirectangularShader(),t.fromCubemap(e).texture):t.fromEquirectangular(e).texture}(b,t,v);t.dispose(),e(n)}))}),b);return u.useLayoutEffect((function(){var e=d?d.background:p.background,t=d?d.environment:p.environment;return d?(d.environment=_,n&&(d.background=_)):(p.environment=_,n&&(p.background=_)),function(){d?(d.environment=t,d.background=e):(p.environment=t,p.background=e),bi.a.clear(b),_.dispose()}}),[_,n,d]),null}var Cu={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},Su={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n  \n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},Ou=["scale","frames","opacity","width","height","blur","far","resolution"],Tu=u.forwardRef((function(e,t){var n=e.scale,r=e.frames,a=void 0===r?1/0:r,c=e.opacity,d=void 0===c?1:c,h=e.width,p=void 0===h?1:h,m=e.height,v=void 0===m?1:m,g=e.blur,y=void 0===g?1:g,b=e.far,_=void 0===b?10:b,w=e.resolution,x=void 0===w?256:w,A=Object(o.a)(e,Ou),M=Object(f.useThree)((function(e){return e.scene})),E=Object(f.useThree)((function(e){return e.gl})),C=u.useRef();p*=Array.isArray(n)?n[0]:n||1,v*=Array.isArray(n)?n[1]:n||1;var S=u.useMemo((function(){var e=new l.WebGLRenderTarget(x,x),t=new l.WebGLRenderTarget(x,x);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new l.PlaneBufferGeometry(p,v).rotateX(Math.PI/2),r=new l.Mesh(n),a=new l.MeshDepthMaterial;a.depthTest=a.depthWrite=!1,a.onBeforeCompile=function(e){return e.fragmentShader=e.fragmentShader.replace("1.0 - fragCoordZ ), opacity );","0.0 ), ( 1.0 - fragCoordZ ) * 1.0 );")};var i=new l.ShaderMaterial(Cu),o=new l.ShaderMaterial(Su);return o.depthTest=i.depthTest=!1,[e,n,a,r,i,o,t]}),[x,p,v,n]),O=Object(i.a)(S,7),T=O[0],k=O[1],B=O[2],P=O[3],L=O[4],D=O[5],j=O[6],F=0;return Object(f.useFrame)((function(){if(C.current&&(a===1/0||F<a)){var e=M.background;M.background=null,M.overrideMaterial=B,E.setRenderTarget(T),E.render(M,C.current),M.overrideMaterial=null,P.material=L,P.material.uniforms.tDiffuse.value=T.texture,L.uniforms.h.value=y/256,E.setRenderTarget(j),E.render(P,C.current),P.material=D,P.material.uniforms.tDiffuse.value=j.texture,D.uniforms.v.value=y/256,E.setRenderTarget(T),E.render(P,C.current),E.setRenderTarget(null),M.background=e,F++}})),u.createElement("group",s({"rotation-x":Math.PI/2},A,{ref:t}),u.createElement("mesh",{geometry:k,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},u.createElement("meshBasicMaterial",{map:T.texture,transparent:!0,opacity:d})),u.createElement("orthographicCamera",{ref:C,args:[-p/2,p/2,v/2,-v/2,0,_]}))})),ku=["children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow"],Bu={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Pu(e){var t=e.children,n=e.controls,r=e.shadows,a=void 0===r||r,c=e.adjustCamera,d=void 0===c||c,h=e.environment,p=void 0===h?"city":h,m=e.intensity,v=void 0===m?1:m,g=e.preset,y=void 0===g?"rembrandt":g,b=e.shadowBias,_=void 0===b?0:b,w=e.contactShadow,x=void 0===w?{blur:2,opacity:.5,position:[0,0,0]}:w,A=Object(o.a)(e,ku),M=Bu[y],E=Object(f.useThree)((function(e){return e.camera})),C=Object(f.useThree)((function(e){return e.controls})),S=u.useRef(null),O=u.useRef(null),T=u.useState({radius:0,width:0,height:0}),k=Object(i.a)(T,2),B=k[0],P=B.radius,L=B.width,D=B.height,j=k[1];return u.useLayoutEffect((function(){S.current.position.set(0,0,0),S.current.updateWorldMatrix(!0,!0);var e=(new l.Box3).setFromObject(O.current),t=new l.Vector3,n=new l.Sphere,r=e.max.y-e.min.y,a=e.max.x-e.min.x;e.getCenter(t),e.getBoundingSphere(n),j({radius:n.radius,width:a,height:r}),S.current.position.set(-t.x,-t.y+r/2,-t.z)}),[t]),u.useLayoutEffect((function(){if(d){var e=P/(D>L?1.5:2.5);E.position.set(0,.5*P,2.5*P),E.near=.1,E.far=Math.max(5e3,4*P),E.lookAt(0,e,0);var t=C||(null==n?void 0:n.current);t&&(t.target.set(0,e,0),t.update())}}),[C,P,D,L,d]),u.createElement("group",A,u.createElement("group",{ref:S},u.createElement("group",{ref:O},t)),x&&u.createElement(Tu,s({width:2*P,height:2*P,far:P/2},x)),p&&u.createElement(Eu,{preset:p}),u.createElement("ambientLight",{intensity:v/3}),u.createElement("spotLight",{penumbra:1,position:[M.main[0]*P,M.main[1]*P,M.main[2]*P],intensity:2*v,castShadow:a,"shadow-bias":_}),u.createElement("pointLight",{position:[M.fill[0]*P,M.fill[1]*P,M.fill[2]*P],intensity:v}))}var Lu=["children","floor","segments","receiveShadow"],Du=function(e){return 0===e?0:Math.pow(2,10*e-10)};function ju(e){var t=e.children,n=e.floor,r=void 0===n?.25:n,a=e.segments,i=void 0===a?20:a,s=e.receiveShadow,c=Object(o.a)(e,Lu),l=u.useRef(null);return u.useLayoutEffect((function(){for(var e=0,t=i/i/2,n=l.current.attributes.position,a=0;a<i+1;a++)for(var o=0;o<i+1;o++)n.setXYZ(e++,a/i-t+(0===a?-r:0),o/i-t,Du(a/i));n.needsUpdate=!0,l.current.computeVertexNormals()}),[i,r]),u.createElement("group",c,u.createElement("mesh",{receiveShadow:s,rotation:[-Math.PI/2,0,Math.PI/2]},u.createElement("planeGeometry",{ref:l,args:[1,1,i,i]}),t))}var Fu=["fog","colorStop","color","opacity"],Ru=u.forwardRef((function(e,t){var n=e.fog,r=void 0!==n&&n,a=e.colorStop,i=void 0===a?0:a,c=e.color,f=void 0===c?"black":c,d=e.opacity,h=void 0===d?.5:d,p=Object(o.a)(e,Fu),m=u.useMemo((function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d"),n=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return n.addColorStop(i,new l.Color(f).getStyle()),n.addColorStop(1,"rgba(0,0,0,0)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),e}),[f,i]);return u.createElement("mesh",s({ref:t},p),u.createElement("planeBufferGeometry",{attach:"geometry",args:[1,1]}),u.createElement("meshBasicMaterial",{attach:"material",transparent:!0,opacity:h,fog:r},u.createElement("canvasTexture",{attach:"map",args:[m]})))})),Iu=["mixBlur","mixStrength","resolution","blur","args","minDepthThreshold","maxDepthThreshold","depthScale","depthToBlurRatioBias","mirror","children","debug","distortion","mixContrast","distortionMap"];Object(f.extend)({MeshReflectorMaterial:Ds});var zu=u.forwardRef((function(e,t){var n=e.mixBlur,r=void 0===n?0:n,a=e.mixStrength,c=void 0===a?.5:a,d=e.resolution,h=void 0===d?256:d,p=e.blur,m=void 0===p?[0,0]:p,v=e.args,g=void 0===v?[1,1]:v,y=e.minDepthThreshold,b=void 0===y?.9:y,_=e.maxDepthThreshold,w=void 0===_?1:_,x=e.depthScale,A=void 0===x?0:x,M=e.depthToBlurRatioBias,E=void 0===M?.25:M,C=e.mirror,S=void 0===C?0:C,O=e.children,T=e.debug,k=void 0===T?0:T,B=e.distortion,L=void 0===B?1:B,D=e.mixContrast,j=void 0===D?1:D,F=e.distortionMap,R=Object(o.a)(e,Iu);u.useEffect((function(){console.warn("Reflector has been deprecated and will be removed next major. Replace it with <MeshReflectorMaterial />!")}),[]);var I=Object(f.useThree)((function(e){return e.gl})),z=Object(f.useThree)((function(e){return e.camera})),U=Object(f.useThree)((function(e){return e.scene})),N=(m=Array.isArray(m)?m:[m,m])[0]+m[1]>0,G=u.useRef(null),H=u.useState((function(){return new l.Plane})),V=Object(i.a)(H,1)[0],W=u.useState((function(){return new l.Vector3})),X=Object(i.a)(W,1)[0],q=u.useState((function(){return new l.Vector3})),Q=Object(i.a)(q,1)[0],Y=u.useState((function(){return new l.Vector3})),J=Object(i.a)(Y,1)[0],K=u.useState((function(){return new l.Matrix4})),Z=Object(i.a)(K,1)[0],$=u.useState((function(){return new l.Vector3(0,0,-1)})),ee=Object(i.a)($,1)[0],te=u.useState((function(){return new l.Vector4})),ne=Object(i.a)(te,1)[0],re=u.useState((function(){return new l.Vector3})),ae=Object(i.a)(re,1)[0],ie=u.useState((function(){return new l.Vector3})),oe=Object(i.a)(ie,1)[0],se=u.useState((function(){return new l.Vector4})),ue=Object(i.a)(se,1)[0],ce=u.useState((function(){return new l.Matrix4})),le=Object(i.a)(ce,1)[0],fe=u.useState((function(){return new l.PerspectiveCamera})),de=Object(i.a)(fe,1)[0],he=u.useCallback((function(){if(Q.setFromMatrixPosition(G.current.matrixWorld),J.setFromMatrixPosition(z.matrixWorld),Z.extractRotation(G.current.matrixWorld),X.set(0,0,1),X.applyMatrix4(Z),ae.subVectors(Q,J),!(ae.dot(X)>0)){ae.reflect(X).negate(),ae.add(Q),Z.extractRotation(z.matrixWorld),ee.set(0,0,-1),ee.applyMatrix4(Z),ee.add(J),oe.subVectors(Q,ee),oe.reflect(X).negate(),oe.add(Q),de.position.copy(ae),de.up.set(0,1,0),de.up.applyMatrix4(Z),de.up.reflect(X),de.lookAt(oe),de.far=z.far,de.updateMatrixWorld(),de.projectionMatrix.copy(z.projectionMatrix),le.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),le.multiply(de.projectionMatrix),le.multiply(de.matrixWorldInverse),le.multiply(G.current.matrixWorld),V.setFromNormalAndCoplanarPoint(X,Q),V.applyMatrix4(de.matrixWorldInverse),ne.set(V.normal.x,V.normal.y,V.normal.z,V.constant);var e=de.projectionMatrix;ue.x=(Math.sign(ne.x)+e.elements[8])/e.elements[0],ue.y=(Math.sign(ne.y)+e.elements[9])/e.elements[5],ue.z=-1,ue.w=(1+e.elements[10])/e.elements[14],ne.multiplyScalar(2/ne.dot(ue)),e.elements[2]=ne.x,e.elements[6]=ne.y,e.elements[10]=ne.z+1,e.elements[14]=ne.w}}),[]),pe=u.useMemo((function(){var e={minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBFormat,encoding:I.outputEncoding},t=new l.WebGLRenderTarget(h,h,e);t.depthBuffer=!0,t.depthTexture=new l.DepthTexture(h,h),t.depthTexture.format=l.DepthFormat,t.depthTexture.type=l.UnsignedShortType;var n=new l.WebGLRenderTarget(h,h,e);return[t,n,new Ls({gl:I,resolution:h,width:m[0],height:m[1],minDepthThreshold:b,maxDepthThreshold:w,depthScale:A,depthToBlurRatioBias:E}),{mirror:S,textureMatrix:le,mixBlur:r,tDiffuse:t.texture,tDepth:t.depthTexture,tDiffuseBlur:n.texture,hasBlur:N,mixStrength:c,minDepthThreshold:b,maxDepthThreshold:w,depthScale:A,depthToBlurRatioBias:E,transparent:!0,debug:k,distortion:L,distortionMap:F,mixContrast:j,"defines-USE_BLUR":N?"":void 0,"defines-USE_DEPTH":A>0?"":void 0,"defines-USE_DISTORTION":F?"":void 0}]}),[I,m,le,h,S,N,r,c,b,w,A,E,k,L,F,j]),me=Object(i.a)(pe,4),ve=me[0],ge=me[1],ye=me[2],be=me[3];return Object(f.useFrame)((function(){if(null!=G&&G.current){G.current.visible=!1;var e=I.xr.enabled,t=I.shadowMap.autoUpdate;he(),I.xr.enabled=!1,I.shadowMap.autoUpdate=!1,I.setRenderTarget(ve),I.state.buffers.depth.setMask(!0),I.autoClear||I.clear(),I.render(U,de),N&&ye.render(I,ve,ge),I.xr.enabled=e,I.shadowMap.autoUpdate=t,G.current.visible=!0,I.setRenderTarget(null)}})),u.createElement("mesh",s({ref:Object(P.default)([G,t])},R),u.createElement("planeBufferGeometry",{args:g}),O?O("meshReflectorMaterial",be):u.createElement("meshReflectorMaterial",be))})),Uu=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){return Object(q.a)(this,n),t.call(this,{uniforms:{depth:{value:null},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new l.Vector3(0,0,0)},lightColor:{value:new l.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new l.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      varying float vViewZ;\n      varying float vIntensity;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n\n      void main() {\n        // compute intensity\n        vNormal = normalize( normalMatrix * normal );\n        vec4 worldPosition\t= modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n        vec4 viewPosition = viewMatrix * worldPosition;\n        vViewZ = viewPosition.z;\n        float intensity\t= distance(worldPosition.xyz, spotPosition) / attenuation;\n        intensity\t= 1.0 - clamp(intensity, 0.0, 1.0);\n        vIntensity = intensity;        \n        // set gl_Position\n        gl_Position\t= projectionMatrix * viewPosition;\n\n      }",fragmentShader:"\n      #include <packing>\n\n      varying vec3 vNormal;\n      varying vec3 vWorldPosition;\n      uniform vec3 lightColor;\n      uniform vec3 spotPosition;\n      uniform float attenuation;\n      uniform float anglePower;\n      uniform sampler2D depth;\n      uniform vec2 resolution;\n      uniform float cameraNear;\n      uniform float cameraFar;\n      varying float vViewZ;\n      varying float vIntensity;\n\n      float readDepth( sampler2D depthSampler, vec2 coord ) {\n        float fragCoordZ = texture2D( depthSampler, coord ).x;\n        float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n        return viewZ;\n      }\n\n      void main() {\n        float d = 1.0;\n        bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n        if (isSoft) {\n          vec2 sUv = gl_FragCoord.xy / resolution;\n          d = readDepth(depth, sUv);\n        }\n        float intensity = vIntensity;\n        vec3 normal\t= vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n        float angleIntensity\t= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );\n        intensity\t*= angleIntensity;\n        // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n        if (isSoft) {\n          intensity\t*= smoothstep(0., 1., vViewZ - d);\n        }\n        gl_FragColor = vec4(lightColor, intensity);\n      }"})}return Object(X.a)(n)}(l.ShaderMaterial),Nu=["depthBuffer","color","distance","angle","attenuation","anglePower"],Gu=new l.Vector3,Hu=u.forwardRef((function(e,t){var n=e.depthBuffer,r=e.color,a=void 0===r?"white":r,c=e.distance,d=void 0===c?5:c,h=e.angle,p=void 0===h?.15:h,m=e.attenuation,v=void 0===m?5:m,g=e.anglePower,y=void 0===g?5:g,b=Object(o.a)(e,Nu),_=u.useRef(null),w=Object(f.useThree)((function(e){return e.size})),x=Object(f.useThree)((function(e){return e.camera})),A=Object(f.useThree)((function(e){return e.viewport.dpr})),M=u.useState((function(){return new Uu})),E=Object(i.a)(M,1)[0];Object(f.useFrame)((function(){E.uniforms.spotPosition.value.copy(_.current.getWorldPosition(Gu)),_.current.lookAt(_.current.parent.target.getWorldPosition(Gu))}));var C=u.useMemo((function(){var e=new l.CylinderGeometry(.1,7*p,d,128,64,!0);return e.applyMatrix4((new l.Matrix4).makeTranslation(0,-d/2,0)),e.applyMatrix4((new l.Matrix4).makeRotationX(-Math.PI/2)),e}),[p,d]);return u.createElement("spotLight",s({ref:t,angle:p,color:a,distance:d},b),u.createElement("mesh",{ref:_,geometry:C},u.createElement("primitive",{object:E,attach:"material","uniforms-lightColor-value":a,"uniforms-attenuation-value":v,"uniforms-anglePower-value":y,"uniforms-depth-value":n,"uniforms-cameraNear-value":x.near,"uniforms-cameraFar-value":x.far,"uniforms-resolution-value":n?[w.width*A,w.height*A]:[0,0]})))})),Vu=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){return Object(q.a)(this,n),t.call(this,new l.BoxGeometry(1,1,1),n.material)}return Object(X.a)(n)}(l.Mesh);K(Vu,"SkyShader",{uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new l.Vector3},up:{value:new l.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")}),K(Vu,"material",new l.ShaderMaterial({name:"SkyShader",fragmentShader:Vu.SkyShader.fragmentShader,vertexShader:Vu.SkyShader.vertexShader,uniforms:l.UniformsUtils.clone(Vu.SkyShader.uniforms),side:l.BackSide,depthWrite:!1}));var Wu=["inclination","azimuth","distance","mieCoefficient","mieDirectionalG","rayleigh","turbidity","sunPosition"];function Xu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new l.Vector3,r=Math.PI*(e-.5),a=2*Math.PI*(t-.5);return n.x=Math.cos(a),n.y=Math.sin(r),n.z=Math.sin(a),n}var qu=u.forwardRef((function(e,t){var n=e.inclination,r=void 0===n?.6:n,a=e.azimuth,c=void 0===a?.1:a,f=e.distance,d=void 0===f?1e3:f,h=e.mieCoefficient,p=void 0===h?.005:h,m=e.mieDirectionalG,v=void 0===m?.8:m,g=e.rayleigh,y=void 0===g?.5:g,b=e.turbidity,_=void 0===b?10:b,w=e.sunPosition,x=void 0===w?Xu(r,c):w,A=Object(o.a)(e,Wu),M=u.useMemo((function(){return(new l.Vector3).setScalar(d)}),[d]),E=u.useState((function(){return new Vu})),C=Object(i.a)(E,1)[0];return u.createElement("primitive",s({dispose:void 0,object:C,ref:t,"material-uniforms-mieCoefficient-value":p,"material-uniforms-mieDirectionalG-value":v,"material-uniforms-rayleigh-value":y,"material-uniforms-sunPosition-value":x,"material-uniforms-turbidity-value":_,scale:M},A))})),Qu=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){return Object(q.a)(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"\n      uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"\n      uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}return Object(X.a)(n)}(l.ShaderMaterial),Yu=function(e){return(new l.Vector3).setFromSpherical(new l.Spherical(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI))},Ju=u.forwardRef((function(e,t){var n=e.radius,r=void 0===n?100:n,a=e.depth,o=void 0===a?50:a,s=e.count,c=void 0===s?5e3:s,d=e.saturation,h=void 0===d?0:d,p=e.factor,m=void 0===p?4:p,v=e.fade,g=void 0!==v&&v,y=u.useRef(),b=u.useMemo((function(){for(var e=[],t=[],n=Array.from({length:c},(function(){return(.5+.5*Math.random())*m})),a=new l.Color,i=r+o,s=o/c,u=0;u<c;u++)i-=s*Math.random(),e.push.apply(e,Object(A.a)(Yu(i).toArray())),a.setHSL(u/c,h,.9),t.push(a.r,a.g,a.b);return[new Float32Array(e),new Float32Array(t),new Float32Array(n)]}),[c,o,m,r,h]),_=Object(i.a)(b,3),w=_[0],x=_[1],M=_[2];Object(f.useFrame)((function(e){return y.current&&(y.current.uniforms.time.value=e.clock.getElapsedTime())}));var E=u.useState((function(){return new Qu})),C=Object(i.a)(E,1)[0];return u.createElement("points",{ref:t},u.createElement("bufferGeometry",{attach:"geometry"},u.createElement("bufferAttribute",{attachObject:["attributes","position"],args:[w,3]}),u.createElement("bufferAttribute",{attachObject:["attributes","color"],args:[x,3]}),u.createElement("bufferAttribute",{attachObject:["attributes","size"],args:[M,1]})),u.createElement("primitive",{dispose:void 0,ref:y,object:C,attach:"material",blending:l.AdditiveBlending,"uniforms-fade-value":g,transparent:!0,vertexColors:!0}))})),Ku=["opacity","speed","width","depth","segments"];function Zu(e){var t=e.opacity,n=void 0===t?.5:t,r=e.speed,a=void 0===r?.4:r,i=e.width,s=void 0===i?10:i,c=e.depth,l=void 0===c?1.5:c,d=e.segments,h=void 0===d?20:d,p=Object(o.a)(e,Ku),m=u.useRef(),v=vt("data:image/png;base64,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"),g=u.useMemo((function(){return Object(A.a)(new Array(h)).map((function(e,t){return{x:s/2-Math.random()*s,y:s/2-Math.random()*s,scale:.4+Math.sin((t+1)/h*Math.PI)*(10*(.2+Math.random())),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*a}}))}),[s,h,a]);return Object(f.useFrame)((function(e){var t;return null==(t=m.current)?void 0:t.children.forEach((function(t,n){t.children[0].rotation.z+=g[n].rotation,t.children[0].scale.setScalar(g[n].scale+(1+Math.sin(e.clock.getElapsedTime()/10))/2*n/10)}))})),u.createElement("group",p,u.createElement("group",{position:[0,0,h/2*l],ref:m},g.map((function(e,t){var r=e.x,a=e.y,i=e.scale,o=e.density;return u.createElement(W,{key:t,position:[r,a,-t*l]},u.createElement(Qs,{scale:i,rotation:[0,0,0]},u.createElement("meshStandardMaterial",{map:v,transparent:!0,opacity:i/6*o*n,depthTest:!1})))}))))}var $u={0:"0404E8_0404B5_0404CB_3333FC",1:"045C5C_0DBDBD_049393_04A4A4",2:"046363_0CC3C3_049B9B_04ACAC",3:"0489C5_0DDDF9_04C3EE_04AFE1",4:"04989A_0CE3E4_04D2D5_04C7C8",5:"04C455_0EFABC_04F097_04E17A",6:"04CC77_0CF7CA_04E9A7_04AB54",7:"04E804_04B504_04CB04_33FC33",8:"04E8E8_04B5B5_04CCCC_33FCFC",9:"050505_747474_4C4C4C_333333",10:"070B0C_B2C7CE_728FA3_5B748B",11:"090909_9C9C9C_555555_7C7C7C",12:"0A0A0A_A9A9A9_525252_747474",13:"0C0CC3_04049F_040483_04045C",14:"0C430C_257D25_439A43_3C683C",15:"0D0DBD_040497_04047B_040455",16:"0D0DE3_040486_0404AF_0404CF",17:"0DBD0D_049704_047B04_045504",18:"0F0F0F_4B4B4B_1C1C1C_2C2C2C",19:"0F990F_047B04_044604_046704",20:"15100F_241D1B_292424_2C2C27",21:"161B1F_C7E0EC_90A5B3_7B8C9B",22:"167E76_36D6D2_23B2AC_27C1BE",23:"17395A_7EBCC7_4D8B9F_65A1B5",24:"181F1F_475057_616566_525C62",25:"191514_6D5145_4E3324_3B564D",26:"1A2461_3D70DB_2C3C8F_2C6CAC",27:"1B1B1B_515151_7E7E7E_6C6C6C",28:"1B1B1B_999999_575757_747474",29:"1B1C19_5F615D_4B4E4C_3F403D",30:"1C1810_352F23_2B2C1C_2B2C24",31:"1C70C6_09294C_0F3F73_52B3F6",32:"1D2424_565F66_4E555A_646C6E",33:"1D2A21_43443B_655B54_545C54",34:"1D3FCC_051B5F_81A0F2_5579E9",35:"221917_928380_5F504D_7C746C",36:"232014_908B78_5E5743_747460",37:"242733_333A4D_3E4554_3C3B43",38:"245642_3D8168_3D6858_417364",39:"253C3C_528181_406C6C_385F5F",40:"254FB0_99AFF0_6587D8_1D3279",41:"27222B_677491_484F6A_5D657A",42:"281813_604233_4B3426_442B22",43:"28292A_D3DAE5_A3ACB8_818183",44:"291912_473531_3C2C25_3A2424",45:"293534_B2BFC5_738289_8A9AA7",46:"293D21_ABC692_73B255_667C5C",47:"2A2A2A_B3B3B3_6D6D6D_848C8C",48:"2A2A2A_DBDBDB_6A6A6A_949494",49:"2A2D21_555742_898974_6C745B",50:"2A4BA7_1B2D44_1F3768_233C81",51:"2A6276_041218_739BA6_042941",52:"2B2828_7B796F_534F4A_616464",53:"2B2B22_3C3C30_464538_121210",54:"2D2D2A_74716E_8F8C8C_92958E",55:"2D2D2F_C6C2C5_727176_94949B",56:"2D8753_5CD6A5_45BB82_4CC494",57:"2E2E2D_7D7C76_A3A39F_949C94",58:"2E763A_78A0B7_B3D1CF_14F209",59:"2EAC9E_61EBE3_4DDDD1_43D1C6",60:"2F2FAA_1E1E87_10104E_1C1C70",61:"2F3747_6A7C9E_54637F_62748B",62:"300706_888576_822821_876E79",63:"302721_CAC1BB_7A706A_91959B",64:"304FB1_69A1EF_5081DF_5C8CE6",65:"312C34_A2AAB3_61656A_808494",66:"312D20_80675C_8B8C8B_85848C",67:"313131_BBBBBB_878787_A3A4A4",68:"320455_720DBE_560496_47047B",69:"32201D_613C3C_563533_8C655F",70:"32302B_4C4842_121211_1C1C14",71:"323C4D_B79039_7C6A44_605C48",72:"326666_66CBC9_C0B8AE_52B3B4",73:"331A0B_B17038_7D4E28_5B351A",74:"336EB3_152578_A4C5E2_74AED9",75:"34352A_718184_50605E_6E6761",76:"346088_6ABED7_56A0C5_4E91B8",77:"34A09C_6EE5E3_5CD7D3_4EC9C6",78:"34AB94_36DFC1_19F9EB_6C6E62",79:"353535_CFCFCF_828282_A4A4A4",80:"36220C_C6C391_8C844A_8B7B4C",81:"36312E_726461_59504D_645C5C",82:"365123_C6E5A3_A8D18D_8EB16C",83:"36C8FA_176ACB_24A7EF_1D93EC",84:"37C337_279F27_186018_248824",85:"385264_A1D3E2_86ADC1_6E94A8",86:"385862_6D8B8D_647B80_1A2E2F",87:"386169_A9CFDB_153C23_7CA3AC",88:"38925D_142B23_1D4835_2A6449",89:"392307_B3AE7D_6D5618_847C42",90:"39433A_65866E_86BF8B_BFF8D8",91:"394641_B1A67E_75BEBE_7D7256",92:"3A2412_A78B5F_705434_836C47",93:"3A3329_C9B090_928069_A9957A",94:"3A3D37_7E7F75_BCBFB6_9C9C94",95:"3B3B3B_C7C7C7_878787_A4A4A4",96:"3B3C3F_DAD9D5_929290_ABACA8",97:"3B4235_7B9395_5B716C_70847B",98:"3B6E10_E3F2C3_88AC2E_99CE51",99:"3D1F12_653821_070404_22130B",100:"3E2335_D36A1B_8E4A2E_2842A5",101:"3E3D39_D6CEAF_91BAC1_897966",102:"3E3E36_72726D_63645D_0E0F0C",103:"3E3E3E_AEAEAE_848484_777777",104:"3E95CC_65D9F1_A2E2F6_679BD4",105:"3F3A2F_91D0A5_7D876A_94977B",106:"3F3D52_CCCED9_AFB0C6_8D8CAC",107:"3F4441_D1D7D6_888F87_A2ADA1",108:"403A34_B0936E_7F979C_7E6956",109:"415325_83A24E_678239_748C3C",110:"416BA7_A5B8D0_0D2549_65ABEB",111:"422509_C89536_824512_0A0604",112:"422A1E_716767_685D59_5E4F4A",113:"424244_BDBBBE_8A898E_A3A4A9",114:"425F84_1C2939_2A3F57_24344C",115:"430404_BD9295_7E1E21_94544C",116:"432322_5E3839_170C0B_543433",117:"433D3F_A58D7D_786760_8C7C6D",118:"434240_D3D3CF_898784_A4A49F",119:"434343_9E9E9E_8C8C8C_848484",120:"434C32_62704C_546244_2F3220",121:"442C27_A79E90_847066_8D837C",122:"447072_8ACACB_65A4A5_74B3B3",123:"45432C_808361_B8C8BC_A5A27A",124:"454447_908E9A_181716_7C7C7B",125:"456A73_779B9E_173A46_154C5D",126:"463F37_ACCFBB_818B78_91A494",127:"464445_D2D0CB_919196_A8ADB0",128:"464543_D1CFC1_8E8C83_A4AC9C",129:"46804D_CBE9AC_90B57C_95D38F",130:"468126_C1DDB5_8AC460_A1D07C",131:"47392E_997E69_7C6553_8B745F",132:"474444_7B7575_9E9899_8C8C8B",133:"474643_696F7D_A9ABB8_8B8C93",134:"474843_CECEC4_898883_A3A3A4",135:"48270F_C4723B_9B5728_7B431B",136:"482908_894E0D_FBDB52_CA7420",137:"487FC9_A8E7F8_88CCF2_70AFDE",138:"489B7A_A0E7D9_6DC5AC_87DAC7",139:"48C381_226640_369F64_3CAC74",140:"49200B_C6926C_9C642B_A45C26",141:"495CA6_CCD2E6_A5B1D8_1E2852",142:"495E48_0D100D_9D9C87_9ECC9C",143:"496DBA_94C9F2_72A7E2_84B4EC",144:"4A6442_D0AB75_81CD94_181B12",145:"4B362C_715A4F_211913_644C44",146:"4B4A3A_94A3A4_68766F_988475",147:"4B5455_BBBFC4_97A0A6_838C90",148:"4C240E_A5613B_895134_734C44",149:"4C342A_7B584B_271912_6B4C44",150:"4C462E_6D876C_9AAC8F_9AABA6",151:"4C4C4C_D2D2D2_8F8F8F_ACACAC",152:"4D595E_858D87_596F84_748480",153:"4E4C42_B8C4C5_898E89_A3ACA4",154:"4E4D40_979786_AEAEA1_878678",155:"4E5150_9FA3A3_848C8A_82848C",156:"4F251B_381710_43241B_602F23",157:"4F439F_A28BE5_8570D6_7765C9",158:"4F4742_B7B1AA_847E79_969294",159:"4F4C45_A7AEAA_7A8575_9D97A2",160:"4F4F4F_9C9C9C_121212_7C7C7C",161:"4F4F4F_A1A1A1_8C8C8C_848484",162:"4F5246_8C8D84_7B7C74_131611",163:"4FE34F_2BB02B_3CD03C_1C861C",164:"50332C_D98D79_955F52_AA7C6C",165:"503522_C38254_9F6B45_845838",166:"504D3C_979C9D_81837D_9C998A",167:"513A11_CDBEB5_C8811C_9A733F",168:"51462B_DFCA7E_948050_A49874",169:"515151_DCDCDC_B7B7B7_9B9B9B",170:"515341_9A9C86_16180D_838474",171:"517919_659623_34460C_3E5813",172:"519C8D_83DAC7_9DEDE0_2B5B4C",173:"522221_91343B_7F6F6B_744960",174:"522A1A_94543A_C3896F_AB7D66",175:"525050_D4D3D3_959393_ACACAC",176:"533B33_AF9998_866965_9C7E7B",177:"535A2F_CDCA91_91915B_A4AC6F",178:"535F6B_A6BDC8_8FA3B4_7F91A2",179:"537387_75BBB9_152E5B_0E85E8",180:"54584E_B1BAC5_818B91_A7ACA3",181:"545B4D_D8DDC8_A0A792_B2C1A3",182:"54C104_BBFA0F_97EF04_7AE104",183:"55382F_78554E_271A16_6C4C44",184:"555555_C8C8C8_8B8B8B_A4A4A4",185:"556F42_112817_81927F_223E24",186:"55C404_BCFA0E_97F004_7AE104",187:"562D2A_2E1615_7E4945_703C3C",188:"56352F_1E110F_311C19_3C231C",189:"57553F_C6C3AF_8C8768_868C8C",190:"57583E_969788_292920_848474",191:"579241_B5D25D_0E1D2D_97C284",192:"582410_83381A_1F0C04_30140A",193:"583629_2E1810_765648_3C1C14",194:"584F3A_BEC3BD_C5A57D_A39073",195:"586A51_CCD5AA_8C9675_8DBBB7",196:"593E2C_E5D8A9_BC9F79_9F8A68",197:"595356_CDBFC6_AA9DA3_BBB3BC",198:"59554F_171716_847C74_2C2C24",199:"596773_B3C6CE_98AFB9_879AA8",200:"597C3F_254319_6C9668_7C9B53",201:"5A492B_DEC583_987D4D_AC9C74",202:"5A643B_454D2C_393F25_202315",203:"5B4CBC_B59AF2_9B84EB_8F78E4",204:"5B5428_C5A052_A28B46_ADA752",205:"5B574E_586967_807C6F_6A746C",206:"5C045C_BD0DBD_930493_A404A4",207:"5C2E0C_C36924_9F4F14_834114",208:"5C4E41_CCCDD6_9B979B_B1AFB0",209:"5C5743_262418_393727_342C20",210:"5C5C04_BDBD0D_939304_A4A404",211:"5C5C5C_A2A2A2_8C8C8C_848484",212:"5D5854_1A1714_373330_2C2424",213:"5D5D5D_CDCDCD_232323_ACACAC",214:"5D5E5A_A1A29B_2A2927_8B948C",215:"5E423A_8C6E69_382416_745D64",216:"5E5049_CDC2BE_9C8E88_B7ACA4",217:"5E5855_C6C4CD_C89B67_8F8E98",218:"5E5F62_A7B2BE_211C17_939CA3",219:"5ECBA4_BCFAE7_92EED0_A1F4DC",220:"5F1827_9B4A60_1F0404_340406",221:"5F4C4B_A07C7D_A8AFBF_868185",222:"5F4F50_A18E8E_8C7C7B_211A1A",223:"5F5F5F_BDBDBD_A4A4A4_9C9C9C",224:"604A30_DC9065_212C14_AC9C92",225:"60534A_211813_9B948E_8E837D",226:"605352_E9CCC5_C7A8A3_A89291",227:"606857_9BA894_8C9C83_8C9483",228:"613F04_D68C04_A45F04_1F0F04",229:"61583E_252314_928972_342C1C",230:"617586_23304C_1B1E30_4988CF",231:"622F19_885934_9A7748_94603A",232:"623622_A1756F_986353_89645B",233:"624541_FCD0C6_E4A19A_FCBCB4",234:"626262_9E9E9E_848484_262626",235:"626262_A8A8A8_949494_1F1F1F",236:"626A57_3B3F33_7D8973_444C3C",237:"626D5C_B8C2BB_1B230F_A4ACA3",238:"627D72_A6CAAA_202C28_B4D4B4",239:"630463_C30CC3_9B049B_AC04AC",240:"63533B_AA9472_1C1108_9B8C68",241:"63584B_E6E0D6_A8A092_BFB6A8",242:"635D52_A9BCC0_B1AEA0_819598",243:"636363_AAAAAA_949494_252525",244:"636D6C_D4E7ED_ABBCC4_9BA4A8",245:"637598_B7C4D3_22293A_9BACBF",246:"64554D_D1C9C1_ABADA0_0E0C0A",247:"64686F_BDC0C4_161718_A4A7AB",248:"647171_1F3349_2A475C_87A5AD",249:"647686_23292E_333C44_404B55",250:"656662_9B9B99_393B31_8B8C8C",251:"657274_2A2F30_A0A7B0_363C44",252:"65A0BA_C3E4F1_A7D5E6_97CADF",253:"65A0C7_C3E4F8_A7D5EF_97CAE9",254:"660505_F2B090_DD4D37_AA1914",255:"66605E_939198_2E261F_3C332A",256:"666864_B3B4AB_2F2F2C_9CA49B",257:"673B2A_99735C_99593A_3A160E",258:"677E93_36444D_99A9BA_435464",259:"678E67_C4D9C4_ACC8AC_98B898",260:"68049F_C90DE6_A404CF_B304DC",261:"683F2D_9F736D_431D06_966152",262:"68493E_B2AAA9_978C8C_130907",263:"684C40_776E69_9B7765_758D96",264:"685B57_BEB1B1_9B99A4_1E1D1D",265:"686464_CCCAC7_A4A19F_BCB4B4",266:"686B73_2A2B2D_D5D9DD_B0B3BC",267:"686E55_353C2F_869B7F_444434",268:"696347_98B0A2_28261E_362B22",269:"696969_A0A0A0_949494_8C8C8C",270:"6A3C15_EFC898_D59D59_B38346",271:"6A5338_1C120B_C5975F_96886C",272:"6A8287_405153_839EBE_424C5C",273:"6B3822_A65D48_824E48_401E0C",274:"6BBD6B_C8F3C8_A3E2A3_B4ECB4",275:"6C52AA_C9A6EA_A681D6_B494E2",276:"6C5DC3_352D66_5C4CAB_544CA5",277:"6C6F76_CBD1D7_B2BDC7_A6B0BF",278:"6C8996_14223F_B9DEDD_2E445C",279:"6D1616_E6CDBA_DE2B24_230F0F",280:"6D3B1C_895638_502A0D_844C31",281:"6D6050_C8C2B9_A2998E_B4AA9F",282:"6D6D6D_3E3E3E_C0C0C0_949494",283:"6E2E36_D3A1A0_BD7175_C78C8B",284:"6E5137_E8CA90_271912_B99C74",285:"6E524D_8496C5_AF6624_100B11",286:"6E6D69_D0ECE9_AAC7C6_200C0C",287:"6E7181_D1CFDF_ABAFC7_B4BCCE",288:"6E8C48_B8CDA7_344018_A8BC94",289:"6EC66E_C9F8C9_A3E8A3_B4F1B4",290:"6F503E_D59A70_221812_B0A899",291:"705B4B_312821_AF927B_44342C",292:"706962_24211E_BCB6AF_ACA494",293:"713A28_A87661_3A160D_9B6454",294:"714C30_EAD7C5_CC9265_E2B48F",295:"716049_D1C8B9_3F160C_BAA6A9",296:"71623B_ECDE8C_30250A_ABA69A",297:"72625B_F0DFD0_D9BAA5_C3A595",298:"726F5B_A09C88_8B8C7B_94907C",299:"727167_2F2F2B_A3A6A2_44443C",300:"728473_534C40_7BCEC8_7BB9B6",301:"736655_D9D8D5_2F281F_B1AEAB",302:"745359_BFAEA8_9B8384_AC9392",303:"746761_291C19_AB9385_3C2B27",304:"747A6F_292E2A_ACA79F_45453B",305:"74A192_041B0D_194C33_235B4C",306:"75322B_96463F_51201A_3D1814",307:"75723E_C0C3A0_2A1E0E_AFAE77",308:"75746F_333330_A2A1A9_444444",309:"758391_BAC2CA_435263_A1ACBC",310:"763B28_D0BDB8_ADA39E_1E1D1D",311:"763C39_431510_210504_55241C",312:"764739_D0917B_2A1611_B37C68",313:"765938_1F1009_A59C7C_C9A382",314:"766554_C1BEBB_2A1A0E_B4ABAC",315:"76787C_2F3031_A5A9B8_444446",316:"767989_323437_B6C4EE_343C44",317:"771A1F_D2939E_B6595D_9D4B54",318:"773012_AE5124_4D1908_340F04",319:"776045_D2CCC3_281910_BBB5AA",320:"776A5C_BA9A89_302C26_443C34",321:"776C62_292622_474039_3C342C",322:"777C61_333727_BABFA1_A5AC8C",323:"777D7D_BDCAD2_3E3C2E_B1B8B6",324:"787165_DAD9CD_9DC0CE_36302A",325:"7877EE_D87FC5_75D9C7_1C78C0",326:"794E40_361612_4C2A21_441B1B",327:"795038_C2856B_533320_AC7C61",328:"796D6B_DED3CB_C6BAB1_ADA09B",329:"796F52_36413A_C9B48C_B6A77F",330:"797367_302E29_ABA3A0_443C35",331:"7A6959_2D271D_C1B5A9_B4A393",332:"7A736F_463F33_575046_4B463D",333:"7A7A7A_D0D0D0_BCBCBC_B4B4B4",334:"7A7A7A_D9D9D9_BCBCBC_B4B4B4",335:"7A7C63_625531_665B3F_5B4B29",336:"7A9196_485C64_425459_C1E4E7",337:"7B5254_E9DCC7_B19986_C8AC91",338:"7B6857_383028_BCA38F_4C3C34",339:"7B6E5B_C5CACC_B1B2AE_322415",340:"7B7E82_343536_A0B1C8_44444C",341:"7C584C_27140D_B3765C_3D2318",342:"7C7C71_353630_ADAFAF_444444",343:"7D6651_F8E3BF_CEA987_E7C29C",344:"7D7673_353230_AEA7B0_4C4444",345:"7DA1BA_A4CCE8_5D7A8B_5E7C94",346:"7E5344_22120E_CCAB9C_8D919D",347:"7E5E57_AD9794_612D1D_C9997D",348:"7E8174_39444D_CECAA7_B3B49B",349:"7F5134_22120A_452110_9F7D5F",350:"7F8896_3B3936_BBCFE9_4B4B4D",351:"803537_310F10_C35A5D_D89093",352:"807068_C3B0AB_443E3B_AC9C94",353:"80726C_DCDBD7_9AA6C2_B7BFCA",354:"808A5B_E0E1D4_2C4304_C5C7B0",355:"80A6B4_D5E9EF_B2D0D9_C1DCE4",356:"80CA23_B7EE37_D5FA4C_A3E434",357:"812828_521818_C94141_AB3737",358:"812E39_551C24_381117_9E3C49",359:"815C41_F6C99A_D39F77_BB9474",360:"815F54_DECBC6_301813_C5A8A0",361:"8194AB_D6DFEB_C0CEDE_B0BFD1",362:"81ADB3_D6ECEE_BFDEE1_AFD1D7",363:"81BABA_D5F3F3_BBE4E4_ABDCDC",364:"825C4D_A08175_97746C_613B2F",365:"826A59_E0C9B9_CBAD99_3D2615",366:"827C87_4F3937_605457_534C4E",367:"834741_4C281D_BE8F8C_AE6A65",368:"835984_39273A_4C334C_593D5A",369:"837667_DCD4C8_C5BAAC_3C2E22",370:"846556_503E33_61493D_5C4434",371:"848679_363630_AABBB7_4B4B44",372:"855D08_DAC31B_BF9B0C_AF860C",373:"85694C_D1A67A_3C2F22_EBBF8F",374:"857B61_ACE5D4_593D28_5B4334",375:"858362_9F9F80_9C9673_70714B",376:"85B9D3_C9EAF9_417277_528789",377:"866C5B_544237_B29B8C_AC8F7C",378:"872F2D_AB403E_682421_581F1C",379:"877B70_34302B_CBB3A4_524C44",380:"877C72_B6ACBB_36322D_4C443B",381:"878787_4C4C4C_646464_5C5C5C",382:"887153_E5C188_433729_C1A484",383:"888D8F_515454_646A6C_6C6C6D",384:"89204B_17080D_DA4377_F780B5",385:"8955D0_744CC4_EA4AEF_954DA4",386:"8A3B3D_DA5F62_461F20_BC7F81",387:"8A3DA1_D77CE4_C263D4_B75AC9",388:"8A5B34_F3BD7C_DA9758_BE7E45",389:"8A6565_2E214D_D48A5F_ADA59C",390:"8A7666_3C332C_C6AEA2_54443C",391:"8A7968_3C342D_C6B3A5_54443B",392:"8B7469_443E39_C7A797_544443",393:"8B795F_291504_EFE5D4_4A3518",394:"8B892C_D4E856_475E2D_47360A",395:"8C5945_D4C0B6_C3A49C_430504",396:"8CAEBC_3A4443_506463_DAEFEF",397:"8D553D_3C2419_5D3727_AA766C",398:"8D8D8D_DDDDDD_CCCCCC_B7B7B7",399:"8E6767_D9C4C4_C8ACAC_B89898",400:"8E7C67_E2C6A5_3B332A_C3AB94",401:"8E907C_B1B5A7_D7DBD0_CCCFBA",402:"8F4277_361530_BF538E_52274C",403:"8F4E20_E8B06B_391A08_CC8944",404:"8F5D3C_5B3B26_382416_70482E",405:"8F7B61_D6B892_4E4436_C3AC86",406:"8F894E_DAD79B_C9C384_C4BE7B",407:"903B2A_EC9888_D96747_58190D",408:"906867_C7B6BC_5D2E26_BEA4A3",409:"908887_3C3229_C7C6D0_554A45",410:"908E8E_292828_454444_595757",411:"909473_555D4B_C2CCA2_645B3C",412:"910E5A_E127C3_CF1CA3_C1158F",413:"926B48_4C2D0D_5F3913_AA8874",414:"927253_EECEA7_D8B792_C7A883",415:"935555_F6DAD9_D39393_593333",416:"936451_C29A8F_5F3A2B_361D14",417:"938C8D_403731_CECED8_554C4C",418:"942967_D292B5_C76E9E_551A4C",419:"945D43_E5AAA0_351F14_CC8B78",420:"94615B_DACED1_C3B9A4_CCABAA",421:"94624F_573529_24110C_733424",422:"9650CA_46236A_7239A6_633492",423:"965146_2B191D_DF7A5C_BFD6E1",424:"96785D_B8A398_63452C_6C5435",425:"975337_EEBE98_4B211C_D88659",426:"977970_E1D9D8_DAC8C1_C4B2AD",427:"98332E_4A100D_691A16_A85A5B",428:"989784_665542_BFECE5_6D644C",429:"9A5A55_31110D_582A24_703C34",430:"9A7467_D2C2BF_662D22_CCB2A5",431:"9AA8B6_313133_4E5055_D7EBF8",432:"9B4816_E8A138_CC7421_DC8827",433:"9B9994_E1E0DB_474643_544C4C",434:"9B9B9B_1E1E1E_5C5C5C_444444",435:"9C5B3B_49200A_E9C8AB_DDAB7D",436:"9CC338_4E671A_799F27_8CAC2C",437:"9D282A_38191D_DFC6CD_D6495A",438:"9D4343_E38989_D37474_CE6C6C",439:"9D602E_E4C363_D5A64F_C38A44",440:"9D7F6E_C6DAD4_6D4C4B_C6BBBC",441:"9D8F84_5D4544_D9D3C9_62555A",442:"9D9D9D_4E4E4E_646464_6C6C6C",443:"9E7C7E_DDCBD0_351D20_683B38",444:"9E9C77_6E6F4E_7C7C54_C7BF96",445:"9F1A27_F1AF7F_CD5845_D08441",446:"9F4738_CE958D_4F0C0A_C0837C",447:"9F7D30_B69F75_B9B7BE_CB9C4D",448:"9F886D_362F25_E8C9A4_5C4C3C",449:"9F9F9F_E4E4E4_D4D4D4_CCCCCC",450:"A05F31_D5C2BC_D9996F_42230E",451:"A0A8B0_424336_E7E9EF_545C5C",452:"A1824F_4A2A06_F7E29F_B3A598",453:"A27216_E9D036_D0AB24_DCB927",454:"A28766_E4D6C3_D6C4AA_CAB598",455:"A3B2A4_3B3E3D_676F6A_535C57",456:"A48DA4_E8DDE8_C9B7C9_D4C2D4",457:"A49994_695244_C4C2CF_76645C",458:"A67362_36150C_5E2E1E_F6C3BF",459:"A84337_611D18_3F110F_7C2A22",460:"A88C77_DAD2C7_623532_956229",461:"A95E4D_57261A_6E3223_773C24",462:"A971A9_E8CBE8_D4A8D4_DCB3DC",463:"A98D6A_F2D3AB_FBE6BE_695332",464:"A9A2A0_2F211C_544440_6D5E5A",465:"AA526C_EAA6C9_DC88AF_D17BA0",466:"AB2C2C_EBB4B3_561212_DE8484",467:"AB2D08_C35E5A_C75522_C56C70",468:"AB54A8_EBAAE9_DF8FDD_D37ED0",469:"AC171C_FA8593_E84854_D3464E",470:"AC725C_2E1610_663E31_E78F6B",471:"AC7F84_78463A_C4AABB_885454",472:"AC8942_432D19_6E4D27_5F3B1C",473:"AC8961_EBDAC3_D1B791_DCC2A0",474:"AD9E81_F1E5CE_6B5C3E_5A492A",475:"ADC2CD_DFF7FA_C9E6F5_C1DBEC",476:"AE9D99_29303B_585F70_875C33",477:"AF986F_CDB489_9C7C5B_7E6C4D",478:"AF987A_2F2416_523F27_6B5331",479:"AF9A72_504718_74652B_E2C2A2",480:"B06932_451B09_7B3E16_150804",481:"B09273_7A573D_C7AF97_84644C",482:"B0A2A8_866A63_E8E9F2_614C4F",483:"B0B0B0_6E6E6E_848484_8C8C8C",484:"B1A395_EFE6E1_635A47_786D5D",485:"B2674B_552913_7C442F_733919",486:"B26F52_4B2E2B_79493A_663B32",487:"B27744_5A2804_F6C488_EBB27D",488:"B38B76_40251D_745042_5F3A30",489:"B3AA93_F4EFD7_E1DDC2_DCD3BB",490:"B47A5B_301E14_704A31_633C23",491:"B4B29D_442D0D_604E2A_736542",492:"B5987E_F8E4DC_6F5939_E9CCBA",493:"B5BBB5_3B4026_6E745D_5C6147",494:"B62D33_E4868B_7E2D34_DD6469",495:"B66D59_F0C9B2_E5B49C_DAA084",496:"B67F6B_4B2E2A_6C3A34_F3DBC6",497:"B6B8B1_994A24_315C81_927963",498:"B76E5E_7F3A2F_EE938C_F8A5A1",499:"B7A763_E6E1CC_554A1E_6C6428",500:"B86137_FBCA6F_6F3C37_040404",501:"B9896A_5B341B_F4CAA3_6C4C2D",502:"B98A6D_7B4F38_D1A68F_8C5B43",503:"B9B37A_F1EED0_E5E4BA_DAD6A8",504:"B9CDD2_775339_958272_7F6A5E",505:"BA472D_CA6E67_C76150_CA6C59",506:"BA5DBA_F2BEF2_E69BE6_DC8CDC",507:"BA864A_5D381E_644422_FBE97A",508:"BA8979_DDCBCA_9A4726_892407",509:"BAADA8_ECE6E7_9A8378_E3DCD3",510:"BC5B43_95170B_EEAC92_DB8C7C",511:"BC928D_F9E2D6_654445_835A51",512:"BD0D0D_970404_7B0404_550404",513:"BD5345_460F11_732622_EDB7B1",514:"BDB466_F3EDC3_E3DD9F_ECE3AA",515:"BE5F5F_F4BDBD_ECA4A4_E29191",516:"BEE2E9_7E6A53_9AA09C_87837E",517:"BF7051_994C2D_E99A7B_DE8C74",518:"BF7745_F5D08E_E5AE6B_ECBC7C",519:"BF8E78_E5CCBF_753E32_4A261E",520:"BFAA83_F5EAD6_E1D0B1_EBDDC0",521:"BFB5A4_DEDCCB_D7D4CC_DCD3C2",522:"C05429_ED6129_94492A_834729",523:"C09E5C_DAD2B9_654429_81582D",524:"C1AA92_AD6E29_737889_CED1D7",525:"C1B3A1_F6EEE5_E1D7C7_ECE4D3",526:"C21338_920C24_E71C54_F34A7D",527:"C28E4E_845119_0B0805_713C0C",528:"C2A391_523728_785741_694836",529:"C2A584_363B41_71665B_8C7367",530:"C2AB7D_4A412E_7A6B4E_F9EDBE",531:"C30C0C_9F0404_830404_5C0404",532:"C33829_48171A_752523_942923",533:"C345EC_5F1DAA_9F31DB_872CCD",534:"C35C04_F9C30C_EE9F04_E08304",535:"C3CCD4_5F3B23_948A7B_A9A49A",536:"C47004_F9D00C_EDAF04_E09704",537:"C4A591_635448_F2D9D5_856D5B",538:"C4C6C6_4D5756_646463_7A8080",539:"C4DEDE_97B5B5_EAF9F9_ABC4C4",540:"C5A292_635247_F2D7D6_846A5B",541:"C5BBB6_F8F4F1_E2DAD6_ECE3DF",542:"C75F55_F8BDA9_EB9484_F4A494",543:"C7938D_E0DBE1_D1BBBC_D5CCCB",544:"C7B9A1_F8F1E4_EEE4D2_E4D8C4",545:"C7C0AC_2E181B_543B30_6B6270",546:"C7C7D7_4C4E5A_818393_6C6C74",547:"C87157_F8CBAE_E9A582_F2B394",548:"C88467_5B3333_875C5A_7A3822",549:"C8AF84_F9ECD7_EFDEBF_E6D1AF",550:"C8C8C8_3F3F3F_787878_5C5C5C",551:"C8D1DC_575B62_818892_6E747B",552:"C98D7F_3B0B0B_A97667_94433F",553:"C99A8B_491B0E_6E4136_8A4D28",554:"C9C7BE_55514B_888279_7B6E5F",555:"CA4FE1_6B2398_A337C7_9334BC",556:"CA8892_F9D7DC_EBB8C0_F3C4CC",557:"CAA094_875343_956255_EADEDC",558:"CAA78A_F9E7D7_EAD0B9_F3DCC3",559:"CAAC80_FAEBD5_F2DEBF_EAD1AF",560:"CAB094_F9ECDD_EFDEC8_E8D4BD",561:"CAB79D_F9F1E3_F1E5D1_E9DAC6",562:"CAE24E_6C9A23_A3C737_B3D43C",563:"CB4934_FB9971_F07554_F68464",564:"CB4E88_F99AD6_F384C3_ED75B9",565:"CB5E3B_FABC7A_EF965E_F4A46C",566:"CB7146_551D0F_7C270D_E5AB9C",567:"CB7846_753C22_AB5C32_B46C3C",568:"CB919B_F9DDE1_ECC0C8_F4CCD4",569:"CBCBCB_595959_8C8C8C_747474",570:"CC7C5F_A15436_B26346_AF5C3C",571:"CC9A7E_8A5249_C06A3E_DADADA",572:"CCC5C9_3B2B2B_67585B_7F7375",573:"CCF6FA_9DD9EB_82C5D9_ACD4E4",574:"CDC3B8_5A3F3C_67545A_8D7769",575:"CDCBC8_444342_696765_81807E",576:"CE8C15_EAC79B_DDAB57_F9C962",577:"CE8F3D_F0D2B0_F3C77D_E6B278",578:"CEB299_6B5C4C_887564_746355",579:"D04444_AF2F2F_8B2424_9B2C2C",580:"D07E3F_FBBD1F_8D2840_24120C",581:"D0CCCB_524D50_928891_727581",582:"D0D3BE_816854_998366_685146",583:"D1AC04_F8E50A_EDD004_B38D04",584:"D3CAAB_8C866E_C0B89A_AEA68A",585:"D4855F_92512D_AE6742_A75C2C",586:"D54C2B_5F1105_F39382_F08375",587:"D5B5B4_9E6C6F_F5E9EF_A57986",588:"D5D5D5_929292_ACACAC_B4B4B4",589:"D64480_E27497_EA9BB1_CD156F",590:"D7D7C3_AAAA92_F5F5EA_BCBCA4",591:"D7DFDB_AAB5AF_F5FAF7_BCC4C4",592:"D8388B_230A14_FCC8FC_FC71E1",593:"D8C949_F5F19E_6B7855_9A9858",594:"D8D8E5_9D9DAF_B4B4C4_B4B4CC",595:"DA5788_DE94BD_E078A3_DD83B4",596:"DBDBBB_F7F7E4_AFAF89_C4C49C",597:"DC3E04_B52604_FC7D20_F85F04",598:"DE9261_86361E_A85A37_944C2C",599:"DEDEC4_B5B597_F9F9EA_C4C4AB",600:"DEE3E8_A6AEB5_BCC4CC_BCC4C4",601:"DEE8DE_A6B5A6_BCCCBC_BCC4BC",602:"DEE8E8_A6B5B5_BCCCCC_BAC4C4",603:"DFD9C2_B5AE92_F9F7EA_C4C4A4",604:"DFDBB7_F9F8E3_B5AF86_BCBC8C",605:"DFDFCA_4D2D07_6B5224_857145",606:"DFDFD6_58544E_81766A_989288",607:"E1E1D4_777C7B_9FA19A_898F8D",608:"E1E1E0_363636_989897_747472",609:"E2D3BC_867255_B39E7F_96836C",610:"E2E2E7_AEAEB5_C4C4CC_C4C4C4",611:"E42E12_F35132_F86949_B71B0A",612:"E5DED7_AFA69D_C4BCB4_C3BAAB",613:"E6BF3C_5A4719_977726_FCFC82",614:"E6E3E3_B5AFAF_CCC4C4_C4C4C4",615:"E6E6E6_AAAAAA_C4C4C4_CCCCCC",616:"E7632F_FBA06B_BB2905_FB865E",617:"E7E2D8_B1AA9D_C9C2B3_BCB4AC",618:"E80404_B50404_CB0404_FC3333",619:"E804E8_B504B5_CC04CC_FC33FC",620:"E8DEE1_B5A6AA_CCBCC1_C4BBBC",621:"E8E5DE_B5AFA6_CCC5BC_C4C4BB",622:"E8E8DE_B5B5A6_CCCCBC_C4C4BA",623:"E9CCA1_A63106_DF8C3B_621304",624:"EA783E_6D4830_905837_FCDC6C",625:"EAD8D6_B59A97_CCB4B0_C9ABAB",626:"EAEAEA_B5B5B5_CCCCCC_D4D4D4",627:"EAEAEA_B6B6B6_CCCCCC_C4C4C4",628:"ED4630_791A0E_A42716_501009",629:"ED5087_FAC3D0_1C0B0C_FC84CC",630:"ED7F04_FCD60E_7E2D04_B73E04",631:"EDED06_B5B504_CCCC04_D4D404",632:"EE4128_FC8E82_9A0704_BF0F05",633:"EEECFB_BFB6D5_D0C8EB_CCC4DC",634:"F0D504_FBFAD3_B98609_CDA204",635:"F75F0B_461604_9A3004_FB9D2F",636:"F77777_FBE1E1_FAB2B2_FBC4C4",637:"F79686_FCCBD4_E76644_E76B56",638:"F9E6C7_FCF7DF_EDD3AA_F1D4B4",639:"FBB43F_FBE993_FB552E_FCDD65",640:"FBB82D_FBEDBF_FBDE7D_FB7E05"};function ec(e){switch(e){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}var tc="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d",nc=$u[0];function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=u.useMemo((function(){return Object.keys($u).length}),[]),r=u.useMemo((function(){return"string"===typeof e?e:"number"===typeof e?$u[e]:null}),[e]),a="".concat(r||nc).concat(ec(t),".png"),i="".concat(tc,"/").concat(t,"/").concat(a),o=vt(i);return[o,i,n]}var ac={0:"151_norm.JPG",1:"152_norm.JPG",2:"153_norm.JPG",3:"154_norm.JPG",4:"155_norm.JPG",5:"156_norm.JPG",6:"157_norm.JPG",7:"158_norm.JPG",8:"159_norm.JPG",9:"160_norm.JPG",10:"161_norm.JPG",11:"162_norm.JPG",12:"163_norm.JPG",13:"164_norm.JPG",14:"165_norm.JPG",15:"166_norm.JPG",16:"167_norm.JPG",17:"168_norm.JPG",18:"169_norm.JPG",19:"170_norm.JPG",20:"171_norm.JPG",21:"172_norm.JPG",22:"173_norm.JPG",23:"174_norm.jpg",24:"175_norm.JPG",25:"176_norm.JPG",26:"177_norm.JPG",27:"178_norm.JPG",28:"179_norm.JPG",29:"180_norm.JPG",30:"181_norm.JPG",31:"182_norm.JPG",32:"183_norm.JPG",33:"184_norm.JPG",34:"185_norm.JPG",35:"186_norm.JPG",36:"187_norm.JPG",37:"188_norm.JPG",38:"189_norm.JPG",39:"190_norm.JPG",40:"191_norm.JPG",41:"192_norm.JPG",42:"193_norm.JPG",43:"194_norm.JPG",44:"195_norm.JPG",45:"196_norm.JPG",46:"197_norm.JPG",47:"198_norm.JPG",48:"199_norm.JPG",49:"200_norm.JPG",50:"201_norm.jpg",51:"202_norm.jpg",52:"203_norm.jpg",53:"204_norm.jpg",54:"205_norm.jpg",55:"206_norm.jpg",56:"207_norm.jpg",57:"208_norm.jpg",58:"209_norm.jpg",59:"210_norm.jpg",60:"211_norm.jpg",61:"212_norm.jpg",62:"213_norm.jpg",63:"214_norm.jpg",64:"215_norm.jpg",65:"216_norm.jpg",66:"217_norm.jpg",67:"218_norm.jpg",68:"219_norm.jpg",69:"220_norm.jpg",70:"221_norm.jpg",71:"222_norm.jpg",72:"223_norm.jpg",73:"224_norm.jpg",74:"225_norm.jpg",75:"226_norm.jpg"},ic="https://rawcdn.githack.com/emmelleppi/normal-maps/f24c810fc1d86b5b1e5dfea914b668f70b5f2923",oc=ac[0];function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.repeat,r=void 0===n?[1,1]:n,a=t.anisotropy,i=void 0===a?1:a,o=t.offset,s=void 0===o?[0,0]:o,c=u.useMemo((function(){return Object.keys(ac).length}),[]),f=ac[e]||oc,d="".concat(ic,"/normals/").concat(f),h=vt(d);return u.useLayoutEffect((function(){h&&(h.wrapS=h.wrapT=l.RepeatWrapping,h.repeat=new l.Vector2(r[0],r[1]),h.offset=new l.Vector2(s[0],s[1]),h.anisotropy=i)}),[h,i,r,s]),[h,d,c]}var uc,cc,lc=function(e){Object(Y.a)(n,e);var t=Object(J.a)(n);function n(){var e;return Object(q.a)(this,n),(e=t.call(this)).color=new l.Color("white"),e}return Object(X.a)(n)}(l.Group),fc=["children","range","limit"],dc=["children"],hc=["children","positions","colors","sizes","stride"],pc=u.createContext(null),mc=new l.Matrix4,vc=new l.Vector3,gc=new l.Color,yc=u.forwardRef((function(e,t){var n=e.children,r=e.range,c=e.limit,d=void 0===c?1e3:c,h=Object(o.a)(e,fc),p=u.useRef(null),m=u.useState([]),v=Object(i.a)(m,2),g=v[0],y=v[1],b=u.useState((function(){return[new Float32Array(3*d),Float32Array.from({length:3*d},(function(){return 1})),Float32Array.from({length:d},(function(){return 1}))]})),_=Object(i.a)(b,1),w=Object(i.a)(_[0],3),x=w[0],M=w[1],E=w[2];u.useLayoutEffect((function(){p.current.geometry.drawRange.count=Math.min(d,void 0!==r?r:d,g.length)}),[g,r]),u.useEffect((function(){p.current.geometry.attributes.position.needsUpdate=!0})),Object(f.useFrame)((function(){for(p.current.updateMatrix(),p.current.updateMatrixWorld(),mc.copy(p.current.matrixWorld).invert(),uc=0;uc<g.length;uc++)(cc=g[uc].current).getWorldPosition(vc).applyMatrix4(mc),vc.x===x[3*uc]&&vc.y===x[3*uc+1]&&vc.z===x[3*uc+2]||(vc.toArray(x,3*uc),p.current.geometry.attributes.position.needsUpdate=!0,cc.matrixWorldNeedsUpdate=!0),cc.color.equals(gc.fromArray(M,3*uc))||(cc.color.toArray(M,3*uc),p.current.geometry.attributes.color.needsUpdate=!0),cc.size!==E[uc]&&(E.set([cc.size],uc),p.current.geometry.attributes.size.needsUpdate=!0)}));var C=u.useMemo((function(){var e={};for(uc=0;uc<g.length;uc++){var t;Object.assign(e,null==(t=g[uc].current)?void 0:t.__r3f.handlers)}return Object.keys(e).reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(ht.a)({},t,(function(e){var n,r,i,o=null==(n=g[e.index])?void 0:n.current;return null==o||null==(r=o.__r3f)||null==(i=r.handlers)?void 0:i[t](Object(a.a)(Object(a.a)({},e),{},{object:o}))})))}),{})}),[n,g]),S=u.useMemo((function(){return{subscribe:function(e){return y((function(t){return[].concat(Object(A.a)(t),[e])})),function(){return y((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return u.createElement("points",s({matrixAutoUpdate:!1,ref:Object(P.default)([t,p])},C,h),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attachObject:["attributes","position"],count:x.length/3,array:x,itemSize:3,usage:l.DynamicDrawUsage}),u.createElement("bufferAttribute",{attachObject:["attributes","color"],count:M.length/3,array:M,itemSize:3,usage:l.DynamicDrawUsage}),u.createElement("bufferAttribute",{attachObject:["attributes","size"],count:E.length,array:E,itemSize:1,usage:l.DynamicDrawUsage})),u.createElement(pc.Provider,{value:S},n))})),bc=u.forwardRef((function(e,t){var n=e.children,r=Object(o.a)(e,dc);u.useMemo((function(){return Object(f.extend)({Position:lc})}),[]);var a=u.useRef(),i=u.useContext(pc).subscribe;return u.useLayoutEffect((function(){return i(a)}),[]),u.createElement("position",s({ref:Object(P.default)([t,a])},r),n)})),_c=u.forwardRef((function(e,t){var n=e.children,r=e.positions,a=e.colors,i=e.sizes,c=e.stride,d=void 0===c?3:c,h=Object(o.a)(e,hc),p=u.useRef(null);return Object(f.useFrame)((function(){var e=p.current.geometry.attributes;e.position.needsUpdate=!0,a&&(e.color.needsUpdate=!0),i&&(e.size.needsUpdate=!0)})),u.createElement("points",s({matrixAutoUpdate:!1,ref:Object(P.default)([t,p])},h),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attachObject:["attributes","position"],count:r.length/d,array:r,itemSize:d,usage:l.DynamicDrawUsage}),a&&u.createElement("bufferAttribute",{attachObject:["attributes","color"],count:a.length/d,array:a,itemSize:3,usage:l.DynamicDrawUsage}),i&&u.createElement("bufferAttribute",{attachObject:["attributes","size"],count:i.length/d,array:i,itemSize:1,usage:l.DynamicDrawUsage})),n)})),wc=u.forwardRef((function(e,t){return e.positions instanceof Float32Array?u.createElement(_c,s({},e,{ref:t})):u.createElement(yc,s({},e,{ref:t}))})),xc=n(49),Ac=n.n(xc);function Mc(e){return Ec(e.children,e.components)}function Ec(e,t,n){if(n=n||[],!t[0])return e(n);function r(r){return Ec(e,t.slice(1),n.concat([r]))}return"function"===typeof t[0]?t[0]({results:n,render:r}):Object(u.cloneElement)(t[0],{children:r})}Mc.propTypes={children:Ac.a.func.isRequired,components:Ac.a.arrayOf(Ac.a.oneOfType([Ac.a.element,Ac.a.func])).isRequired};var Cc,Sc,Oc=["context","children"],Tc=["children","range","limit","frames"],kc=["meshes","children"],Bc=u.createContext(null),Pc=new l.Matrix4,Lc=new l.Matrix4,Dc=new l.Matrix4,jc=new l.Color,Fc=new l.Vector3,Rc=new l.Quaternion,Ic=new l.Vector3,zc=u.forwardRef((function(e,t){var n=e.context,r=e.children,a=Object(o.a)(e,Oc);u.useMemo((function(){return Object(f.extend)({Position:lc})}),[]);var i=u.useRef(),c=u.useContext(n||Bc).subscribe;return u.useLayoutEffect((function(){return c(i)}),[]),u.createElement("position",s({ref:Object(P.default)([t,i])},a),r)})),Uc=u.forwardRef((function(e,t){var n=e.children,r=e.range,c=e.limit,d=void 0===c?1e3:c,h=e.frames,p=void 0===h?1/0:h,m=Object(o.a)(e,Tc),v=u.useState((function(){var e=u.createContext(null);return{context:e,instance:u.forwardRef((function(t,n){return u.createElement(zc,s({context:e},t,{ref:n}))}))}})),g=Object(i.a)(v,1)[0],y=g.context,b=g.instance,_=u.useRef(null),w=u.useState([]),x=Object(i.a)(w,2),M=x[0],E=x[1],C=u.useState((function(){var e=new Float32Array(16*d);for(Cc=0;Cc<d;Cc++)Dc.identity().toArray(e,16*Cc);return[e,new Float32Array(Object(A.a)(new Array(3*d)).map((function(){return 1})))]})),S=Object(i.a)(C,1),O=Object(i.a)(S[0],2),T=O[0],k=O[1];u.useLayoutEffect((function(){_.current.count=_.current.instanceMatrix.updateRange.count=_.current.instanceColor.updateRange.count=Math.min(d,void 0!==r?r:d,M.length)}),[M,r]),u.useEffect((function(){_.current.instanceMatrix.needsUpdate=!0}));var B=0;Object(f.useFrame)((function(){if(p===1/0||B<p){for(_.current.updateMatrix(),_.current.updateMatrixWorld(),Pc.copy(_.current.matrixWorld).invert(),Cc=0;Cc<M.length;Cc++)(Sc=M[Cc].current).matrixWorld.decompose(Fc,Rc,Ic),Lc.compose(Fc,Rc,Ic).premultiply(Pc),Lc.equals(Dc.fromArray(T,16*Cc))||(Lc.toArray(T,16*Cc),_.current.instanceMatrix.needsUpdate=!0),Sc.color.equals(jc.fromArray(k,3*Cc))||(Sc.color.toArray(k,3*Cc),_.current.instanceColor.needsUpdate=!0);B++}}));var L=u.useMemo((function(){var e={};for(Cc=0;Cc<M.length;Cc++){var t;Object.assign(e,null==(t=M[Cc].current)?void 0:t.__r3f.handlers)}return Object.keys(e).reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(ht.a)({},t,(function(e){var n,r,i,o=null==(n=M[e.instanceId])?void 0:n.current;return null==o||null==(r=o.__r3f)||null==(i=r.handlers)?void 0:i[t](Object(a.a)(Object(a.a)({},e),{},{object:o}))})))}),{})}),[n,M]),D=u.useMemo((function(){return{subscribe:function(e){return E((function(t){return[].concat(Object(A.a)(t),[e])})),function(){return E((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return u.createElement("instancedMesh",s({matrixAutoUpdate:!1,ref:Object(P.default)([t,_]),args:[null,null,0]},L,m),u.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:T.length/16,array:T,itemSize:16,usage:l.DynamicDrawUsage}),u.createElement("instancedBufferAttribute",{attach:"instanceColor",count:k.length/3,array:k,itemSize:3,usage:l.DynamicDrawUsage}),"function"===typeof n?u.createElement(y.Provider,{value:D},n(b)):u.createElement(Bc.Provider,{value:D},n))}));function Nc(e){var t=e.meshes,n=e.children,r=Object(o.a)(e,kc),i=Array.isArray(t);if(!i)for(var c=0,l=Object.keys(t);c<l.length;c++){var f=l[c];t[f].isMesh||delete t[f]}return u.createElement(Mc,{components:(i?t:Object.values(t)).map((function(e){var t=e.geometry,n=e.material;return u.createElement(Uc,s({key:t.uuid,geometry:t,material:n},r))}))},(function(e){return i?n.apply(void 0,Object(A.a)(e)):n(Object.keys(t).filter((function(e){return t[e].isMesh})).reduce((function(t,n,r){return Object(a.a)(Object(a.a)({},t),{},Object(ht.a)({},n,e[r]))}),{}))}))}var Gc=["limit","lineWidth","children"],Hc=u.createContext(null),Vc=function(e){return e instanceof l.Vector3?e.toArray():e},Wc=u.forwardRef((function(e,t){var n=e.limit,r=void 0===n?1e3:n,a=e.lineWidth,c=void 0===a?1:a,d=e.children,h=Object(o.a)(e,Gc),p=u.useState([]),m=Object(i.a)(p,2),v=m[0],g=m[1],y=u.useState((function(){return new ie})),b=Object(i.a)(y,1)[0],_=u.useState((function(){return new ee})),w=Object(i.a)(_,1)[0],x=u.useState((function(){return new Z})),M=Object(i.a)(x,1)[0],E=u.useState((function(){return new l.Vector2(512,512)})),C=Object(i.a)(E,1)[0],S=u.useState((function(){return Array(6*r).fill(0)})),O=Object(i.a)(S,1)[0],T=u.useState((function(){return Array(6*r).fill(0)})),k=Object(i.a)(T,1)[0],B=u.useMemo((function(){return{subscribe:function(e){return g((function(t){return[].concat(Object(A.a)(t),[e])})),function(){return g((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return Object(f.useFrame)((function(){for(var e=0;e<r;e++)for(var t,n=null==(t=v[e])?void 0:t.current,a=n?Vc(n.start):[0,0,0],i=n?Vc(n.end):[0,0,0],o=n?(u=n.color)instanceof l.Color?u.toArray():u:[1,1,1],s=0;s<3;s++)O[6*e+s]=a[s],O[6*e+s+3]=i[s],k[6*e+s]=o[s],k[6*e+s+3]=o[s];var u;M.setColors(k),M.setPositions(O),b.computeLineDistances()})),u.createElement("primitive",{object:b,ref:t},u.createElement("primitive",{object:M,attach:"geometry"}),u.createElement("primitive",s({object:w,attach:"material",vertexColors:!0,resolution:C,linewidth:c},h)),u.createElement(Hc.Provider,{value:B},d))})),Xc=Object(X.a)((function e(){Object(q.a)(this,e),this.color=new l.Color("white"),this.start=new l.Vector3(0,0,0),this.end=new l.Vector3(0,0,0)})),qc=u.forwardRef((function(e,t){var n=u.useContext(Hc);if(!n)throw"Segment must used inside Segments component.";var r=u.useRef();return u.useMemo((function(){return Object(f.extend)({SegmentObject:Xc})}),[]),u.useLayoutEffect((function(){return n.subscribe(r)}),[]),u.createElement("segmentObject",s({ref:Object(P.default)([r,t])},e))})),Qc=["children","distances"],Yc=u.forwardRef((function(e,t){var n=e.children,r=e.distances,a=Object(o.a)(e,Qc),i=u.useRef(null);return u.useLayoutEffect((function(){var e=i.current;e.levels.length=0,e.children.forEach((function(t,n){return e.levels.push({object:t,distance:r[n]})}))})),Object(f.useFrame)((function(e){var t;return null==(t=i.current)?void 0:t.update(e.camera)})),u.createElement("lOD",s({ref:Object(P.default)([i,t])},a),n)}));function Jc(e){var t=e.all,n=e.scene,r=e.camera,a=Object(f.useThree)((function(e){return e.gl})),i=Object(f.useThree)((function(e){return e.camera})),o=Object(f.useThree)((function(e){return e.scene}));return u.useLayoutEffect((function(){var e=[];t&&(n||o).traverse((function(t){!1===t.visible&&(e.push(t),t.visible=!0)})),a.compile(n||o,r||i);var s=new l.WebGLCubeRenderTarget(128);new l.CubeCamera(.01,1e5,s).update(a,n||o),s.dispose(),e.forEach((function(e){return e.visible=!1}))}),[]),null}function Kc(){var e=Object(f.useThree)((function(e){return e.gl}));return Object(u.useEffect)((function(){return e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,function(){e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0}}),[e.shadowMap]),null}var Zc=new l.Matrix4,$c=new l.Ray,el=new l.Sphere,tl=new l.Vector3;function nl(e,t){var n=this.geometry,r=this.material,a=this.matrixWorld;void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),el.copy(n.boundingSphere),el.applyMatrix4(a),!1!==e.ray.intersectsSphere(el)&&(Zc.copy(a).invert(),$c.copy(e.ray).applyMatrix4(Zc),null!==n.boundingBox&&null===$c.intersectBox(n.boundingBox,tl)||t.push({distance:tl.distanceTo(e.ray.origin),point:tl.clone(),object:this})))}function rl(e){var t=e.pixelated,n=Object(f.useThree)((function(e){return e.gl})),r=Object(f.useThree)((function(e){return e.internal.active})),a=Object(f.useThree)((function(e){return e.performance.current})),i=Object(f.useThree)((function(e){return e.viewport.initialDpr})),o=Object(f.useThree)((function(e){return e.setDpr}));return u.useEffect((function(){var e=n.domElement;return function(){r&&o(i),t&&e&&(e.style.imageRendering="auto")}}),[]),u.useEffect((function(){o(a*i),t&&n.domElement&&(n.domElement.style.imageRendering=1===a?"auto":"pixelated")}),[a]),null}function al(){var e=Object(f.useThree)((function(e){return e.get})),t=Object(f.useThree)((function(e){return e.performance.current}));return u.useEffect((function(){var t=e().raycaster.enabled;return function(){e().raycaster.enabled=t}}),[]),u.useEffect((function(){e().raycaster.enabled=1===t}),[t]),null}},function(e,t,n){"use strict";n.r(t),n.d(t,"ResizeObserver",(function(){return G})),n.d(t,"ResizeObserverEntry",(function(){return A})),n.d(t,"ResizeObserverSize",(function(){return u}));var r,a=[],i="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var o,s=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l=function(e){return e instanceof SVGElement&&"getBBox"in e},f=function(e){if(l(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var a=e,i=a.offsetWidth,o=a.offsetHeight;return!(i||o||e.getClientRects().length)},d=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},h="undefined"!==typeof window?window:{},p=new WeakMap,m=/auto|scroll/,v=/^tb|vertical/,g=/msie|trident/i.test(h.navigator&&h.navigator.userAgent),y=function(e){return parseFloat(e||"0")},b=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},_=s({devicePixelContentBoxSize:b(),borderBoxSize:b(),contentBoxSize:b(),contentRect:new c(0,0,0,0)}),w=function(e,t){if(void 0===t&&(t=!1),p.has(e)&&!t)return p.get(e);if(f(e))return p.set(e,_),_;var n=getComputedStyle(e),r=l(e)&&e.ownerSVGElement&&e.getBBox(),a=!g&&"border-box"===n.boxSizing,i=v.test(n.writingMode||""),o=!r&&m.test(n.overflowY||""),u=!r&&m.test(n.overflowX||""),d=r?0:y(n.paddingTop),h=r?0:y(n.paddingRight),w=r?0:y(n.paddingBottom),x=r?0:y(n.paddingLeft),A=r?0:y(n.borderTopWidth),M=r?0:y(n.borderRightWidth),E=r?0:y(n.borderBottomWidth),C=x+h,S=d+w,O=(r?0:y(n.borderLeftWidth))+M,T=A+E,k=u?e.offsetHeight-T-e.clientHeight:0,B=o?e.offsetWidth-O-e.clientWidth:0,P=a?C+O:0,L=a?S+T:0,D=r?r.width:y(n.width)-P-B,j=r?r.height:y(n.height)-L-k,F=D+C+B+O,R=j+S+k+T,I=s({devicePixelContentBoxSize:b(Math.round(D*devicePixelRatio),Math.round(j*devicePixelRatio),i),borderBoxSize:b(F,R,i),contentBoxSize:b(D,j,i),contentRect:new c(x,d,D,j)});return p.set(e,I),I},x=function(e,t,n){var a=w(e,n),i=a.borderBoxSize,o=a.contentBoxSize,s=a.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return i;default:return o}},A=function(e){var t=w(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},M=function(e){if(f(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},E=function(){var e=1/0,t=[];a.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new A(t.target),a=M(t.target);r.push(n),t.lastReportedSize=x(t.target,t.observedBox),a<e&&(e=a)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},C=function(e){a.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(M(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},S=function(){var e=0;for(C(e);a.some((function(e){return e.activeTargets.length>0}));)e=E(),C(e);return a.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:i}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=i),window.dispatchEvent(e)}(),e>0},O=[],T=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver((function(){return O.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),o=function(){n.textContent=""+(t?t--:t++)}}O.push(e),o()},k=0,B={attributes:!0,characterData:!0,childList:!0,subtree:!0},P=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],L=function(e){return void 0===e&&(e=0),Date.now()+e},D=!1,j=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!D){D=!0;var n,r=L(e);n=function(){var n=!1;try{n=S()}finally{if(D=!1,e=r-L(),!k)return;n?t.run(1e3):e>0?t.run(e):t.start()}},T((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,B)};document.body?t():h.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),P.forEach((function(t){return h.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),P.forEach((function(t){return h.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),F=function(e){!k&&e>0&&j.start(),!(k+=e)&&j.stop()},R=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=x(this.target,this.observedBox,!0);return e=this.target,l(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),I=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},z=new WeakMap,U=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},N=function(){function e(){}return e.connect=function(e,t){var n=new I(e,t);z.set(e,n)},e.observe=function(e,t,n){var r=z.get(e),i=0===r.observationTargets.length;U(r.observationTargets,t)<0&&(i&&a.push(r),r.observationTargets.push(new R(t,n&&n.box)),F(1),j.schedule())},e.unobserve=function(e,t){var n=z.get(e),r=U(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&a.splice(a.indexOf(n),1),n.observationTargets.splice(r,1),F(-1))},e.disconnect=function(e){var t=this,n=z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),G=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");N.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");N.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");N.unobserve(this,e)},e.prototype.disconnect=function(){N.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()}]]);
//# sourceMappingURL=2.32dfb907.chunk.js.map